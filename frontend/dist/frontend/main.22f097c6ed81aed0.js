(self.webpackChunkmvp_birads_interface=self.webpackChunkmvp_birads_interface||[]).push([[792],{467:(_a,le,d)=>{"use strict";function s(y,C,T,D,h,E,O){try{var m=y[E](O),g=m.value}catch(v){return void T(v)}m.done?C(g):Promise.resolve(g).then(D,h)}function p(y){return function(){var C=this,T=arguments;return new Promise(function(D,h){var E=y.apply(C,T);function O(g){s(E,D,h,O,m,"next",g)}function m(g){s(E,D,h,O,m,"throw",g)}O(void 0)})}}d.d(le,{A:()=>p})},821:(_a,le,d)=>{"use strict";let s;function p(){return s}function y(e){const n=s;return s=e,n}const T=Symbol("NotFound");function h(e){return e===T||"\u0275NotFound"===e?.name}function E(e,n){return Object.is(e,n)}Error;let O=null,m=!1,g=1;const P=Symbol("SIGNAL");function b(e){const n=O;return O=e,n}const w={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function N(e){if(m)throw new Error("");if(null===O)return;O.consumerOnSignalRead(e);const n=O.producersTail;if(void 0!==n&&n.producer===e)return;let t;const r=O.recomputing;if(r&&(t=void 0!==n?n.nextProducer:O.producers,void 0!==t&&t.producer===e))return O.producersTail=t,void(t.lastReadVersion=e.version);const o=e.consumersTail;if(void 0!==o&&o.consumer===O&&(!r||function ne(e,n){const t=n.producersTail;if(void 0!==t){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,O)))return;const i=K(O),a={producer:e,consumer:O,nextProducer:t,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};O.producersTail=a,void 0!==n?n.nextProducer=a:O.producers=a,i&&$(e,a)}function W(e){if((!K(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==g)){if(!e.producerMustRecompute(e)&&!ie(e))return void F(e);e.producerRecomputeValue(e),F(e)}}function B(e){if(void 0===e.consumers)return;const n=m;m=!0;try{for(let t=e.consumers;void 0!==t;t=t.nextConsumer){const r=t.consumer;r.dirty||V(r)}}finally{m=n}}function G(){return!1!==O?.consumerAllowSignalWrites}function V(e){e.dirty=!0,B(e),e.consumerMarkedDirty?.(e)}function F(e){e.dirty=!1,e.lastCleanEpoch=g}function z(e){return e&&function te(e){e.producersTail=void 0,e.recomputing=!0}(e),b(e)}function q(e,n){b(n),e&&function ae(e){e.recomputing=!1;const n=e.producersTail;let t=void 0!==n?n.nextProducer:e.producers;if(void 0!==t){if(K(e))do{t=Z(t)}while(void 0!==t);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}(e)}function ie(e){for(let n=e.producers;void 0!==n;n=n.nextProducer){const t=n.producer,r=n.lastReadVersion;if(r!==t.version||(W(t),r!==t.version))return!0}return!1}function oe(e){if(K(e)){let n=e.producers;for(;void 0!==n;)n=Z(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function $(e,n){const t=e.consumersTail,r=K(e);if(void 0!==t?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let o=e.producers;void 0!==o;o=o.nextProducer)$(o.producer,o)}function Z(e){const n=e.producer,t=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:n.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(n.consumers=r,!K(n)){let i=n.producers;for(;void 0!==i;)i=Z(i)}return t}function K(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const ye=Symbol("UNSET"),Ee=Symbol("COMPUTING"),Se=Symbol("ERRORED"),ke={...w,value:ye,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:e=>e.value===ye||e.value===Ee,producerRecomputeValue(e){if(e.value===Ee)throw new Error("");const n=e.value;e.value=Ee;const t=z(e);let r,o=!1;try{r=e.computation(),b(null),o=n!==ye&&n!==Se&&r!==Se&&e.equal(n,r)}catch(i){r=Se,e.error=i}finally{q(e,t)}o?e.value=n:(e.value=r,e.version++)}};let mt=function Xe(){throw new Error};function st(e){mt(e)}function Pe(e,n){const t=Object.create(pt);t.value=e,void 0!==n&&(t.equal=n);const r=()=>function Ke(e){return N(e),e.value}(t);return r[P]=t,[r,a=>Ye(t,a),a=>function ct(e,n){G()||st(e),Ye(e,n(e.value))}(t,a)]}function Ye(e,n){G()||st(e),e.equal(e.value,n)||(e.value=n,function St(e){e.version++,function j(){g++}(),B(e)}(e))}const pt={...w,equal:E,value:void 0,kind:"signal"};function it(e){return"function"==typeof e}function jt(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Tt=jt(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Vt(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class kt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(it(r))try{r()}catch(i){n=i instanceof Tt?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{ln(i)}catch(a){n=n??[],a instanceof Tt?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Tt(n)}}add(n){var t;if(n&&n!==this)if(this.closed)ln(n);else{if(n instanceof kt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Vt(t,n)}remove(n){const{_finalizers:t}=this;t&&Vt(t,n),n instanceof kt&&n._removeParent(this)}}kt.EMPTY=(()=>{const e=new kt;return e.closed=!0,e})();const yt=kt.EMPTY;function Ht(e){return e instanceof kt||e&&"closed"in e&&it(e.remove)&&it(e.add)&&it(e.unsubscribe)}function ln(e){it(e)?e():e.unsubscribe()}const $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},or={setTimeout(e,n,...t){const{delegate:r}=or;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=or;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _n(e){or.setTimeout(()=>{const{onUnhandledError:n}=$t;if(!n)throw e;n(e)})}function er(){}const Xt=wr("C",void 0,void 0);function wr(e,n,t){return{kind:e,value:n,error:t}}let Ir=null;function ko(e){if($t.useDeprecatedSynchronousErrorHandling){const n=!Ir;if(n&&(Ir={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Ir;if(Ir=null,t)throw r}}else e()}class vs extends kt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ht(n)&&n.add(this)):this.destination=Ek}static create(n,t,r){return new xg(n,t,r)}next(n){this.isStopped?o1(function ir(e){return wr("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?o1(function cn(e){return wr("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?o1(Xt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Df=Function.prototype.bind;function Ig(e,n){return Df.call(e,n)}class r1{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){zv(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){zv(r)}else zv(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){zv(t)}}}class xg extends vs{constructor(n,t,r){let o;if(super(),it(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&$t.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Ig(n.next,i),error:n.error&&Ig(n.error,i),complete:n.complete&&Ig(n.complete,i)}):o=n}this.destination=new r1(o)}}function zv(e){$t.useDeprecatedSynchronousErrorHandling?function $s(e){$t.useDeprecatedSynchronousErrorHandling&&Ir&&(Ir.errorThrown=!0,Ir.error=e)}(e):_n(e)}function o1(e,n){const{onStoppedNotification:t}=$t;t&&or.setTimeout(()=>t(e,n))}const Ek={closed:!0,next:er,error:function vk(e){throw e},complete:er},i1="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nc(e){return e}function Y5(e){return 0===e.length?Nc:1===e.length?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}let mo=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function Mk(e){return e&&e instanceof vs||function Dk(e){return e&&it(e.next)&&it(e.error)&&it(e.complete)}(e)&&Ht(e)}(t)?t:new xg(t,r,o);return ko(()=>{const{operator:a,source:l}=this;i.add(a?a.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Z5(r))((o,i)=>{const a=new xg({next:l=>{try{t(l)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[i1](){return this}pipe(...t){return Y5(t)(this)}toPromise(t){return new(t=Z5(t))((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return e.create=n=>new e(n),e})();function Z5(e){var n;return null!==(n=e??$t.Promise)&&void 0!==n?n:Promise}const bk=jt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let sa=(()=>{class e extends mo{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new X5(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new bk}next(t){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?yt:(this.currentObservers=null,i.push(t),new kt(()=>{this.currentObservers=null,Vt(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new mo;return t.source=this,t}}return e.create=(n,t)=>new X5(n,t),e})();class X5 extends sa{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:yt}}class Za extends sa{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const Q5="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class gt extends Error{code;constructor(n,t){super(Xa(n,t)),this.code=n}}function Xa(e,n){return`${function Ck(e){return`NG0${Math.abs(e)}`}(e)}${n?": "+n:""}`}function Er(e){for(let n in e)if(e[n]===Er)return n;throw Error("")}function Tk(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function la(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(la).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return r>=0?t.slice(0,r):t}function a1(e,n){return e?n?`${e} ${n}`:e:n||""}globalThis;const Ok=Er({__forward_ref__:Er});function $r(e){return e.__forward_ref__=$r,e.toString=function(){return la(this())},e}function Un(e){return Gv(e)?e():e}function Gv(e){return"function"==typeof e&&e.hasOwnProperty(Ok)&&e.__forward_ref__===$r}function Jt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tu(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yv(e){return function Lk(e,n){return e.hasOwnProperty(n)&&e[n]||null}(e,Xv)}function Zv(e){return e&&e.hasOwnProperty(s1)?e[s1]:null}const Xv=Er({\u0275prov:Er}),s1=Er({\u0275inj:Er});class Ut{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Jt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function u1(e){return e&&!!e.\u0275providers}const c1=Er({\u0275cmp:Er}),Uk=Er({\u0275dir:Er}),Fk=Er({\u0275pipe:Er}),q5=Er({\u0275mod:Er}),Uc=Er({\u0275fac:Er}),Sg=Er({__NG_ELEMENT_ID__:Er}),eI=Er({__NG_ENV_ID__:Er});function Sn(e){return"string"==typeof e?e:null==e?"":String(e)}const d1=Er({ngErrorCode:Er}),tI=Er({ngErrorMessage:Er}),Lg=Er({ngTokenPath:Er});function f1(e,n){return nI("",-200,n)}function h1(e,n){throw new gt(-201,!1)}function nI(e,n,t){const r=new gt(n,e);return r[d1]=n,r[tI]=e,t&&(r[Lg]=t),r}let g1;function rI(){return g1}function ua(e){const n=g1;return g1=e,n}function oI(e,n,t){const r=Yv(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&t?null:void 0!==n?n:void h1()}const Fc={};class zk{injector;constructor(n){this.injector=n}retrieve(n,t){const r=Rg(t)||0;try{return this.injector.get(n,8&r?null:Fc,r)}catch(o){if(h(o))return o;throw o}}}function $k(e,n=0){const t=p();if(void 0===t)throw new gt(-203,!1);if(null===t)return oI(e,void 0,n);{const r=function Gk(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(n),o=t.retrieve(e,r);if(h(o)){if(r.optional)return null;throw o}return o}}function gn(e,n=0){return(rI()||$k)(Un(e),n)}function Dt(e,n){return gn(e,Rg(n))}function Rg(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function p1(e){const n=[];for(let t=0;t<e.length;t++){const r=Un(e[t]);if(Array.isArray(r)){if(0===r.length)throw new gt(900,!1);let o,i=0;for(let a=0;a<r.length;a++){const l=r[a],u=Yk(l);"number"==typeof u?-1===u?o=l.token:i|=u:o=l}n.push(gn(o,i))}else n.push(gn(r))}return n}function Yk(e){return e.__NG_DI_FLAG__}function Wc(e,n){return e.hasOwnProperty(Uc)?e[Uc]:null}function Mf(e,n){e.forEach(t=>Array.isArray(t)?Mf(t,n):n(t))}function aI(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Qv(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function e0(e,n,t){let r=jg(e,n);return r>=0?e[1|r]=t:(r=~r,function lI(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(1===o)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;)e[o]=e[o-2],o--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function v1(e,n){const t=jg(e,n);if(t>=0)return e[1|t]}function jg(e,n){return function Xk(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){const i=r+(o-r>>1),a=e[i<<t];if(n===a)return i<<t;a>n?o=i:r=i+1}return~(o<<t)}(e,n,1)}const Gs={},Gr=[],Ou=new Ut(""),uI=new Ut("",-1),E1=new Ut("");class t0{get(n,t=Fc){if(t===Fc){const o=nI("",-201);throw o.name="\u0275NotFound",o}return t}}function Ys(e){return e[q5]||null}function yr(e){return e[c1]||null}function Gi(e){return e[Uk]||null}function Es(e){return e[Fk]||null}function Ng(e){return{\u0275providers:e}}function Qk(...e){return{\u0275providers:D1(0,e),\u0275fromNgModule:!0}}function D1(e,...n){const t=[],r=new Set;let o;const i=a=>{t.push(a)};return Mf(n,a=>{const l=a;n0(l,i,[],r)&&(o||=[],o.push(l))}),void 0!==o&&cI(o,i),t}function cI(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:o}=e[t];M1(o,i=>{n(i,r)})}}function n0(e,n,t,r){if(!(e=Un(e)))return!1;let o=null,i=Zv(e);const a=!i&&yr(e);if(i||a){if(a&&!a.standalone)return!1;o=e}else{const u=e.ngModule;if(i=Zv(u),!i)return!1;o=u}const l=r.has(o);if(a){if(l)return!1;if(r.add(o),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of u)n0(c,n,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!l){let c;r.add(o);try{Mf(i.imports,f=>{n0(f,n,t,r)&&(c||=[],c.push(f))})}finally{}void 0!==c&&cI(c,n)}if(!l){const c=Wc(o)||(()=>new o);n({provide:o,useFactory:c,deps:Gr},o),n({provide:E1,useValue:o,multi:!0},o),n({provide:Ou,useValue:()=>gn(o),multi:!0},o)}const u=i.providers;if(null!=u&&!l){const c=e;M1(u,f=>{n(f,c)})}}}return o!==e&&void 0!==e.providers}function M1(e,n){for(let t of e)u1(t)&&(t=t.\u0275providers),Array.isArray(t)?M1(t,n):n(t)}const qk=Er({provide:String,useValue:Er});function b1(e){return null!==e&&"object"==typeof e&&qk in e}function Pl(e){return"function"==typeof e}const C1=new Ut(""),r0={},gI={};let T1;function O1(){return void 0===T1&&(T1=new t0),T1}class pi{}class kc extends pi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,I1(n,a=>this.processProvider(a)),this.records.set(uI,Cf(void 0,this)),o.has("environment")&&this.records.set(pi,Cf(void 0,this));const i=this.records.get(C1);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(E1,Gr,{self:!0}))}retrieve(n,t){const r=Rg(t)||0;try{return this.get(n,Fc,r)}catch(o){if(h(o))return o;throw o}}destroy(){Bg(this),this._destroyed=!0;const n=b(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),b(n)}}onDestroy(n){return Bg(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Bg(this);const t=y(this),r=ua(void 0);try{return n()}finally{y(t),ua(r)}}get(n,t=Fc,r){if(Bg(this),n.hasOwnProperty(eI))return n[eI](this);const o=Rg(r),a=y(this),l=ua(void 0);try{if(!(4&o)){let c=this.records.get(n);if(void 0===c){const f=function oH(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(n)&&Yv(n);c=f&&this.injectableDefInScope(f)?Cf(P1(n),r0):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c,o)}return(2&o?O1():this.parent).get(n,t=8&o&&t===Fc?null:t)}catch(u){const c=function Vk(e){return e[d1]}(u);throw-200===c||-201===c?new gt(c,null):u}finally{ua(l),y(a)}}resolveInjectorInitializers(){const n=b(null),t=y(this),r=ua(void 0);try{const i=this.get(Ou,Gr,{self:!0});for(const a of i)a()}finally{y(t),ua(r),b(n)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(la(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){let t=Pl(n=Un(n))?n:Un(n&&n.provide);const r=function tH(e){return b1(e)?Cf(void 0,e.useValue):Cf(mI(e),r0)}(n);if(!Pl(n)&&!0===n.multi){let o=this.records.get(t);o||(o=Cf(void 0,r0,!0),o.factory=()=>p1(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){const o=b(null);try{if(t.value===gI)throw f1(la(n));return t.value===r0&&(t.value=gI,t.value=t.factory(void 0,r)),"object"==typeof t.value&&t.value&&function rH(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{b(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Un(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function P1(e){const n=Yv(e),t=null!==n?n.factory:Wc(e);if(null!==t)return t;if(e instanceof Ut)throw new gt(204,!1);if(e instanceof Function)return function eH(e){if(e.length>0)throw new gt(204,!1);const t=function Rk(e){return(e?.[Xv]??null)||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new gt(204,!1)}function mI(e,n,t){let r;if(Pl(e)){const o=Un(e);return Wc(o)||P1(o)}if(b1(e))r=()=>Un(e.useValue);else if(function fI(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...p1(e.deps||[]));else if(function dI(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>gn(Un(e.useExisting),void 0!==i&&8&i?8:void 0);else{const o=Un(e&&(e.useClass||e.provide));if(!function nH(e){return!!e.deps}(e))return Wc(o)||P1(o);r=()=>new o(...p1(e.deps))}return r}function Bg(e){if(e.destroyed)throw new gt(205,!1)}function Cf(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function I1(e,n){for(const t of e)Array.isArray(t)?I1(t,n):t&&u1(t)?I1(t.\u0275providers,n):n(t)}function ca(e,n){let t;e instanceof kc?(Bg(e),t=e):t=new zk(e);const o=y(t),i=ua(void 0);try{return n()}finally{y(o),ua(i)}}function ho(e){return Array.isArray(e)&&"object"==typeof e[1]}function Yi(e){return Array.isArray(e)&&!0===e[1]}function vI(e){return!!(4&e.flags)}function Al(e){return e.componentOffset>-1}function xf(e){return!(1&~e.flags)}function Ra(e){return!!e.template}function Au(e){return!!(512&e[2])}function _l(e){return!(256&~e[2])}function li(e){for(;Array.isArray(e);)e=e[0];return e}function Af(e,n){return li(n[e])}function Vo(e,n){return li(n[e.index])}function _f(e,n){return e.data[n]}function Zi(e,n){const t=n[e];return ho(t)?t:t[0]}function L1(e){return!(128&~e[2])}function Li(e,n){return null==n?null:e[n]}function CI(e){e[17]=0}function TI(e){1024&e[2]||(e[2]|=1024,L1(e)&&Sf(e))}function l0(e){return!!(9216&e[2]||e[24]?.dirty)}function R1(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),l0(e)&&Sf(e)}function Sf(e){e[10].changeDetectionScheduler?.notify(0);let n=Sl(e);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,L1(n));)n=Sl(n)}function u0(e,n){if(_l(e))throw new gt(911,!1);null===e[21]&&(e[21]=[]),e[21].push(n)}function Sl(e){const n=e[3];return Yi(n)?n[3]:n}function PI(e){return e[7]??=[]}function II(e){return e.cleanup??=[]}const bn={lFrame:HI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let N1=!1;function xI(){bn.lFrame.elementDepthCount--}function B1(){return bn.bindingsEnabled}function _I(e){return bn.skipHydrationRootTNode===e}function SI(){bn.skipHydrationRootTNode=null}function Ct(){return bn.lFrame.lView}function Fn(){return bn.lFrame.tView}function zn(e){return bn.lFrame.contextLView=e,e[8]}function $n(e){return bn.lFrame.contextLView=null,e}function In(){let e=LI();for(;null!==e&&64===e.type;)e=e.parent;return e}function LI(){return bn.lFrame.currentTNode}function Ll(e,n){const t=bn.lFrame;t.currentTNode=e,t.isParent=n}function RI(){return bn.lFrame.isParent}function BI(){return N1}function c0(e){const n=N1;return N1=e,n}function da(){return bn.lFrame.bindingIndex++}function wl(e){const n=bn.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function vH(e,n){const t=bn.lFrame;t.bindingIndex=t.bindingRootIndex=e,U1(n)}function U1(e){bn.lFrame.currentDirectiveIndex=e}function W1(){return bn.lFrame.currentQueryIndex}function d0(e){bn.lFrame.currentQueryIndex=e}function yH(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[5]:null}function WI(e,n,t){if(4&t){let o=n,i=e;for(;!(o=o.parent,null!==o||1&t||(o=yH(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;n=o,e=i}const r=bn.lFrame=kI();return r.currentTNode=n,r.lView=e,!0}function k1(e){const n=kI(),t=e[1];bn.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function kI(){const e=bn.lFrame,n=null===e?null:e.child;return null===n?HI(e):n}function HI(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function VI(){const e=bn.lFrame;return bn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const KI=VI;function H1(){const e=VI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vi(){return bn.lFrame.selectedIndex}function $c(e){bn.lFrame.selectedIndex=e}function ys(){const e=bn.lFrame;return _f(e.tView,e.selectedIndex)}let zI=!0;function f0(){return zI}function kg(e){zI=e}function $I(e,n=null,t=null,r){const o=GI(e,n,t,r);return o.resolveInjectorInitializers(),o}function GI(e,n=null,t=null,r,o=new Set){const i=[t||Gr,Qk(e)];return r=r||("object"==typeof e?void 0:la(e)),new kc(i,n||O1(),r||null,o)}class fa{static THROW_IF_NOT_FOUND=Fc;static NULL=new t0;static create(n,t){if(Array.isArray(n))return $I({name:""},t,n,"");{const r=n.name??"";return $I({name:r},n.parent,n.providers,r)}}static \u0275prov=Jt({token:fa,providedIn:"any",factory:()=>gn(uI)});static __NG_ELEMENT_ID__=-1}const ha=new Ut("");let Ds=(()=>class e{static __NG_ELEMENT_ID__=PH;static __NG_ENV_ID__=t=>t})();class YI extends Ds{_lView;constructor(n){super(),this._lView=n}get destroyed(){return _l(this._lView)}onDestroy(n){const t=this._lView;return u0(t,n),()=>function w1(e,n){if(null===e[21])return;const t=e[21].indexOf(n);-1!==t&&e[21].splice(t,1)}(t,n)}}function PH(){return new YI(Ct())}class Rf{_console=console;handleError(n){this._console.error("ERROR",n)}}const Ms=new Ut("",{providedIn:"root",factory:()=>{const e=Dt(pi);let n;return t=>{e.destroyed&&!n?setTimeout(()=>{throw t}):(n??=e.get(Rf),n.handleError(t))}}}),ZI={provide:Ou,useValue:()=>{Dt(Rf)},multi:!0};function jl(e,n){const[t,r,o]=Pe(e,n?.equal),i=t;return i.set=r,i.update=o,i.asReadonly=V1.bind(i),i}function V1(){const e=this[P];if(void 0===e.readonlyFn){const n=()=>this();n[P]=e,e.readonlyFn=n}return e.readonlyFn}function JI(e){return function XI(e){return"function"==typeof e&&void 0!==e[P]}(e)&&"function"==typeof e.set}class Gc{}const QI=new Ut("",{providedIn:"root",factory:()=>!1}),qI=new Ut(""),ex=new Ut("");let K1=(()=>class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=xH})();function xH(){return new K1(Ct(),In())}let _u=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Za(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new mo(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>new e})}return e})(),h0=(()=>{class e{internalPendingTasks=Dt(_u);scheduler=Dt(Gc);errorHandler=Dt(Ms);add(){const t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){const r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Hg(...e){}let tx=(()=>{class e{static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>new AH})}return e})();class AH{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){const r=this.queues.get(n.zone);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){const t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);const r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(const[t,r]of this.queues)n||=null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(const r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}}let nx=null;function Su(){return nx}class SH{}let z1=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>Dt(RH),providedIn:"platform"})}return e})();const LH=new Ut("");let RH=(()=>{class e extends z1{_location;_history;_doc=Dt(ha);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Su().getBaseHref(this._doc)}onPopState(t){const r=Su().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Su().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $1(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function rx(e){const n=e.search(/#|\?|$/);return"/"===e[n-1]?e.slice(0,n-1)+e.slice(n):e}function Nl(e){return e&&"?"!==e[0]?`?${e}`:e}let Yc=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>Dt(ix),providedIn:"root"})}return e})();const ox=new Ut("");let ix=(()=>{class e extends Yc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Dt(ha).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $1(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Nl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const a=this.prepareExternalUrl(o+Nl(i));this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){const a=this.prepareExternalUrl(o+Nl(i));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(gn(z1),gn(ox,8))};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lu=(()=>{class e{_subject=new sa;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function NH(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(rx(ax(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nl(r))}normalize(t){return e.stripTrailingSlash(function jH(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,ax(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Nl;static joinWithSlash=$1;static stripTrailingSlash=rx;static \u0275fac=function(r){return new(r||e)(gn(Yc))};static \u0275prov=Jt({token:e,factory:()=>function wH(){return new Lu(gn(Yc))}(),providedIn:"root"})}return e})();function ax(e){return e.replace(/\/index.html$/,"")}function sx(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class lx{}let UH=(()=>{class e{static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>new FH(Dt(ha),window)})}return e})();class FH{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo({...t,left:n[0],top:n[1]})}scrollToAnchor(n,t){const r=function WH(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const a=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(a)return a}o=r.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Xa(2400,!1))}}scrollToElement(n,t){const r=n.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo({...t,left:o-a[0],top:i-a[1]})}}var Bl=d(467);function Dx(e){return it(e?.lift)}function Ei(e){return n=>{if(Dx(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xo(e,n,t,r,o){return new gV(e,n,t,r,o)}class gV extends vs{constructor(n,t,r,o,i,a){super(n),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=t?function(l){try{t(l)}catch(u){n.error(u)}}:super._next,this._error=o?function(l){try{o(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function dr(e,n){return Ei((t,r)=>{let o=0;t.subscribe(Xo(r,i=>{r.next(e.call(n,i,o++))}))})}function Ul(e){return{toString:e}.toString()}class IV{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Cx(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}const bs=(()=>{const e=()=>Tx;return e.ngInherit=!0,e})();function Tx(e){return e.type.prototype.ngOnChanges&&(e.setInput=AV),xV}function xV(){const e=Px(this),n=e?.current;if(n){const t=e.previous;if(t===Gs)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function AV(e,n,t,r,o){const i=this.declaredInputs[r],a=Px(e)||function _V(e,n){return e[Ox]=n}(e,{previous:Gs,current:null}),l=a.current||(a.current={}),u=a.previous,c=u[i];l[i]=new IV(c&&c.currentValue,t,u===Gs),Cx(e,n,o,t)}const Ox="__ngSimpleChanges__";function Px(e){return e[Ox]||null}const Zc=[],Tr=function(e,n=null,t){for(let r=0;r<Zc.length;r++)(0,Zc[r])(e,n,t)};function Ix(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const i=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=i;a&&(e.contentHooks??=[]).push(-t,a),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),u&&(e.viewHooks??=[]).push(-t,u),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=f&&(e.destroyHooks??=[]).push(t,f)}}function E0(e,n,t){xx(e,n,3,t)}function y0(e,n,t,r){(3&e[2])===t&&xx(e,n,t,r)}function Q1(e,n){let t=e[2];(3&t)===n&&(t&=16383,t+=1,e[2]=t)}function xx(e,n,t,r){const i=r??-1,a=n.length-1;let l=0;for(let u=void 0!==r?65535&e[17]:0;u<a;u++)if("number"==typeof n[u+1]){if(l=n[u],null!=r&&l>=r)break}else n[u]<0&&(e[17]+=65536),(l<i||-1==i)&&(jV(e,t,n,u),e[17]=(4294901760&e[17])+u+2),u++}function Ax(e,n){Tr(4,e,n);const t=b(null);try{n.call(e)}finally{b(t),Tr(5,e,n)}}function jV(e,n,t,r){const o=t[r]<0,i=t[r+1],l=e[o?-t[r]:t[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===n&&(e[2]+=16384,Ax(l,i)):Ax(l,i)}class Gg{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,o){this.factory=n,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}}function Sx(e){return 3===e||4===e||6===e}function Lx(e){return 64===e.charCodeAt(0)}function Ff(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?t=o:0===t||Rx(e,t,o,0,-1===t||2===t?n[++r]:null)}}return e}function Rx(e,n,t,r,o){let i=0,a=e.length;if(-1===n)a=-1;else for(;i<e.length;){const l=e[i++];if("number"==typeof l){if(l===n){a=-1;break}if(l>n){a=i-1;break}}}for(;i<e.length;){const l=e[i];if("number"==typeof l)break;if(l===t)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==a&&(e.splice(a,0,n),i=a+1),e.splice(i++,0,t),null!==o&&e.splice(i++,0,o)}function eb(e){return-1!==e}function Yg(e){return 32767&e}function Zg(e,n){let t=function FV(e){return e>>16}(e),r=n;for(;t>0;)r=r[14],t--;return r}let tb=!0;function D0(e){const n=tb;return tb=e,n}let WV=0;const Zs={};function M0(e,n){const t=Nx(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,nb(r.data,e),nb(n,null),nb(r.blueprint,null));const o=b0(e,n),i=e.injectorIndex;if(eb(o)){const a=Yg(o),l=Zg(o,n),u=l[1].data;for(let c=0;c<8;c++)n[i+c]=l[a+c]|u[a+c]}return n[i+8]=o,i}function nb(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Nx(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function b0(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;null!==o;){if(r=Vx(o),null===r)return-1;if(t++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function rb(e,n,t){!function kV(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Sg)&&(r=t[Sg]),null==r&&(r=t[Sg]=WV++);const o=255&r;n.data[e+(o>>5)]|=1<<o}(e,n,t)}function Bx(e,n,t){if(8&t||void 0!==e)return e;h1()}function Ux(e,n,t,r){if(8&t&&void 0===r&&(r=null),!(3&t)){const o=e[9],i=ua(void 0);try{return o?o.get(n,r,8&t):oI(n,r,8&t)}finally{ua(i)}}return Bx(r,0,t)}function Fx(e,n,t,r=0,o){if(null!==e){if(2048&n[2]&&!(2&r)){const a=function $V(e,n,t,r,o){let i=e,a=n;for(;null!==i&&null!==a&&2048&a[2]&&!Au(a);){const l=Wx(i,a,t,2|r,Zs);if(l!==Zs)return l;let u=i.parent;if(!u){const c=a[20];if(c){const f=c.get(t,Zs,r);if(f!==Zs)return f}u=Vx(a),a=a[14]}i=u}return o}(e,n,t,r,Zs);if(a!==Zs)return a}const i=Wx(e,n,t,r,Zs);if(i!==Zs)return i}return Ux(n,t,r,o)}function Wx(e,n,t,r,o){const i=function KV(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Sg)?e[Sg]:void 0;return"number"==typeof n?n>=0?255&n:zV:n}(t);if("function"==typeof i){if(!WI(n,e,r))return 1&r?Bx(o,0,r):Ux(n,t,r,o);try{let a;if(a=i(r),null!=a||8&r)return a;h1()}finally{KI()}}else if("number"==typeof i){let a=null,l=Nx(e,n),u=-1,c=1&r?n[15][5]:null;for((-1===l||4&r)&&(u=-1===l?b0(e,n):n[l+8],-1!==u&&Hx(r,!1)?(a=n[1],l=Yg(u),n=Zg(u,n)):l=-1);-1!==l;){const f=n[1];if(kx(i,l,f.data)){const M=VV(l,n,t,a,r,c);if(M!==Zs)return M}u=n[l+8],-1!==u&&Hx(r,n[1].data[l+8]===c)&&kx(i,l,n)?(a=f,l=Yg(u),n=Zg(u,n)):l=-1}}return o}function VV(e,n,t,r,o,i){const a=n[1],l=a.data[e+8],f=C0(l,a,t,null==r?Al(l)&&tb:r!=a&&!!(3&l.type),1&o&&i===l);return null!==f?Xg(n,a,f,l,o):Zs}function C0(e,n,t,r,o){const i=e.providerIndexes,a=n.data,l=1048575&i,u=e.directiveStart,f=i>>20,_=o?l+f:e.directiveEnd;for(let I=r?l:l+f;I<_;I++){const U=a[I];if(I<u&&t===U||I>=u&&U.type===t)return I}if(o){const I=a[u];if(I&&Ra(I)&&I.type===t)return u}return null}function Xg(e,n,t,r,o){let i=e[t];const a=n.data;if(i instanceof Gg){const l=i;if(l.resolving)throw function ar(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Sn(e)}(a[t]),f1();const u=D0(l.canSeeViewProviders);l.resolving=!0;const M=l.injectImpl?ua(l.injectImpl):null;WI(e,r,0);try{i=e[t]=l.factory(void 0,o,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&function wV(e,n,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const a=Tx(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}(t,a[t],n)}finally{null!==M&&ua(M),D0(u),l.resolving=!1,KI()}}return i}function kx(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Hx(e,n){return!(2&e||1&e&&n)}class Eo{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Fx(this._tNode,this._lView,n,Rg(r),t)}}function zV(){return new Eo(In(),Ct())}function ui(e){return Ul(()=>{const n=e.prototype.constructor,t=n[Uc]||ob(n),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Uc]||ob(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ob(e){return Gv(e)?()=>{const n=ob(Un(e));return n&&n()}:Wc(e)}function Vx(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[5]:null}function e7(){return Wf(In(),Ct())}function Wf(e,n){return new wa(Vo(e,n))}let wa=(()=>class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=e7})();function Yx(e){return e instanceof wa?e.nativeElement:e}function t7(){return this._results[Symbol.iterator]()}class n7{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new sa}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const r=function Ja(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Zk(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=n[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=t7}function Qg(e){return!(128&~e.flags)}var O0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(O0||{});const P0=new Map;let i7=0;function sb(e){P0.delete(e[19])}const ub="__ngContext__";function ma(e,n){ho(n)?(e[ub]=n[19],function s7(e){P0.set(e[19],e)}(n)):e[ub]=n}function iA(e){return sA(e[12])}function aA(e){return sA(e[4])}function sA(e){for(;null!==e&&!Yi(e);)e=e[4];return e}let cb;const em=new Ut("",{providedIn:"root",factory:()=>A7}),A7="ng",gA=new Ut(""),db=new Ut("",{providedIn:"platform",factory:()=>"unknown"}),mA=new Ut("",{providedIn:"root",factory:()=>function wu(){if(void 0!==cb)return cb;if(typeof document<"u")return document;throw new gt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),B7=new Ut("",{providedIn:"root",factory:()=>!1}),k7=new Ut("");function S0(e){return!(32&~e.flags)}function WA(e,n){const t=e.contentQueries;if(null!==t){const r=b(null);try{for(let o=0;o<t.length;o+=2){const a=t[o+1];if(-1!==a){const l=e.data[a];d0(t[o]),l.contentQueries(2,n[a],a)}}}finally{b(r)}}}function xb(e,n,t){d0(0);const r=b(null);try{n(e,t)}finally{b(r)}}function Ab(e,n,t){if(vI(n)){const r=b(null);try{const i=n.directiveEnd;for(let a=n.directiveStart;a<i;a++){const l=e.data[a];l.contentQueries&&l.contentQueries(1,t[a],a)}}finally{b(r)}}}var Fl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fl||{});class zA{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Q5})`}}function Nu(e){return e instanceof zA?e.changingThisBreaksApplicationSecurity:e}const bK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $f=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}($f||{});function jb(e){const n=function im(){const e=Ct();return e&&e[10].sanitizer}();return n?n.sanitize($f.URL,e)||"":function rm(e,n){const t=function EK(e){return e instanceof zA&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Q5})`)}return t===n}(e,"URL")?Nu(e):function Sb(e){return(e=String(e)).match(bK)?e:"unsafe:"+e}(Sn(e))}const UK=/^>|^->|<!--|-->|--!>|<!-$/g,FK=/(<|>)/g;function Xs(e){return e instanceof Function?e():e}function QK(e,n,t){let r=e.length;for(;;){const o=e.indexOf(n,t);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}const c_="ng-template";function qK(e,n,t,r){let o=0;if(r){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==QK(n[o+1].toLowerCase(),t,0))return!0}else if(Ub(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&"string"==typeof(i=n[o]);)if(i.toLowerCase()===t)return!0}return!1}function Ub(e){return 4===e.type&&e.value!==c_}function ez(e,n,t){return n===(4!==e.type||t?e.value:c_)}function tz(e,n,t){let r=4;const o=e.attrs,i=null!==o?function oz(e){for(let n=0;n<e.length;n++)if(Sx(e[n]))return n;return e.length}(o):0;let a=!1;for(let l=0;l<n.length;l++){const u=n[l];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ez(e,u,t)||""===u&&1===n.length){if(Cs(r))return!1;a=!0}}else if(8&r){if(null===o||!qK(e,o,u,t)){if(Cs(r))return!1;a=!0}}else{const c=n[++l],f=nz(u,o,Ub(e),t);if(-1===f){if(Cs(r))return!1;a=!0;continue}if(""!==c){let M;if(M=f>i?"":o[f+1].toLowerCase(),2&r&&c!==M){if(Cs(r))return!1;a=!0}}}}else{if(!a&&!Cs(r)&&!Cs(u))return!1;if(a&&Cs(u))continue;a=!1,r=u|1&r}}return Cs(r)||a}function Cs(e){return!(1&e)}function nz(e,n,t,r){if(null===n)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){const a=n[o];if(a===e)return o;if(3===a||6===a)i=!0;else{if(1===a||2===a){let l=n[++o];for(;"string"==typeof l;)l=n[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=i?1:2}return-1}return function iz(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function d_(e,n,t=!1){for(let r=0;r<n.length;r++)if(tz(e,n[r],t))return!0;return!1}function f_(e,n){return e?":not("+n.trim()+")":n}function sz(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let a=e[t];if("string"==typeof a)if(2&r){const l=e[++t];o+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?o+="."+a:4&r&&(o+=" "+a);else""!==o&&!Cs(a)&&(n+=f_(i,o),o=""),r=a,i=i||!Cs(r);t++}return""!==o&&(n+=f_(i,o)),n}const xr={};function Wb(e,n){return e.createComment(function n_(e){return e.replace(UK,n=>n.replace(FK,"\u200b$1\u200b"))}(n))}function k0(e,n,t){return e.createElement(n,t)}function Jc(e,n,t,r,o){e.insertBefore(n,t,r,o)}function g_(e,n,t){e.appendChild(n,t)}function m_(e,n,t,r,o){null!==r?Jc(e,n,t,r,o):g_(e,n,t)}function v_(e,n,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&function UV(e,n,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],a=t[r++],l=t[r++];e.setAttribute(n,a,l,i)}else{const i=o,a=t[++r];Lx(i)?e.setProperty(n,i,a):e.setAttribute(n,i,a),r++}}}(e,n,r),null!==o&&function dz(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}(e,n,o),null!==i&&function cz(e,n,t){e.setAttribute(n,"style",t)}(e,n,i)}function kb(e,n,t,r,o,i,a,l,u,c,f){const M=27+r,_=M+o,I=function fz(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:xr);return t}(M,_),U="function"==typeof c?c():c;return I[1]={type:e,blueprint:I,template:t,queries:null,viewQuery:l,declTNode:n,data:I.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:U,incompleteFirstPass:!1,ssrId:f}}function H0(e,n,t,r,o,i,a,l,u,c,f){const M=n.blueprint.slice();return M[0]=o,M[2]=1228|r,(null!==c||e&&2048&e[2])&&(M[2]|=2048),CI(M),M[3]=M[14]=e,M[8]=t,M[10]=a||e&&e[10],M[11]=l||e&&e[11],M[9]=u||e&&e[9]||null,M[5]=i,M[19]=function a7(){return i7++}(),M[6]=f,M[20]=c,M[15]=2==n.type?e[15]:M,M}function Hb(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function sm(e,n,t,r){if(0===t)return-1;const o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function Vb(e,n){return e[12]?e[13][4]=n:e[12]=n,e[13]=n,n}function Zt(e=1){y_(Fn(),Ct(),vi()+e,!1)}function y_(e,n,t,r){if(!r)if(3&~n[2]){const i=e.preOrderHooks;null!==i&&y0(n,i,0,t)}else{const i=e.preOrderCheckHooks;null!==i&&E0(n,i,t)}$c(t)}var V0=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(V0||{});function lm(e,n,t,r){const o=b(null);try{const[i,a,l]=e.inputs[t];let u=null;0!==(a&V0.SignalBased)&&(u=n[i][P]),null!==u&&void 0!==u.transformFn?r=u.transformFn(r):null!==l&&(r=l.call(n,r)),null!==e.setInput?e.setInput(n,u,r,t,i):Cx(n,u,i,r)}finally{b(o)}}var Bu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bu||{});function zb(e,n){return undefined(e,n)}const z0=new Set;function Zf(e,n,t,r,o,i){if(null!=r){let a,l=!1;Yi(r)?a=r:ho(r)&&(l=!0,r=r[0]);const u=li(r);0===e&&null!==t?null==o?g_(n,t,u):Jc(n,t,u,o||null,!0):1===e&&null!==t?Jc(n,t,u,o||null,!0):2===e?O_(i,()=>{!function am(e,n,t){e.removeChild(null,n,t)}(n,u,l)}):3===e&&O_(i,()=>{n.destroyNode(u)}),null!=a&&function Oz(e,n,t,r,o){const i=t[7];i!==li(t)&&Zf(n,e,r,i,o);for(let l=10;l<t.length;l++){const u=t[l];G0(u[1],u,e,n,r,i)}}(n,e,a,t,o)}}function T_(e,n){n[10].changeDetectionScheduler?.notify(9),G0(e,n,n[11],2,null,null)}function $b(e,n){const t=e[9],r=t.indexOf(n);t.splice(r,1)}function um(e,n){if(_l(n))return;const t=n[11];t.destroyNode&&G0(e,n,t,3,null,null),function Dz(e){let n=e[12];if(!n)return Gb(e[1],e);for(;n;){let t=null;if(ho(n))t=n[12];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)ho(n)&&Gb(n[1],n),n=n[3];null===n&&(n=e),ho(n)&&Gb(n[1],n),t=n&&n[4]}n=t}}(n)}function Gb(e,n){if(_l(n))return;const t=b(null);try{n[2]&=-129,n[2]|=256,n[24]&&oe(n[24]),function Cz(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const o=n[t[r]];if(!(o instanceof Gg)){const i=t[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){const l=o[i[a]],u=i[a+1];Tr(4,l,u);try{u.call(l)}finally{Tr(5,l,u)}}else{Tr(4,o,i);try{i.call(o)}finally{Tr(5,o,i)}}}}}(e,n),function bz(e,n){const t=e.cleanup,r=n[7];if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const l=t[a+3];l>=0?r[l]():r[-l].unsubscribe(),a+=2}else t[a].call(r[t[a+1]]);null!==r&&(n[7]=null);const o=n[21];if(null!==o){n[21]=null;for(let a=0;a<o.length;a++)(0,o[a])()}const i=n[23];if(null!==i){n[23]=null;for(const a of i)a.destroy()}}(e,n),1===n[1].type&&n[11].destroy();const r=n[16];if(null!==r&&Yi(n[3])){r!==n[3]&&$b(r,n);const o=n[18];null!==o&&o.detachView(e)}sb(n)}finally{b(t)}}function O_(e,n){if(e&&e[26]&&e[26].leave)if(e[26].skipLeaveAnimations)e[26].skipLeaveAnimations=!1;else{const t=e[26].leave,r=[];for(let o=0;o<t.length;o++)r.push((0,t[o])());e[26].running=Promise.allSettled(r),e[26].leave=void 0}!function Mz(e,n){e&&e[26]&&e[26].running?e[26].running.then(()=>{e[26]&&e[26].running&&(e[26].running=void 0),z0.delete(e),n()}):n()}(e,n)}function Yb(e,n,t){return function P_(e,n,t){let r=n;for(;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[0];if(Al(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Fl.None||o===Fl.Emulated)return null}return Vo(r,t)}(e,n.parent,t)}let A_=function x_(e,n,t){return 40&e.type?Vo(e,t):null};function Xb(e,n,t,r){const o=Yb(e,r,n),i=n[11],l=function I_(e,n,t){return A_(e,n,t)}(r.parent||n[5],r,n);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)m_(i,o,t[u],l,!1);else m_(i,o,t,l,!1)}function Qc(e,n){if(null!==n){const t=n.type;if(3&t)return Vo(n,e);if(4&t)return $0(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Qc(e,r);{const o=e[n.index];return Yi(o)?$0(-1,o):li(o)}}if(128&t)return Qc(e,n.next);if(32&t)return zb(n,e)()||li(e[n.index]);{const r=S_(e,n);return null!==r?Array.isArray(r)?r[0]:Qc(Sl(e[15]),r):Qc(e,n.next)}}return null}function S_(e,n){return null!==n?e[15][5].projection[n.projection]:null}function $0(e,n){const t=10+e+1;if(t<n.length){const r=n[t],o=r[1].firstChild;if(null!==o)return Qc(r,o)}return n[7]}function Jb(e,n,t,r,o,i,a){for(;null!=t;){if(128===t.type){t=t.next;continue}const l=r[t.index],u=t.type;if(a&&0===n&&(l&&ma(li(l),r),t.flags|=2),!S0(t))if(8&u)Jb(e,n,t.child,r,o,i,!1),Zf(n,e,o,l,i,r);else if(32&u){const c=zb(t,r);let f;for(;f=c();)Zf(n,e,o,f,i,r);Zf(n,e,o,l,i,r)}else 16&u?L_(e,n,r,t,o,i):Zf(n,e,o,l,i,r);t=a?t.projectionNext:t.next}}function G0(e,n,t,r,o,i){Jb(t,r,e.firstChild,n,o,i,!1)}function L_(e,n,t,r,o,i){const a=t[15],u=a[5].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Zf(n,e,o,u[c],i,t);else{let c=u;const f=a[3];Qg(r)&&(c.flags|=128),Jb(e,n,c,f,o,i,!0)}}function R_(e,n,t,r,o){const i=vi(),a=2&r;try{$c(-1),a&&n.length>27&&y_(e,n,27,!1),Tr(a?2:0,o,t),t(r,o)}finally{$c(i),Tr(a?3:1,o,t)}}function Y0(e,n,t){(function Sz(e,n,t){const r=t.directiveStart,o=t.directiveEnd;Al(t)&&function hz(e,n,t){const r=Vo(n,e),o=function E_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=kb(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(t),i=e[10].rendererFactory,a=Vb(e,H0(e,o,null,Hb(t),r,n,null,i.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||M0(t,n);const i=t.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],u=Xg(n,e,a,t);ma(u,n),null!==i&&jz(0,a-r,u,l,0,i),Ra(l)&&(Zi(t.index,n)[8]=Xg(n,e,a,t))}})(e,n,t),!(64&~t.flags)&&function Lz(e,n,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,a=function EH(){return bn.lFrame.currentDirectiveIndex}();try{$c(i);for(let l=r;l<o;l++){const u=e.data[l],c=n[l];U1(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Rz(u,c)}}finally{$c(-1),U1(a)}}(e,n,t)}function Xf(e,n,t=Vo){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const a=r[i+1],l=-1===a?t(n,e):e[a];e[o++]=l}}}let w_=()=>null;function Qb(e,n,t,r,o,i){Q0(e,n[1],n,t,r)?Al(e)&&function j_(e,n){const t=Zi(n,e);16&t[2]||(t[2]|=64)}(n,e.index):(3&e.type&&(t=function _z(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(t)),function qb(e,n,t,r,o,i){if(3&e.type){const a=Vo(e,n);r=null!=i?i(r,e.value||"",t):r,o.setProperty(a,t,r)}}(e,n,t,r,o,i))}function Rz(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function eC(e,n){const t=e.directiveRegistry;let r=null;if(t)for(let o=0;o<t.length;o++){const i=t[o];d_(n,i.selectors,!1)&&(r??=[],Ra(i)?r.unshift(i):r.push(i))}return r}function jz(e,n,t,r,o,i){const a=i[n];if(null!==a)for(let l=0;l<a.length;l+=2)lm(r,t,a[l],a[l+1])}function X0(e,n,t,r,o){const i=27+t,a=n[1],l=o(a,n,e,r,t);n[i]=l,Ll(e,!0);const u=2===e.type;return u?(v_(n[11],l,e),(0===function fH(){return bn.lFrame.elementDepthCount}()||xf(e))&&ma(l,n),function hH(){bn.lFrame.elementDepthCount++}()):ma(l,n),f0()&&(!u||!S0(e))&&Xb(a,n,l,e),e}function J0(e){let n=e;return RI()?function wI(){bn.lFrame.isParent=!1}():(n=n.parent,Ll(n,!1)),n}function Q0(e,n,t,r,o){const i=e.inputs?.[r],a=e.hostDirectiveInputs?.[r];let l=!1;if(a)for(let u=0;u<a.length;u+=2){const c=a[u];lm(n.data[c],t[c],a[u+1],o),l=!0}if(i)for(const u of i)lm(n.data[u],t[u],r,o),l=!0;return l}function Bz(e,n){const t=Zi(n,e),r=t[1];!function Uz(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const o=t[0];null!==o&&null===t[6]&&(t[6]=null),Tr(18),q0(r,t,t[8]),Tr(19,t[8])}function q0(e,n,t){k1(n);try{const r=e.viewQuery;null!==r&&xb(1,r,t);const o=e.template;null!==o&&R_(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[18]?.finishViewCreation(e),e.staticContentQueries&&WA(e,n),e.staticViewQueries&&xb(2,e.viewQuery,t);const i=e.components;null!==i&&function Fz(e,n){for(let t=0;t<n.length;t++)Bz(e,n[t])}(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,H1()}}function qc(e,n){return!n||null===n.firstChild||Qg(e)}function cm(e,n,t,r,o=!1){for(;null!==t;){if(128===t.type){t=o?t.projectionNext:t.next;continue}const i=n[t.index];null!==i&&r.push(li(i)),Yi(i)&&Wz(i,r);const a=t.type;if(8&a)cm(e,n,t.child,r);else if(32&a){const l=zb(t,n);let u;for(;u=l();)r.push(u)}else if(16&a){const l=S_(n,t);if(Array.isArray(l))r.push(...l);else{const u=Sl(n[15]);cm(u[1],u,l,r,!0)}}t=o?t.projectionNext:t.next}return r}function Wz(e,n){for(let t=10;t<e.length;t++){const r=e[t],o=r[1].firstChild;null!==o&&cm(r[1],r,o,n)}e[7]!==e[0]&&n.push(e[7])}function U_(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let F_=[];const Kz={...w,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Sf(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},$z={...w,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Sl(e.lView);for(;n&&!W_(n[1]);)n=Sl(n);n&&TI(n)},consumerOnSignalRead(){this.lView[24]=this}};function W_(e){return 2!==e.type}function k_(e){if(null===e[23])return;let n=!0;for(;n;){let t=!1;for(const r of e[23])r.dirty&&(t=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(8192&e[2])}}function eE(e,n=0){const r=e[10].rendererFactory;r.begin?.();try{!function Yz(e,n){const t=BI();try{c0(!0),nC(e,n);let r=0;for(;l0(e);){if(100===r)throw new gt(103,!1);r++,nC(e,1)}}finally{c0(t)}}(e,n)}finally{r.end?.()}}function H_(e,n,t,r){if(_l(n))return;const o=n[2];k1(n);let l=!0,u=null,c=null;W_(e)?(c=function kz(e){return e[24]??function Hz(e){const n=F_.pop()??Object.create(Kz);return n.lView=e,n}(e)}(n),u=z(c)):null===function x(){return O}()?(l=!1,c=function zz(e){const n=e[24]??Object.create($z);return n.lView=e,n}(n),u=z(c)):n[24]&&(oe(n[24]),n[24]=null);try{CI(n),function UI(e){return bn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&R_(e,n,t,2,r),function Zz(e){const n=e[26];if(n?.enter){for(const t of n.enter)t();n.enter=void 0}}(n);const f=!(3&~o);if(f){const I=e.preOrderCheckHooks;null!==I&&E0(n,I,null)}else{const I=e.preOrderHooks;null!==I&&y0(n,I,0,null),Q1(n,0)}if(function Xz(e){for(let n=iA(e);null!==n;n=aA(n)){if(!(2&n[2]))continue;const t=n[9];for(let r=0;r<t.length;r++)TI(t[r])}}(n),k_(n),V_(n,0),null!==e.contentQueries&&WA(e,n),f){const I=e.contentCheckHooks;null!==I&&E0(n,I)}else{const I=e.contentHooks;null!==I&&y0(n,I,1),Q1(n,1)}!function Qz(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)$c(~o);else{const i=o,a=t[++r],l=t[++r];vH(a,i);const u=n[i];Tr(24,u),l(2,u),Tr(25,u)}}}finally{$c(-1)}}(e,n);const M=e.components;null!==M&&z_(n,M,0);const _=e.viewQuery;if(null!==_&&xb(2,_,r),f){const I=e.viewCheckHooks;null!==I&&E0(n,I)}else{const I=e.viewHooks;null!==I&&y0(n,I,2),Q1(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[22]){for(const I of n[22])I();n[22]=null}U_(n),n[2]&=-73}catch(f){throw Sf(n),f}finally{null!==c&&(q(c,u),l&&function Vz(e){e.lView[24]!==e&&(e.lView=null,F_.push(e))}(c)),H1()}}function V_(e,n){for(let t=iA(e);null!==t;t=aA(t))for(let r=10;r<t.length;r++)K_(t[r],n)}function Jz(e,n,t){Tr(18);const r=Zi(n,e);K_(r,t),Tr(19,r[8])}function K_(e,n){L1(e)&&nC(e,n)}function nC(e,n){const r=e[1],o=e[2],i=e[24];let a=!!(0===n&&16&o);if(a||=!!(64&o&&0===n),a||=!!(1024&o),a||=!(!i?.dirty||!ie(i)),a||=!1,i&&(i.dirty=!1),e[2]&=-9217,a)H_(r,e,r.template,e[8]);else if(8192&o){const l=b(null);try{k_(e),V_(e,1);const u=r.components;null!==u&&z_(e,u,1),U_(e)}finally{b(l)}}}function z_(e,n,t){for(let r=0;r<n.length;r++)Jz(e,n[r],t)}function Qf(e,n){const t=BI()?64:1088;for(e[10].changeDetectionScheduler?.notify(n);e;){e[2]|=t;const r=Sl(e);if(Au(e)&&!r)return e;e=r}return null}function $_(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function dm(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const o=r[16];null!==o&&o!==e&&$b(o,r),n>0&&(e[t-1][4]=r[4]);const i=Qv(e,10+n);!function C_(e,n){T_(e,n),n[0]=null,n[5]=null}(r[1],r);const a=i[18];null!==a&&a.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Y_(e,n){const t=e[9],r=n[3];(ho(r)||n[15]!==r[3][15])&&(e[2]|=2),null===t?e[9]=[n]:t.push(n)}class fm{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const n=this._lView,t=n[1];return cm(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return _l(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Yi(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(dm(n,r),Qv(t,r))}this._attachedToViewContainer=!1}um(this._lView[1],this._lView)}onDestroy(n){u0(this._lView,n)}markForCheck(){Qf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){R1(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,eE(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Au(this._lView),t=this._lView[16];null!==t&&!n&&$b(t,this._lView),T_(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new gt(902,!1);this._appRef=n;const t=Au(this._lView),r=this._lView[16];null!==r&&!t&&Y_(r,this._lView),R1(this._lView)}}let kl=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=e9;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const i=function Jf(e,n,t,r){const o=b(null);try{const i=n.tView,u=H0(e,i,t,4096&e[2]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[16]=e[n.index];const f=e[18];return null!==f&&(u[18]=f.createEmbeddedView(i)),q0(i,u,t),u}finally{b(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new fm(i)}})();function e9(){return tE(In(),Ct())}function tE(e,n){return 4&e.type?new kl(n,e,Wf(e,n)):null}function ed(e,n,t,r,o){let i=e.data[n];if(null===i)i=function sC(e,n,t,r,o){const i=LI(),a=RI(),u=e.data[n]=function u9(e,n,t,r,o,i){let a=n?n.injectorIndex:-1,l=0;return function AI(){return null!==bn.skipHydrationRootTNode}()&&(l|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?i:i&&i.parent,t,n,r,o);return function l9(e,n,t,r){null===e.firstChild&&(e.firstChild=n),null!==t&&(r?null==t.child&&null!==n.parent&&(t.child=n):null===t.next&&(t.next=n,n.prev=t))}(e,u,i,a),u}(e,n,t,r,o),function pH(){return bn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const a=function Wg(){const e=bn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();i.injectorIndex=null===a?-1:a.injectorIndex}return Ll(i,!0),i}let z9=class{},yS=class{};class $9{resolveComponentFactory(n){throw new gt(917,!1)}}let uE=class{static NULL=new $9};class gC{}let Hl=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function G9(){const e=Ct(),t=Zi(In().index,e);return(ho(t)?t:e)[11]}()})(),Y9=(()=>{class e{static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>null})}return e})();const pC={};class th{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){const o=this.injector.get(n,pC,r);return o!==pC||t===pC?o:this.parentInjector.get(n,t,r)}}function dE(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(null!==n)for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?i=l:1==i?o=a1(o,l):2==i&&(r=a1(r,l+": "+n[++a]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function At(e,n=0){const t=Ct();return null===t?gn(e,n):Fx(In(),t,Un(e),n)}function bS(e,n,t,r,o){const i=null===r?null:{"":-1},a=o(e,t);if(null!==a){let l=a,u=null,c=null;for(const f of a)if(null!==f.resolveHostDirectives){[l,u,c]=f.resolveHostDirectives(a);break}!function e$(e,n,t,r,o,i,a){const l=r.length;let u=!1;for(let _=0;_<l;_++){const I=r[_];!u&&Ra(I)&&(u=!0,q9(e,t,_)),rb(M0(t,n),e,I.type)}!function a$(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,l);for(let _=0;_<l;_++){const I=r[_];I.providersResolver&&I.providersResolver(I)}let c=!1,f=!1,M=sm(e,n,l,null);l>0&&(t.directiveToIndex=new Map);for(let _=0;_<l;_++){const I=r[_];if(t.mergedAttrs=Ff(t.mergedAttrs,I.hostAttrs),n$(e,t,n,M,I),i$(M,I,o),null!==a&&a.has(I)){const[k,Y]=a.get(I);t.directiveToIndex.set(I.type,[M,k+t.directiveStart,Y+t.directiveStart])}else(null===i||!i.has(I))&&t.directiveToIndex.set(I.type,M);null!==I.contentQueries&&(t.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(t.flags|=64);const U=I.type.prototype;!c&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!f&&(U.ngOnChanges||U.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),f=!0),M++}!function t$(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){const o=e.data[r];if(null!==t&&t.has(o)){const i=t.get(o);TS(0,n,i,r),TS(1,n,i,r),PS(n,r,!0)}else CS(0,n,o,r),CS(1,n,o,r),PS(n,r,!1)}}(e,t,i)}(e,n,t,l,i,u,c)}null!==i&&null!==r&&function Q9(e,n,t){const r=e.localNames=[];for(let o=0;o<n.length;o+=2){const i=t[n[o+1]];if(null==i)throw new gt(-301,!1);r.push(n[o],i)}}(t,r,i)}function q9(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function CS(e,n,t,r){const o=0===e?t.inputs:t.outputs;for(const i in o)if(o.hasOwnProperty(i)){let a;a=0===e?n.inputs??={}:n.outputs??={},a[i]??=[],a[i].push(r),OS(n,i)}}function TS(e,n,t,r){const o=0===e?t.inputs:t.outputs;for(const i in o)if(o.hasOwnProperty(i)){const a=o[i];let l;l=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},l[a]??=[],l[a].push(r,i),OS(n,a)}}function OS(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function PS(e,n,t){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!t&&null===o||t&&null===i||Ub(e))return e.initialInputs??=[],void e.initialInputs.push(null);let a=null,l=0;for(;l<r.length;){const u=r[l];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!t&&o.hasOwnProperty(u)){const c=o[u];for(const f of c)if(f===n){a??=[],a.push(u,r[l+1]);break}}else if(t&&i.hasOwnProperty(u)){const c=i[u];for(let f=0;f<c.length;f+=2)if(c[f]===n){a??=[],a.push(c[f+1],r[l+1]);break}}l+=2}else l+=2;else l+=4}e.initialInputs??=[],e.initialInputs.push(a)}function n$(e,n,t,r,o){e.data[r]=o;const i=o.factory||(o.factory=Wc(o.type)),a=new Gg(i,Ra(o),At,null);e.blueprint[r]=a,t[r]=a,function r$(e,n,t,r,o){const i=o.hostBindings;if(i){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~n.index;(function o$(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(t,r,i)}}(e,n,r,sm(e,t,o.hostVars,xr),o)}function i$(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ra(n)&&(t[""]=e)}}function vC(e,n,t,r,o,i,a,l){const u=n[1],c=u.consts,M=ed(u,e,t,r,Li(c,a));return i&&bS(u,n,M,Li(c,l),o),M.mergedAttrs=Ff(M.mergedAttrs,M.attrs),null!==M.attrs&&dE(M,M.attrs,!1),null!==M.mergedAttrs&&dE(M,M.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,M),M}function EC(e,n){Ix(e,n),vI(n)&&e.queries.elementEnd(n)}function fE(e){return!!function yC(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function no(e,n,t){return t!==xr&&(!Object.is(e[n],t)&&(e[n]=t,!0))}function Cm(e,n,t){return function r(o){Qf(Al(e)?Zi(e.index,n):n,5);const a=n[8];let l=xS(n,a,t,o),u=r.__ngNextListenerFn__;for(;u;)l=xS(n,a,u,o)&&l,u=u.__ngNextListenerFn__;return l}}function xS(e,n,t,r){const o=b(null);try{return Tr(6,n,t),!1!==t(r)}catch(i){return function tC(e,n){const t=e[9];if(!t)return;let r;try{r=t.get(Ms,null)}catch{r=null}r?.(n)}(e,i),!1}finally{Tr(7,n,t),b(o)}}function AS(e,n,t,r,o,i,a,l){const u=xf(e);let c=!1,f=null;if(!r&&u&&(f=function d$(e,n,t,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const a=o[i];if(a===t&&o[i+1]===r){const l=n[7],u=o[i+2];return l&&l.length>u?l[u]:null}"string"==typeof a&&(i+=2)}return null}(n,t,i,e.index)),null!==f)(f.__ngLastListenerFn__||f).__ngNextListenerFn__=a,f.__ngLastListenerFn__=a,c=!0;else{const M=Vo(e,t),_=r?r(M):M,I=o.listen(_,i,l);(function c$(e){return e.startsWith("animation")||e.startsWith("transition")})(i)||_S(r?k=>r(li(k[e.index])):e.index,n,t,i,l,I,!1)}return c}function _S(e,n,t,r,o,i,a){const l=n.firstCreatePass?II(n):null,u=PI(t),c=u.length;u.push(o,i),l&&l.push(r,e,c,(c+1)*(a?-1:1))}function gE(e,n,t,r,o,i){const l=n[1],M=n[t][l.data[t].outputs[r]].subscribe(i);_S(e.index,l,n,o,i,M,!0)}const Fu=Symbol("BINDING");class SS extends uE{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=yr(n);return new mE(t,this.ngModule)}}class mE extends yS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function y$(e){return Object.keys(e).map(n=>{const[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:0!==(r&V0.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function D$(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function lz(e){return e.map(sz).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o,i,a){Tr(22);const l=b(null);try{const u=this.componentDef,c=function O$(e,n,t,r){const o=e?["ng-version","20.3.1"]:function uz(e){const n=[],t=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&n.push(i,e[++r]):8===o&&t.push(i);else{if(!Cs(o))break;o=i}r++}return t.length&&n.push(1,...t),n}(n.selectors[0]);let i=null,a=null,l=0;if(t)for(const f of t)l+=f[Fu].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(a??=[]).push(f));if(r)for(let f=0;f<r.length;f++){const M=r[f];if("function"!=typeof M)for(const _ of M.bindings){l+=_[Fu].requiredVars;const I=f+1;_.create&&(_.targetIdx=I,(i??=[]).push(_)),_.update&&(_.targetIdx=I,(a??=[]).push(_))}}const u=[n];if(r)for(const f of r){const _=Gi("function"==typeof f?f:f.type);u.push(_)}return kb(0,null,function P$(e,n){return e||n?t=>{if(1&t&&e)for(const r of e)r.create();if(2&t&&n)for(const r of n)r.update()}:null}(i,a),1,l,u,null,null,null,[o],null)}(r,u,a,i),f=function M$(e,n,t){let r=n instanceof pi?n:n?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new th(t,r):t}(u,o||this.ngModule,n),M=function b$(e){const n=e.get(gC,null);if(null===n)throw new gt(407,!1);return{rendererFactory:n,sanitizer:e.get(Y9,null),changeDetectionScheduler:e.get(Gc,null),ngReflect:!1}}(f),_=M.rendererFactory.createRenderer(null,u),I=r?function Iz(e,n,t,r){const i=r.get(B7,!1)||t===Fl.ShadowDom,a=e.selectRootElement(n,i);return function xz(e){w_(e)}(a),a}(_,r,u.encapsulation,f):function C$(e,n){const t=function T$(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return k0(n,t,"svg"===t?"svg":"math"===t?"math":null)}(u,_),U=a?.some(LS)||i?.some(J=>"function"!=typeof J&&J.bindings.some(LS)),k=H0(null,c,null,512|Hb(u),null,null,M,_,f,null,null);k[27]=I,k1(k);let Y=null;try{const J=vC(27,k,2,"#host",()=>c.directiveRegistry,!0,0);I&&(v_(_,I,J),ma(I,k)),Y0(c,k,J),Ab(c,J,k),EC(c,J),void 0!==t&&function x$(e,n,t){const r=e.projection=[];for(let o=0;o<n.length;o++){const i=t[o];r.push(null!=i&&i.length?Array.from(i):null)}}(J,this.ngContentSelectors,t),Y=Zi(J.index,k),k[8]=Y[8],q0(c,k,null)}catch(J){throw null!==Y&&sb(Y),sb(k),J}finally{Tr(23),H1()}return new I$(this.componentType,k,!!U)}finally{b(l)}}}function LS(e){const n=e[Fu].kind;return"input"===n||"twoWay"===n}class I$ extends z9{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=_f(t[1],27),this.location=Wf(this._tNode,t),this.instance=Zi(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new fm(t,void 0),this.componentType=n}setInput(n,t){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Q0(r,o[1],o,n,t),this.previousInputValues.set(n,t),Qf(Zi(r.index,o),1)}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Ts=(()=>class e{static __NG_ELEMENT_ID__=A$})();function A$(){return jS(In(),Ct())}const _$=Ts,RS=class extends _${_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){const n=b0(this._hostTNode,this._hostLView);if(eb(n)){const t=Zg(n,this._hostLView),r=Yg(n);return new Eo(t[1].data[r+8],t)}return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=wS(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const l=n.createEmbeddedViewImpl(t||{},i,null);return this.insertImpl(l,o,qc(this._hostTNode,null)),l}createComponent(n,t,r,o,i,a,l){const u=n&&!function $g(e){return"function"==typeof e}(n);let c;if(u)c=t;else{const Y=t||{};c=Y.index,r=Y.injector,o=Y.projectableNodes,i=Y.environmentInjector||Y.ngModuleRef,a=Y.directives,l=Y.bindings}const f=u?n:new mE(yr(n)),M=r||this.parentInjector;if(!i&&null==f.ngModule){const J=(u?M:this.parentInjector).get(pi,null);J&&(i=J)}yr(f.componentType??{});const k=f.create(M,o,null,i,a,l);return this.insertImpl(k.hostView,c,qc(this._hostTNode,null)),k}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const o=n._lView;if(function cH(e){return Yi(e[3])}(o)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const u=o[3],c=new RS(u,u[5],u[3]);c.detach(c.indexOf(n))}}const i=this._adjustIndex(t),a=this._lContainer;return function qf(e,n,t,r=!0){const o=n[1];if(function qz(e,n,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=n),r<i-10?(n[4]=t[o],aI(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const a=n[16];null!==a&&t!==a&&Y_(a,n);const l=n[18];null!==l&&l.insertView(e),R1(n),n[2]|=128}(o,n,e,t),r){const a=$0(t,e),l=n[11],u=l.parentNode(e[7]);null!==u&&function yz(e,n,t,r,o,i){r[0]=o,r[5]=n,G0(e,r,t,1,o,i)}(o,e[5],l,n,u,a)}const i=n[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(a,o,i,r),n.attachToViewContainerRef(),aI(DC(a),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=wS(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=dm(this._lContainer,t);r&&(Qv(DC(this._lContainer),t),um(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=dm(this._lContainer,t);return r&&null!=Qv(DC(this._lContainer),t)?new fm(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function wS(e){return e[8]}function DC(e){return e[8]||(e[8]=[])}function jS(e,n){let t;const r=n[e.index];return Yi(r)?t=r:(t=$_(r,n,null,e),n[e.index]=t,Vb(n,t)),NS(t,n,e,r),new RS(t,e,n)}let NS=function US(e,n,t,r){if(e[7])return;let o;o=8&t.type?li(r):function S$(e,n){const t=e[11],r=t.createComment(""),o=Vo(n,e),i=t.parentNode(o);return Jc(t,i,r,t.nextSibling(o),!1),r}(n,t),e[7]=o};class bC{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new bC(this.queryList)}setDirty(){this.queryList.setDirty()}}class CC{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const a=t.getByIndex(i);o.push(this.queries[a.indexInDeclarationView].clone())}return new CC(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==xC(n,t).matches&&this.queries[t].setDirty()}}class FS{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof n?function U$(e){return e.split(",").map(n=>n.trim())}(n):n}}class TC{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new TC(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class OC{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new OC(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,t,w$(t,i)),this.matchTNodeWithReadOption(n,t,C0(t,n,i,!1,!1))}else r===kl?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,C0(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===wa||o===Ts||o===kl&&4&t.type)this.addMatch(t.index,-2);else{const i=C0(t,n,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function w$(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function N$(e,n,t,r){return-1===t?function j$(e,n){return 11&e.type?Wf(e,n):4&e.type?tE(e,n):null}(n,e):-2===t?function B$(e,n,t){return t===wa?Wf(n,e):t===kl?tE(n,e):t===Ts?jS(n,e):void 0}(e,n,r):Xg(e,e[1],t,n)}function WS(e,n,t,r){const o=n[18].queries[r];if(null===o.matches){const i=e.data,a=t.matches,l=[];for(let u=0;null!==a&&u<a.length;u+=2){const c=a[u];l.push(c<0?null:N$(n,i[c],a[u+1],t.metadata.read))}o.matches=l}return o.matches}function PC(e,n,t,r){const o=e.queries.getByIndex(t),i=o.matches;if(null!==i){const a=WS(e,n,o,t);for(let l=0;l<i.length;l+=2){const u=i[l];if(u>0)r.push(a[l/2]);else{const c=i[l+1],f=n[-u];for(let M=10;M<f.length;M++){const _=f[M];_[16]===_[3]&&PC(_[1],_,c,r)}if(null!==f[9]){const M=f[9];for(let _=0;_<M.length;_++){const I=M[_];PC(I[1],I,c,r)}}}}}return r}function HS(e,n,t){const r=Fn();return r.firstCreatePass&&(function KS(e,n,t){null===e.queries&&(e.queries=new TC),e.queries.track(new OC(n,t))}(r,new FS(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),function kS(e,n,t){const r=new n7(!(4&~t));return function dH(e,n,t,r){const o=PI(n);o.push(t),e.firstCreatePass&&II(e).push(r,o.length-1)}(e,n,r,r.destroy),(n[18]??=new CC).queries.push(new bC(r))-1}(r,Ct(),n)}function xC(e,n){return e.queries.getByIndex(n)}function zS(e,n){const t=e[1],r=xC(t,n);return r.crossesNgTemplate?PC(t,e,n,[]):WS(t,e,r,n)}const XS=new Set;function yi(e){XS.has(e)||(XS.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let od=class{},JS=class{};class SC extends od{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new SS(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;const i=Ys(n);this._bootstrapComponents=Xs(i.bootstrap),this._r3Injector=GI(n,t,[{provide:od,useValue:this},{provide:uE,useValue:this.componentFactoryResolver},...r],la(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class QS extends JS{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new SC(this.moduleType,n,[])}}class qS extends od{injector;componentFactoryResolver=new SS(this);instance=null;constructor(n){super();const t=new kc([...n.providers,{provide:od,useValue:this},{provide:uE,useValue:this.componentFactoryResolver}],n.parent||O1(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function pE(e,n,t=null){return new qS({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let J$=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=D1(0,t.type),o=r.length>0?pE([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Jt({token:e,providedIn:"environment",factory:()=>new e(gn(pi))})}return e})();function ja(e){return Ul(()=>{const n=tL(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===O0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(J$).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fl.Emulated,styles:e.styles||Gr,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&yi("NgStandalone"),nL(t);const r=e.dependencies;return t.directiveDefs=vE(r,eL),t.pipeDefs=vE(r,Es),t.id=function tG(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function eL(e){return yr(e)||Gi(e)}function id(e){return Ul(()=>({type:e.type,bootstrap:e.bootstrap||Gr,declarations:e.declarations||Gr,imports:e.imports||Gr,exports:e.exports||Gr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Q$(e,n){if(null==e)return Gs;const t={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,a,l,u;Array.isArray(o)?(l=o[0],i=o[1],a=o[2]??i,u=o[3]||null):(i=o,a=o,l=V0.None,u=null),t[i]=[r,l,u],n[i]=a}return t}function q$(e){if(null==e)return Gs;const n={};for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Cn(e){return Ul(()=>{const n=tL(e);return nL(n),n})}function tL(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Gs,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Gr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Q$(e.inputs,n),outputs:q$(e.outputs),debugInfo:null}}function nL(e){e.features?.forEach(n=>n(e))}function vE(e,n){return e?()=>{const t="function"==typeof e?e():e,r=[];for(const o of t){const i=n(o);null!==i&&r.push(i)}return r}:null}function Ar(e){let n=function rL(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let o;if(Ra(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new gt(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);const a=e;a.inputs=LC(e.inputs),a.declaredInputs=LC(e.declaredInputs),a.outputs=LC(e.outputs);const l=o.hostBindings;l&&aG(e,l);const u=o.viewQuery,c=o.contentQueries;if(u&&oG(e,u),c&&iG(e,c),nG(e,o),Tk(e.outputs,o.outputs),Ra(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let a=0;a<i.length;a++){const l=i[a];l&&l.ngInherit&&l(e),l===Ar&&(t=!1)}}n=Object.getPrototypeOf(n)}!function rG(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Ff(o.hostAttrs,t=Ff(t,o.hostAttrs))}}(r)}function nG(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const r=n.inputs[t];void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function LC(e){return e===Gs?{}:e===Gr?[]:e}function oG(e,n){const t=e.viewQuery;e.viewQuery=t?(r,o)=>{n(r,o),t(r,o)}:n}function iG(e,n){const t=e.contentQueries;e.contentQueries=t?(r,o,i)=>{n(r,o,i),t(r,o,i)}:n}function aG(e,n){const t=e.hostBindings;e.hostBindings=t?(r,o)=>{n(r,o),t(r,o)}:n}function xo(e,n,t,r,o,i,a,l){const u=Ct(),c=Fn();return function hG(e,n,t,r,o,i,a,l,u,c,f){const M=t+27;let _;n.firstCreatePass?(_=ed(n,M,4,a||null,l||null),B1()&&bS(n,e,_,Li(n.consts,c),eC),Ix(n,_)):_=n.data[M],function lL(e,n,t,r,o,i,a,l){if(t.firstCreatePass){e.mergedAttrs=Ff(e.mergedAttrs,e.attrs);const f=e.tView=kb(2,e,o,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);null!==t.queries&&(t.queries.template(t,e),f.queries=t.queries.embeddedTView(e))}l&&(e.flags|=l),Ll(e,!1);const u=cL(t,n,e,r);f0()&&Xb(t,n,u,e),ma(u,n);const c=$_(u,n,u,e);n[r+27]=c,Vb(n,c)}(_,e,n,t,r,o,i,u),xf(_)&&Y0(n,e,_),null!=c&&Xf(e,_,f)}(u,c,e,n,t,r,o,Li(c.consts,i),void 0,a,l),xo}let cL=function dL(e,n,t,r){return kg(!0),n[11].createComment("")};var wC=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(wC||{});const Im=new Ut(""),pL=!1,yo=class yG extends sa{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,function x1(){return void 0!==rI()||null!=p()}()&&(this.destroyRef=Dt(Ds,{optional:!0})??void 0,this.pendingTasks=Dt(_u,{optional:!0})??void 0)}emit(n){const t=b(null);try{super.next(n)}finally{b(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),a=r;if(n&&"object"==typeof n){const u=n;o=u.next?.bind(u),i=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));const l=super.subscribe({next:o,error:i,complete:a});return n instanceof kt&&n.add(l),l}wrapInTimeout(n){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function vL(e){let n,t;function r(){e=Hg;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function EL(e){return queueMicrotask(()=>e()),()=>{e=Hg}}const jC="isAngularZone",ME=jC+"_ID";let DG=0;class gr{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new yo(!1);onMicrotaskEmpty=new yo(!1);onStable=new yo(!1);onError=new yo(!1);constructor(n){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=pL}=n;if(typeof Zone>"u")throw new gt(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,function CG(e){const n=()=>{!function bG(e){function n(){vL(()=>{e.callbackScheduled=!1,BC(e),e.isCheckStableRunning=!0,NC(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),BC(e))}(e)},t=DG++;e._inner=e._inner.fork({name:"angular",properties:{[jC]:!0,[ME]:t,[ME+t]:!0},onInvokeTask:(r,o,i,a,l,u)=>{if(function TG(e){return ML(e,"__ignore_ng_zone__")}(u))return r.invokeTask(i,a,l,u);try{return yL(e),r.invokeTask(i,a,l,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&n(),DL(e)}},onInvoke:(r,o,i,a,l,u,c)=>{try{return yL(e),r.invoke(i,a,l,u,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function OG(e){return ML(e,"__scheduler_tick__")}(u)&&n(),DL(e)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,BC(e),NC(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(jC)}static assertInAngularZone(){if(!gr.isInAngularZone())throw new gt(909,!1)}static assertNotInAngularZone(){if(gr.isInAngularZone())throw new gt(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){const i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,n,MG,Hg,Hg);try{return i.runTask(a,t,r)}finally{i.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const MG={};function NC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function BC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function yL(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function DL(e){e._nesting--,NC(e)}class UC{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new yo;onMicrotaskEmpty=new yo;onStable=new yo;onError=new yo;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}}function ML(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}let bL=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>new e})}return e})();const CL=[0,1,2,3];let IG=(()=>{class e{ngZone=Dt(gr);scheduler=Dt(Gc);errorHandler=Dt(Rf,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Dt(Im,{optional:!0})}execute(){const t=this.sequences.size>0;t&&Tr(16),this.executing=!0;for(const r of CL)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Tr(17)}register(t){const{view:r}=t;void 0!==r?((r[25]??=[]).push(t),Sf(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(wC.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Jt({token:e,providedIn:"root",factory:()=>new e})}return e})();class TL{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,o,i,a=null){this.impl=n,this.hooks=t,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(t=>t!==this))}}function FC(e,n){const t=n?.injector??Dt(fa);return yi("NgAfterNextRender"),function OL(e,n,t,r){const o=n.get(bL);o.impl??=n.get(IG);const i=n.get(Im,null,{optional:!0}),a=!0!==t?.manualCleanup?n.get(Ds):null,l=n.get(K1,null,{optional:!0}),u=new TL(o.impl,function AG(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),l?.view,r,a,i?.snapshot(null));return o.impl.register(u),u}(e,t,n,!0)}let wL=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const ZL=new Ut("");function _m(e){return!!e&&"function"==typeof e.then}function XL(e){return!!e&&"function"==typeof e.subscribe}const JL=new Ut("");function QL(e){return Ng([{provide:JL,multi:!0,useValue:e}])}let qL=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Dt(JL,{optional:!0})??[];injector=Dt(fa);constructor(){}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const i=ca(this.injector,o);if(_m(i))t.push(i);else if(XL(i)){const a=new Promise((l,u)=>{i.subscribe({complete:l,error:u})});t.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZC=new Ut("");let Vl=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Dt(Ms);afterRenderManager=Dt(bL);zonelessEnabled=Dt(QI);rootEffectScheduler=Dt(tx);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new sa;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Dt(_u);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(dr(t=>!t))}constructor(){Dt(Im,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Dt(pi);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=fa.NULL){return this._injector.get(gr).run(()=>{Tr(10);const a=t instanceof yS;if(!this._injector.get(qL).done)throw new gt(405,"");let u;u=a?t:this._injector.get(uE).resolveComponentFactory(t),this.componentTypes.push(u.componentType);const c=function wY(e){return e.isBoundToModule}(u)?void 0:this._injector.get(od),M=u.create(o,[],r||u.selector,c),_=M.location.nativeElement,I=M.injector.get(ZL,null);return I?.registerApplication(_),M.onDestroy(()=>{this.detachView(M.hostView),IE(this.components,M),I?.unregisterApplication(_)}),this._loadComponent(M),Tr(11,M),M})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Tr(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(wC.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new gt(101,!1);const t=b(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,b(t),this.afterTick.next(),Tr(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gC,null,{optional:!0}));let t=0;for(;0!==this.dirtyFlags&&t++<10;)Tr(14),this.synchronizeOnce(),Tr(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||l0(o))&&(eE(o,r&&!this.zonelessEnabled?0:1),t=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>l0(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;IE(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(ZC,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>IE(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new gt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IE(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function Qs(e,n,t,r){const o=Ct();return no(o,da(),n)&&(Fn(),function wz(e,n,t,r,o,i){const a=Vo(e,n);!function Z0(e,n,t,r,o,i,a){if(null==i)e.removeAttribute(n,o,t);else{const l=null==a?Sn(i):a(i,r||"",o);e.setAttribute(n,o,l,t)}}(n[11],a,i,e.value,t,r,o)}(ys(),o,e,n,t,r)),Qs}function Tn(e,n,t){const r=Ct();return no(r,da(),n)&&(Fn(),Qb(ys(),r,e,n,r[11],t)),Tn}function l2(e,n,t,r,o){Q0(n,e,t,o?"class":"style",r)}function lt(e,n,t,r){const o=Ct(),i=o[1],a=e+27,l=i.firstCreatePass?vC(a,o,2,n,eC,B1(),t,r):i.data[a];if(X0(l,o,e,n,c2),xf(l)){const u=o[1];Y0(u,o,l),Ab(u,l,o)}return null!=r&&Xf(o,l),lt}function ut(){const e=Fn(),t=J0(In());return e.firstCreatePass&&EC(e,t),_I(t)&&SI(),xI(),null!=t.classesWithoutHost&&function NV(e){return!!(8&e.flags)}(t)&&l2(e,t,Ct(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function BV(e){return!!(16&e.flags)}(t)&&l2(e,t,Ct(),t.stylesWithoutHost,!1),ut}function ci(e,n,t,r){return lt(e,n,t,r),ut(),ci}function ts(e,n,t,r){const o=Ct(),i=o[1],a=e+27,l=i.firstCreatePass?function IS(e,n,t,r,o,i){const a=n.consts,u=ed(n,e,t,r,Li(a,o));if(u.mergedAttrs=Ff(u.mergedAttrs,u.attrs),null!=i){const c=Li(a,i);u.localNames=[];for(let f=0;f<c.length;f+=2)u.localNames.push(c[f],-1)}return null!==u.attrs&&dE(u,u.attrs,!1),null!==u.mergedAttrs&&dE(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(a,i,2,n,t,r):i.data[a];return X0(l,o,e,n,c2),null!=r&&Xf(o,l),ts}function Os(){return _I(J0(In()))&&SI(),xI(),Os}function u2(e,n,t,r){return ts(e,n,t,r),Os(),u2}typeof document<"u"&&document;let c2=(e,n,t,r,o)=>(kg(!0),k0(n[11],r,function OH(){return bn.lFrame.currentNamespace}()));function qs(e,n,t){const r=Ct(),o=r[1],i=e+27,a=o.firstCreatePass?vC(i,r,8,"ng-container",eC,B1(),n,t):o.data[i];if(X0(a,r,e,"ng-container",h2),xf(a)){const l=r[1];Y0(l,r,a),Ab(l,a,r)}return null!=t&&Xf(r,a),qs}function Ps(){const e=Fn(),t=J0(In());return e.firstCreatePass&&EC(e,t),Ps}function d2(e,n,t){return qs(e,n,t),Ps(),d2}let h2=(e,n,t,r,o)=>(kg(!0),Wb(n[11],""));function Mi(){return Ct()}const jE="en-US";let OR=jE;function Xn(e,n,t){const r=Ct(),o=Fn(),i=In();return p2(o,r,r[11],i,e,n,t),Xn}function Vu(e,n,t){const r=Ct(),o=Fn(),i=In();return(3&i.type||t)&&AS(i,o,r,t,r[11],e,n,Cm(i,r,n)),Vu}function p2(e,n,t,r,o,i,a){let l=!0,u=null;if((3&r.type||a)&&(u??=Cm(r,n,i),AS(r,e,n,a,t,o,i,u)&&(l=!1)),l){const c=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let M=0;M<f.length;M+=2){const _=f[M],I=f[M+1];u??=Cm(r,n,i),gE(r,n,_,I,o,u)}if(c&&c.length)for(const M of c)u??=Cm(r,n,i),gE(r,n,M,o,o,u)}}function xn(e=1){return function DH(e){return(bn.lFrame.contextLView=function OI(e,n){for(;e>0;)n=n[14],e--;return n}(e,bn.lFrame.contextLView))[8]}(e)}function v2(e,n,t){HS(e,n,t)}function FE(e){const n=Ct(),t=Fn(),r=W1();d0(r+1);const o=xC(t,r);if(e.dirty&&function uH(e){return!(4&~e[2])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=zS(n,r);e.reset(i,Yx),e.notifyOnChanges()}return!0}return!1}function WE(){return function IC(e,n){return e[18].queries[n].queryList}(Ct(),W1())}function kE(e,n){return e<<17|n<<2}function fd(e){return e>>17&32767}function E2(e){return 2|e}function fh(e){return(131068&e)>>2}function y2(e,n){return-131069&e|n<<2}function D2(e){return 1|e}function zR(e,n,t,r){const o=e[t+1],i=null===n;let a=r?fd(o):fh(o),l=!1;for(;0!==a&&(!1===l||i);){const c=e[a+1];XX(e[a],n)&&(l=!0,e[a+1]=r?D2(c):E2(c)),a=r?fd(c):fh(c)}l&&(e[t+1]=r?E2(o):D2(o))}function XX(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&jg(e,n)>=0}function M2(e,n,t){return QR(e,n,t,!1),M2}function el(e,n){return QR(e,n,null,!0),el}function QR(e,n,t,r){const o=Ct(),i=Fn(),a=wl(2);i.firstUpdatePass&&function tw(e,n,t,r){const o=e.data;if(null===o[t+1]){const i=o[vi()],a=function ew(e,n){return n>=e.expandoStartIndex}(e,t);(function iw(e,n){return!!(e.flags&(n?8:16))})(i,r)&&null===n&&!a&&(n=!1),n=function sJ(e,n,t,r){const o=function F1(e){const n=bn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(t=Bm(t=b2(null,e,n,t,r),n.attrs,r),i=null);else{const a=n.directiveStylingLast;if(-1===a||e[a]!==o)if(t=b2(o,e,n,t,r),null===i){let u=function lJ(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==fh(r))return e[fd(r)]}(e,n,r);void 0!==u&&Array.isArray(u)&&(u=b2(null,e,n,u[1],r),u=Bm(u,n.attrs,r),function uJ(e,n,t,r){e[fd(t?n.classBindings:n.styleBindings)]=r}(e,n,r,u))}else i=function cJ(e,n,t){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Bm(r,e[i].hostAttrs,t);return Bm(r,n.attrs,t)}(e,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),t}(o,i,n,r),function YX(e,n,t,r,o,i){let a=i?n.classBindings:n.styleBindings,l=fd(a),u=fh(a);e[r]=t;let f,c=!1;if(Array.isArray(t)?(f=t[1],(null===f||jg(t,f)>0)&&(c=!0)):f=t,o)if(0!==u){const _=fd(e[l+1]);e[r+1]=kE(_,l),0!==_&&(e[_+1]=y2(e[_+1],r)),e[l+1]=function $X(e,n){return 131071&e|n<<17}(e[l+1],r)}else e[r+1]=kE(l,0),0!==l&&(e[l+1]=y2(e[l+1],r)),l=r;else e[r+1]=kE(u,0),0===l?l=r:e[u+1]=y2(e[u+1],r),u=r;c&&(e[r+1]=E2(e[r+1])),zR(e,f,r,!0),zR(e,f,r,!1),function ZX(e,n,t,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof n&&jg(i,n)>=0&&(t[r+1]=D2(t[r+1]))}(n,f,e,r,i),a=kE(l,u),i?n.classBindings=a:n.styleBindings=a}(o,i,n,t,a,r)}}(i,e,a,r),n!==xr&&no(o,a,n)&&function rw(e,n,t,r,o,i,a,l){if(!(3&n.type))return;const u=e.data,c=u[l+1],f=function GX(e){return!(1&~e)}(c)?ow(u,n,t,o,fh(c),a):void 0;HE(f)||(HE(i)||function zX(e){return!(2&~e)}(c)&&(i=ow(u,null,t,o,l,a)),function Pz(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:Bu.DashCase;null==o?e.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Bu.Important),e.setStyle(t,r,o,i))}}(r,a,Af(vi(),t),o,i))}(i,i.data[vi()],o,o[11],e,o[a+1]=function gJ(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=la(Nu(e)))),e}(n,t),r,a)}function b2(e,n,t,r,o){let i=null;const a=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<a&&(i=n[l],r=Bm(r,i.hostAttrs,o),i!==e);)l++;return null!==e&&(t.directiveStylingLast=l),r}function Bm(e,n,t){const r=t?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const a=n[i];"number"==typeof a?o=a:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),e0(e,a,!!t||n[++i]))}return void 0===e?null:e}function ow(e,n,t,r,o,i){const a=null===n;let l;for(;o>0;){const u=e[o],c=Array.isArray(u),f=c?u[1]:u,M=null===f;let _=t[o+1];_===xr&&(_=M?Gr:void 0);let I=M?v1(_,r):f===r?_:void 0;if(c&&!HE(I)&&(I=v1(u,r)),HE(I)&&(l=I,a))return l;const U=e[o+1];o=a?fd(U):fh(U)}if(null!==n){let u=i?n.residualClasses:n.residualStyles;null!=u&&(l=v1(u,r))}return l}function HE(e){return void 0!==e}function It(e,n=""){const t=Ct(),r=Fn(),o=e+27,i=r.firstCreatePass?ed(r,o,1,n,null):r.data[o],a=aw(r,t,i,n,e);t[o]=a,f0()&&Xb(r,t,a,i),Ll(i,!1)}let aw=(e,n,t,r,o)=>(kg(!0),function Fb(e,n){return e.createText(n)}(n[11],r));function uw(e,n,t,r,o,i=""){const l=function rd(e,n,t,r){const o=no(e,n,t);return no(e,n+1,r)||o}(e,function Rl(){return bn.lFrame.bindingIndex}(),t,o);return wl(2),l?n+Sn(t)+r+Sn(o)+i:xr}function Kl(e){return Na("",e),Kl}function Na(e,n,t){const r=Ct(),o=function lw(e,n,t,r=""){return no(e,da(),t)?n+Sn(t)+r:xr}(r,e,n,t);return o!==xr&&zl(r,vi(),o),Na}function C2(e,n,t,r,o){const i=Ct(),a=uw(i,e,n,t,r,o);return a!==xr&&zl(i,vi(),a),C2}function zl(e,n,t){const r=Af(n,e);!function h_(e,n,t){e.setValue(n,t)}(e[11],r,t)}function Qi(e,n,t){JI(n)&&(n=n());const r=Ct();return no(r,da(),n)&&(Fn(),Qb(ys(),r,e,n,r[11],t)),Qi}function Da(e,n){const t=JI(e);return t&&e.set(n),t}function qi(e,n){const t=Ct(),r=Fn(),o=In();return p2(r,t,t[11],o,e,n),qi}function T2(e){return no(Ct(),da(),e)?Sn(e):xr}function O2(e,n,t,r,o){if(e=Un(e),Array.isArray(e))for(let i=0;i<e.length;i++)O2(e[i],n,t,r,o);else{const i=Fn(),a=Ct(),l=In();let u=Pl(e)?e:Un(e.provide);const c=mI(e),f=1048575&l.providerIndexes,M=l.directiveStart,_=l.providerIndexes>>20;if(Pl(e)||!e.multi){const I=new Gg(c,o,At,null),U=I2(u,n,o?f:f+_,M);-1===U?(rb(M0(l,a),i,u),P2(i,e,n.length),n.push(u),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),t.push(I),a.push(I)):(t[U]=I,a[U]=I)}else{const I=I2(u,n,f+_,M),U=I2(u,n,f,f+_),Y=U>=0&&t[U];if(o&&!Y||!o&&!(I>=0&&t[I])){rb(M0(l,a),i,u);const J=function SJ(e,n,t,r,o){const a=new Gg(e,t,At,null);return a.multi=[],a.index=n,a.componentProviders=0,Ow(a,o,r&&!t),a}(o?_J:AJ,t.length,o,r,c);!o&&Y&&(t[U].providerFactory=J),P2(i,e,n.length,0),n.push(u),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),t.push(J),a.push(J)}else P2(i,e,I>-1?I:U,Ow(t[o?U:I],c,!o&&r));!o&&r&&Y&&t[U].componentProviders++}}}function P2(e,n,t,r){const o=Pl(n),i=function hI(e){return!!e.useClass}(n);if(o||i){const u=(i?Un(n.useClass):n).prototype.ngOnDestroy;if(u){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){const f=c.indexOf(t);-1===f?c.push(t,[r,u]):c[f+1].push(r,u)}else c.push(t,u)}}}function Ow(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function I2(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function AJ(e,n,t,r,o){return x2(this.multi,[])}function _J(e,n,t,r,o){const i=this.multi;let a;if(this.providerFactory){const l=this.providerFactory.componentProviders,u=Xg(r,r[1],this.providerFactory.index,o);a=u.slice(0,l),x2(i,a);for(let c=l;c<u.length;c++)a.push(u[c])}else a=[],x2(i,a);return a}function x2(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function lo(e,n=[]){return t=>{t.providersResolver=(r,o)=>function xJ(e,n,t){const r=Fn();if(r.firstCreatePass){const o=Ra(e);O2(t,r.data,r.blueprint,o,!0),O2(n,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,n)}}class PQ{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let IQ=(()=>{class e{compileModuleSync(t){return new QS(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Xs(Ys(t).declarations).reduce((a,l)=>{const u=yr(l);return u&&a.push(new mE(u)),a},[]);return new PQ(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AQ=(()=>{class e{zone=Dt(gr);changeDetectionScheduler=Dt(Gc);applicationRef=Dt(Vl);applicationErrorHandler=Dt(Ms);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function R2({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new gr({...w2(),scheduleInRootZone:t}),[{provide:gr,useFactory:e},{provide:Ou,multi:!0,useFactory:()=>{const r=Dt(AQ,{optional:!0});return()=>r.initialize()}},{provide:Ou,multi:!0,useFactory:()=>{const r=Dt(SQ);return()=>{r.initialize()}}},!0===n?{provide:qI,useValue:!0}:[],{provide:ex,useValue:t??pL},{provide:Ms,useFactory:()=>{const r=Dt(gr),o=Dt(pi);let i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Rf),i.handleError(a))})}}}]}function w2(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let SQ=(()=>{class e{subscription=new kt;initialized=!1;zone=Dt(gr);pendingTasks=Dt(_u);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gr.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),N2=(()=>{class e{applicationErrorHandler=Dt(Ms);appRef=Dt(Vl);taskService=Dt(_u);ngZone=Dt(gr);zonelessEnabled=Dt(QI);tracing=Dt(Im,{optional:!0});disableScheduling=Dt(qI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new kt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ME):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Dt(ex,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof UC||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;let r=!1;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?EL:vL;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ME+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,EL(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zu=new Ut("",{providedIn:"root",factory:()=>Dt(zu,{optional:!0,skipSelf:!0})||function LQ(){return typeof $localize<"u"&&$localize.locale||jE}()}),YE=Symbol("InputSignalNode#UNSET"),ej={...pt,transformFn:void 0,applyValueToInputSignal(e,n){Ye(e,n)}};function tj(e,n){const t=Object.create(ej);function r(){if(N(t),t.value===YE)throw new gt(-950,null);return t.value}return t.value=e,t.transformFn=n?.transform,r[P]=t,r}function nj(e,n){return tj(e,n)}new Ut("").__NG_ELEMENT_ID__=e=>{const n=In();if(null===n)throw new gt(204,!1);if(2&n.type)return n.value;if(8&e)return null;throw new gt(204,!1)};const VQ=(nj.required=function HQ(e){return tj(YE,e)},nj),ZE=new Ut(""),YQ=new Ut("");function km(e){return!e.moduleRef}let lj,ph=null;let Hm=(()=>class e{static __NG_ELEMENT_ID__=eq})();function eq(e){return function tq(e,n,t){if(Al(e)&&!t){const r=Zi(e.index,n);return new fm(r,r)}return 175&e.type?new fm(n[15],n):null}(In(),Ct(),!(16&~e))}class gj{constructor(){}supports(n){return fE(n)}create(n){return new rq(n)}}const nq=(e,n)=>n;class rq{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||nq}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const a=!r||t&&t.currentIndex<pj(r,o,i)?t:r,l=pj(a,o,i),u=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)o++;else{i||(i=[]);const c=l-o,f=u-o;if(c!=f){for(let _=0;_<c;_++){const I=_<i.length?i[_]:i[_]=0,U=I+_;f<=U&&U<c&&(i[_]=I+1)}i[a.previousIndex]=f-c}}l!==u&&n(a,l,u)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!fE(n))throw new gt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,a,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)i=n[l],a=this._trackByFn(l,i),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,i,a,l)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,a,l),r=!0),t=t._next}else o=0,function l$(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,l=>{a=this._trackByFn(o,l),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,l,a,o)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,a,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new oq(t,r),i,o),n}_verifyReinsertion(n,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const o=null===t?this._itHead:t._next;return n._next=o,n._prev=t,null===o?this._itTail=n:o._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new mj),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mj),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class oq{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}}class iq{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class mj{map=new Map;put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new iq,this.map.set(t,r)),r.add(n)}get(n,t){const o=this.map.get(n);return o?o.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pj(e,n,t){const r=e.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function Ej(){return new W2([new gj])}let W2=(()=>{class e{factories;static \u0275prov=Jt({token:e,providedIn:"root",factory:Ej});constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{const r=Dt(e,{optional:!0,skipSelf:!0});return e.create(t,r||Ej())}}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new gt(901,!1)}}return e})();function cq(e){const{rootComponent:n,appProviders:t,platformProviders:r,platformRef:o}=e;Tr(8);try{const i=o?.injector??function qQ(e=[]){if(ph)return ph;const n=function dj(e=[],n){return fa.create({name:n,providers:[{provide:C1,useValue:"platform"},{provide:ZE,useValue:new Set([()=>ph=null])},...e]})}(e);return ph=n,function RY(){!function Rt(e){mt=e}(()=>{throw new gt(600,"")})}(),function fj(e){const n=e.get(gA,null);ca(e,()=>{n?.forEach(t=>t())})}(n),n}(r),a=[R2({}),{provide:Gc,useExisting:N2},ZI,...t||[]];return function sj(e){const n=km(e)?e.r3Injector:e.moduleRef.injector,t=n.get(gr);return t.run(()=>{km(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=n.get(Ms);let o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),km(e)){const i=()=>n.destroy(),a=e.platformInjector.get(ZE);a.add(i),n.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{const i=()=>e.moduleRef.destroy(),a=e.platformInjector.get(ZE);a.add(i),e.moduleRef.onDestroy(()=>{IE(e.allPlatformModules,e.moduleRef),o.unsubscribe(),a.delete(i)})}return function XQ(e,n,t){try{const r=t();return _m(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}(r,t,()=>{const i=n.get(_u),a=i.add(),l=n.get(qL);return l.runInitializers(),l.donePromise.then(()=>{if(function eX(e){"string"==typeof e&&(OR=e.toLowerCase().replace(/_/g,"-"))}(n.get(zu,jE)||jE),!n.get(YQ,!0))return km(e)?n.get(Vl):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(km(e)){const f=n.get(Vl);return void 0!==e.rootComponent&&f.bootstrap(e.rootComponent),f}return lj?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(a)})})})}({r3Injector:new qS({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:n})}catch(i){return Promise.reject(i)}finally{Tr(9)}}function vh(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}const V2=new Ut("");let wj=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new gt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(gn(V2),gn(gr))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();class jj{_doc;constructor(n){this._doc=n}manager}const K2="ng-app-id";function Nj(e){for(const n of e)n.remove()}function Bj(e,n){const t=n.createElement("style");return t.textContent=e,t}function z2(e,n){const t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}let Uj=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,function Uq(e,n,t,r){const o=e.head?.querySelectorAll(`style[${K2}="${n}"],link[${K2}="${n}"]`);if(o)for(const i of o)i.removeAttribute(K2),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(const o of t)this.addUsage(o,this.inline,Bj);r?.forEach(o=>this.addUsage(o,this.external,z2))}removeStyles(t,r){for(const o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){const i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(t,this.doc)))})}removeUsage(t,r){const o=r.get(t);o&&(o.usage--,o.usage<=0&&(Nj(o.elements),r.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])Nj(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(t,Bj(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(t,z2(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(gn(ha),gn(em),gn(mA,8),gn(db))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();const $2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},G2=/%COMP%/g,Kq=new Ut("",{providedIn:"root",factory:()=>!0});function Wj(e,n){return n.map(t=>t.replace(G2,e))}let kj=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,a,l,u,c=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=c,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new Y2(t,a,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,r);return o instanceof Vj?o.applyToHost(t):o instanceof Z2&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const a=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,M=this.platformIsServer,_=this.tracingService;switch(r.encapsulation){case Fl.Emulated:i=new Vj(u,c,r,this.appId,f,a,l,M,_);break;case Fl.ShadowDom:return new Yq(u,c,t,r,a,l,this.nonce,M,_);default:i=new Z2(u,c,r,f,a,l,M,_)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(gn(wj),gn(Uj),gn(em),gn(Kq),gn(ha),gn(db),gn(gr),gn(mA),gn(Im,8))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();class Y2{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS($2[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Hj(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Hj(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new gt(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;const i=$2[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const o=$2[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(Bu.DashCase|Bu.Important)?n.style.setProperty(t,r,o&Bu.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Bu.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if("string"==typeof n&&!(n=Su().getGlobalEventTarget(this.doc,n)))throw new gt(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&t.preventDefault()}}}function Hj(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Yq extends Y2{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,a,l,u,c){super(n,i,a,u,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=o.styles;f=Wj(o.id,f);for(const _ of f){const I=document.createElement("style");l&&I.setAttribute("nonce",l),I.textContent=_,this.shadowRoot.appendChild(I)}const M=o.getExternalStyles?.();if(M)for(const _ of M){const I=z2(_,i);l&&I.setAttribute("nonce",l),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Z2 extends Y2{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,a,l,u,c){super(n,i,a,l,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let f=r.styles;this.styles=c?Wj(c,f):f,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===z0.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Vj extends Z2{contentAttr;hostAttr;constructor(n,t,r,o,i,a,l,u,c){const f=o+"-"+r.id;super(n,t,r,i,a,l,u,c,f),this.contentAttr=function zq(e){return"_ngcontent-%COMP%".replace(G2,e)}(f),this.hostAttr=function $q(e){return"_nghost-%COMP%".replace(G2,e)}(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class X2 extends SH{supportsDOMEvents=!0;static makeCurrent(){!function _H(e){nx??=e}(new X2)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function Zq(){return Km=Km||document.head.querySelector("base"),Km?Km.getAttribute("href"):null}();return null==t?null:function Xq(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Km=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return sx(document.cookie,n)}}let Km=null,Qq=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})(),qq=(()=>{class e extends jj{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(gn(ha))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();const Kj=["alt","control","meta","shift"],eee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tee={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let nee=(()=>{class e extends jj{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,o,i){const a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Su().onAndCancel(t,a.domEventName,l,i))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),Kj.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),a+=c+".")}),a+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(t,r){let o=eee[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Kj.forEach(a=>{a!==o&&(0,tee[a])(t)&&(i+=a+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(r){return new(r||e)(gn(ha))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();function zj(e){return{appProviders:[...uee,...e?.providers??[]],platformProviders:see}}const see=[{provide:db,useValue:"browser"},{provide:gA,useValue:function oee(){X2.makeCurrent()},multi:!0},{provide:ha,useFactory:function aee(){return function x7(e){cb=e}(document),document}}],uee=[{provide:C1,useValue:"root"},{provide:Rf,useFactory:function iee(){return new Rf}},{provide:V2,useClass:qq,multi:!0,deps:[ha]},{provide:V2,useClass:nee,multi:!0,deps:[ha]},kj,Uj,wj,{provide:gC,useExisting:kj},{provide:lx,useClass:Qq},[]];function Zr(e){return function hee(e){const n=b(null);try{return e()}finally{b(n)}}(e)}function Is(e,n){return function ue(e,n){const t=Object.create(ke);t.computation=e,void 0!==n&&(t.equal=n);const r=()=>{if(W(t),N(t),t.value===Se)throw t.error;return t.value};return r[P]=t,r}(e,n?.equal)}Error,Error;let _ee=(()=>{class e extends Yc{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$1(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){const a=this.prepareExternalUrl(o+Nl(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){const a=this.prepareExternalUrl(o+Nl(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(gn(z1),gn(ox,8))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();class pte{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hy=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,a)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new pte(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===i?void 0:i);else if(null!==i){const l=r.get(i);r.move(l,a),cN(l,o)}});for(let o=0,i=r.length;o<i;o++){const l=r.get(o).context;l.index=o,l.count=i,l.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{cN(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(At(Ts),At(kl),At(W2))};static \u0275dir=Cn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function cN(e,n){e.context.$implicit=n.item}let yh=(()=>{class e{_viewContainer;_context=new vte;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dN(t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dN(t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(At(Ts),At(kl))};static \u0275dir=Cn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class vte{$implicit=null;ngIf=null}function dN(e,n){if(e&&!e.createEmbeddedView)throw new gt(2020,!1)}class lT{_viewContainerRef;_templateRef;_created=!1;constructor(n,t){this._viewContainerRef=n,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let gy=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Cn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),fN=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new lT(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(At(Ts),At(kl),At(gy,9))};static \u0275dir=Cn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),hN=(()=>{class e{constructor(t,r,o){o._addDefault(new lT(t,r))}static \u0275fac=function(r){return new(r||e)(At(Ts),At(kl),At(gy,9))};static \u0275dir=Cn({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),Gl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=id({type:e});static \u0275inj=Tu({})}return e})();function $u(e){return this instanceof $u?(this.v=e,this):new $u(e)}function yN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function gT(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(a){return new Promise(function(l,u){!function o(i,a,l,u){Promise.resolve(u).then(function(c){i({value:c,done:l})},a)}(l,u,(a=e[i](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const DN=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function MN(e){return it(e?.then)}function bN(e){return it(e[i1])}function CN(e){return Symbol.asyncIterator&&it(e?.[Symbol.asyncIterator])}function TN(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ON=function hne(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function PN(e){return it(e?.[ON])}function IN(e){return function EN(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(e,n||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function a(I){return function(U){return Promise.resolve(U).then(I,M)}}),o[Symbol.asyncIterator]=function(){return this},o;function l(I,U){r[I]&&(o[I]=function(k){return new Promise(function(Y,J){i.push([I,k,Y,J])>1||u(I,k)})},U&&(o[I]=U(o[I])))}function u(I,U){try{!function c(I){I.value instanceof $u?Promise.resolve(I.value.v).then(f,M):_(i[0][2],I)}(r[I](U))}catch(k){_(i[0][3],k)}}function f(I){u("next",I)}function M(I){u("throw",I)}function _(I,U){I(U),i.shift(),i.length&&u(i[0][0],i[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:o}=yield $u(t.read());if(o)return yield $u(void 0);yield yield $u(r)}}finally{t.releaseLock()}})}function xN(e){return it(e?.getReader)}function tl(e){if(e instanceof mo)return e;if(null!=e){if(bN(e))return function gne(e){return new mo(n=>{const t=e[i1]();if(it(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(DN(e))return function mne(e){return new mo(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(MN(e))return function pne(e){return new mo(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,_n)})}(e);if(CN(e))return AN(e);if(PN(e))return function vne(e){return new mo(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(xN(e))return function Ene(e){return AN(IN(e))}(e)}throw TN(e)}function AN(e){return new mo(n=>{(function yne(e,n){var t,r,o,i;return function pN(e,n,t,r){return new(t||(t=Promise))(function(i,a){function l(f){try{c(r.next(f))}catch(M){a(M)}}function u(f){try{c(r.throw(f))}catch(M){a(M)}}function c(f){f.done?i(f.value):function o(i){return i instanceof t?i:new t(function(a){a(i)})}(f.value).then(l,u)}c((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yN(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Yl(e,n,t,r=0,o=!1){const i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function _N(e,n=0){return Ei((t,r)=>{t.subscribe(Xo(r,o=>Yl(r,e,()=>r.next(o),n),()=>Yl(r,e,()=>r.complete(),n),o=>Yl(r,e,()=>r.error(o),n)))})}function SN(e,n=0){return Ei((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function LN(e,n){if(!e)throw new Error("Iterable cannot be null");return new mo(t=>{Yl(t,n,()=>{const r=e[Symbol.asyncIterator]();Yl(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function di(e,n){return n?function One(e,n){if(null!=e){if(bN(e))return function Dne(e,n){return tl(e).pipe(SN(n),_N(n))}(e,n);if(DN(e))return function bne(e,n){return new mo(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(MN(e))return function Mne(e,n){return tl(e).pipe(SN(n),_N(n))}(e,n);if(CN(e))return LN(e,n);if(PN(e))return function Cne(e,n){return new mo(t=>{let r;return Yl(t,n,()=>{r=e[ON](),Yl(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){return void t.error(a)}i?t.complete():t.next(o)},0,!0)}),()=>it(r?.return)&&r.return()})}(e,n);if(xN(e))return function Tne(e,n){return LN(IN(e),n)}(e,n)}throw TN(e)}(e,n):tl(e)}function pT(e){return e[e.length-1]}function RN(e){return it(pT(e))?e.pop():void 0}function my(e){return function Pne(e){return e&&it(e.schedule)}(pT(e))?e.pop():void 0}function En(...e){return di(e,my(e))}const{isArray:Ine}=Array,{getPrototypeOf:xne,prototype:Ane,keys:_ne}=Object;function wN(e){if(1===e.length){const n=e[0];if(Ine(n))return{args:n,keys:null};if(function Sne(e){return e&&"object"==typeof e&&xne(e)===Ane}(n)){const t=_ne(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:Lne}=Array;function jN(e){return dr(n=>function Rne(e,n){return Lne(n)?e(...n):e(n)}(e,n))}function NN(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function vT(...e){const n=my(e),t=RN(e),{args:r,keys:o}=wN(e);if(0===r.length)return di([],n);const i=new mo(function wne(e,n,t=Nc){return r=>{BN(n,()=>{const{length:o}=e,i=new Array(o);let a=o,l=o;for(let u=0;u<o;u++)BN(n,()=>{const c=di(e[u],n);let f=!1;c.subscribe(Xo(r,M=>{i[u]=M,f||(f=!0,l--),l||r.next(t(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,n,o?a=>NN(o,a):Nc));return t?i.pipe(jN(t)):i}function BN(e,n,t){e?Yl(t,e,n):n()}const py=jt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ri(e,n,t=1/0){return it(n)?Ri((r,o)=>dr((i,a)=>n(r,i,o,a))(tl(e(r,o))),t):("number"==typeof n&&(t=n),Ei((r,o)=>function jne(e,n,t,r,o,i,a,l){const u=[];let c=0,f=0,M=!1;const _=()=>{M&&!u.length&&!c&&n.complete()},I=k=>c<r?U(k):u.push(k),U=k=>{i&&n.next(k),c++;let Y=!1;tl(t(k,f++)).subscribe(Xo(n,J=>{o?.(J),i?I(J):n.next(J)},()=>{Y=!0},void 0,()=>{if(Y)try{for(c--;u.length&&c<r;){const J=u.shift();a?Yl(n,a,()=>U(J)):U(J)}_()}catch(J){n.error(J)}}))};return e.subscribe(Xo(n,I,()=>{M=!0,_()})),()=>{l?.()}}(r,o,e,t)))}function $m(e=1/0){return Ri(Nc,e)}function ET(...e){return function Nne(){return $m(1)}()(di(e,my(e)))}function yT(e){return new mo(n=>{tl(e()).subscribe(n)})}function vy(e,n){const t=it(e)?e:()=>e,r=o=>o.error(t());return new mo(n?o=>n.schedule(r,0,o):r)}const _s=new mo(e=>e.complete());function DT(){return Ei((e,n)=>{let t=null;e._refCount++;const r=Xo(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class UN extends mo{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Dx(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new kt;const t=this.getSubject();n.add(this.source.subscribe(Xo(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=kt.EMPTY)}return n}refCount(){return DT()(this)}}function Ma(e,n){return Ei((t,r)=>{let o=null,i=0,a=!1;const l=()=>a&&!o&&r.complete();t.subscribe(Xo(r,u=>{o?.unsubscribe();let c=0;const f=i++;tl(e(u,f)).subscribe(o=Xo(r,M=>r.next(n?n(u,M,f,c++):M),()=>{o=null,l()}))},()=>{a=!0,l()}))})}function Dh(e){return e<=0?()=>_s:Ei((n,t)=>{let r=0;n.subscribe(Xo(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function nl(e,n){return Ei((t,r)=>{let o=0;t.subscribe(Xo(r,i=>e.call(n,i,o++)&&r.next(i)))})}function Ey(e){return Ei((n,t)=>{let r=!1;n.subscribe(Xo(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function FN(e=Fne){return Ei((n,t)=>{let r=!1;n.subscribe(Xo(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function Fne(){return new py}function gd(e,n){const t=arguments.length>=2;return r=>r.pipe(e?nl((o,i)=>e(o,i,r)):Nc,Dh(1),t?Ey(n):FN(()=>new py))}function Mh(e,n){return it(n)?Ri(e,n,1):Ri(e,1)}function wi(e,n,t){const r=it(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ei((o,i)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;o.subscribe(Xo(i,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),i.next(u)},()=>{var u;l=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var c;l=!1,null===(c=r.error)||void 0===c||c.call(r,u),i.error(u)},()=>{var u,c;l&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Nc}function bh(e){return Ei((n,t)=>{let i,r=null,o=!1;r=n.subscribe(Xo(t,void 0,void 0,a=>{i=tl(e(a,bh(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function MT(e){return e<=0?()=>_s:Ei((n,t)=>{let r=[];n.subscribe(Xo(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Gm(e){return Ei((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function WN(e){return Ei((n,t)=>{tl(e).subscribe(Xo(t,()=>t.complete(),er)),!t.closed&&n.subscribe(t)})}let Vne=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(gn(ha))};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jn="primary",Zm=Symbol("RouteTitle");class Gne{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ch(e){return new Gne(e)}function Yne(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=e[i];if(":"===a[0])o[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function rl(e,n){const t=e?bT(e):void 0,r=n?bT(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!VN(e[o],n[o]))return!1;return!0}function bT(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function VN(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}return e===n}function KN(e){return e.length>0?e[e.length-1]:null}function Zl(e){return function Wte(e){return!!e&&(e instanceof mo||it(e.lift)&&it(e.subscribe))}(e)?e:_m(e)?di(Promise.resolve(e)):En(e)}const Xne={exact:function GN(e,n,t){if(!pd(e.segments,n.segments)||!yy(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!GN(e.children[r],n.children[r],t))return!1;return!0},subset:YN},zN={exact:function Jne(e,n){return rl(e,n)},subset:function Qne(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>VN(e[t],n[t]))},ignored:()=>!0};function $N(e,n,t){return Xne[t.paths](e.root,n.root,t.matrixParams)&&zN[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function YN(e,n,t){return ZN(e,n,n.segments,t)}function ZN(e,n,t,r){if(e.segments.length>t.length){const o=e.segments.slice(0,t.length);return!(!pd(o,t)||n.hasChildren()||!yy(o,t,r))}if(e.segments.length===t.length){if(!pd(e.segments,t)||!yy(e.segments,t,r))return!1;for(const o in n.children)if(!e.children[o]||!YN(e.children[o],n.children[o],r))return!1;return!0}{const o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!!(pd(e.segments,o)&&yy(e.segments,o,r)&&e.children[Jn])&&ZN(e.children[Jn],n,i,r)}}function yy(e,n,t){return n.every((r,o)=>zN[t](e[o].parameters,r.parameters))}class md{root;queryParams;fragment;_queryParamMap;constructor(n=new Br([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ch(this.queryParams),this._queryParamMap}toString(){return tre.serialize(this)}}class Br{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return My(this)}}class Xm{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ch(this.parameters),this._parameterMap}toString(){return QN(this)}}function pd(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Jm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>new Dy,providedIn:"root"})}return e})();class Dy{parse(n){const t=new fre(n);return new md(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Qm(n.root,!0)}`,r=function ore(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${by(t)}=${by(o)}`).join("&"):`${by(t)}=${by(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function nre(e){return encodeURI(e)}(n.fragment)}`:""}`}}const tre=new Dy;function My(e){return e.segments.map(n=>QN(n)).join("/")}function Qm(e,n){if(!e.hasChildren())return My(e);if(n){const t=e.children[Jn]?Qm(e.children[Jn],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Jn&&r.push(`${o}:${Qm(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ere(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===Jn&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Jn&&(t=t.concat(n(o,r)))}),t}(e,(r,o)=>o===Jn?[Qm(e.children[Jn],!1)]:[`${o}:${Qm(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Jn]?`${My(e)}/${t[0]}`:`${My(e)}/(${t.join("//")})`}}function XN(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function by(e){return XN(e).replace(/%3B/gi,";")}function CT(e){return XN(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cy(e){return decodeURIComponent(e)}function JN(e){return Cy(e.replace(/\+/g,"%20"))}function QN(e){return`${CT(e.path)}${function rre(e){return Object.entries(e).map(([n,t])=>`;${CT(n)}=${CT(t)}`).join("")}(e.parameters)}`}const ire=/^[^\/()?;#]+/;function TT(e){const n=e.match(ire);return n?n[0]:""}const are=/^[^\/()?;=#]+/,lre=/^[^=?&#]+/,cre=/^[^&#]+/;class fre{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Br([],{}):new Br([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Jn]=new Br(n,t)),r}parseSegment(){const n=TT(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new gt(4009,!1);return this.capture(n),new Xm(Cy(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function sre(e){const n=e.match(are);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=TT(this.remaining);o&&(r=o,this.capture(r))}n[Cy(t)]=Cy(r)}parseQueryParam(n){const t=function ure(e){const n=e.match(lre);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function dre(e){const n=e.match(cre);return n?n[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const o=JN(t),i=JN(r);if(n.hasOwnProperty(o)){let a=n[o];Array.isArray(a)||(a=[a],n[o]=a),a.push(i)}else n[o]=i}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=TT(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new gt(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Jn);const a=this.parseChildren();t[i]=1===Object.keys(a).length?a[Jn]:new Br([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new gt(4011,!1)}}function qN(e){return e.segments.length>0?new Br([],{[Jn]:e}):e}function eB(e){const n={};for(const[r,o]of Object.entries(e.children)){const i=eB(o);if(r===Jn&&0===i.segments.length&&i.hasChildren())for(const[a,l]of Object.entries(i.children))n[a]=l;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function hre(e){if(1===e.numberOfChildren&&e.children[Jn]){const n=e.children[Jn];return new Br(e.segments.concat(n.segments),n.children)}return e}(new Br(e.segments,n))}function vd(e){return e instanceof md}function tB(e){let n;const o=qN(function t(i){const a={};for(const u of i.children){const c=t(u);a[u.outlet]=c}const l=new Br(i.url,a);return i===e&&(n=l),l}(e.root));return n??o}function nB(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(0===n.length)return OT(o,o,o,t,r);const i=function mre(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new oB(!0,0,e);let n=0,t=!1;const r=e.reduce((o,i,a)=>{if("object"==typeof i&&null!=i){if(i.outlets){const l={};return Object.entries(i.outlets).forEach(([u,c])=>{l[u]="string"==typeof c?c.split("/"):c}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===a?(i.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?t=!0:".."===l?n++:""!=l&&o.push(l))}),o):[...o,i]},[]);return new oB(t,n,r)}(n);if(i.toRoot())return OT(o,o,new Br([],{}),t,r);const a=function pre(e,n,t){if(e.isAbsolute)return new Oy(n,!0,0);if(!t)return new Oy(n,!1,NaN);if(null===t.parent)return new Oy(t,!0,0);const r=Ty(e.commands[0])?0:1;return function vre(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new gt(4005,!1);o=r.segments.length}return new Oy(r,!1,o-i)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),l=a.processChildren?ep(a.segmentGroup,a.index,i.commands):iB(a.segmentGroup,a.index,i.commands);return OT(o,a.segmentGroup,l,t,r)}function Ty(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function qm(e){return"object"==typeof e&&null!=e&&e.outlets}function OT(e,n,t,r,o){let a,i={};r&&Object.entries(r).forEach(([u,c])=>{i[u]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),a=e===n?t:rB(e,n,t);const l=qN(eB(a));return new md(l,i,o)}function rB(e,n,t){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===n?t:rB(i,n,t)}),new Br(e.segments,r)}class oB{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ty(r[0]))throw new gt(4003,!1);const o=r.find(qm);if(o&&o!==KN(r))throw new gt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oy{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function iB(e,n,t){if(e??=new Br([],{}),0===e.segments.length&&e.hasChildren())return ep(e,n,t);const r=function yre(e,n,t){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;const a=e.segments[o],l=t[r];if(qm(l))break;const u=`${l}`,c=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!sB(u,c,a))return i;r+=2}else{if(!sB(u,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Br(e.segments.slice(0,r.pathIndex),{});return i.children[Jn]=new Br(e.segments.slice(r.pathIndex),e.children),ep(i,0,o)}return r.match&&0===o.length?new Br(e.segments,{}):r.match&&!e.hasChildren()?PT(e,n,t):r.match?ep(e,0,o):PT(e,n,t)}function ep(e,n,t){if(0===t.length)return new Br(e.segments,{});{const r=function Ere(e){return qm(e[0])?e[0].outlets:{[Jn]:e}}(t),o={};if(Object.keys(r).some(i=>i!==Jn)&&e.children[Jn]&&1===e.numberOfChildren&&0===e.children[Jn].segments.length){const i=ep(e.children[Jn],n,t);return new Br(e.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(o[i]=iB(e.children[i],n,a))}),Object.entries(e.children).forEach(([i,a])=>{void 0===r[i]&&(o[i]=a)}),new Br(e.segments,o)}}function PT(e,n,t){const r=e.segments.slice(0,n);let o=0;for(;o<t.length;){const i=t[o];if(qm(i)){const u=Dre(i.outlets);return new Br(r,u)}if(0===o&&Ty(t[0])){r.push(new Xm(e.segments[n].path,aB(t[0]))),o++;continue}const a=qm(i)?i.outlets[Jn]:`${i}`,l=o<t.length-1?t[o+1]:null;a&&l&&Ty(l)?(r.push(new Xm(a,aB(l))),o+=2):(r.push(new Xm(a,{})),o++)}return new Br(r,{})}function Dre(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=PT(new Br([],{}),0,r))}),n}function aB(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function sB(e,n,t){return e==t.path&&rl(n,t.parameters)}const tp="imperative";var sr=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(sr||{});class ol{id;url;constructor(n,t){this.id=n,this.url=t}}class Py extends ol{type=sr.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xl extends ol{urlAfterRedirects;type=sr.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ba=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(ba||{}),Iy=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Iy||{});class Ed extends ol{reason;code;type=sr.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Th extends ol{reason;code;type=sr.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}}class IT extends ol{error;target;type=sr.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lB extends ol{urlAfterRedirects;state;type=sr.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mre extends ol{urlAfterRedirects;state;type=sr.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bre extends ol{urlAfterRedirects;state;shouldActivate;type=sr.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cre extends ol{urlAfterRedirects;state;type=sr.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tre extends ol{urlAfterRedirects;state;type=sr.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ore{route;type=sr.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pre{route;type=sr.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ire{snapshot;type=sr.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xre{snapshot;type=sr.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Are{snapshot;type=sr.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _re{snapshot;type=sr.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uB{routerEvent;position;anchor;type=sr.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xT{}class xy{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}}function Ss(e){return e.outlet||Jn}function Oh(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Bre{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Oh(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new np(this.rootInjector)}}let np=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bre(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(gn(pi))};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class cB{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=AT(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=AT(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=_T(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return _T(n,this._root).map(t=>t.value)}}function AT(e,n){if(e===n.value)return n;for(const t of n.children){const r=AT(e,t);if(r)return r}return null}function _T(e,n){if(e===n.value)return[n];for(const t of n.children){const r=_T(e,t);if(r.length)return r.unshift(n),r}return[]}class Ls{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ph(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class dB extends cB{snapshot;constructor(n,t){super(n),this.snapshot=t,ST(this,n)}toString(){return this.snapshot.toString()}}function fB(e){const n=function Ure(e){const i=new _y([],{},{},"",{},Jn,e,null,{});return new hB("",new Ls(i,[]))}(e),t=new Za([new Xm("",{})]),r=new Za({}),o=new Za({}),i=new Za({}),a=new Za(""),l=new Ih(t,r,i,a,o,Jn,e,n.root);return l.snapshot=n.root,new dB(new Ls(l,[]),n)}class Ih{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,a,l,u){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(dr(c=>c[Zm]))??En(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(dr(n=>Ch(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(dr(n=>Ch(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ay(e,n,t="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===n||"always"!==t&&""!==o?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...o?.data,...e._resolvedData}},o&&mB(o)&&(r.resolve[Zm]=o.title),r}class _y{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Zm]}constructor(n,t,r,o,i,a,l,u,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=l,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ch(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ch(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hB extends cB{url;constructor(n,t){super(t),this.url=n,ST(this,t)}toString(){return gB(this._root)}}function ST(e,n){n.value._routerState=e,n.children.forEach(t=>ST(e,t))}function gB(e){const n=e.children.length>0?` { ${e.children.map(gB).join(", ")} } `:"";return`${e.value}${n}`}function LT(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,rl(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),rl(n.params,t.params)||e.paramsSubject.next(t.params),function Zne(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!rl(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),rl(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function RT(e,n){const t=rl(e.params,n.params)&&function qne(e,n){return pd(e,n)&&e.every((t,r)=>rl(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||RT(e.parent,n.parent))}function mB(e){return"string"==typeof e.title||null===e.title}const Fre=new Ut("");let wT=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Jn;activateEvents=new yo;deactivateEvents=new yo;attachEvents=new yo;detachEvents=new yo;routerOutletData=VQ(void 0);parentContexts=Dt(np);location=Dt(Ts);changeDetector=Dt(Hm);inputBinder=Dt(Sy,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new gt(4013,!1);this._activatedRoute=t;const o=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new Wre(t,l,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Cn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[bs]})}return e})();class Wre{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===Ih?this.route:n===np?this.childContexts:n===Fre?this.outletData:this.parent.get(n,t)}}const Sy=new Ut("");let pB=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=vT([r.queryParams,r.params,r.data]).pipe(Ma(([i,a,l],u)=>(l={...i,...a,...l},0===u?En(l):Promise.resolve(l)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const a=function Bq(e){const n=yr(e);if(!n)return null;const t=new mE(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(a)for(const{templateName:l}of a.inputs)t.activatedComponentRef.setInput(l,i[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})(),vB=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ja({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&ci(0,"router-outlet")},dependencies:[wT],encapsulation:2})}return e})();function jT(e){const n=e.children&&e.children.map(jT),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Jn&&(t.component=vB),t}function rp(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const o=function Hre(e,n,t){return n.children.map(r=>{for(const o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return rp(e,r,o);return rp(e,r)})}(e,n,t);return new Ls(r,o)}{if(e.shouldAttach(n.value)){const i=e.retrieve(n.value);if(null!==i){const a=i.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(l=>rp(e,l)),a}}const r=function Vre(e){return new Ih(new Za(e.url),new Za(e.params),new Za(e.queryParams),new Za(e.fragment),new Za(e.data),e.outlet,e.component,e)}(n.value),o=n.children.map(i=>rp(e,i));return new Ls(r,o)}}class NT{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}}const EB="ngNavigationCancelingError";function Ly(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=vd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=yB(!1,ba.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function yB(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[EB]=!0,t.cancellationCode=n,t}function DB(e){return!!e&&e[EB]}class $re{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),LT(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const o=Ph(t);n.children.forEach(i=>{const a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){const o=n.value,i=t?t.value:null;if(o===i)if(o.component){const a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Ph(n);for(const a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:l})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Ph(n);for(const a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const o=Ph(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new _re(i.value.snapshot))}),n.children.length&&this.forwardEvent(new xre(n.value.snapshot))}activateRoutes(n,t,r){const o=n.value,i=t?t.value:null;if(LT(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),LT(l.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,r)}}class MB{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Ry{component;route;constructor(n,t){this.component=n,this.route=t}}function Gre(e,n,t){const r=e._root;return op(r,n?n._root:null,t,[r.value])}function xh(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Sk(e){return null!==Yv(e)}(e)?n.get(e):e:r}function op(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ph(n);return e.children.forEach(a=>{(function Zre(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,a=n?n.value:null,l=t?t.getContext(e.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){const u=function Xre(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!pd(e.url,n.url);case"pathParamsOrQueryParamsChange":return!pd(e.url,n.url)||!rl(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RT(e,n)||!rl(e.queryParams,n.queryParams);default:return!RT(e,n)}}(a,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new MB(r)):(i.data=a.data,i._resolvedData=a._resolvedData),op(e,n,i.component?l?l.children:null:t,r,o),u&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Ry(l.outlet.component,a))}else a&&ip(n,l,o),o.canActivateChecks.push(new MB(r)),op(e,null,i.component?l?l.children:null:t,r,o)})(a,i[a.value.outlet],t,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,l])=>ip(l,t.getContext(a),o)),o}function ip(e,n,t){const r=Ph(e),o=e.value;Object.entries(r).forEach(([i,a])=>{ip(a,o.component?n?n.children.getContext(i):null:n,t)}),t.canDeactivateChecks.push(new Ry(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function ap(e){return"function"==typeof e}function bB(e){return e instanceof py||"EmptyError"===e?.name}const wy=Symbol("INITIAL_VALUE");function Ah(){return Ma(e=>vT(e.map(n=>n.pipe(Dh(1),function Une(...e){const n=my(e);return Ei((t,r)=>{(n?ET(e,t,n):ET(e,t)).subscribe(r)})}(wy)))).pipe(dr(n=>{for(const t of n)if(!0!==t){if(t===wy)return wy;if(!1===t||roe(t))return t}return!0}),nl(n=>n!==wy),Dh(1)))}function roe(e){return vd(e)||e instanceof NT}function CB(e){return function yk(...e){return Y5(e)}(wi(n=>{if("boolean"!=typeof n)throw Ly(0,n)}),dr(n=>!0===n))}class BT{segmentGroup;constructor(n){this.segmentGroup=n||null}}class UT extends Error{urlTree;constructor(n){super(),this.urlTree=n}}function _h(e){return vy(new BT(e))}function goe(e){return vy(new gt(4e3,!1))}class poe{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return En(r);if(o.numberOfChildren>1||!o.children[Jn])return goe();o=o.children[Jn]}}applyRedirectCommands(n,t,r,o,i){return function voe(e,n,t){if("string"==typeof e)return En(e);const r=e,{queryParams:o,fragment:i,routeConfig:a,url:l,outlet:u,params:c,data:f,title:M}=n;return Zl(ca(t,()=>r({params:c,data:f,queryParams:o,fragment:i,routeConfig:a,url:l,outlet:u,title:M})))}(t,o,i).pipe(dr(a=>{if(a instanceof md)throw new UT(a);const l=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,r);if("/"===a[0])throw new UT(l);return l}))}applyRedirectCreateUrlTree(n,t,r,o){const i=this.createSegmentGroup(n,t.root,r,o);return new md(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const l=i.substring(1);r[o]=t[l]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){const i=this.createSegments(n,t.segments,r,o);let a={};return Object.entries(t.children).forEach(([l,u])=>{a[l]=this.createSegmentGroup(n,u,r,o)}),new Br(i,a)}createSegments(n,t,r,o){return t.map(i=>":"===i.path[0]?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){const o=r[t.path.substring(1)];if(!o)throw new gt(4001,!1);return o}findOrReturn(n,t){let r=0;for(const o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}}const FT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eoe(e,n,t,r,o){const i=TB(e,n,t);return i.matched?(r=function Lre(e,n){return e.providers&&!e._injector&&(e._injector=pE(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function hoe(e,n,t,r){const o=n.canMatch;return o&&0!==o.length?En(o.map(a=>{const l=xh(a,e);return Zl(function noe(e){return e&&ap(e.canMatch)}(l)?l.canMatch(n,t):ca(e,()=>l(n,t)))})).pipe(Ah(),CB()):En(!0)}(r,n,t).pipe(dr(a=>!0===a?i:{...FT}))):En(i)}function TB(e,n,t){if("**"===n.path)return function yoe(e){return{matched:!0,parameters:e.length>0?KN(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...FT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(n.matcher||Yne)(t,e,n);if(!o)return{...FT};const i={};Object.entries(o.posParams??{}).forEach(([l,u])=>{i[l]=u.path});const a=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function OB(e,n,t,r){return t.length>0&&function boe(e,n,t){return t.some(r=>jy(e,n,r)&&Ss(r)!==Jn)}(e,t,r)?{segmentGroup:new Br(n,Moe(r,new Br(t,e.children))),slicedSegments:[]}:0===t.length&&function Coe(e,n,t){return t.some(r=>jy(e,n,r))}(e,t,r)?{segmentGroup:new Br(e.segments,Doe(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Br(e.segments,e.children),slicedSegments:t}}function Doe(e,n,t,r){const o={};for(const i of t)if(jy(e,n,i)&&!r[Ss(i)]){const a=new Br([],{});o[Ss(i)]=a}return{...r,...o}}function Moe(e,n){const t={};t[Jn]=n;for(const r of e)if(""===r.path&&Ss(r)!==Jn){const o=new Br([],{});t[Ss(r)]=o}return t}function jy(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class Ooe{}class xoe{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,a,l){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new poe(this.urlSerializer,this.urlTree)}noMatchError(n){return new gt(4002,`'${n.segmentGroup}'`)}recognize(){const n=OB(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(dr(({children:t,rootSnapshot:r})=>{const o=new Ls(r,t),i=new hB("",o),a=function gre(e,n,t=null,r=null){return nB(tB(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(n){const t=new _y([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Jn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Jn,t).pipe(dr(r=>({children:r,rootSnapshot:t})),bh(r=>{if(r instanceof UT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof BT?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(dr(a=>a instanceof Ls?[a]:[]))}processChildren(n,t,r,o){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return di(i).pipe(Mh(a=>{const l=r.children[a],u=function Nre(e,n){const t=e.filter(r=>Ss(r)===n);return t.push(...e.filter(r=>Ss(r)!==n)),t}(t,a);return this.processSegmentGroup(n,u,l,a,o)}),function kne(e,n){return Ei(function Wne(e,n,t,r,o){return(i,a)=>{let l=t,u=n,c=0;i.subscribe(Xo(a,f=>{const M=c++;u=l?e(u,f,M):(l=!0,f),r&&a.next(u)},o&&(()=>{l&&a.next(u),a.complete()})))}}(e,n,arguments.length>=2,!0))}((a,l)=>(a.push(...l),a)),Ey(null),function Hne(e,n){const t=arguments.length>=2;return r=>r.pipe(e?nl((o,i)=>e(o,i,r)):Nc,MT(1),t?Ey(n):FN(()=>new py))}(),Ri(a=>{if(null===a)return _h(r);const l=PB(a);return function Aoe(e){e.sort((n,t)=>n.value.outlet===Jn?-1:t.value.outlet===Jn?1:n.value.outlet.localeCompare(t.value.outlet))}(l),En(l)}))}processSegment(n,t,r,o,i,a,l){return di(t).pipe(Mh(u=>this.processSegmentAgainstRoute(u._injector??n,t,u,r,o,i,a,l).pipe(bh(c=>{if(c instanceof BT)return En(null);throw c}))),gd(u=>!!u),bh(u=>{if(bB(u))return function Toe(e,n,t){return 0===n.length&&!e.children[t]}(r,o,i)?En(new Ooe):_h(r);throw u}))}processSegmentAgainstRoute(n,t,r,o,i,a,l,u){return Ss(r)===a||a!==Jn&&jy(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,i,a,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,a,u):_h(o):_h(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,a,l){const{matched:u,parameters:c,consumedSegments:f,positionalParamSegments:M,remainingSegments:_}=TB(t,o,i);if(!u)return _h(t);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const I=new _y(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IB(o),Ss(o),o.component??o._loadedComponent??null,o,xB(o)),U=Ay(I,l,this.paramsInheritanceStrategy);return I.params=Object.freeze(U.params),I.data=Object.freeze(U.data),this.applyRedirects.applyRedirectCommands(f,o.redirectTo,M,I,n).pipe(Ma(Y=>this.applyRedirects.lineralizeSegments(o,Y)),Ri(Y=>this.processSegment(n,r,t,Y.concat(_),a,!1,l)))}matchSegmentAgainstRoute(n,t,r,o,i,a){const l=Eoe(t,r,o,n);return"**"===r.path&&(t.children={}),l.pipe(Ma(u=>u.matched?this.getChildConfig(n=r._injector??n,r,o).pipe(Ma(({routes:c})=>{const f=r._loadedInjector??n,{parameters:M,consumedSegments:_,remainingSegments:I}=u,U=new _y(_,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IB(r),Ss(r),r.component??r._loadedComponent??null,r,xB(r)),k=Ay(U,a,this.paramsInheritanceStrategy);U.params=Object.freeze(k.params),U.data=Object.freeze(k.data);const{segmentGroup:Y,slicedSegments:J}=OB(t,_,I,c);if(0===J.length&&Y.hasChildren())return this.processChildren(f,c,Y,U).pipe(dr(he=>new Ls(U,he)));if(0===c.length&&0===J.length)return En(new Ls(U,[]));const se=Ss(r)===i;return this.processSegment(f,c,Y,J,se?Jn:i,!0,U).pipe(dr(he=>new Ls(U,he instanceof Ls?[he]:[])))})):_h(t)))}getChildConfig(n,t,r){return t.children?En({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?En({routes:t._loadedRoutes,injector:t._loadedInjector}):function foe(e,n,t,r){const o=n.canLoad;return void 0===o||0===o.length?En(!0):En(o.map(a=>{const l=xh(a,e);return Zl(function Qre(e){return e&&ap(e.canLoad)}(l)?l.canLoad(n,t):ca(e,()=>l(n,t)))})).pipe(Ah(),CB())}(n,t,r).pipe(Ri(o=>o?this.configLoader.loadChildren(n,t).pipe(wi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function moe(){return vy(yB(!1,ba.GuardRejected))}())):En({routes:[],injector:n})}}function _oe(e){const n=e.value.routeConfig;return n&&""===n.path}function PB(e){const n=[],t=new Set;for(const r of e){if(!_oe(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):n.push(r)}for(const r of t){const o=PB(r.children);n.push(new Ls(r.value,o))}return n.filter(r=>!t.has(r))}function IB(e){return e.data||{}}function xB(e){return e.resolve||{}}function AB(e){const n=e.children.map(t=>AB(t)).flat();return[e,...n]}function WT(e){return Ma(n=>{const t=e(n);return t?di(t).pipe(dr(()=>n)):En(n)})}let _B=(()=>{class e{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Jn);return r}getResolvedTitleForRoute(t){return t.data[Zm]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>Dt(Noe),providedIn:"root"})}return e})(),Noe=(()=>{class e extends _B{title;constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(gn(Vne))};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sh=new Ut("",{providedIn:"root",factory:()=>({})}),sp=new Ut("");let kT=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Dt(IQ);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return En(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=Zl(ca(t,()=>r.loadComponent())).pipe(dr(SB),Ma(LB),wi(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Gm(()=>{this.componentLoaders.delete(r)})),i=new UN(o,()=>new sa).pipe(DT());return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return En({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function Boe(e,n,t,r){return Zl(ca(t,()=>e.loadChildren())).pipe(dr(SB),Ma(LB),Ri(o=>o instanceof JS||Array.isArray(o)?En(o):di(n.compileModuleAsync(o))),dr(o=>{r&&r(e);let i,a,l=!1;return Array.isArray(o)?(a=o,!0):(i=o.create(t).injector,a=i.get(sp,[],{optional:!0,self:!0}).flat()),{routes:a.map(jT),injector:i}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Gm(()=>{this.childrenLoaders.delete(r)})),a=new UN(i,()=>new sa).pipe(DT());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SB(e){return function Uoe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function LB(e){return En(e)}let HT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>Dt(Foe),providedIn:"root"})}return e})(),Foe=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const RB=new Ut(""),wB=new Ut("");function Woe(e,n,t){const r=e.get(wB),o=e.get(ha);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i;const a=new Promise(c=>{i=c}),l=o.startViewTransition(()=>(i(),function koe(e){return new Promise(n=>{FC({read:()=>setTimeout(n)},{injector:e})})}(e)));l.ready.catch(c=>{});const{onViewTransitionCreated:u}=r;return u&&ca(e,()=>u({transition:l,from:n,to:t})),a}const jB=new Ut("");let VT=(()=>{class e{currentNavigation=jl(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new sa;transitionAbortWithErrorSubject=new sa;configLoader=Dt(kT);environmentInjector=Dt(pi);destroyRef=Dt(Ds);urlSerializer=Dt(Jm);rootContexts=Dt(np);location=Dt(Lu);inputBindingEnabled=null!==Dt(Sy,{optional:!0});titleStrategy=Dt(_B);options=Dt(Sh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Dt(HT);createViewTransition=Dt(RB,{optional:!0});navigationErrorHandler=Dt(jB,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>En(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new Pre(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Ore(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;Zr(()=>{this.transitions?.next({...t,extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(t){return this.transitions=new Za(null),this.transitions.pipe(nl(r=>null!==r),Ma(r=>{let o=!1;return En(r).pipe(Ma(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ba.SupersededByNewNavigation),_s;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!a&&"reload"!==(i.extras.onSameUrlNavigation??t.onSameUrlNavigation))return this.events.next(new Th(i.id,this.urlSerializer.serialize(i.rawUrl),"",Iy.IgnoredSameUrlNavigation)),i.resolve(!1),_s;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return En(i).pipe(Ma(u=>(this.events.next(new Py(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?_s:Promise.resolve(u))),function Soe(e,n,t,r,o,i){return Ri(a=>function Poe(e,n,t,r,o,i,a="emptyOnly"){return new xoe(e,n,t,r,o,a,i).recognize()}(e,n,t,r,a.extractedUrl,o,i).pipe(dr(({state:l,tree:u})=>({...a,targetSnapshot:l,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),wi(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));const c=new lB(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:u,extractedUrl:c,source:f,restoredState:M,extras:_}=i,I=new Py(u,this.urlSerializer.serialize(c),f,M);this.events.next(I);const U=fB(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:U,urlAfterRedirects:c,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(k=>(k.finalUrl=c,k)),En(r)}return this.events.next(new Th(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Iy.IgnoredByUrlHandlingStrategy)),i.resolve(!1),_s}),wi(i=>{const a=new Mre(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),dr(i=>(this.currentTransition=r={...i,guards:Gre(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function ooe(e,n){return Ri(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=t;return 0===a.length&&0===i.length?En({...t,guardsResult:!0}):function ioe(e,n,t,r){return di(e).pipe(Ri(o=>function doe(e,n,t,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?En(i.map(l=>{const u=Oh(n)??o,c=xh(l,u);return Zl(function toe(e){return e&&ap(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,r):ca(u,()=>c(e,n,t,r))).pipe(gd())})).pipe(Ah()):En(!0)}(o.component,o.route,t,n,r)),gd(o=>!0!==o,!0))}(a,r,o,e).pipe(Ri(l=>l&&function Jre(e){return"boolean"==typeof e}(l)?function aoe(e,n,t,r){return di(n).pipe(Mh(o=>ET(function loe(e,n){return null!==e&&n&&n(new Ire(e)),En(!0)}(o.route.parent,r),function soe(e,n){return null!==e&&n&&n(new Are(e)),En(!0)}(o.route,r),function coe(e,n,t){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(a=>function Yre(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(a)).filter(a=>null!==a).map(a=>yT(()=>En(a.guards.map(u=>{const c=Oh(a.node)??t,f=xh(u,c);return Zl(function eoe(e){return e&&ap(e.canActivateChild)}(f)?f.canActivateChild(r,e):ca(c,()=>f(r,e))).pipe(gd())})).pipe(Ah())));return En(i).pipe(Ah())}(e,o.path,t),function uoe(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return En(!0);const o=r.map(i=>yT(()=>{const a=Oh(n)??t,l=xh(i,a);return Zl(function qre(e){return e&&ap(e.canActivate)}(l)?l.canActivate(n,e):ca(a,()=>l(n,e))).pipe(gd())}));return En(o).pipe(Ah())}(e,o.route,t))),gd(o=>!0!==o,!0))}(r,i,e,n):En(l)),dr(l=>({...t,guardsResult:l})))})}(this.environmentInjector,i=>this.events.next(i)),wi(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw Ly(0,i.guardsResult);const a=new bre(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),nl(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",ba.GuardRejected),!1)),WT(i=>{if(0!==i.guards.canActivateChecks.length)return En(i).pipe(wi(a=>{const l=new Cre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ma(a=>{let l=!1;return En(a).pipe(function Loe(e,n){return Ri(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return En(t);const i=new Set(o.map(u=>u.route)),a=new Set;for(const u of i)if(!a.has(u))for(const c of AB(u))a.add(c);let l=0;return di(a).pipe(Mh(u=>i.has(u)?function Roe(e,n,t,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!mB(o)&&(i[Zm]=o.title),yT(()=>(e.data=Ay(e,e.parent,t).resolve,function woe(e,n,t,r){const o=bT(e);if(0===o.length)return En({});const i={};return di(o).pipe(Ri(a=>function joe(e,n,t,r){const o=Oh(n)??r,i=xh(e,o);return Zl(i.resolve?i.resolve(n,t):ca(o,()=>i(n,t)))}(e[a],n,t,r).pipe(gd(),wi(l=>{if(l instanceof NT)throw Ly(new Dy,l);i[a]=l}))),MT(1),dr(()=>i),bh(a=>bB(a)?_s:vy(a)))}(i,e,n,r).pipe(dr(a=>(e._resolvedData=a,e.data={...e.data,...a},null)))))}(u,r,e,n):(u.data=Ay(u,u.parent,e).resolve,En(void 0))),wi(()=>l++),MT(1),Ri(u=>l===a.size?En(t):_s))})}(this.paramsInheritanceStrategy,this.environmentInjector),wi({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ba.NoDataFromResolver)}}))}),wi(a=>{const l=new Tre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),WT(i=>{const a=l=>{const u=[];if(l.routeConfig?.loadComponent){const c=Oh(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(c,l.routeConfig).pipe(wi(f=>{l.component=f}),dr(()=>{})))}for(const c of l.children)u.push(...a(c));return u};return vT(a(i.targetSnapshot.root)).pipe(Ey(null),Dh(1))}),WT(()=>this.afterPreactivation()),Ma(()=>{const{currentSnapshot:i,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return l?di(l).pipe(dr(()=>r)):En(r)}),dr(i=>{const a=function kre(e,n,t){const r=rp(e,n._root,t?t._root:void 0);return new dB(r,n)}(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:a},this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),wi(()=>{this.events.next(new xT)}),((e,n,t,r)=>dr(o=>(new $re(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)))(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Dh(1),WN(new mo(i=>{const a=r.abortController.signal,l=()=>i.next();return a.addEventListener("abort",l),()=>a.removeEventListener("abort",l)}).pipe(nl(()=>!o&&!r.targetRouterState),wi(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ba.Aborted)}))),wi({next:i=>{o=!0,this.lastSuccessfulNavigation=Zr(this.currentNavigation),this.events.next(new Xl(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),WN(this.transitionAbortWithErrorSubject.pipe(wi(i=>{throw i}))),Gm(()=>{o||this.cancelNavigationTransition(r,"",ba.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),bh(i=>{if(this.destroyed)return r.resolve(!1),_s;if(o=!0,DB(i))this.events.next(new Ed(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function Kre(e){return DB(e)&&vd(e.url)}(i)?this.events.next(new xy(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const a=new IT(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const l=ca(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(l instanceof NT))throw this.events.next(a),i;{const{message:u,cancellationCode:c}=Ly(0,l);this.events.next(new Ed(r.id,this.urlSerializer.serialize(r.extractedUrl),u,c)),this.events.next(new xy(l.redirectTo,l.navigationBehaviorOptions))}}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return _s}))}))}cancelNavigationTransition(t,r,o){const i=new Ed(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Zr(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hoe(e){return e!==tp}let Voe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>Dt(zoe),providedIn:"root"})}return e})();class Koe{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let zoe=(()=>{class e extends Koe{static \u0275fac=(()=>{let t;return function(o){return(t||(t=ui(e)))(o||e)}})();static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),NB=(()=>{class e{urlSerializer=Dt(Jm);options=Dt(Sh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Dt(Lu);urlHandlingStrategy=Dt(HT);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new md;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==t?this.urlHandlingStrategy.merge(t,r):r,a=o??i;return a instanceof md?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=fB(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:()=>Dt($oe),providedIn:"root"})}return e})(),$oe=(()=>{class e extends NB{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Py?this.updateStateMemento():t instanceof Th?this.commitTransition(r):t instanceof lB?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xT?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ed&&t.code!==ba.SupersededByNewNavigation&&t.code!==ba.Redirect?this.restoreHistory(r):t instanceof IT?this.restoreHistory(r,!0):t instanceof Xl&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){const{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||i){const l=this.browserPageId,u={...a,...this.generateNgRouterState(o,l)};this.location.replaceState(t,"",u)}else{const l={...a,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(t,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&0===i&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ui(e)))(o||e)}})();static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BB(e,n){e.events.pipe(nl(t=>t instanceof Xl||t instanceof Ed||t instanceof IT||t instanceof Th),dr(t=>t instanceof Xl||t instanceof Th?0:t instanceof Ed&&(t.code===ba.Redirect||t.code===ba.SupersededByNewNavigation)?2:1),nl(t=>2!==t),Dh(1)).subscribe(()=>{n()})}const Goe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yoe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Dt(wL);stateManager=Dt(NB);options=Dt(Sh,{optional:!0})||{};pendingTasks=Dt(_u);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Dt(VT);urlSerializer=Dt(Jm);location=Dt(Lu);urlHandlingStrategy=Dt(HT);injector=Dt(pi);_events=new sa;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Dt(Voe);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Dt(sp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Dt(Sy,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new kt;subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=Zr(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof Ed&&r.code!==ba.Redirect&&r.code!==ba.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xl)this.navigated=!0;else if(r instanceof xy){const a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),u={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Hoe(o.source),...a};this.scheduleNavigation(l,tp,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Sre(e){return!(e instanceof xT||e instanceof xy)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const l=this.parseUrl(t);this.scheduleNavigation(l,r,a,i).catch(u=>{this.disposed||this.injector.get(Ms)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Zr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:a;let M,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f={...this.currentUrlTree.queryParams,...i};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}null!==f&&(f=this.removeEmptyProps(f));try{M=tB(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),M=this.currentUrlTree.root}return nB(M,t,f,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=vd(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,tp,null,r)}navigate(t,r={skipLocationChange:!1}){return function Zoe(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new gt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(o=!0===r?{...Goe}:!1===r?{...Yoe}:r,vd(t))return $N(this.currentUrlTree,t,o);const i=this.parseUrl(t);return $N(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let l,u,c;a?(l=a.resolve,u=a.reject,c=a.promise):c=new Promise((M,_)=>{l=M,u=_});const f=this.pendingTasks.add();return BB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(M=>Promise.reject(M))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class UB{}let Qoe=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(nl(t=>t instanceof Xl),Mh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=pE(i.providers,t,`Route: ${i.path}`));const a=i._injector??t,l=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return di(o).pipe($m())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):En(null);const i=o.pipe(Ri(a=>null===a?En(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return r.loadComponent&&!r._loadedComponent?di([i,this.loader.loadComponent(t,r)]).pipe($m()):i})}static \u0275fac=function(r){return new(r||e)(gn(bi),gn(pi),gn(UB),gn(kT))};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zT=new Ut("");let FB=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=tp;restoredId=0;store={};constructor(t,r,o,i,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xl?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Th&&t.code===Iy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof uB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var o=this;this.zone.runOutsideAngular((0,Bl.A)(function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),o.zone.run(()=>{o.transitions.events.next(new uB(t,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function MS(){throw new Error("invalid")}()};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();function WB(e){return e.routerState.root}function il(e,n){return{\u0275kind:e,\u0275providers:n}}function kB(){const e=Dt(fa);return n=>{const t=e.get(Vl);if(n!==t.components[0])return;const r=e.get(bi),o=e.get(HB);1===e.get($T)&&r.initialNavigation(),e.get(VB,null,{optional:!0})?.setUpPreloading(),e.get(zT,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const HB=new Ut("",{factory:()=>new sa}),$T=new Ut("",{providedIn:"root",factory:()=>1}),VB=new Ut("");function rie(e){return il(0,[{provide:VB,useExisting:Qoe},{provide:UB,useExisting:e}])}function iie(e){return yi("NgRouterViewTransitions"),il(9,[{provide:RB,useValue:Woe},{provide:wB,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const aie=[Lu,{provide:Jm,useClass:Dy},bi,np,{provide:Ih,useFactory:WB,deps:[bi]},kT,[]];let sie=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[aie,[],{provide:sp,multi:!0,useValue:t},[],r?.errorHandler?{provide:jB,useValue:r.errorHandler}:[],{provide:Sh,useValue:r||{}},r?.useHash?{provide:Yc,useClass:_ee}:{provide:Yc,useClass:ix},{provide:zT,useFactory:()=>{const e=Dt(UH),n=Dt(gr),t=Dt(Sh),r=Dt(VT),o=Dt(Jm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new FB(o,r,e,n,t)}},r?.preloadingStrategy?rie(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?die(r):[],r?.bindToComponentInputs?il(8,[pB,{provide:Sy,useExisting:pB}]).\u0275providers:[],r?.enableViewTransitions?iie().\u0275providers:[],[{provide:KB,useFactory:kB},{provide:ZC,multi:!0,useExisting:KB}]]}}static forChild(t){return{ngModule:e,providers:[{provide:sp,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=id({type:e});static \u0275inj=Tu({})}return e})();function die(e){return["disabled"===e.initialNavigation?il(3,[QL(()=>{Dt(bi).setUpLocationChangeListener()}),{provide:$T,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?il(2,[{provide:k7,useValue:!0},{provide:$T,useValue:0},QL(()=>{const n=Dt(fa);return n.get(LH,Promise.resolve()).then(()=>new Promise(r=>{const o=n.get(bi),i=n.get(HB);BB(o,()=>{r(!0)}),n.get(VT).afterPreactivation=()=>(r(!0),i.closed?En(void 0):i),o.initialNavigation()}))})]).\u0275providers:[]]}const KB=new Ut("");class Ny{}class By{}class Rs{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=t.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Rs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Rs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const o=("a"===n.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=n.value;if(i){let a=this.headers.get(t);if(!a)return;a=a.filter(l=>-1===i.indexOf(l)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(n,t){const r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class hie{encodeKey(n){return zB(n)}encodeValue(n){return zB(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mie=/%(\d[a-f0-9])/gi,pie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zB(e){return encodeURIComponent(e).replace(mie,(n,t)=>pie[t]??n)}function Uy(e){return`${e}`}class Yu{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new hie,n.fromString){if(n.fromObject)throw new gt(2805,!1);this.map=function gie(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[a,l]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],u=t.get(a)||[];u.push(l),t.set(a,u)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],o=Array.isArray(r)?r.map(Uy):[Uy(r)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Yu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Uy(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(Uy(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class vie{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function $B(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function GB(e){return typeof Blob<"u"&&e instanceof Blob}function YB(e){return typeof FormData<"u"&&e instanceof FormData}const lp="Content-Type",GT="X-Request-URL",ZB="text/plain",XB="application/json",JB=`${XB}, ${ZB}, */*`;class up{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,o){let i;if(this.url=t,this.method=n.toUpperCase(),function Eie(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),"number"==typeof i.timeout){if(i.timeout<1||!Number.isInteger(i.timeout))throw new gt(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Rs,this.context??=new vie,this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+a}}else this.params=new Yu,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||$B(this.body)||GB(this.body)||YB(this.body)||function yie(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Yu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||YB(this.body)?null:GB(this.body)?this.body.type||null:$B(this.body)?null:"string"==typeof this.body?ZB:this.body instanceof Yu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?XB:null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=n.keepalive??this.keepalive,a=n.priority||this.priority,l=n.cache||this.cache,u=n.mode||this.mode,c=n.redirect||this.redirect,f=n.credentials||this.credentials,M=n.referrer||this.referrer,_=n.integrity||this.integrity,I=n.transferCache??this.transferCache,U=n.timeout??this.timeout,k=void 0!==n.body?n.body:this.body,Y=n.withCredentials??this.withCredentials,J=n.reportProgress??this.reportProgress;let se=n.headers||this.headers,he=n.params||this.params;const fe=n.context??this.context;return void 0!==n.setHeaders&&(se=Object.keys(n.setHeaders).reduce((Me,we)=>Me.set(we,n.setHeaders[we]),se)),n.setParams&&(he=Object.keys(n.setParams).reduce((Me,we)=>Me.set(we,n.setParams[we]),he)),new up(t,r,k,{params:he,headers:se,context:fe,reportProgress:J,responseType:o,withCredentials:Y,transferCache:I,keepalive:i,cache:l,priority:a,timeout:U,mode:u,redirect:c,credentials:f,referrer:M,integrity:_})}}var Zu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zu||{});class YT{headers;status;statusText;url;ok;type;redirected;constructor(n,t=200,r="OK"){this.headers=n.headers||new Rs,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}}class Wy extends YT{constructor(n={}){super(n)}type=Zu.ResponseHeader;clone(n={}){return new Wy({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class cp extends YT{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=Zu.Response;clone(n={}){return new cp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}}class yd extends YT{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function ZT(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let Lh=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof up)i=t;else{let u,c;u=o.headers instanceof Rs?o.headers:new Rs(o.headers),o.params&&(c=o.params instanceof Yu?o.params:new Yu({fromObject:o.params})),i=new up(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const a=En(i).pipe(Mh(u=>this.handler.handle(u)));if(t instanceof up||"events"===o.observe)return a;const l=a.pipe(nl(u=>u instanceof cp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(dr(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new gt(2806,!1);return u.body}));case"blob":return l.pipe(dr(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new gt(2807,!1);return u.body}));case"text":return l.pipe(dr(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new gt(2808,!1);return u.body}));default:return l.pipe(dr(u=>u.body))}case"response":return l;default:throw new gt(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Yu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,ZT(o,r))}post(t,r,o={}){return this.request("POST",t,ZT(o,r))}put(t,r,o={}){return this.request("PUT",t,ZT(o,r))}static \u0275fac=function(r){return new(r||e)(gn(Ny))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();const eU=new Ut("");function tU(e,n){return n(e)}function Oie(e,n){return(t,r)=>n.intercept(t,{handle:o=>e(o,r)})}const Iie=new Ut(""),dp=new Ut(""),xie=new Ut(""),nU=new Ut("",{providedIn:"root",factory:()=>!0});function Aie(){let e=null;return(n,t)=>{null===e&&(e=(Dt(Iie,{optional:!0})??[]).reduceRight(Oie,tU));const r=Dt(h0);if(Dt(nU)){const i=r.add();return e(n,t).pipe(Gm(i))}return e(n,t)}}let rU=(()=>{class e extends Ny{backend;injector;chain=null;pendingTasks=Dt(h0);contributeToStability=Dt(nU);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(dp),...this.injector.get(xie,[])]));this.chain=r.reduceRight((o,i)=>function Pie(e,n,t){return(r,o)=>ca(t,()=>n(r,i=>e(i,o)))}(o,i,this.injector),tU)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Gm(r))}return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(gn(By),gn(pi))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();const Rie=/^\)\]\}',?\n/,wie=RegExp(`^${GT}:`,"m");let iU=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new gt(-2800,!1);const r=this.xhrFactory;return En(null).pipe(Ma(()=>new mo(i=>{const a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((Y,J)=>a.setRequestHeader(Y,J.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept",JB),!t.headers.has(lp)){const Y=t.detectContentTypeHeader();null!==Y&&a.setRequestHeader(lp,Y)}if(t.timeout&&(a.timeout=t.timeout),t.responseType){const Y=t.responseType.toLowerCase();a.responseType="json"!==Y?Y:"text"}const l=t.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const Y=a.statusText||"OK",J=new Rs(a.getAllResponseHeaders()),se=function jie(e){return"responseURL"in e&&e.responseURL?e.responseURL:wie.test(e.getAllResponseHeaders())?e.getResponseHeader(GT):null}(a)||t.url;return u=new Wy({headers:J,status:a.status,statusText:Y,url:se}),u},f=()=>{let{headers:Y,status:J,statusText:se,url:he}=c(),fe=null;204!==J&&(fe=typeof a.response>"u"?a.responseText:a.response),0===J&&(J=fe?200:0);let Me=J>=200&&J<300;if("json"===t.responseType&&"string"==typeof fe){const we=fe;fe=fe.replace(Rie,"");try{fe=""!==fe?JSON.parse(fe):null}catch(Be){fe=we,Me&&(Me=!1,fe={error:Be,text:fe})}}Me?(i.next(new cp({body:fe,headers:Y,status:J,statusText:se,url:he||void 0})),i.complete()):i.error(new yd({error:fe,headers:Y,status:J,statusText:se,url:he||void 0}))},M=Y=>{const{url:J}=c(),se=new yd({error:Y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:J||void 0});i.error(se)};let _=M;t.timeout&&(_=Y=>{const{url:J}=c(),se=new yd({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:J||void 0});i.error(se)});let I=!1;const U=Y=>{I||(i.next(c()),I=!0);let J={type:Zu.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(J.total=Y.total),"text"===t.responseType&&a.responseText&&(J.partialText=a.responseText),i.next(J)},k=Y=>{let J={type:Zu.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(J.total=Y.total),i.next(J)};return a.addEventListener("load",f),a.addEventListener("error",M),a.addEventListener("timeout",_),a.addEventListener("abort",M),t.reportProgress&&(a.addEventListener("progress",U),null!==l&&a.upload&&a.upload.addEventListener("progress",k)),a.send(l),i.next({type:Zu.Sent}),()=>{a.removeEventListener("error",M),a.removeEventListener("abort",M),a.removeEventListener("load",f),a.removeEventListener("timeout",_),t.reportProgress&&(a.removeEventListener("progress",U),null!==l&&a.upload&&a.upload.removeEventListener("progress",k)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||e)(gn(lx))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();const QT=new Ut(""),aU=new Ut("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sU=new Ut("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lU{}let Uie=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sx(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(gn(ha),gn(aU))};static \u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})();function Fie(e,n){const t=e.url.toLowerCase();if(!Dt(QT)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Dt(lU).getToken(),o=Dt(sU);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),n(e)}var Xu=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Xu||{});function uU(...e){const n=[Lh,iU,rU,{provide:Ny,useExisting:rU},{provide:By,useFactory:()=>Dt(eU,{optional:!0})??Dt(iU)},{provide:dp,useValue:Fie,multi:!0},{provide:QT,useValue:!0},{provide:lU,useClass:Uie}];for(const t of e)n.push(...t.\u0275providers);return Ng(n)}const cU=new Ut("");function Wie(){return function Dd(e,n){return{\u0275kind:e,\u0275providers:n}}(Xu.LegacyInterceptors,[{provide:cU,useFactory:Aie},{provide:dp,useExisting:cU,multi:!0}])}let kie=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=id({type:e});static \u0275inj=Tu({providers:[uU(Wie())]})}return e})(),Hie=(()=>{class e{router;constructor(t){this.router=t}irALogin(){this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||e)(At(bi))};static \u0275cmp=ja({type:e,selectors:[["app-home"]],decls:9,vars:0,consts:[[1,"container-centered"],[1,"highlight"],[1,"subtitle"],[1,"button-primary","mt-3",3,"click"]],template:function(r,o){1&r&&(ts(0,"div",0)(1,"h1"),It(2,"Bienvenido al "),ts(3,"span",1),It(4,"BI-RADS Classifier"),Os()(),ts(5,"p",2),It(6," An\xe1lisis de mamograf\xedas para clasificaci\xf3n automatizada BI-RADS y generaci\xf3n de reportes. "),Os(),ts(7,"button",3),Vu("click",function(){return o.irALogin()}),It(8," Comienza ahora "),Os()())},dependencies:[Gl],encapsulation:2})}return e})(),dU=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(At(Hl),At(wa))};static \u0275dir=Cn({type:e})}return e})(),Md=(()=>{class e extends dU{static \u0275fac=(()=>{let t;return function(o){return(t||(t=ui(e)))(o||e)}})();static \u0275dir=Cn({type:e,features:[Ar]})}return e})();const al=new Ut(""),zie={provide:al,useExisting:$r(()=>bd),multi:!0},Gie=new Ut("");let bd=(()=>{class e extends dU{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function $ie(){const e=Su()?Su().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(At(Hl),At(wa),At(Gie,8))};static \u0275dir=Cn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&Xn("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[lo([zie]),Ar]})}return e})();function qT(e){return null==e||0===function eO(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}(e)}const ji=new Ut(""),Ju=new Ut("");function mU(e){return qT(e.value)?{required:!0}:null}function ky(e){return null}function MU(e){return null!=e}function bU(e){return _m(e)?di(e):e}function CU(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function TU(e,n){return n.map(t=>t(e))}function OU(e){return e.map(n=>function Zie(e){return!e.validate}(n)?n:t=>n.validate(t))}function tO(e){return null!=e?function PU(e){if(!e)return null;const n=e.filter(MU);return 0==n.length?null:function(t){return CU(TU(t,n))}}(OU(e)):null}function nO(e){return null!=e?function IU(e){if(!e)return null;const n=e.filter(MU);return 0==n.length?null:function(t){return function Vie(...e){const n=RN(e),{args:t,keys:r}=wN(e),o=new mo(i=>{const{length:a}=t;if(!a)return void i.complete();const l=new Array(a);let u=a,c=a;for(let f=0;f<a;f++){let M=!1;tl(t[f]).subscribe(Xo(i,_=>{M||(M=!0,c--),l[f]=_},()=>u--,void 0,()=>{(!u||!M)&&(c||i.next(r?NN(r,l):l),i.complete())}))}});return n?o.pipe(jN(n)):o}(TU(t,n).map(bU)).pipe(dr(CU))}}(OU(e)):null}function xU(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function rO(e){return e?Array.isArray(e)?e:[e]:[]}function Hy(e,n){return Array.isArray(e)?e.includes(n):e===n}function SU(e,n){const t=rO(n);return rO(e).forEach(o=>{Hy(t,o)||t.push(o)}),t}function LU(e,n){return rO(n).filter(t=>!Hy(e,t))}class RU{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=tO(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=nO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class ta extends RU{name;get formDirective(){return null}get path(){return null}}class Qu extends RU{_parent=null;name=null;valueAccessor=null}class wU{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let fp=(()=>{class e extends wU{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(At(Qu,2))};static \u0275dir=Cn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&el("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Ar]})}return e})(),Vy=(()=>{class e extends wU{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(At(ta,10))};static \u0275dir=Cn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&el("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Ar]})}return e})();const hp="VALID",zy="INVALID",Rh="PENDING",gp="DISABLED";class wh{}class NU extends wh{value;source;constructor(n,t){super(),this.value=n,this.source=t}}class aO extends wh{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}}class sO extends wh{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}}class $y extends wh{status;source;constructor(n,t){super(),this.status=n,this.source=t}}class BU extends wh{source;constructor(n){super(),this.source=n}}class UU extends wh{source;constructor(n){super(),this.source=n}}function lO(e){return(Gy(e)?e.validators:e)||null}function uO(e,n){return(Gy(n)?n.asyncValidators:e)||null}function Gy(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class cO{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Zr(this.statusReactive)}set status(n){Zr(()=>this.statusReactive.set(n))}_status=Is(()=>this.statusReactive());statusReactive=jl(void 0);get valid(){return this.status===hp}get invalid(){return this.status===zy}get pending(){return this.status==Rh}get disabled(){return this.status===gp}get enabled(){return this.status!==gp}errors;get pristine(){return Zr(this.pristineReactive)}set pristine(n){Zr(()=>this.pristineReactive.set(n))}_pristine=Is(()=>this.pristineReactive());pristineReactive=jl(!0);get dirty(){return!this.pristine}get touched(){return Zr(this.touchedReactive)}set touched(n){Zr(()=>this.touchedReactive.set(n))}_touched=Is(()=>this.touchedReactive());touchedReactive=jl(!1);get untouched(){return!this.touched}_events=new sa;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(SU(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(SU(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(LU(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(LU(n,this._rawAsyncValidators))}hasValidator(n){return Hy(this._rawValidators,n)}hasAsyncValidator(n){return Hy(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const t=!1===this.touched;this.touched=!0;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:r}),t&&!1!==n.emitEvent&&this._events.next(new sO(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&!1!==n.emitEvent&&this._events.next(new sO(!1,r))}markAsDirty(n={}){const t=!0===this.pristine;this.pristine=!1;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:r}),t&&!1!==n.emitEvent&&this._events.next(new aO(!1,r))}markAsPristine(n={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&!1!==n.emitEvent&&this._events.next(new aO(!0,r))}markAsPending(n={}){this.status=Rh;const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new $y(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:t})}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=gp,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue();const r=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new NU(this.value,r)),this._events.next(new $y(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=hp,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hp||this.status===Rh)&&this._runAsyncValidator(r,n.emitEvent)}const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new NU(this.value,t)),this._events.next(new $y(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:t})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gp:hp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Rh,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t,shouldHaveEmitted:!1!==n};const r=bU(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new $y(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new yo,this.statusChanges=new yo}_calculateStatus(){return this._allControlsDisabled()?gp:this.errors?zy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rh)?Rh:this._anyControlsHaveStatus(zy)?zy:hp}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new aO(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new sO(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Gy(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function nae(e){return Array.isArray(e)?tO(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function rae(e){return Array.isArray(e)?nO(e):e||null}(this._rawAsyncValidators)}}class dO extends cO{constructor(n,t,r){super(lO(t),uO(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function WU(e,n,t){e._forEachChild((r,o)=>{if(void 0===t[o])throw new gt(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function FU(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new gt(1e3,"");if(!r[t])throw new gt(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,o)=>{r.reset(n?n[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const jh=new Ut("",{providedIn:"root",factory:()=>Yy}),Yy="always";function mp(e,n,t=Yy){fO(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function aae(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&kU(e,n)})}(e,n),function lae(e,n){const t=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function sae(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&kU(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function iae(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Jy(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function fO(e,n){const t=function AU(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(xU(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function _U(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(xU(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Jy(n._rawValidators,o),Jy(n._rawAsyncValidators,o)}function kU(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const hae={provide:ta,useExisting:$r(()=>Cd)},pp=Promise.resolve();let Cd=(()=>{class e extends ta{callSetDisabledState;get submitted(){return Zr(this.submittedReactive)}_submitted=Is(()=>this.submittedReactive());submittedReactive=jl(!1);_directives=new Set;form;ngSubmit=new yo;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new dO({},tO(t),nO(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),mp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){pp.then(()=>{const r=this._findContainer(t.path),o=new dO({});(function HU(e,n){fO(e,n)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){pp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),function VU(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new BU(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new UU(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(At(ji,10),At(Ju,10),At(jh,8))};static \u0275dir=Cn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&Xn("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lo([hae]),Ar]})}return e})();function KU(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function zU(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const $U=class extends cO{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(lO(t),uO(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zU(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){KU(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){KU(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){zU(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Eae={provide:Qu,useExisting:$r(()=>Nh)},GU=Promise.resolve();let Nh=(()=>{class e extends Qu{_changeDetectorRef;callSetDisabledState;control=new $U;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new yo;constructor(t,r,o,i,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function mO(e,n){if(!n)return null;let t,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===bd?t=i:function dae(e){return Object.getPrototypeOf(e.constructor)===Md}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function gO(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){GU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&vh(r);GU.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Zy(e,n){return[...n.path,e]}(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(At(ta,9),At(ji,10),At(Ju,10),At(al,10),At(Hm,8),At(jh,8))};static \u0275dir=Cn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[lo([Eae]),Ar,bs]})}return e})(),tD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Cn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const xae={provide:al,useExisting:$r(()=>Ep),multi:!0};function tF(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Ep=(()=>{class e extends Md{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Dt(Vl).injector;destroyRef=Dt(Ds);cdr=Dt(Hm);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,FC({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;const o=tF(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Aae(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ui(e)))(o||e)}})();static \u0275dir=Cn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&Xn("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lo([xae]),Ar]})}return e})(),pO=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tF(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(At(wa),At(Hl),At(Ep,9))};static \u0275dir=Cn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();const _ae={provide:al,useExisting:$r(()=>vO),multi:!0};function nF(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let vO=(()=>{class e extends Md{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],i=r.selectedOptions;if(void 0!==i){const a=i;for(let l=0;l<a.length;l++){const c=this._getOptionValue(a[l].value);o.push(c)}}else{const a=r.options;for(let l=0;l<a.length;l++){const u=a[l];if(u.selected){const c=this._getOptionValue(u.value);o.push(c)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Sae(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ui(e)))(o||e)}})();static \u0275dir=Cn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&Xn("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lo([_ae]),Ar]})}return e})(),EO=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(nF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(At(wa),At(Hl),At(vO,9))};static \u0275dir=Cn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Td=(()=>{class e{_validator=ky;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ky,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Cn({type:e,features:[bs]})}return e})();const wae={provide:ji,useExisting:$r(()=>yp),multi:!0};let yp=(()=>{class e extends Td{required;inputName="required";normalizeInput=vh;createValidator=t=>mU;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ui(e)))(o||e)}})();static \u0275dir=Cn({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){2&r&&Qs("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[lo([wae]),Ar]})}return e})(),Wae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=id({type:e});static \u0275inj=Tu({})}return e})(),Dp=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:jh,useValue:t.callSetDisabledState??Yy}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=id({type:e});static \u0275inj=Tu({imports:[Wae]})}return e})(),oD=(()=>{class e{router;location;showMenu=!1;constructor(t,r){this.router=t,this.location=r}volver(){this.location.back()}cerrarSesion(){const t=confirm("\xbfEst\xe1s seguro de que quieres cerrar sesi\xf3n?");this.router.navigate(["/"]),t&&(localStorage.removeItem("token"),localStorage.removeItem("user"),this.router.navigate(["/login"]),console.log("Sesi\xf3n cerrada exitosamente"))}Informacion(){this.router.navigate(["/info"])}irAReportes(){this.router.navigate(["/reportes"])}irAPerfil(){this.router.navigate(["/perfil"])}static \u0275fac=function(r){return new(r||e)(At(bi),At(Lu))};static \u0275cmp=ja({type:e,selectors:[["app-navbar"]],decls:18,vars:0,consts:[[1,"Navbar"],[1,"backButton"],[1,"back-button-fixed",3,"click"],[1,"back-icon"],[2,"margin","0 auto","display","flex","gap","200px"],[1,"account-menu"],[1,"navbar-link",2,"cursor","pointer",3,"click"],[1,"navbar-content",2,"display","flex"],[2,"margin-right","40px"],[2,"cursor","pointer",3,"click"],[3,"click"]],template:function(r,o){1&r&&(ts(0,"div",0)(1,"div",1)(2,"button",2),Vu("click",function(){return o.volver()}),u2(3,"span",3),Os()(),ts(4,"div",4)(5,"div",5)(6,"a",6),Vu("click",function(){return o.irAPerfil()}),It(7," Mi cuenta "),Os()(),ts(8,"div",7)(9,"div",8)(10,"a",9),Vu("click",function(){return o.irAReportes()}),It(11,"Lista de Reportes"),Os()(),ts(12,"div",8)(13,"a",10),Vu("click",function(){return o.Informacion()}),It(14,"Informaci\xf3n"),Os()(),ts(15,"div")(16,"a",9),Vu("click",function(){return o.cerrarSesion()}),It(17,"Cerrar Sesi\xf3n"),Os()()()()())},dependencies:[Gl],styles:[".Navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#d2bd96;padding:18px 30px;border-bottom:1px solid #ccc;z-index:1000;font-family:Helvetica Neue,sans-serif}.Navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-weight:500;font-size:17px;color:#333;text-decoration:none;margin:0 10px;cursor:pointer;transition:color .3s,font-size .3s}.Navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;font-size:16px}.back-button-fixed[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;transform:translateY(-50%);background:transparent;border:none;cursor:pointer;padding:10px;border-radius:50%;transition:background-color .2s ease;z-index:999;width:40px;height:40px;display:flex;align-items:center;justify-content:center}"]})}return e})(),Hae=(()=>{class e{http;apiUrl="http://127.0.0.1:8000/predict";constructor(t){this.http=t}analizarImagenes(t){return this.http.post(this.apiUrl,t)}static \u0275fac=function(r){return new(r||e)(gn(Lh))};static \u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vae(e,n){1&e&&(lt(0,"div",2)(1,"h2"),It(2,"Analizando im\xe1genes..."),ut(),lt(3,"p"),It(4,"Por favor espera mientras procesamos el an\xe1lisis BI-RADS."),ut(),lt(5,"p",3),It(6," Este sistema est\xe1 dise\xf1ado para asistir en la clasificaci\xf3n BI-RADS, pero la decisi\xf3n cl\xednica final depende del criterio del radi\xf3logo. "),ut(),ci(7,"div",4),ut())}function Kae(e,n){if(1&e&&(lt(0,"div",15)(1,"span",16),It(2),ut(),lt(3,"span",17),It(4),ut()()),2&e){const t=n.$implicit,r=xn(3);Zt(2),Na("",t.toUpperCase(),":"),Zt(2),Kl(r.imagenesSeleccionadas[t].name)}}function zae(e,n){if(1&e&&(lt(0,"div",13),xo(1,Kae,5,2,"div",14),ut()),2&e){const t=xn(2);Zt(),Tn("ngForOf",t.imagenesKeys)}}function $ae(e,n){if(1&e){const t=Mi();lt(0,"div",5)(1,"h1"),It(2,"Clasificador de Mamograf\xedas en Escala BI-RADS"),ut(),lt(3,"div",6)(4,"label",7)(5,"span",8),It(6,"L-CC (Cr\xe1neo-Caudal Izquierda)"),ut(),lt(7,"input",9),Xn("change",function(o){return zn(t),$n(xn().onFilesSelected(o,"l_cc"))}),ut()(),lt(8,"label",7)(9,"span",8),It(10,"R-CC (Cr\xe1neo-Caudal Derecha)"),ut(),lt(11,"input",9),Xn("change",function(o){return zn(t),$n(xn().onFilesSelected(o,"r_cc"))}),ut()(),lt(12,"label",7)(13,"span",8),It(14,"L-MLO (Oblicua Medio-Lateral Izquierda)"),ut(),lt(15,"input",9),Xn("change",function(o){return zn(t),$n(xn().onFilesSelected(o,"l_mlo"))}),ut()(),lt(16,"label",7)(17,"span",8),It(18,"R-MLO (Oblicua Medio-Lateral Derecha)"),ut(),lt(19,"input",9),Xn("change",function(o){return zn(t),$n(xn().onFilesSelected(o,"r_mlo"))}),ut()()(),xo(20,zae,2,1,"div",10),lt(21,"div",11)(22,"p")(23,"i"),It(24,"Las im\xe1genes seleccionadas ser\xe1n procesadas por el sistema para realizar una clasificaci\xf3n automatizada en escala BI-RADS."),ut()(),lt(25,"p")(26,"i"),It(27,"Recuerde que el resultado es un apoyo diagn\xf3stico y no reemplaza su interpretaci\xf3n cl\xednica como profesional."),ut()()(),lt(28,"button",12),Xn("click",function(){return zn(t),$n(xn().analizarImagenes())}),It(29," Analizar Im\xe1genes "),ut()()}if(2&e){const t=xn();Zt(20),Tn("ngIf",t.imagenesKeys.length>0),Zt(8),Tn("disabled",0===t.imagenesKeys.length)}}let Gae=(()=>{class e{router;biradsService;imagenesSeleccionadas={};imagenesKeys=[];isProcessing=!1;constructor(t,r){this.router=t,this.biradsService=r}onFilesSelected(t,r){const o=t.target.files[0];o&&(this.imagenesSeleccionadas[r]=o,this.imagenesKeys=Object.keys(this.imagenesSeleccionadas))}analizarImagenes(){if(0===this.imagenesKeys.length)return;const t=new FormData;for(const r of this.imagenesKeys)t.append(r,this.imagenesSeleccionadas[r]);this.isProcessing=!0,this.biradsService.analizarImagenes(t).subscribe({next:r=>{localStorage.setItem("birads_resultado",JSON.stringify(r)),this.isProcessing=!1,this.router.navigate(["/report"])},error:()=>{this.isProcessing=!1,alert("Ocurri\xf3 un error durante el an\xe1lisis. Intenta de nuevo.")}})}static \u0275fac=function(r){return new(r||e)(At(bi),At(Hae))};static \u0275cmp=ja({type:e,selectors:[["app-upload"]],decls:4,vars:2,consts:[["class","analysis-container",4,"ngIf"],["class","container-centered",4,"ngIf"],[1,"analysis-container"],[2,"font-style","italic","max-width","600px","text-align","center","margin-top","0.5rem"],[1,"spinner"],[1,"container-centered"],[1,"upload-list","mt-3"],[1,"upload-item"],[1,"upload-label"],["type","file","accept",".dcm,.dicom,.jpg,.jpeg,.png,.tif,.tiff",1,"upload-input",3,"change"],["class","imagenes-list mt-3",4,"ngIf"],[1,"mensaje-aviso",2,"max-width","600px","margin","2.5rem auto 0.5rem","font-size","0.95rem","text-align","center","color","#444"],[1,"button-primary","mt-3",2,"margin-top","0.1rem",3,"click","disabled"],[1,"imagenes-list","mt-3"],["class","imagen-item",4,"ngFor","ngForOf"],[1,"imagen-item"],[1,"imagen-label"],[1,"imagen-filename"]],template:function(r,o){1&r&&(lt(0,"header"),ci(1,"app-navbar"),ut(),xo(2,Vae,8,0,"div",0)(3,$ae,30,2,"div",1)),2&r&&(Zt(2),Tn("ngIf",o.isProcessing),Zt(),Tn("ngIf",!o.isProcessing))},dependencies:[Gl,hy,yh,Dp,oD],styles:[".analysis-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#faf8ed;z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:Helvetica Neue,sans-serif;text-align:center}.analysis-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:.5rem;font-weight:700}.analysis-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2rem}.analysis-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #c8ae7e;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return e})();var Wr=d(2284),_r=Uint8Array,na=Uint16Array,Mp=Int32Array,Bh=new _r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uh=new _r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bp=new _r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hF=function(e,n){for(var t=new na(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];var o=new Mp(t[30]);for(r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)o[i]=i-t[r]<<5|r;return{b:t,r:o}},gF=hF(Bh,2),iD=gF.r;gF.b[28]=258,iD[258]=28;for(var DO=hF(Uh,0).r,Cp=new na(32768),oo=0;oo<32768;++oo){var qu=(43690&oo)>>1|(21845&oo)<<1;Cp[oo]=((65280&(qu=(61680&(qu=(52428&qu)>>2|(13107&qu)<<2))>>4|(3855&qu)<<4))>>8|(255&qu)<<8)>>1}var sl=function(e,n,t){for(var r=e.length,o=0,i=new na(n);o<r;++o)e[o]&&++i[e[o]-1];var l,a=new na(n);for(o=1;o<n;++o)a[o]=a[o-1]+i[o-1]<<1;if(t){l=new na(1<<n);var u=15-n;for(o=0;o<r;++o)if(e[o])for(var c=o<<4|e[o],f=n-e[o],M=a[e[o]-1]++<<f,_=M|(1<<f)-1;M<=_;++M)l[Cp[M]>>u]=c}else for(l=new na(r),o=0;o<r;++o)e[o]&&(l[o]=Cp[a[e[o]-1]++]>>15-e[o]);return l},ec=new _r(288);for(oo=0;oo<144;++oo)ec[oo]=8;for(oo=144;oo<256;++oo)ec[oo]=9;for(oo=256;oo<280;++oo)ec[oo]=7;for(oo=280;oo<288;++oo)ec[oo]=8;var Tp=new _r(32);for(oo=0;oo<32;++oo)Tp[oo]=5;var vF=sl(ec,9,0),yF=sl(Tp,5,0),Op=function(e){return(e+7)/8|0},ll=function(e,n,t){var r=n/8|0;e[r]|=t<<=7&n,e[r+1]|=t>>8},Fh=function(e,n,t){var r=n/8|0;e[r]|=t<<=7&n,e[r+1]|=t>>8,e[r+2]|=t>>16},uD=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var o=t.length,i=t.slice();if(!o)return{t:TO,l:0};if(1==o){var a=new _r(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(Me,we){return Me.f-we.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],c=0,f=1,M=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};f!=o-1;)l=t[t[c].f<t[M].f?c++:M++],u=t[c!=f&&t[c].f<t[M].f?c++:M++],t[f++]={s:-1,f:l.f+u.f,l,r:u};var _=i[0].s;for(r=1;r<o;++r)i[r].s>_&&(_=i[r].s);var I=new na(_+1),U=cD(t[f-1],I,0);if(U>n){r=0;var k=0,Y=U-n,J=1<<Y;for(i.sort(function(we,Be){return I[Be.s]-I[we.s]||we.f-Be.f});r<o;++r){var se=i[r].s;if(!(I[se]>n))break;k+=J-(1<<U-I[se]),I[se]=n}for(k>>=Y;k>0;){var he=i[r].s;I[he]<n?k-=1<<n-I[he]++-1:++r}for(;r>=0&&k;--r){var fe=i[r].s;I[fe]==n&&(--I[fe],++k)}U=n}return{t:new _r(I),l:U}},cD=function(e,n,t){return-1==e.s?Math.max(cD(e.l,n,t+1),cD(e.r,n,t+1)):n[e.s]=t},MO=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new na(++n),r=0,o=e[0],i=1,a=function(u){t[r++]=u},l=1;l<=n;++l)if(e[l]==o&&l!=n)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[l]}return{c:t.subarray(0,r),n}},Wh=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},bO=function(e,n,t){var r=t.length,o=Op(n+2);e[o]=255&r,e[o+1]=r>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<r;++i)e[o+i+4]=t[i];return 8*(o+4+r)},CO=function(e,n,t,r,o,i,a,l,u,c,f){ll(n,f++,t),++o[256];for(var M=uD(o,15),_=M.t,I=M.l,U=uD(i,15),k=U.t,Y=U.l,J=MO(_),se=J.c,he=J.n,fe=MO(k),Me=fe.c,we=fe.n,Be=new na(19),Oe=0;Oe<se.length;++Oe)++Be[31&se[Oe]];for(Oe=0;Oe<Me.length;++Oe)++Be[31&Me[Oe]];for(var be=uD(Be,7),Ue=be.t,ge=be.l,Ce=19;Ce>4&&!Ue[bp[Ce-1]];--Ce);var et,rt,Qe,at,Ne=c+5<<3,je=Wh(o,ec)+Wh(i,Tp)+a,Ze=Wh(o,_)+Wh(i,k)+a+14+3*Ce+Wh(Be,Ue)+2*Be[16]+3*Be[17]+7*Be[18];if(u>=0&&Ne<=je&&Ne<=Ze)return bO(n,f,e.subarray(u,u+c));if(ll(n,f,1+(Ze<je)),f+=2,Ze<je){et=sl(_,I,0),rt=_,Qe=sl(k,Y,0),at=k;var Ft=sl(Ue,ge,0);for(ll(n,f,he-257),ll(n,f+5,we-1),ll(n,f+10,Ce-4),f+=14,Oe=0;Oe<Ce;++Oe)ll(n,f+3*Oe,Ue[bp[Oe]]);f+=3*Ce;for(var xt=[se,Me],pe=0;pe<2;++pe){var _e=xt[pe];for(Oe=0;Oe<_e.length;++Oe)ll(n,f,Ft[Le=31&_e[Oe]]),f+=Ue[Le],Le>15&&(ll(n,f,_e[Oe]>>5&127),f+=_e[Oe]>>12)}}else et=vF,rt=ec,Qe=yF,at=Tp;for(Oe=0;Oe<l;++Oe){var We=r[Oe];if(We>255){var Le;Fh(n,f,et[257+(Le=We>>18&31)]),f+=rt[Le+257],Le>7&&(ll(n,f,We>>23&31),f+=Bh[Le]);var ze=31&We;Fh(n,f,Qe[ze]),f+=at[ze],ze>3&&(Fh(n,f,We>>5&8191),f+=Uh[ze])}else Fh(n,f,et[We]),f+=rt[We]}return Fh(n,f,et[256]),f+rt[256]},bF=new Mp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TO=new _r(0),CF=function(e,n,t,r,o,i){var a=i.z||e.length,l=new _r(r+a+5*(1+Math.ceil(a/7e3))+o),u=l.subarray(r,l.length-o),c=i.l,f=7&(i.r||0);if(n){f&&(u[0]=i.r>>3);for(var M=bF[n-1],_=M>>13,I=8191&M,U=(1<<t)-1,k=i.p||new na(32768),Y=i.h||new na(U+1),J=Math.ceil(t/3),se=2*J,he=function(vt){return(e[vt]^e[vt+1]<<J^e[vt+2]<<se)&U},fe=new Mp(25e3),Me=new na(288),we=new na(32),Be=0,Oe=0,be=i.i||0,Ue=0,ge=i.w||0,Ce=0;be+2<a;++be){var Ne=he(be),je=32767&be,Ze=Y[Ne];if(k[je]=Ze,Y[Ne]=je,ge<=be){var et=a-be;if((Be>7e3||Ue>24576)&&(et>423||!c)){f=CO(e,u,0,fe,Me,we,Oe,Ue,Ce,be-Ce,f),Ue=Be=Oe=0,Ce=be;for(var rt=0;rt<286;++rt)Me[rt]=0;for(rt=0;rt<30;++rt)we[rt]=0}var Qe=2,at=0,Ft=I,xt=je-Ze&32767;if(et>2&&Ne==he(be-xt))for(var pe=Math.min(_,et)-1,_e=Math.min(32767,be),Le=Math.min(258,et);xt<=_e&&--Ft&&je!=Ze;){if(e[be+Qe]==e[be+Qe-xt]){for(var We=0;We<Le&&e[be+We]==e[be+We-xt];++We);if(We>Qe){if(Qe=We,at=xt,We>pe)break;var ze=Math.min(xt,We-2),nt=0;for(rt=0;rt<ze;++rt){var ht=be-xt+rt&32767,Pt=ht-k[ht]&32767;Pt>nt&&(nt=Pt,Ze=ht)}}}xt+=(je=Ze)-(Ze=k[je])&32767}if(at){fe[Ue++]=268435456|iD[Qe]<<18|DO[at];var Nt=31&iD[Qe],zt=31&DO[at];Oe+=Bh[Nt]+Uh[zt],++Me[257+Nt],++we[zt],ge=be+Qe,++Be}else fe[Ue++]=e[be],++Me[e[be]]}}for(be=Math.max(be,ge);be<a;++be)fe[Ue++]=e[be],++Me[e[be]];f=CO(e,u,c,fe,Me,we,Oe,Ue,Ce,be-Ce,f),c||(i.r=7&f|u[f/8|0]<<3,f-=7,i.h=Y,i.p=k,i.i=be,i.w=ge)}else{for(be=i.w||0;be<a+c;be+=65535){var Gt=be+65535;Gt>=a&&(u[f/8|0]=c,Gt=a),f=bO(u,f+1,e.subarray(be,Gt))}i.i=a}return function(e,n,t){return(null==n||n<0)&&(n=0),(null==t||t>e.length)&&(t=e.length),new _r(e.subarray(n,t))}(l,0,r+Op(f)+o)},OO=function(){var e=1,n=0;return{p:function(t){for(var r=e,o=n,i=0|t.length,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)o+=r+=t[a];r=(65535&r)+15*(r>>16),o=(65535&o)+15*(o>>16)}e=r,n=o},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(n%=65521))<<8|n>>8}}},uo=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8};function Ip(e,n){n||(n={});var t=OO();t.p(e);var r=function(e,n,t,r,o){if(!o&&(o={l:1},n.dictionary)){var i=n.dictionary.subarray(-32768),a=new _r(i.length+e.length);a.set(i),a.set(e,i.length),e=a,o.w=i.length}return CF(e,null==n.level?6:n.level,null==n.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+n.mem,t,r,o)}(e,n,n.dictionary?6:2,4);return function(e,n){var t=n.level,r=0==t?0:t<6?1:9==t?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var o=OO();o.p(n.dictionary),uo(e,2,o.d())}}(r,n),uo(r,r.length-4,t.d()),r}var RO=typeof TextDecoder<"u"&&new TextDecoder;try{RO.decode(TO,{stream:!0})}catch{}function FF(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function WF(e,n){return function sse(e){if(Array.isArray(e))return e}(e)||function lse(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(f){c=!0,o=f}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,n)||function use(e,n){if(e){if("string"==typeof e)return FF(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?FF(e,n):void 0}}(e,n)||function cse(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kF(e,n="utf8"){return new TextDecoder(n).decode(e)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const dse=new TextEncoder,gse=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),wO={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ap{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=8192,t={}){let r=!1;"number"==typeof n?n=new ArrayBuffer(n):(r=!0,this.lastWrittenByte=n.byteLength);const o=t.offset?t.offset>>>0:0,i=n.byteLength-o;let a=o;(ArrayBuffer.isView(n)||n instanceof Ap)&&(n.byteLength!==n.buffer.byteLength&&(a=n.byteOffset+o),n=n.buffer),this.lastWrittenByte=r?i:0,this.buffer=n,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const n=this._marks.pop();if(void 0===n)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){const r=2*(this.offset+n),o=new Uint8Array(r);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,t){const r=wO[t].BYTES_PER_ELEMENT*n,o=this.byteOffset+this.offset,i=this.buffer.slice(o,o+r);if(this.littleEndian===gse&&"uint8"!==t&&"int8"!==t){const l=new Uint8Array(this.buffer.slice(o,o+r));l.reverse();const u=new wO[t](l.buffer);return this.offset+=r,u.reverse(),u}const a=new wO[t](i);return this.offset+=r,a}readInt16(){const n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){const n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){const n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){const n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){const n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){const n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){const n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){const n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let t="";for(let r=0;r<n;r++)t+=this.readChar();return t}readUtf8(n=1){return kF(this.readBytes(n))}decodeText(n=1,t="utf8"){return kF(this.readBytes(n),t)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let t=0;t<n.length;t++)this._data.setUint8(this.offset++,n[t]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let t=0;t<n.length;t++)this.writeUint8(n.charCodeAt(t));return this}writeUtf8(n){return this.writeBytes(function fse(e){return dse.encode(e)}(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hh(e){let n=e.length;for(;--n>=0;)e[n]=0}const FO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),yD=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),bse=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ZF=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jl=new Array(576);Hh(Jl);const Lp=new Array(60);Hh(Lp);const Rp=new Array(512);Hh(Rp);const wp=new Array(256);Hh(wp);const WO=new Array(29);Hh(WO);const DD=new Array(30);function kO(e,n,t,r,o){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let XF,JF,QF;function HO(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}Hh(DD);const qF=e=>e<256?Rp[e]:Rp[256+(e>>>7)],jp=(e,n)=>{e.pending_buf[e.pending++]=255&n,e.pending_buf[e.pending++]=n>>>8&255},Ca=(e,n,t)=>{e.bi_valid>16-t?(e.bi_buf|=n<<e.bi_valid&65535,jp(e,e.bi_buf),e.bi_buf=n>>16-e.bi_valid,e.bi_valid+=t-16):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},ul=(e,n,t)=>{Ca(e,t[2*n],t[2*n+1])},e3=(e,n)=>{let t=0;do{t|=1&e,e>>>=1,t<<=1}while(--n>0);return t>>>1},t3=(e,n,t)=>{const r=new Array(16);let i,a,o=0;for(i=1;i<=15;i++)o=o+t[i-1]<<1,r[i]=o;for(a=0;a<=n;a++){let l=e[2*a+1];0!==l&&(e[2*a]=e3(r[l]++,l))}},n3=e=>{let n;for(n=0;n<286;n++)e.dyn_ltree[2*n]=0;for(n=0;n<30;n++)e.dyn_dtree[2*n]=0;for(n=0;n<19;n++)e.bl_tree[2*n]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},r3=e=>{e.bi_valid>8?jp(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},o3=(e,n,t,r)=>{const o=2*n,i=2*t;return e[o]<e[i]||e[o]===e[i]&&r[n]<=r[t]},VO=(e,n,t)=>{const r=e.heap[t];let o=t<<1;for(;o<=e.heap_len&&(o<e.heap_len&&o3(n,e.heap[o+1],e.heap[o],e.depth)&&o++,!o3(n,r,e.heap[o],e.depth));)e.heap[t]=e.heap[o],t=o,o<<=1;e.heap[t]=r},i3=(e,n,t)=>{let r,o,a,l,i=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+i++],r+=(255&e.pending_buf[e.sym_buf+i++])<<8,o=e.pending_buf[e.sym_buf+i++],0===r?ul(e,o,n):(a=wp[o],ul(e,a+256+1,n),l=FO[a],0!==l&&(o-=WO[a],Ca(e,o,l)),r--,a=qF(r),ul(e,a,t),l=yD[a],0!==l&&(r-=DD[a],Ca(e,r,l)))}while(i<e.sym_next);ul(e,256,n)},KO=(e,n)=>{const t=n.dyn_tree,r=n.stat_desc.static_tree,o=n.stat_desc.has_stree,i=n.stat_desc.elems;let a,l,c,u=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<i;a++)0!==t[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):t[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,t[2*c]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=r[2*c+1]);for(n.max_code=u,a=e.heap_len>>1;a>=1;a--)VO(e,t,a);c=i;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],VO(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=l,t[2*c]=t[2*a]+t[2*l],e.depth[c]=(e.depth[a]>=e.depth[l]?e.depth[a]:e.depth[l])+1,t[2*a+1]=t[2*l+1]=c,e.heap[1]=c++,VO(e,t,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,n)=>{const t=n.dyn_tree,r=n.max_code,o=n.stat_desc.static_tree,i=n.stat_desc.has_stree,a=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,u=n.stat_desc.max_length;let c,f,M,_,I,U,k=0;for(_=0;_<=15;_++)e.bl_count[_]=0;for(t[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)f=e.heap[c],_=t[2*t[2*f+1]+1]+1,_>u&&(_=u,k++),t[2*f+1]=_,!(f>r)&&(e.bl_count[_]++,I=0,f>=l&&(I=a[f-l]),U=t[2*f],e.opt_len+=U*(_+I),i&&(e.static_len+=U*(o[2*f+1]+I)));if(0!==k){do{for(_=u-1;0===e.bl_count[_];)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[u]--,k-=2}while(k>0);for(_=u;0!==_;_--)for(f=e.bl_count[_];0!==f;)M=e.heap[--c],!(M>r)&&(t[2*M+1]!==_&&(e.opt_len+=(_-t[2*M+1])*t[2*M],t[2*M+1]=_),f--)}})(e,n),t3(t,u,e.bl_count)},a3=(e,n,t)=>{let r,i,o=-1,a=n[1],l=0,u=7,c=4;for(0===a&&(u=138,c=3),n[2*(t+1)+1]=65535,r=0;r<=t;r++)i=a,a=n[2*(r+1)+1],!(++l<u&&i===a)&&(l<c?e.bl_tree[2*i]+=l:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):l<=10?e.bl_tree[34]++:e.bl_tree[36]++,l=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},s3=(e,n,t)=>{let r,i,o=-1,a=n[1],l=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=t;r++)if(i=a,a=n[2*(r+1)+1],!(++l<u&&i===a)){if(l<c)do{ul(e,i,e.bl_tree)}while(0!==--l);else 0!==i?(i!==o&&(ul(e,i,e.bl_tree),l--),ul(e,16,e.bl_tree),Ca(e,l-3,2)):l<=10?(ul(e,17,e.bl_tree),Ca(e,l-3,3)):(ul(e,18,e.bl_tree),Ca(e,l-11,7));l=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}};let l3=!1;const u3=(e,n,t,r)=>{Ca(e,0+(r?1:0),3),r3(e),jp(e,t),jp(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t};var Fse={_tr_init:e=>{l3||((()=>{let e,n,t,r,o;const i=new Array(16);for(t=0,r=0;r<28;r++)for(WO[r]=t,e=0;e<1<<FO[r];e++)wp[t++]=r;for(wp[t-1]=r,o=0,r=0;r<16;r++)for(DD[r]=o,e=0;e<1<<yD[r];e++)Rp[o++]=r;for(o>>=7;r<30;r++)for(DD[r]=o<<7,e=0;e<1<<yD[r]-7;e++)Rp[256+o++]=r;for(n=0;n<=15;n++)i[n]=0;for(e=0;e<=143;)Jl[2*e+1]=8,e++,i[8]++;for(;e<=255;)Jl[2*e+1]=9,e++,i[9]++;for(;e<=279;)Jl[2*e+1]=7,e++,i[7]++;for(;e<=287;)Jl[2*e+1]=8,e++,i[8]++;for(t3(Jl,287,i),e=0;e<30;e++)Lp[2*e+1]=5,Lp[2*e]=e3(e,5);XF=new kO(Jl,FO,257,286,15),JF=new kO(Lp,yD,0,30,15),QF=new kO(new Array(0),bse,0,19,7)})(),l3=!0),e.l_desc=new HO(e.dyn_ltree,XF),e.d_desc=new HO(e.dyn_dtree,JF),e.bl_desc=new HO(e.bl_tree,QF),e.bi_buf=0,e.bi_valid=0,n3(e)},_tr_stored_block:u3,_tr_flush_block:(e,n,t,r)=>{let o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),KO(e,e.l_desc),KO(e,e.d_desc),a=(e=>{let n;for(a3(e,e.dyn_ltree,e.l_desc.max_code),a3(e,e.dyn_dtree,e.d_desc.max_code),KO(e,e.bl_desc),n=18;n>=3&&0===e.bl_tree[2*ZF[n]+1];n--);return e.opt_len+=3*(n+1)+5+5+4,n})(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=t+5,t+4<=o&&-1!==n?u3(e,n,t,r):4===e.strategy||i===o?(Ca(e,2+(r?1:0),3),i3(e,Jl,Lp)):(Ca(e,4+(r?1:0),3),((e,n,t,r)=>{let o;for(Ca(e,n-257,5),Ca(e,t-1,5),Ca(e,r-4,4),o=0;o<r;o++)Ca(e,e.bl_tree[2*ZF[o]+1],3);s3(e,e.dyn_ltree,n-1),s3(e,e.dyn_dtree,t-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),i3(e,e.dyn_ltree,e.dyn_dtree)),n3(e),r&&r3(e)},_tr_tally:(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,0===n?e.dyn_ltree[2*t]++:(e.matches++,n--,e.dyn_ltree[2*(wp[t]+256+1)]++,e.dyn_dtree[2*qF(n)]++),e.sym_next===e.sym_end),_tr_align:e=>{Ca(e,2,3),ul(e,256,Jl),(e=>{16===e.bi_valid?(jp(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},Np=(e,n,t,r)=>{let o=65535&e,i=e>>>16&65535,a=0;for(;0!==t;){a=t>2e3?2e3:t,t-=a;do{o=o+n[r++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16};const kse=new Uint32Array((()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;n[t]=e}return n})());var fi=(e,n,t,r)=>{const o=kse,i=r+t;e^=-1;for(let a=r;a<i;a++)e=e>>>8^o[255&(e^n[a])];return-1^e},Pd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Id={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Hse,_tr_stored_block:zO,_tr_flush_block:Vse,_tr_tally:rc,_tr_align:Kse}=Fse,{Z_NO_FLUSH:oc,Z_PARTIAL_FLUSH:zse,Z_FULL_FLUSH:$se,Z_FINISH:is,Z_BLOCK:c3,Z_OK:Ti,Z_STREAM_END:d3,Z_STREAM_ERROR:cl,Z_DATA_ERROR:Gse,Z_BUF_ERROR:$O,Z_DEFAULT_COMPRESSION:Yse,Z_FILTERED:Zse,Z_HUFFMAN_ONLY:MD,Z_RLE:Xse,Z_FIXED:Jse,Z_DEFAULT_STRATEGY:Qse,Z_UNKNOWN:qse,Z_DEFLATED:bD}=Id,dl=262,_d=(e,n)=>(e.msg=Pd[n],n),f3=e=>2*e-(e>4?9:0),ac=e=>{let n=e.length;for(;--n>=0;)e[n]=0},ule=e=>{let n,t,r,o=e.w_size;n=e.hash_size,r=n;do{t=e.head[--r],e.head[r]=t>=o?t-o:0}while(--n);n=o,r=n;do{t=e.prev[--r],e.prev[r]=t>=o?t-o:0}while(--n)};let sc=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const Ua=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,0===n.pending&&(n.pending_out=0))},Fa=(e,n)=>{Vse(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,Ua(e.strm)},Dr=(e,n)=>{e.pending_buf[e.pending++]=n},Up=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=255&n},qO=(e,n,t,r)=>{let o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,n.set(e.input.subarray(e.next_in,e.next_in+o),t),1===e.state.wrap?e.adler=Np(e.adler,n,o,t):2===e.state.wrap&&(e.adler=fi(e.adler,n,o,t)),e.next_in+=o,e.total_in+=o,o)},h3=(e,n)=>{let o,i,t=e.max_chain_length,r=e.strstart,a=e.prev_length,l=e.nice_match;const u=e.strstart>e.w_size-dl?e.strstart-(e.w_size-dl):0,c=e.window,f=e.w_mask,M=e.prev,_=e.strstart+258;let I=c[r+a-1],U=c[r+a];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do{if(o=n,c[o+a]===U&&c[o+a-1]===I&&c[o]===c[r]&&c[++o]===c[r+1]){r+=2,o++;do{}while(c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&c[++r]===c[++o]&&r<_);if(i=258-(_-r),r=_-258,i>a){if(e.match_start=n,a=i,i>=l)break;I=c[r+a-1],U=c[r+a]}}}while((n=M[n&f])>u&&0!==--t);return a<=e.lookahead?a:e.lookahead},Gh=e=>{const n=e.w_size;let t,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-dl)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),ule(e),r+=n),0===e.strm.avail_in)break;if(t=qO(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=sc(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=sc(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<dl&&0!==e.strm.avail_in)},g3=(e,n)=>{let r,o,i,t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,l=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<t&&(0===r&&n!==is||n===oc||r!==o+e.strm.avail_in)))break;a=n===is&&r===o+e.strm.avail_in?1:0,zO(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ua(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(qO(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===a);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:n!==oc&&n!==is&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(qO(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,t=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=t||(o||n===is)&&n!==oc&&0===e.strm.avail_in&&o<=i)&&(r=o>i?i:o,a=n===is&&0===e.strm.avail_in&&r===o?1:0,zO(e,e.block_start,r,a),e.block_start+=r,Ua(e.strm)),a?3:1)},eP=(e,n)=>{let t,r;for(;;){if(e.lookahead<dl){if(Gh(e),e.lookahead<dl&&n===oc)return 1;if(0===e.lookahead)break}if(t=0,e.lookahead>=3&&(e.ins_h=sc(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==t&&e.strstart-t<=e.w_size-dl&&(e.match_length=h3(e,t)),e.match_length>=3)if(r=rc(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=sc(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=sc(e,e.ins_h,e.window[e.strstart+1]);else r=rc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,n===is?(Fa(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fa(e,!1),0===e.strm.avail_out)?1:2},Yh=(e,n)=>{let t,r,o;for(;;){if(e.lookahead<dl){if(Gh(e),e.lookahead<dl&&n===oc)return 1;if(0===e.lookahead)break}if(t=0,e.lookahead>=3&&(e.ins_h=sc(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==t&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-dl&&(e.match_length=h3(e,t),e.match_length<=5&&(e.strategy===Zse||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=rc(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=sc(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Fa(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=rc(e,0,e.window[e.strstart-1]),r&&Fa(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=rc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,n===is?(Fa(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fa(e,!1),0===e.strm.avail_out)?1:2};function fl(e,n,t,r,o){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=o}const Fp=[new fl(0,0,0,0,g3),new fl(4,4,8,4,eP),new fl(4,5,16,8,eP),new fl(4,6,32,32,eP),new fl(4,4,16,16,Yh),new fl(8,16,32,32,Yh),new fl(8,16,128,128,Yh),new fl(8,32,128,256,Yh),new fl(32,128,258,1024,Yh),new fl(32,258,258,4096,Yh)];function hle(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ac(this.dyn_ltree),ac(this.dyn_dtree),ac(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ac(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ac(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Wp=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||42!==n.status&&57!==n.status&&69!==n.status&&73!==n.status&&91!==n.status&&103!==n.status&&113!==n.status&&666!==n.status?1:0},m3=e=>{if(Wp(e))return _d(e,cl);e.total_in=e.total_out=0,e.data_type=qse;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=2===n.wrap?57:n.wrap?42:113,e.adler=2===n.wrap?0:1,n.last_flush=-2,Hse(n),Ti},p3=e=>{const n=m3(e);return n===Ti&&(e=>{e.window_size=2*e.w_size,ac(e.head),e.max_lazy_match=Fp[e.level].max_lazy,e.good_match=Fp[e.level].good_length,e.nice_match=Fp[e.level].nice_length,e.max_chain_length=Fp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),n},v3=(e,n,t,r,o,i)=>{if(!e)return cl;let a=1;if(n===Yse&&(n=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||t!==bD||r<8||r>15||n<0||n>9||i<0||i>Jse||8===r&&1!==a)return _d(e,cl);8===r&&(r=9);const l=new hle;return e.state=l,l.strm=e,l.status=42,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=n,l.strategy=i,l.method=t,p3(e)};var kp_deflateInit2=v3,kp_deflateSetHeader=(e,n)=>Wp(e)||2!==e.state.wrap?cl:(e.state.gzhead=n,Ti),kp_deflate=(e,n)=>{if(Wp(e)||n>c3||n<0)return e?_d(e,cl):cl;const t=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===t.status&&n!==is)return _d(e,0===e.avail_out?$O:cl);const r=t.last_flush;if(t.last_flush=n,0!==t.pending){if(Ua(e),0===e.avail_out)return t.last_flush=-1,Ti}else if(0===e.avail_in&&f3(n)<=f3(r)&&n!==is)return _d(e,$O);if(666===t.status&&0!==e.avail_in)return _d(e,$O);if(42===t.status&&0===t.wrap&&(t.status=113),42===t.status){let o=bD+(t.w_bits-8<<4)<<8,i=-1;if(i=t.strategy>=MD||t.level<2?0:t.level<6?1:6===t.level?2:3,o|=i<<6,0!==t.strstart&&(o|=32),o+=31-o%31,Up(t,o),0!==t.strstart&&(Up(t,e.adler>>>16),Up(t,65535&e.adler)),e.adler=1,t.status=113,Ua(e),0!==t.pending)return t.last_flush=-1,Ti}if(57===t.status)if(e.adler=0,Dr(t,31),Dr(t,139),Dr(t,8),t.gzhead)Dr(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Dr(t,255&t.gzhead.time),Dr(t,t.gzhead.time>>8&255),Dr(t,t.gzhead.time>>16&255),Dr(t,t.gzhead.time>>24&255),Dr(t,9===t.level?2:t.strategy>=MD||t.level<2?4:0),Dr(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Dr(t,255&t.gzhead.extra.length),Dr(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=fi(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69;else if(Dr(t,0),Dr(t,0),Dr(t,0),Dr(t,0),Dr(t,0),Dr(t,9===t.level?2:t.strategy>=MD||t.level<2?4:0),Dr(t,3),t.status=113,Ua(e),0!==t.pending)return t.last_flush=-1,Ti;if(69===t.status){if(t.gzhead.extra){let o=t.pending,i=(65535&t.gzhead.extra.length)-t.gzindex;for(;t.pending+i>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>o&&(e.adler=fi(e.adler,t.pending_buf,t.pending-o,o)),t.gzindex+=l,Ua(e),0!==t.pending)return t.last_flush=-1,Ti;o=0,i-=l}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+i),t.pending),t.pending+=i,t.gzhead.hcrc&&t.pending>o&&(e.adler=fi(e.adler,t.pending_buf,t.pending-o,o)),t.gzindex=0}t.status=73}if(73===t.status){if(t.gzhead.name){let i,o=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>o&&(e.adler=fi(e.adler,t.pending_buf,t.pending-o,o)),Ua(e),0!==t.pending)return t.last_flush=-1,Ti;o=0}i=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Dr(t,i)}while(0!==i);t.gzhead.hcrc&&t.pending>o&&(e.adler=fi(e.adler,t.pending_buf,t.pending-o,o)),t.gzindex=0}t.status=91}if(91===t.status){if(t.gzhead.comment){let i,o=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>o&&(e.adler=fi(e.adler,t.pending_buf,t.pending-o,o)),Ua(e),0!==t.pending)return t.last_flush=-1,Ti;o=0}i=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Dr(t,i)}while(0!==i);t.gzhead.hcrc&&t.pending>o&&(e.adler=fi(e.adler,t.pending_buf,t.pending-o,o))}t.status=103}if(103===t.status){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Ua(e),0!==t.pending))return t.last_flush=-1,Ti;Dr(t,255&e.adler),Dr(t,e.adler>>8&255),e.adler=0}if(t.status=113,Ua(e),0!==t.pending)return t.last_flush=-1,Ti}if(0!==e.avail_in||0!==t.lookahead||n!==oc&&666!==t.status){let o=0===t.level?g3(t,n):t.strategy===MD?((e,n)=>{let t;for(;;){if(0===e.lookahead&&(Gh(e),0===e.lookahead)){if(n===oc)return 1;break}if(e.match_length=0,t=rc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,n===is?(Fa(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fa(e,!1),0===e.strm.avail_out)?1:2})(t,n):t.strategy===Xse?((e,n)=>{let t,r,o,i;const a=e.window;for(;;){if(e.lookahead<=258){if(Gh(e),e.lookahead<=258&&n===oc)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,r=a[o],r===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+258;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=258-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(t=rc(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=rc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,n===is?(Fa(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fa(e,!1),0===e.strm.avail_out)?1:2})(t,n):Fp[t.level].func(t,n);if((3===o||4===o)&&(t.status=666),1===o||3===o)return 0===e.avail_out&&(t.last_flush=-1),Ti;if(2===o&&(n===zse?Kse(t):n!==c3&&(zO(t,0,0,!1),n===$se&&(ac(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),Ua(e),0===e.avail_out))return t.last_flush=-1,Ti}return n!==is?Ti:t.wrap<=0?d3:(2===t.wrap?(Dr(t,255&e.adler),Dr(t,e.adler>>8&255),Dr(t,e.adler>>16&255),Dr(t,e.adler>>24&255),Dr(t,255&e.total_in),Dr(t,e.total_in>>8&255),Dr(t,e.total_in>>16&255),Dr(t,e.total_in>>24&255)):(Up(t,e.adler>>>16),Up(t,65535&e.adler)),Ua(e),t.wrap>0&&(t.wrap=-t.wrap),0!==t.pending?Ti:d3)},kp_deflateEnd=e=>{if(Wp(e))return cl;const n=e.state.status;return e.state=null,113===n?_d(e,Gse):Ti},kp_deflateSetDictionary=(e,n)=>{let t=n.length;if(Wp(e))return cl;const r=e.state,o=r.wrap;if(2===o||1===o&&42!==r.status||r.lookahead)return cl;if(1===o&&(e.adler=Np(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){0===o&&(ac(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(n.subarray(t-r.w_size,t),0),n=u,t=r.w_size}const i=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Gh(r);r.lookahead>=3;){let u=r.strstart,c=r.lookahead-2;do{r.ins_h=sc(r,r.ins_h,r.window[u+3-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++}while(--c);r.strstart=u,r.lookahead=2,Gh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=l,e.avail_in=i,r.wrap=o,Ti};const xle=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var CD_assign=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(const r in t)xle(t,r)&&(e[r]=t[r])}}return e},CD_flattenChunks=e=>{let n=0;for(let r=0,o=e.length;r<o;r++)n+=e[r].length;const t=new Uint8Array(n);for(let r=0,o=0,i=e.length;r<i;r++){let a=e[r];t.set(a,o),o+=a.length}return t};let E3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{E3=!1}const Hp=new Uint8Array(256);for(let e=0;e<256;e++)Hp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Hp[254]=Hp[254]=1;var Vp_string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let n,t,r,o,i,a=e.length,l=0;for(o=0;o<a;o++)t=e.charCodeAt(o),55296==(64512&t)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),o++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),i=0,o=0;i<l;o++)t=e.charCodeAt(o),55296==(64512&t)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),o++)),t<128?n[i++]=t:t<2048?(n[i++]=192|t>>>6,n[i++]=128|63&t):t<65536?(n[i++]=224|t>>>12,n[i++]=128|t>>>6&63,n[i++]=128|63&t):(n[i++]=240|t>>>18,n[i++]=128|t>>>12&63,n[i++]=128|t>>>6&63,n[i++]=128|63&t);return n},Vp_buf2string=(e,n)=>{const t=n||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,n));let r,o;const i=new Array(2*t);for(o=0,r=0;r<t;){let a=e[r++];if(a<128){i[o++]=a;continue}let l=Hp[a];if(l>4)i[o++]=65533,r+=l-1;else{for(a&=2===l?31:3===l?15:7;l>1&&r<t;)a=a<<6|63&e[r++],l--;l>1?i[o++]=65533:a<65536?i[o++]=a:(a-=65536,i[o++]=55296|a>>10&1023,i[o++]=56320|1023&a)}}return((e,n)=>{if(n<65534&&e.subarray&&E3)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t})(i,o)},Vp_utf8border=(e,n)=>{(n=n||e.length)>e.length&&(n=e.length);let t=n-1;for(;t>=0&&128==(192&e[t]);)t--;return t<0||0===t?n:t+Hp[e[t]]>n?t:n},y3=function jle(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const D3=Object.prototype.toString,{Z_NO_FLUSH:Nle,Z_SYNC_FLUSH:Ble,Z_FULL_FLUSH:Ule,Z_FINISH:Fle,Z_OK:TD,Z_STREAM_END:Wle,Z_DEFAULT_COMPRESSION:kle,Z_DEFAULT_STRATEGY:Hle,Z_DEFLATED:Vle}=Id;function Kp(e){this.options=CD_assign({level:kle,method:Vle,chunkSize:16384,windowBits:15,memLevel:8,strategy:Hle},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y3,this.strm.avail_out=0;let t=kp_deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==TD)throw new Error(Pd[t]);if(n.header&&kp_deflateSetHeader(this.strm,n.header),n.dictionary){let r;if(r="string"==typeof n.dictionary?Vp_string2buf(n.dictionary):"[object ArrayBuffer]"===D3.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,t=kp_deflateSetDictionary(this.strm,r),t!==TD)throw new Error(Pd[t]);this._dict_set=!0}}function tP(e,n){const t=new Kp(n);if(t.push(e,!0),t.err)throw t.msg||Pd[t.err];return t.result}Kp.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=n===~~n?n:!0===n?Fle:Nle,t.input="string"==typeof e?Vp_string2buf(e):"[object ArrayBuffer]"===D3.call(e)?new Uint8Array(e):e,t.next_in=0,t.avail_in=t.input.length;;)if(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(i===Ble||i===Ule)&&t.avail_out<=6)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else{if(o=kp_deflate(t,i),o===Wle)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),o=kp_deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===TD;if(0!==t.avail_out){if(i>0&&t.next_out>0)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else if(0===t.avail_in)break}else this.onData(t.output)}return!0},Kp.prototype.onData=function(e){this.chunks.push(e)},Kp.prototype.onEnd=function(e){e===TD&&(this.result=CD_flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Jle={Deflate:Kp,deflate:tP,deflateRaw:function Kle(e,n){return(n=n||{}).raw=!0,tP(e,n)},gzip:function zle(e,n){return(n=n||{}).gzip=!0,tP(e,n)},constants:Id};const OD=16209;var qle=function(n,t){let r,o,i,a,l,u,c,f,M,_,I,U,k,Y,J,se,he,fe,Me,we,Be,Oe,be,Ue;const ge=n.state;r=n.next_in,be=n.input,o=r+(n.avail_in-5),i=n.next_out,Ue=n.output,a=i-(t-n.avail_out),l=i+(n.avail_out-257),u=ge.dmax,c=ge.wsize,f=ge.whave,M=ge.wnext,_=ge.window,I=ge.hold,U=ge.bits,k=ge.lencode,Y=ge.distcode,J=(1<<ge.lenbits)-1,se=(1<<ge.distbits)-1;e:do{U<15&&(I+=be[r++]<<U,U+=8,I+=be[r++]<<U,U+=8),he=k[I&J];t:for(;;){if(fe=he>>>24,I>>>=fe,U-=fe,fe=he>>>16&255,0===fe)Ue[i++]=65535&he;else{if(!(16&fe)){if(64&fe){if(32&fe){ge.mode=16191;break e}n.msg="invalid literal/length code",ge.mode=OD;break e}he=k[(65535&he)+(I&(1<<fe)-1)];continue t}for(Me=65535&he,fe&=15,fe&&(U<fe&&(I+=be[r++]<<U,U+=8),Me+=I&(1<<fe)-1,I>>>=fe,U-=fe),U<15&&(I+=be[r++]<<U,U+=8,I+=be[r++]<<U,U+=8),he=Y[I&se];;){if(fe=he>>>24,I>>>=fe,U-=fe,fe=he>>>16&255,16&fe){if(we=65535&he,fe&=15,U<fe&&(I+=be[r++]<<U,U+=8,U<fe&&(I+=be[r++]<<U,U+=8)),we+=I&(1<<fe)-1,we>u){n.msg="invalid distance too far back",ge.mode=OD;break e}if(I>>>=fe,U-=fe,fe=i-a,we>fe){if(fe=we-fe,fe>f&&ge.sane){n.msg="invalid distance too far back",ge.mode=OD;break e}if(Be=0,Oe=_,0===M){if(Be+=c-fe,fe<Me){Me-=fe;do{Ue[i++]=_[Be++]}while(--fe);Be=i-we,Oe=Ue}}else if(M<fe){if(Be+=c+M-fe,fe-=M,fe<Me){Me-=fe;do{Ue[i++]=_[Be++]}while(--fe);if(Be=0,M<Me){fe=M,Me-=fe;do{Ue[i++]=_[Be++]}while(--fe);Be=i-we,Oe=Ue}}}else if(Be+=M-fe,fe<Me){Me-=fe;do{Ue[i++]=_[Be++]}while(--fe);Be=i-we,Oe=Ue}for(;Me>2;)Ue[i++]=Oe[Be++],Ue[i++]=Oe[Be++],Ue[i++]=Oe[Be++],Me-=3;Me&&(Ue[i++]=Oe[Be++],Me>1&&(Ue[i++]=Oe[Be++]))}else{Be=i-we;do{Ue[i++]=Ue[Be++],Ue[i++]=Ue[Be++],Ue[i++]=Ue[Be++],Me-=3}while(Me>2);Me&&(Ue[i++]=Ue[Be++],Me>1&&(Ue[i++]=Ue[Be++]))}break}if(64&fe){n.msg="invalid distance code",ge.mode=OD;break e}he=Y[(65535&he)+(I&(1<<fe)-1)]}}break}}while(r<o&&i<l);Me=U>>3,r-=Me,U-=Me<<3,I&=(1<<U)-1,n.next_in=r,n.next_out=i,n.avail_in=r<o?o-r+5:5-(r-o),n.avail_out=i<l?l-i+257:257-(i-l),ge.hold=I,ge.bits=U};const eue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nue=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rue=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var zp=(e,n,t,r,o,i,a,l)=>{const u=l.bits;let he,fe,Me,we,Be,be,c=0,f=0,M=0,_=0,I=0,U=0,k=0,Y=0,J=0,se=0,Oe=null;const Ue=new Uint16Array(16),ge=new Uint16Array(16);let Ne,je,Ze,Ce=null;for(c=0;c<=15;c++)Ue[c]=0;for(f=0;f<r;f++)Ue[n[t+f]]++;for(I=u,_=15;_>=1&&0===Ue[_];_--);if(I>_&&(I=_),0===_)return o[i++]=20971520,o[i++]=20971520,l.bits=1,0;for(M=1;M<_&&0===Ue[M];M++);for(I<M&&(I=M),Y=1,c=1;c<=15;c++)if(Y<<=1,Y-=Ue[c],Y<0)return-1;if(Y>0&&(0===e||1!==_))return-1;for(ge[1]=0,c=1;c<15;c++)ge[c+1]=ge[c]+Ue[c];for(f=0;f<r;f++)0!==n[t+f]&&(a[ge[n[t+f]]++]=f);if(0===e?(Oe=Ce=a,be=20):1===e?(Oe=eue,Ce=tue,be=257):(Oe=nue,Ce=rue,be=0),se=0,f=0,c=M,Be=i,U=I,k=0,Me=-1,J=1<<I,we=J-1,1===e&&J>852||2===e&&J>592)return 1;for(;;){Ne=c-k,a[f]+1<be?(je=0,Ze=a[f]):a[f]>=be?(je=Ce[a[f]-be],Ze=Oe[a[f]-be]):(je=96,Ze=0),he=1<<c-k,fe=1<<U,M=fe;do{fe-=he,o[Be+(se>>k)+fe]=Ne<<24|je<<16|Ze}while(0!==fe);for(he=1<<c-1;se&he;)he>>=1;if(0!==he?(se&=he-1,se+=he):se=0,f++,0===--Ue[c]){if(c===_)break;c=n[t+a[f]]}if(c>I&&(se&we)!==Me){for(0===k&&(k=I),Be+=M,U=c-k,Y=1<<U;U+k<_&&(Y-=Ue[U+k],!(Y<=0));)U++,Y<<=1;if(J+=1<<U,1===e&&J>852||2===e&&J>592)return 1;Me=se&we,o[Me]=I<<24|U<<16|Be-i}}return 0!==se&&(o[Be+se]=c-k<<24|64<<16),l.bits=I,0};const{Z_FINISH:I3,Z_BLOCK:iue,Z_TREES:PD,Z_OK:Sd,Z_STREAM_END:aue,Z_NEED_DICT:sue,Z_STREAM_ERROR:as,Z_DATA_ERROR:x3,Z_MEM_ERROR:A3,Z_BUF_ERROR:lue,Z_DEFLATED:_3}=Id,ID=16180,xD=16190,Ql=16191,AD=16199,_D=16200,co=16209,e4=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function fue(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ld=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<ID||n.mode>16211?1:0},t4=e=>{if(Ld(e))return as;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=1&n.wrap),n.mode=ID,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,Sd},n4=e=>{if(Ld(e))return as;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,t4(e)},r4=(e,n)=>{let t;if(Ld(e))return as;const r=e.state;return n<0?(t=0,n=-n):(t=5+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?as:(null!==r.window&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,n4(e))},o4=(e,n)=>{if(!e)return as;const t=new fue;e.state=t,t.strm=e,t.window=null,t.mode=ID;const r=r4(e,n);return r!==Sd&&(e.state=null),r};let aP,sP,i4=!0;const gue=e=>{if(i4){aP=new Int32Array(512),sP=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(zp(1,e.lens,0,288,aP,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;zp(2,e.lens,0,32,sP,0,e.work,{bits:5}),i4=!1}e.lencode=aP,e.lenbits=9,e.distcode=sP,e.distbits=5},a4=(e,n,t,r)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(n.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(n.subarray(t-r,t-r+o),i.wnext),(r-=o)?(i.window.set(n.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var ql_inflateReset=n4,ql_inflateInit2=o4,ql_inflate=(e,n)=>{let t,r,o,i,a,l,u,c,f,M,_,I,U,k,J,se,he,fe,Me,we,Be,Oe,Y=0;const be=new Uint8Array(4);let Ue,ge;const Ce=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ld(e)||!e.output||!e.input&&0!==e.avail_in)return as;t=e.state,t.mode===Ql&&(t.mode=16192),a=e.next_out,o=e.output,u=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,c=t.hold,f=t.bits,M=l,_=u,Oe=Sd;e:for(;;)switch(t.mode){case ID:if(0===t.wrap){t.mode=16192;break}for(;f<16;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(2&t.wrap&&35615===c){0===t.wbits&&(t.wbits=15),t.check=0,be[0]=255&c,be[1]=c>>>8&255,t.check=fi(t.check,be,2,0),c=0,f=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",t.mode=co;break}if((15&c)!==_3){e.msg="unknown compression method",t.mode=co;break}if(c>>>=4,f-=4,Be=8+(15&c),0===t.wbits&&(t.wbits=Be),Be>15||Be>t.wbits){e.msg="invalid window size",t.mode=co;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=512&c?16189:Ql,c=0,f=0;break;case 16181:for(;f<16;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(t.flags=c,(255&t.flags)!==_3){e.msg="unknown compression method",t.mode=co;break}if(57344&t.flags){e.msg="unknown header flags set",t.mode=co;break}t.head&&(t.head.text=c>>8&1),512&t.flags&&4&t.wrap&&(be[0]=255&c,be[1]=c>>>8&255,t.check=fi(t.check,be,2,0)),c=0,f=0,t.mode=16182;case 16182:for(;f<32;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}t.head&&(t.head.time=c),512&t.flags&&4&t.wrap&&(be[0]=255&c,be[1]=c>>>8&255,be[2]=c>>>16&255,be[3]=c>>>24&255,t.check=fi(t.check,be,4,0)),c=0,f=0,t.mode=16183;case 16183:for(;f<16;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}t.head&&(t.head.xflags=255&c,t.head.os=c>>8),512&t.flags&&4&t.wrap&&(be[0]=255&c,be[1]=c>>>8&255,t.check=fi(t.check,be,2,0)),c=0,f=0,t.mode=16184;case 16184:if(1024&t.flags){for(;f<16;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}t.length=c,t.head&&(t.head.extra_len=c),512&t.flags&&4&t.wrap&&(be[0]=255&c,be[1]=c>>>8&255,t.check=fi(t.check,be,2,0)),c=0,f=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(I=t.length,I>l&&(I=l),I&&(t.head&&(Be=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+I),Be)),512&t.flags&&4&t.wrap&&(t.check=fi(t.check,r,I,i)),l-=I,i+=I,t.length-=I),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===l)break e;I=0;do{Be=r[i+I++],t.head&&Be&&t.length<65536&&(t.head.name+=String.fromCharCode(Be))}while(Be&&I<l);if(512&t.flags&&4&t.wrap&&(t.check=fi(t.check,r,I,i)),l-=I,i+=I,Be)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===l)break e;I=0;do{Be=r[i+I++],t.head&&Be&&t.length<65536&&(t.head.comment+=String.fromCharCode(Be))}while(Be&&I<l);if(512&t.flags&&4&t.wrap&&(t.check=fi(t.check,r,I,i)),l-=I,i+=I,Be)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;f<16;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(4&t.wrap&&c!==(65535&t.check)){e.msg="header crc mismatch",t.mode=co;break}c=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ql;break;case 16189:for(;f<32;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}e.adler=t.check=e4(c),c=0,f=0,t.mode=xD;case xD:if(0===t.havedict)return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,t.hold=c,t.bits=f,sue;e.adler=t.check=1,t.mode=Ql;case Ql:if(n===iue||n===PD)break e;case 16192:if(t.last){c>>>=7&f,f-=7&f,t.mode=16206;break}for(;f<3;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}switch(t.last=1&c,c>>>=1,f-=1,3&c){case 0:t.mode=16193;break;case 1:if(gue(t),t.mode=AD,n===PD){c>>>=2,f-=2;break e}break;case 2:t.mode=16196;break;case 3:e.msg="invalid block type",t.mode=co}c>>>=2,f-=2;break;case 16193:for(c>>>=7&f,f-=7&f;f<32;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",t.mode=co;break}if(t.length=65535&c,c=0,f=0,t.mode=16194,n===PD)break e;case 16194:t.mode=16195;case 16195:if(I=t.length,I){if(I>l&&(I=l),I>u&&(I=u),0===I)break e;o.set(r.subarray(i,i+I),a),l-=I,i+=I,u-=I,a+=I,t.length-=I;break}t.mode=Ql;break;case 16196:for(;f<14;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(t.nlen=257+(31&c),c>>>=5,f-=5,t.ndist=1+(31&c),c>>>=5,f-=5,t.ncode=4+(15&c),c>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=co;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;f<3;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}t.lens[Ce[t.have++]]=7&c,c>>>=3,f-=3}for(;t.have<19;)t.lens[Ce[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Ue={bits:t.lenbits},Oe=zp(0,t.lens,0,19,t.lencode,0,t.work,Ue),t.lenbits=Ue.bits,Oe){e.msg="invalid code lengths set",t.mode=co;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;Y=t.lencode[c&(1<<t.lenbits)-1],J=Y>>>24,se=Y>>>16&255,he=65535&Y,!(J<=f);){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(he<16)c>>>=J,f-=J,t.lens[t.have++]=he;else{if(16===he){for(ge=J+2;f<ge;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(c>>>=J,f-=J,0===t.have){e.msg="invalid bit length repeat",t.mode=co;break}Be=t.lens[t.have-1],I=3+(3&c),c>>>=2,f-=2}else if(17===he){for(ge=J+3;f<ge;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}c>>>=J,f-=J,Be=0,I=3+(7&c),c>>>=3,f-=3}else{for(ge=J+7;f<ge;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}c>>>=J,f-=J,Be=0,I=11+(127&c),c>>>=7,f-=7}if(t.have+I>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=co;break}for(;I--;)t.lens[t.have++]=Be}}if(t.mode===co)break;if(0===t.lens[256]){e.msg="invalid code -- missing end-of-block",t.mode=co;break}if(t.lenbits=9,Ue={bits:t.lenbits},Oe=zp(1,t.lens,0,t.nlen,t.lencode,0,t.work,Ue),t.lenbits=Ue.bits,Oe){e.msg="invalid literal/lengths set",t.mode=co;break}if(t.distbits=6,t.distcode=t.distdyn,Ue={bits:t.distbits},Oe=zp(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Ue),t.distbits=Ue.bits,Oe){e.msg="invalid distances set",t.mode=co;break}if(t.mode=AD,n===PD)break e;case AD:t.mode=_D;case _D:if(l>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,t.hold=c,t.bits=f,qle(e,_),a=e.next_out,o=e.output,u=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,c=t.hold,f=t.bits,t.mode===Ql&&(t.back=-1);break}for(t.back=0;Y=t.lencode[c&(1<<t.lenbits)-1],J=Y>>>24,se=Y>>>16&255,he=65535&Y,!(J<=f);){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(se&&!(240&se)){for(fe=J,Me=se,we=he;Y=t.lencode[we+((c&(1<<fe+Me)-1)>>fe)],J=Y>>>24,se=Y>>>16&255,he=65535&Y,!(fe+J<=f);){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}c>>>=fe,f-=fe,t.back+=fe}if(c>>>=J,f-=J,t.back+=J,t.length=he,0===se){t.mode=16205;break}if(32&se){t.back=-1,t.mode=Ql;break}if(64&se){e.msg="invalid literal/length code",t.mode=co;break}t.extra=15&se,t.mode=16201;case 16201:if(t.extra){for(ge=t.extra;f<ge;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;Y=t.distcode[c&(1<<t.distbits)-1],J=Y>>>24,se=Y>>>16&255,he=65535&Y,!(J<=f);){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(!(240&se)){for(fe=J,Me=se,we=he;Y=t.distcode[we+((c&(1<<fe+Me)-1)>>fe)],J=Y>>>24,se=Y>>>16&255,he=65535&Y,!(fe+J<=f);){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}c>>>=fe,f-=fe,t.back+=fe}if(c>>>=J,f-=J,t.back+=J,64&se){e.msg="invalid distance code",t.mode=co;break}t.offset=he,t.extra=15&se,t.mode=16203;case 16203:if(t.extra){for(ge=t.extra;f<ge;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=co;break}t.mode=16204;case 16204:if(0===u)break e;if(I=_-u,t.offset>I){if(I=t.offset-I,I>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=co;break}I>t.wnext?(I-=t.wnext,U=t.wsize-I):U=t.wnext-I,I>t.length&&(I=t.length),k=t.window}else k=o,U=a-t.offset,I=t.length;I>u&&(I=u),u-=I,t.length-=I;do{o[a++]=k[U++]}while(--I);0===t.length&&(t.mode=_D);break;case 16205:if(0===u)break e;o[a++]=t.length,u--,t.mode=_D;break;case 16206:if(t.wrap){for(;f<32;){if(0===l)break e;l--,c|=r[i++]<<f,f+=8}if(_-=u,e.total_out+=_,t.total+=_,4&t.wrap&&_&&(e.adler=t.check=t.flags?fi(t.check,o,_,a-_):Np(t.check,o,_,a-_)),_=u,4&t.wrap&&(t.flags?c:e4(c))!==t.check){e.msg="incorrect data check",t.mode=co;break}c=0,f=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;f<32;){if(0===l)break e;l--,c+=r[i++]<<f,f+=8}if(4&t.wrap&&c!==(4294967295&t.total)){e.msg="incorrect length check",t.mode=co;break}c=0,f=0}t.mode=16208;case 16208:Oe=aue;break e;case co:Oe=x3;break e;case 16210:return A3;default:return as}return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,t.hold=c,t.bits=f,(t.wsize||_!==e.avail_out&&t.mode<co&&(t.mode<16206||n!==I3))&&a4(e,e.output,e.next_out,_-e.avail_out),M-=e.avail_in,_-=e.avail_out,e.total_in+=M,e.total_out+=_,t.total+=_,4&t.wrap&&_&&(e.adler=t.check=t.flags?fi(t.check,o,_,e.next_out-_):Np(t.check,o,_,e.next_out-_)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ql?128:0)+(t.mode===AD||16194===t.mode?256:0),(0===M&&0===_||n===I3)&&Oe===Sd&&(Oe=lue),Oe},ql_inflateEnd=e=>{if(Ld(e))return as;let n=e.state;return n.window&&(n.window=null),e.state=null,Sd},ql_inflateGetHeader=(e,n)=>{if(Ld(e))return as;const t=e.state;return 2&t.wrap?(t.head=n,n.done=!1,Sd):as},ql_inflateSetDictionary=(e,n)=>{const t=n.length;let r,o,i;return Ld(e)||(r=e.state,0!==r.wrap&&r.mode!==xD)?as:r.mode===xD&&(o=1,o=Np(o,n,t,0),o!==r.check)?x3:(i=a4(e,n,t,t),i?(r.mode=16210,A3):(r.havedict=1,Sd))},_ue=function Aue(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const s4=Object.prototype.toString,{Z_NO_FLUSH:Sue,Z_FINISH:Lue,Z_OK:$p,Z_STREAM_END:lP,Z_NEED_DICT:uP,Z_STREAM_ERROR:Rue,Z_DATA_ERROR:l4,Z_MEM_ERROR:wue}=Id;function Gp(e){this.options=CD_assign({chunkSize:65536,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&!(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y3,this.strm.avail_out=0;let t=ql_inflateInit2(this.strm,n.windowBits);if(t!==$p)throw new Error(Pd[t]);if(this.header=new _ue,ql_inflateGetHeader(this.strm,this.header),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=Vp_string2buf(n.dictionary):"[object ArrayBuffer]"===s4.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=ql_inflateSetDictionary(this.strm,n.dictionary),t!==$p)))throw new Error(Pd[t])}function cP(e,n){const t=new Gp(n);if(t.push(e),t.err)throw t.msg||Pd[t.err];return t.result}Gp.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(a=n===~~n?n:!0===n?Lue:Sue,t.input="[object ArrayBuffer]"===s4.call(e)?new Uint8Array(e):e,t.next_in=0,t.avail_in=t.input.length;;){for(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=ql_inflate(t,a),i===uP&&o&&(i=ql_inflateSetDictionary(t,o),i===$p?i=ql_inflate(t,a):i===l4&&(i=uP));t.avail_in>0&&i===lP&&t.state.wrap>0&&0!==e[t.next_in];)ql_inflateReset(t),i=ql_inflate(t,a);switch(i){case Rue:case l4:case uP:case wue:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(0===t.avail_out||i===lP))if("string"===this.options.to){let u=Vp_utf8border(t.output,t.next_out),c=t.next_out-u,f=Vp_buf2string(t.output,u);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(u,u+c),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(i!==$p||0!==l){if(i===lP)return i=ql_inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===t.avail_in)break}}return!0},Gp.prototype.onData=function(e){this.chunks.push(e)},Gp.prototype.onEnd=function(e){e===$p&&(this.result="string"===this.options.to?this.chunks.join(""):CD_flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var kue={Inflate:Gp,inflate:cP,inflateRaw:function jue(e,n){return(n=n||{}).raw=!0,cP(e,n)},ungzip:cP,constants:Id};const{Inflate:$ue,inflate:Gue}=kue;var dP=$ue,c4=Gue;const d4=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)1&n?n=3988292384^n>>>1:n>>>=1;d4[e]=n}const f4=4294967295;function g4(e,n,t){const r=e.readUint32(),o=function h4(e,n){return(function nce(e,n,t){let r=e;for(let o=0;o<t;o++)r=d4[255&(r^n[o])]^r>>>8;return r}(f4,e,n)^f4)>>>0}(new Uint8Array(e.buffer,e.byteOffset+e.offset-n-4,n),n);if(o!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${o}`)}function m4(e,n,t){for(let r=0;r<t;r++)n[r]=e[r]}function p4(e,n,t,r){let o=0;for(;o<r;o++)n[o]=e[o];for(;o<t;o++)n[o]=e[o]+n[o-r]&255}function v4(e,n,t,r){let o=0;if(0===t.length)for(;o<r;o++)n[o]=e[o];else for(;o<r;o++)n[o]=e[o]+t[o]&255}function E4(e,n,t,r,o){let i=0;if(0===t.length){for(;i<o;i++)n[i]=e[i];for(;i<r;i++)n[i]=e[i]+(n[i-o]>>1)&255}else{for(;i<o;i++)n[i]=e[i]+(t[i]>>1)&255;for(;i<r;i++)n[i]=e[i]+(n[i-o]+t[i]>>1)&255}}function y4(e,n,t,r,o){let i=0;if(0===t.length){for(;i<o;i++)n[i]=e[i];for(;i<r;i++)n[i]=e[i]+n[i-o]&255}else{for(;i<o;i++)n[i]=e[i]+t[i]&255;for(;i<r;i++)n[i]=e[i]+rce(n[i-o],t[i],t[i-o])&255}}function rce(e,n,t){const r=e+n-t,o=Math.abs(r-e),i=Math.abs(r-n),a=Math.abs(r-t);return o<=i&&o<=a?e:i<=a?n:t}function oce(e,n,t,r,o,i){switch(e){case 0:m4(n,t,o);break;case 1:p4(n,t,o,i);break;case 2:v4(n,t,r,o);break;case 3:E4(n,t,r,o,i);break;case 4:y4(n,t,r,o,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ice=new Uint16Array([255]),ace=255===new Uint8Array(ice.buffer)[0];function lce(e){return(255&e)<<8|e>>8&255}const uce=new Uint16Array([255]),cce=255===new Uint8Array(uce.buffer)[0],dce=new Uint8Array(0);function D4(e){const{data:n,width:t,height:r,channels:o,depth:i}=e,a=Math.ceil(i/8)*o,l=Math.ceil(i/8*o*t),u=new Uint8Array(r*l);let M,_,c=dce,f=0;for(let I=0;I<r;I++){switch(M=n.subarray(f+1,f+1+l),_=u.subarray(I*l,(I+1)*l),n[f]){case 0:m4(M,_,l);break;case 1:p4(M,_,l,a);break;case 2:v4(M,_,c,l);break;case 3:E4(M,_,c,l,a);break;case 4:y4(M,_,c,l,a);break;default:throw new Error(`Unsupported filter: ${n[f]}`)}c=_,f+=l+1}if(16===i){const I=new Uint16Array(u.buffer);if(cce)for(let U=0;U<I.length;U++)I[U]=fce(I[U]);return I}return u}function fce(e){return(255&e)<<8|e>>8&255}const Yp=Uint8Array.of(137,80,78,71,13,10,26,10);function M4(e){if(!function gce(e){if(e.length<Yp.length)return!1;for(let n=0;n<Yp.length;n++)if(e[n]!==Yp[n])return!1;return!0}(e.readBytes(Yp.length)))throw new Error("wrong PNG signature")}const T4=new TextDecoder("latin1");function O4(e){if(function P4(e){if(!mce.test(e))throw new Error("invalid latin1 text")}(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const mce=/^[\u0000-\u00FF]*$/;function I4(e){for(e.mark();0!==e.readByte(););const n=e.offset;e.reset();const t=T4.decode(e.readBytes(n-e.offset-1));return e.skip(1),O4(t),t}class yce extends Ap{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,t={}){super(n);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new dP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(M4(this);!this._end;){const n=this.readUint32(),t=this.readChars(4);this.decodeChunk(n,t)}return this.decodeImage(),this._png}decodeApng(){for(M4(this);!this._end;){const n=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(n,t)}return this.decodeApngImage(),this._apng}decodeChunk(n,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case"tEXt":!function pce(e,n,t){const r=I4(n);e[r]=function Ece(e,n){return T4.decode(e.readBytes(n))}(n,t-r.length-1)}(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n)}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?g4(this,n+4,t):this.skip(4)}decodeApngChunk(n,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,t),this.offset=r+n}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?g4(this,n+4,t):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=function Dce(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case 0:case 3:r=1;break;case 2:r=3;break;case 4:r=2;break;case 6:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const t=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let o=0;o<t;o++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let t=n,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case 0:case 2:if(n%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let t=0;t<n/2;t++)this._transparency[t]=this.readUint16();break;case 3:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let t=0;for(;t<n;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const t=I4(this),r=this.readUint8();if(0!==r)throw new Error(`Unsupported iCCP compression method: ${r}`);const o=this.readBytes(n-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:c4(o)}}decodepHYs(){const n=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const t={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=D4({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===n||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(r,o,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(n,t,r){switch(n.disposeOp){case 0:break;case 1:for(let o=0;o<this._png.height;o++)for(let i=0;i<this._png.width;i++){const a=(o*n.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[a+l]=0}break;case 2:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,t){const r=1<<this._png.depth,o=(i,a)=>({index:((i+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,frameIndex:(i*t.width+a)*this._png.channels});switch(t.blendOp){case 0:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:l,frameIndex:u}=o(i,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=t.data[u+c]}break;case 1:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:l,frameIndex:u}=o(i,a);for(let c=0;c<this._png.channels;c++){const f=t.data[u+this._png.channels-1]/r,_=Math.floor(f*(c%(this._png.channels-1)==0?1:t.data[u+c])+(1-f)*n.data[l+c]);n.data[l+c]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=D4({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function sce(e){const{data:n,width:t,height:r,channels:o,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*o,u=new Uint8Array(r*t*l);let c=0;for(let f=0;f<7;f++){const M=a[f],_=Math.ceil((t-M.x)/M.xStep),I=Math.ceil((r-M.y)/M.yStep);if(_<=0||I<=0)continue;const U=_*l,k=new Uint8Array(U);for(let Y=0;Y<I;Y++){const J=n[c++],se=n.subarray(c,c+U);c+=U;const he=new Uint8Array(U);oce(J,se,he,k,U,l),k.set(he);for(let fe=0;fe<_;fe++){const Me=M.x+fe*M.xStep,we=M.y+Y*M.yStep;if(!(Me>=t||we>=r))for(let Be=0;Be<l;Be++)u[(we*t+Me)*l+Be]=he[fe*l+Be]}}}if(16===i){const f=new Uint16Array(u.buffer);if(ace)for(let M=0;M<f.length;M++)f[M]=lce(f[M]);return f}return u}({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,t=this._frames.at(-1);t?t.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:n}),this._inflator=new dP,this._writingDataChunks=!1}}var On=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gP(){On.console&&"function"==typeof On.console.log&&On.console.log.apply(On.console,arguments)}var kr={log:gP,warn:function(e){On.console&&("function"==typeof On.console.warn?On.console.warn.apply(On.console,arguments):gP.call(null,arguments))},error:function(e){On.console&&("function"==typeof On.console.error?On.console.error.apply(On.console,arguments):gP(e))}};function mP(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Rd(r.response,n,t)},r.onerror=function(){kr.error("could not download file")},r.send()}function A4(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function RD(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var Rd=On.saveAs||("object"!==(typeof window>"u"?"undefined":(0,Wr.A)(window))||window!==On?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=On.URL||On.webkitURL,o=document.createElement("a");o.download=n=n||e.name||"download",o.rel="noopener","string"==typeof e?(o.href=e,o.origin!==location.origin?A4(o.href)?mP(e,n,t):RD(o,o.target="_blank"):RD(o)):(o.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(o.href)},4e4),setTimeout(function(){RD(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download","string"==typeof e)if(A4(e))mP(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){RD(r)})}else navigator.msSaveOrOpenBlob((o=e,void 0===(i=t)?i={autoBom:!1}:"object"!==(0,Wr.A)(i)&&(kr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\ufeff",o],{type:o.type}):o),n);var o,i}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return mP(e,n,t);var o="application/octet-stream"===e.type,i=/constructor/i.test(On.HTMLElement)||On.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&i)&&"object"===(typeof FileReader>"u"?"undefined":(0,Wr.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(e)}else{var u=On.URL||On.webkitURL,c=u.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){u.revokeObjectURL(c)},4e4)}});function _4(e){var n;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].process,a=t[r].re.exec(e);a&&(n=i(a),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),c=this.b.toString(16);return 1==l.length&&(l="0"+l),1==u.length&&(u="0"+u),1==c.length&&(c="0"+c),"#"+l+u+c}}var wD=On.atob.bind(On),S4=On.btoa.bind(On);function pP(e,n){var t=e[0],r=e[1],o=e[2],i=e[3];t=Ni(t,r,o,i,n[0],7,-680876936),i=Ni(i,t,r,o,n[1],12,-389564586),o=Ni(o,i,t,r,n[2],17,606105819),r=Ni(r,o,i,t,n[3],22,-1044525330),t=Ni(t,r,o,i,n[4],7,-176418897),i=Ni(i,t,r,o,n[5],12,1200080426),o=Ni(o,i,t,r,n[6],17,-1473231341),r=Ni(r,o,i,t,n[7],22,-45705983),t=Ni(t,r,o,i,n[8],7,1770035416),i=Ni(i,t,r,o,n[9],12,-1958414417),o=Ni(o,i,t,r,n[10],17,-42063),r=Ni(r,o,i,t,n[11],22,-1990404162),t=Ni(t,r,o,i,n[12],7,1804603682),i=Ni(i,t,r,o,n[13],12,-40341101),o=Ni(o,i,t,r,n[14],17,-1502002290),t=Bi(t,r=Ni(r,o,i,t,n[15],22,1236535329),o,i,n[1],5,-165796510),i=Bi(i,t,r,o,n[6],9,-1069501632),o=Bi(o,i,t,r,n[11],14,643717713),r=Bi(r,o,i,t,n[0],20,-373897302),t=Bi(t,r,o,i,n[5],5,-701558691),i=Bi(i,t,r,o,n[10],9,38016083),o=Bi(o,i,t,r,n[15],14,-660478335),r=Bi(r,o,i,t,n[4],20,-405537848),t=Bi(t,r,o,i,n[9],5,568446438),i=Bi(i,t,r,o,n[14],9,-1019803690),o=Bi(o,i,t,r,n[3],14,-187363961),r=Bi(r,o,i,t,n[8],20,1163531501),t=Bi(t,r,o,i,n[13],5,-1444681467),i=Bi(i,t,r,o,n[2],9,-51403784),o=Bi(o,i,t,r,n[7],14,1735328473),t=Ui(t,r=Bi(r,o,i,t,n[12],20,-1926607734),o,i,n[5],4,-378558),i=Ui(i,t,r,o,n[8],11,-2022574463),o=Ui(o,i,t,r,n[11],16,1839030562),r=Ui(r,o,i,t,n[14],23,-35309556),t=Ui(t,r,o,i,n[1],4,-1530992060),i=Ui(i,t,r,o,n[4],11,1272893353),o=Ui(o,i,t,r,n[7],16,-155497632),r=Ui(r,o,i,t,n[10],23,-1094730640),t=Ui(t,r,o,i,n[13],4,681279174),i=Ui(i,t,r,o,n[0],11,-358537222),o=Ui(o,i,t,r,n[3],16,-722521979),r=Ui(r,o,i,t,n[6],23,76029189),t=Ui(t,r,o,i,n[9],4,-640364487),i=Ui(i,t,r,o,n[12],11,-421815835),o=Ui(o,i,t,r,n[15],16,530742520),t=Fi(t,r=Ui(r,o,i,t,n[2],23,-995338651),o,i,n[0],6,-198630844),i=Fi(i,t,r,o,n[7],10,1126891415),o=Fi(o,i,t,r,n[14],15,-1416354905),r=Fi(r,o,i,t,n[5],21,-57434055),t=Fi(t,r,o,i,n[12],6,1700485571),i=Fi(i,t,r,o,n[3],10,-1894986606),o=Fi(o,i,t,r,n[10],15,-1051523),r=Fi(r,o,i,t,n[1],21,-2054922799),t=Fi(t,r,o,i,n[8],6,1873313359),i=Fi(i,t,r,o,n[15],10,-30611744),o=Fi(o,i,t,r,n[6],15,-1560198380),r=Fi(r,o,i,t,n[13],21,1309151649),t=Fi(t,r,o,i,n[4],6,-145523070),i=Fi(i,t,r,o,n[11],10,-1120210379),o=Fi(o,i,t,r,n[2],15,718787259),r=Fi(r,o,i,t,n[9],21,-343485551),e[0]=uc(t,e[0]),e[1]=uc(r,e[1]),e[2]=uc(o,e[2]),e[3]=uc(i,e[3])}function jD(e,n,t,r,o,i){return n=uc(uc(n,e),uc(r,i)),uc(n<<o|n>>>32-o,t)}function Ni(e,n,t,r,o,i,a){return jD(n&t|~n&r,e,n,o,i,a)}function Bi(e,n,t,r,o,i,a){return jD(n&r|t&~r,e,n,o,i,a)}function Ui(e,n,t,r,o,i,a){return jD(n^t^r,e,n,o,i,a)}function Fi(e,n,t,r,o,i,a){return jD(t^(n|~r),e,n,o,i,a)}function L4(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)pP(r,xce(e.substring(n-64,n)));e=e.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)o[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(pP(r,o),n=0;n<16;n++)o[n]=0;return o[14]=8*t,pP(r,o),r}function xce(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}var R4="0123456789abcdef".split("");function Ace(e){for(var n="",t=0;t<4;t++)n+=R4[e>>8*t+4&15]+R4[e>>8*t&15];return n}function _ce(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vP(e){return L4(e).map(_ce).join("")}var Sce="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var n=0;n<e.length;n++)e[n]=Ace(e[n]);return e.join("")}(L4("hello"));function uc(e,n){if(Sce){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}function EP(e,n){var t,r,o;if(e!==t){for(var a=(o=e,new Array(1+(256/e.length|0)+1).join(o)),l=[],u=0;u<256;u++)l[u]=u;var c=0;for(u=0;u<256;u++){var f=l[u];c=(c+f+a.charCodeAt(u))%256,l[u]=l[c],l[c]=f}t=e,r=l}else l=r;var M=n.length,_=0,I=0,U="";for(u=0;u<M;u++)I=(I+(f=l[_=(_+1)%256]))%256,l[_]=l[I],l[I]=f,a=l[(l[_]+l[I])%256],U+=String.fromCharCode(n.charCodeAt(u)^a);return U}var w4={print:4,modify:8,copy:16,"annot-forms":32};function Jh(e,n,t,r){this.v=1,this.r=2;var o=192;e.forEach(function(l){if(void 0!==w4.perm)throw new Error("Invalid permission: "+l);o+=w4[l]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(n+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^o)),this.encryptionKey=vP(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=EP(this.encryptionKey,this.padding)}function Qh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var o=e.charCodeAt(r);n+=o<33||35===o||37===o||40===o||41===o||47===o||60===o||62===o||91===o||93===o||123===o||125===o||o>126?"#"+("0"+o.toString(16)).slice(-2):e[r]}return n}function j4(e){if("object"!==(0,Wr.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,o){if(o=o||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof o)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var i=Math.random().toString(35);return n[t][i]=[r,!!o],i},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],0===Object.keys(n[r]).length&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var i in n[t]){var a=n[t][i];try{a[0].apply(e,r)}catch(l){On.console&&kr.error("jsPDF PubSub Error",l.message,l)}a[1]&&o.push(i)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function ND(e){if(!(this instanceof ND))return new ND(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function N4(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function wd(e,n,t,r,o){if(!(this instanceof wd))return new wd(e,n,t,r,o);this.type="axial"===e?2:3,this.coords=n,this.colors=t,N4.call(this,r,o)}function qh(e,n,t,r,o){if(!(this instanceof qh))return new qh(e,n,t,r,o);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,N4.call(this,r,o)}function on(e){var n,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],o=arguments[2],i=arguments[3],a=[],l=1,u=16,c="S",f=null;"object"===(0,Wr.A)(e=e||{})&&(t=e.orientation,r=e.unit||r,o=e.format||o,i=e.compress||e.compressPdf||i,null!==(f=e.encryption||null)&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(n=e.precision),void 0!==e.floatPrecision&&(u=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===i?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var M=e.putOnlyUsedFonts||!1,_={},I={internal:{},__private__:{}};I.__private__.PubSub=j4;var U="1.3",k=I.__private__.getPdfVersion=function(){return U};I.__private__.setPdfVersion=function(H){U=H};var Y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};I.__private__.getPageFormats=function(){return Y};var J=I.__private__.getPageFormat=function(H){return Y[H]};o=o||"a4";var se="compat",he="advanced",fe=se;function Me(){this.saveGraphicsState(),Re(new Dn(Pn,0,0,-Pn,0,lf()*Pn).toString()+" cm"),this.setFontSize(this.getFontSize()/Pn),c="n",fe=he}function we(){this.restoreGraphicsState(),c="S",fe=se}var Be=I.__private__.combineFontStyleAndFontWeight=function(H,ce){if("bold"==H&&"normal"==ce||"bold"==H&&400==ce||"normal"==H&&"italic"==ce||"bold"==H&&"italic"==ce)throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(H=400==ce||"normal"===ce?"italic"===H?"italic":"normal":700!=ce&&"bold"!==ce||"normal"!==H?(700==ce?"bold":ce)+""+H:"bold"),H};I.advancedAPI=function(H){var ce=fe===se;return ce&&Me.call(this),"function"!=typeof H||(H(this),ce&&we.call(this)),this},I.compatAPI=function(H){var ce=fe===he;return ce&&we.call(this),"function"!=typeof H||(H(this),ce&&Me.call(this)),this},I.isAdvancedAPI=function(){return fe===he};var Oe,be=function(H){if(fe!==he)throw new Error(H+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ue=I.roundToPrecision=I.__private__.roundToPrecision=function(H,ce){var Ae=n||ce;if(isNaN(H)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return H.toFixed(Ae).replace(/0+$/,"")};Oe=I.hpf=I.__private__.hpf="number"==typeof u?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return Ue(H,u)}:"smart"===u?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return Ue(H,H>-1&&H<1?16:5)}:function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return Ue(H,16)};var ge=I.f2=I.__private__.f2=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f2");return Ue(H,2)},Ce=I.__private__.f3=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f3");return Ue(H,3)},Ne=I.scale=I.__private__.scale=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.scale");return fe===se?H*Pn:fe===he?H:void 0},je=function(H){return Ne((ce=H,fe===se?lf()-ce:fe===he?ce:void 0));var ce};I.__private__.setPrecision=I.setPrecision=function(H){"number"==typeof parseInt(H,10)&&(n=parseInt(H,10))};var Ze,et="00000000000000000000000000000000",rt=I.__private__.getFileId=function(){return et},Qe=I.__private__.setFileId=function(H){return et=void 0!==H&&/^[a-fA-F0-9]{32}$/.test(H)?H.toUpperCase():et.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==f&&(No=new Jh(f.userPermissions,f.userPassword,f.ownerPassword,et)),et};I.setFileId=function(H){return Qe(H),this},I.getFileId=function(){return rt()};var at=I.__private__.convertDateToPDFDate=function(H){var ce=H.getTimezoneOffset(),Ae=ce<0?"+":"-",Fe=Math.floor(Math.abs(ce/60)),Je=Math.abs(ce%60),bt=[Ae,Le(Fe),"'",Le(Je),"'"].join("");return["D:",H.getFullYear(),Le(H.getMonth()+1),Le(H.getDate()),Le(H.getHours()),Le(H.getMinutes()),Le(H.getSeconds()),bt].join("")},Ft=I.__private__.convertPDFDateToDate=function(H){var ce=parseInt(H.substr(2,4),10),Ae=parseInt(H.substr(6,2),10)-1,Fe=parseInt(H.substr(8,2),10),Je=parseInt(H.substr(10,2),10),bt=parseInt(H.substr(12,2),10),Lt=parseInt(H.substr(14,2),10);return new Date(ce,Ae,Fe,Je,bt,Lt,0)},xt=I.__private__.setCreationDate=function(H){var ce;if(void 0===H&&(H=new Date),H instanceof Date)ce=at(H);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(H))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=H}return Ze=ce},pe=I.__private__.getCreationDate=function(H){var ce=Ze;return"jsDate"===H&&(ce=Ft(Ze)),ce};I.setCreationDate=function(H){return xt(H),this},I.getCreationDate=function(H){return pe(H)};var _e,Le=I.__private__.padd2=function(H){return("0"+parseInt(H)).slice(-2)},We=I.__private__.padd2Hex=function(H){return("00"+(H=H.toString())).substr(H.length)},ze=0,nt=[],ht=[],dt=0,Pt=[],Nt=[],zt=!1,Gt=ht;I.__private__.setCustomOutputDestination=function(H){zt=!0,Gt=H};var vt=function(H){zt||(Gt=H)};I.__private__.resetCustomOutputDestination=function(){zt=!1,Gt=ht};var Re=I.__private__.out=function(H){return H=H.toString(),dt+=H.length+1,Gt.push(H),Gt},rr=I.__private__.write=function(H){return Re(1===arguments.length?H.toString():Array.prototype.join.call(arguments," "))},Gn=I.__private__.getArrayBuffer=function(H){for(var ce=H.length,Ae=new ArrayBuffer(ce),Fe=new Uint8Array(Ae);ce--;)Fe[ce]=H.charCodeAt(ce);return Ae},vn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];I.__private__.getStandardFonts=function(){return vn};var Wt=e.fontSize||16;I.__private__.setFontSize=I.setFontSize=function(H){return Wt=fe===he?H/Pn:H,this};var un,Yt=I.__private__.getFontSize=I.getFontSize=function(){return fe===se?Wt:Wt*Pn},Yn=e.R2L||!1;I.__private__.setR2L=I.setR2L=function(H){return Yn=H,this},I.__private__.getR2L=I.getR2L=function(){return Yn};var mn,Mr=I.__private__.setZoomMode=function(H){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(H))un=H;else if(isNaN(H)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(H))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+H+'" is not recognized.');un=H}else un=parseInt(H,10)};I.__private__.getZoomMode=function(){return un};var Wn,kn=I.__private__.setPageMode=function(H){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(H))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+H+'" is not recognized.');mn=H};I.__private__.getPageMode=function(){return mn};var Ur=I.__private__.setLayoutMode=function(H){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(H))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+H+'" is not recognized.');Wn=H};I.__private__.getLayoutMode=function(){return Wn},I.__private__.setDisplayMode=I.setDisplayMode=function(H,ce,Ae){return Mr(H),Ur(ce),kn(Ae),this};var Zn={title:"",subject:"",author:"",keywords:"",creator:""};I.__private__.getDocumentProperty=function(H){if(-1===Object.keys(Zn).indexOf(H))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zn[H]},I.__private__.getDocumentProperties=function(){return Zn},I.__private__.setDocumentProperties=I.setProperties=I.setDocumentProperties=function(H){for(var ce in Zn)Zn.hasOwnProperty(ce)&&H[ce]&&(Zn[ce]=H[ce]);return this},I.__private__.setDocumentProperty=function(H,ce){if(-1===Object.keys(Zn).indexOf(H))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zn[H]=ce};var fn,Pn,hn,Qr,br,an={},Hn={},Hr=[],yn={},ur={},Vn={},jo={},ei=null,Vr=0,Ln=[],Or=new j4(I),Yd=e.hotfixes||[],Ki={},uu={},yl=[],Dn=function H(ce,Ae,Fe,Je,bt,Lt){if(!(this instanceof H))return new H(ce,Ae,Fe,Je,bt,Lt);isNaN(ce)&&(ce=1),isNaN(Ae)&&(Ae=0),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=1),isNaN(bt)&&(bt=0),isNaN(Lt)&&(Lt=0),this._matrix=[ce,Ae,Fe,Je,bt,Lt]};Object.defineProperty(Dn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Dn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Dn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Dn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Dn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Dn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Dn.prototype,"a",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Dn.prototype,"b",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Dn.prototype,"c",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Dn.prototype,"d",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Dn.prototype,"e",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Dn.prototype,"f",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Dn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Dn.prototype.join=function(H){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Oe).join(H)},Dn.prototype.multiply=function(H){return new Dn(H.sx*this.sx+H.shy*this.shx,H.sx*this.shy+H.shy*this.sy,H.shx*this.sx+H.sy*this.shx,H.shx*this.shy+H.sy*this.sy,H.tx*this.sx+H.ty*this.shx+this.tx,H.tx*this.shy+H.ty*this.sy+this.ty)},Dn.prototype.decompose=function(){var H=this.sx,ce=this.shy,Ae=this.shx,Fe=this.sy,Je=this.tx,bt=this.ty,Lt=Math.sqrt(H*H+ce*ce),en=(H/=Lt)*Ae+(ce/=Lt)*Fe;Ae-=H*en,Fe-=ce*en;var rn=Math.sqrt(Ae*Ae+Fe*Fe);return en/=rn,H*(Fe/=rn)<ce*(Ae/=rn)&&(H=-H,ce=-ce,en=-en,Lt=-Lt),{scale:new Dn(Lt,0,0,rn,0,0),translate:new Dn(1,0,0,1,Je,bt),rotate:new Dn(H,ce,-ce,H,0,0),skew:new Dn(1,0,en,1,0,0)}},Dn.prototype.toString=function(H){return this.join(" ")},Dn.prototype.inversed=function(){var H=this.sx,ce=this.shy,Ae=this.shx,Fe=this.sy,Je=this.tx,bt=this.ty,Lt=1/(H*Fe-ce*Ae),en=Fe*Lt,rn=-ce*Lt,An=-Ae*Lt,Bn=H*Lt;return new Dn(en,rn,An,Bn,-en*Je-An*bt,-rn*Je-Bn*bt)},Dn.prototype.applyToPoint=function(H){return new af(H.x*this.sx+H.y*this.shx+this.tx,H.x*this.shy+H.y*this.sy+this.ty)},Dn.prototype.applyToRectangle=function(H){var ce=this.applyToPoint(H),Ae=this.applyToPoint(new af(H.x+H.w,H.y+H.h));return new Iv(ce.x,ce.y,Ae.x-ce.x,Ae.y-ce.y)},Dn.prototype.clone=function(){return new Dn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},I.Matrix=Dn;var cu=I.matrixMult=function(H,ce){return ce.multiply(H)},du=new Dn(1,0,0,1,0,0);I.unitMatrix=I.identityMatrix=du;var ls=function(H,ce){if(!ur[H]){var Ae=(ce instanceof wd?"Sh":"P")+(Object.keys(yn).length+1).toString(10);ce.id=Ae,ur[H]=Ae,yn[Ae]=ce,Or.publish("addPattern",ce)}};I.ShadingPattern=wd,I.TilingPattern=qh,I.addShadingPattern=function(H,ce){return be("addShadingPattern()"),ls(H,ce),this},I.beginTilingPattern=function(H){be("beginTilingPattern()"),xv(H.boundingBox[0],H.boundingBox[1],H.boundingBox[2]-H.boundingBox[0],H.boundingBox[3]-H.boundingBox[1],H.matrix)},I.endTilingPattern=function(H,ce){be("endTilingPattern()"),ce.stream=Nt[_e].join("\n"),ls(H,ce),Or.publish("endTilingPattern",ce),yl.pop().restore()};var us,Co=I.__private__.newObject=function(){var H=mi();return Oi(H,!0),H},mi=I.__private__.newObjectDeferred=function(){return ze++,nt[ze]=function(){return dt},ze},Oi=function(H,ce){return ce="boolean"==typeof ce&&ce,nt[H]=dt,ce&&Re(H+" 0 obj"),H},Zd=I.__private__.newAdditionalObject=function(){var H={objId:mi(),content:""};return Pt.push(H),H},yc=mi(),Fs=mi(),Dl=I.__private__.decodeColorString=function(H){var ce=H.split(" ");if(2!==ce.length||"g"!==ce[1]&&"G"!==ce[1])5!==ce.length||"k"!==ce[4]&&"K"!==ce[4]||(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var Ae=parseFloat(ce[0]);ce=[Ae,Ae,Ae,"r"]}for(var Fe="#",Je=0;Je<3;Je++)Fe+=("0"+Math.floor(255*parseFloat(ce[Je])).toString(16)).slice(-2);return Fe},Ws=I.__private__.encodeColorString=function(H){var ce;"string"==typeof H&&(H={ch1:H});var Ae=H.ch1,Fe=H.ch2,Je=H.ch3,bt=H.ch4,Lt="draw"===H.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Ae&&"#"!==Ae.charAt(0)){var en=new _4(Ae);if(en.ok)Ae=en.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Ae&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),"string"==typeof Ae&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var rn=parseInt(Ae.substr(1),16);Ae=rn>>16&255,Fe=rn>>8&255,Je=255&rn}if(void 0===Fe||void 0===bt&&Ae===Fe&&Fe===Je)ce="string"==typeof Ae?Ae+" "+Lt[0]:2===H.precision?ge(Ae/255)+" "+Lt[0]:Ce(Ae/255)+" "+Lt[0];else if(void 0===bt||"object"===(0,Wr.A)(bt)){if(bt&&!isNaN(bt.a)&&0===bt.a)return["1.","1.","1.",Lt[1]].join(" ");ce="string"==typeof Ae?[Ae,Fe,Je,Lt[1]].join(" "):2===H.precision?[ge(Ae/255),ge(Fe/255),ge(Je/255),Lt[1]].join(" "):[Ce(Ae/255),Ce(Fe/255),Ce(Je/255),Lt[1]].join(" ")}else ce="string"==typeof Ae?[Ae,Fe,Je,bt,Lt[2]].join(" "):2===H.precision?[ge(Ae),ge(Fe),ge(Je),ge(bt),Lt[2]].join(" "):[Ce(Ae),Ce(Fe),Ce(Je),Ce(bt),Lt[2]].join(" ");return ce},ks=I.__private__.getFilters=function(){return a},cs=I.__private__.putStream=function(H){var ce=(H=H||{}).data||"",Ae=H.filters||ks(),Fe=H.alreadyAppliedFilters||[],Je=H.addLength1||!1,bt=ce.length,Lt=H.objectId,en=function(ti){return ti};if(null!==f&&void 0===Lt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==f&&(en=No.encryptor(Lt,0));var rn={};!0===Ae&&(Ae=["FlateEncode"]);var An=H.additionalKeyValues||[],Bn=(rn=void 0!==on.API.processDataByFilters?on.API.processDataByFilters(ce,Ae):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(0!==rn.data.length&&(An.push({key:"Length",value:rn.data.length}),!0===Je&&An.push({key:"Length1",value:bt})),0!=Bn.length)if(Bn.split("/").length-1==1)An.push({key:"Filter",value:Bn});else{An.push({key:"Filter",value:"["+Bn+"]"});for(var Cr=0;Cr<An.length;Cr+=1)if("DecodeParms"===An[Cr].key){for(var go=[],Yo=0;Yo<rn.reverseChain.split("/").length-1;Yo+=1)go.push("null");go.push(An[Cr].value),An[Cr].value="["+go.join(" ")+"]"}}Re("<<");for(var qr=0;qr<An.length;qr++)Re("/"+An[qr].key+" "+An[qr].value);Re(">>"),0!==rn.data.length&&(Re("stream"),Re(en(rn.data)),Re("endstream"))},Xd=I.__private__.putPage=function(H){var ce=H.number,Ae=H.data,Fe=H.objId,Je=H.contentsObjId;Oi(Fe,!0),Re("<</Type /Page"),Re("/Parent "+H.rootDictionaryObjId+" 0 R"),Re("/Resources "+H.resourceDictionaryObjId+" 0 R"),Re("/MediaBox ["+parseFloat(Oe(H.mediaBox.bottomLeftX))+" "+parseFloat(Oe(H.mediaBox.bottomLeftY))+" "+Oe(H.mediaBox.topRightX)+" "+Oe(H.mediaBox.topRightY)+"]"),null!==H.cropBox&&Re("/CropBox ["+Oe(H.cropBox.bottomLeftX)+" "+Oe(H.cropBox.bottomLeftY)+" "+Oe(H.cropBox.topRightX)+" "+Oe(H.cropBox.topRightY)+"]"),null!==H.bleedBox&&Re("/BleedBox ["+Oe(H.bleedBox.bottomLeftX)+" "+Oe(H.bleedBox.bottomLeftY)+" "+Oe(H.bleedBox.topRightX)+" "+Oe(H.bleedBox.topRightY)+"]"),null!==H.trimBox&&Re("/TrimBox ["+Oe(H.trimBox.bottomLeftX)+" "+Oe(H.trimBox.bottomLeftY)+" "+Oe(H.trimBox.topRightX)+" "+Oe(H.trimBox.topRightY)+"]"),null!==H.artBox&&Re("/ArtBox ["+Oe(H.artBox.bottomLeftX)+" "+Oe(H.artBox.bottomLeftY)+" "+Oe(H.artBox.topRightX)+" "+Oe(H.artBox.topRightY)+"]"),"number"==typeof H.userUnit&&1!==H.userUnit&&Re("/UserUnit "+H.userUnit),Or.publish("putPage",{objId:Fe,pageContext:Ln[ce],pageNumber:ce,page:Ae}),Re("/Contents "+Je+" 0 R"),Re(">>"),Re("endobj");var bt=Ae.join("\n");return fe===he&&(bt+="\nQ"),Oi(Je,!0),cs({data:bt,filters:ks(),objectId:Je}),Re("endobj"),Fe},Ml=I.__private__.putPages=function(){var H,ce,Ae=[];for(H=1;H<=Vr;H++)Ln[H].objId=mi(),Ln[H].contentsObjId=mi();for(H=1;H<=Vr;H++)Ae.push(Xd({number:H,data:Nt[H],objId:Ln[H].objId,contentsObjId:Ln[H].contentsObjId,mediaBox:Ln[H].mediaBox,cropBox:Ln[H].cropBox,bleedBox:Ln[H].bleedBox,trimBox:Ln[H].trimBox,artBox:Ln[H].artBox,userUnit:Ln[H].userUnit,rootDictionaryObjId:yc,resourceDictionaryObjId:Fs}));Oi(yc,!0),Re("<</Type /Pages");var Fe="/Kids [";for(ce=0;ce<Vr;ce++)Fe+=Ae[ce]+" 0 R ";Re(Fe+"]"),Re("/Count "+Vr),Re(">>"),Re("endobj"),Or.publish("postPutPages")},Jd=function(H){Or.publish("putFont",{font:H,out:Re,newObject:Co,putStream:cs}),!0!==H.isAlreadyPutted&&(H.objectNumber=Co(),Re("<<"),Re("/Type /Font"),Re("/BaseFont /"+Qh(H.postScriptName)),Re("/Subtype /Type1"),"string"==typeof H.encoding&&Re("/Encoding /"+H.encoding),Re("/FirstChar 32"),Re("/LastChar 255"),Re(">>"),Re("endobj"))},gg=function(H){H.objectNumber=Co();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[Oe(H.x),Oe(H.y),Oe(H.x+H.width),Oe(H.y+H.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+H.matrix.toString()+"]"});var Ae=H.pages[1].join("\n");cs({data:Ae,additionalKeyValues:ce,objectId:H.objectNumber}),Re("endobj")},mg=function(H,ce){ce||(ce=21);var Ae=Co(),Fe=function(Lt,en){var rn,An=[],Bn=1/(en-1);for(rn=0;rn<1;rn+=Bn)An.push(rn);An.push(1),0!=Lt[0].offset&&Lt.unshift({offset:0,color:Lt[0].color}),1!=Lt[Lt.length-1].offset&&Lt.push({offset:1,color:Lt[Lt.length-1].color});for(var Yo="",qr=0,ti=0;ti<An.length;ti++){for(rn=An[ti];rn>Lt[qr+1].offset;)qr++;var Zo=Lt[qr].offset,Pi=(rn-Zo)/(Lt[qr+1].offset-Zo),fs=Lt[qr].color,Ia=Lt[qr+1].color;Yo+=We(Math.round((1-Pi)*fs[0]+Pi*Ia[0]).toString(16))+We(Math.round((1-Pi)*fs[1]+Pi*Ia[1]).toString(16))+We(Math.round((1-Pi)*fs[2]+Pi*Ia[2]).toString(16))}return Yo.trim()}(H.colors,ce),Je=[];Je.push({key:"FunctionType",value:"0"}),Je.push({key:"Domain",value:"[0.0 1.0]"}),Je.push({key:"Size",value:"["+ce+"]"}),Je.push({key:"BitsPerSample",value:"8"}),Je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cs({data:Fe,additionalKeyValues:Je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),Re("endobj"),H.objectNumber=Co(),Re("<< /ShadingType "+H.type),Re("/ColorSpace /DeviceRGB");var bt="/Coords ["+Oe(parseFloat(H.coords[0]))+" "+Oe(parseFloat(H.coords[1]))+" ";bt+=2===H.type?Oe(parseFloat(H.coords[2]))+" "+Oe(parseFloat(H.coords[3])):Oe(parseFloat(H.coords[2]))+" "+Oe(parseFloat(H.coords[3]))+" "+Oe(parseFloat(H.coords[4]))+" "+Oe(parseFloat(H.coords[5])),Re(bt+="]"),H.matrix&&Re("/Matrix ["+H.matrix.toString()+"]"),Re("/Function "+Ae+" 0 R"),Re("/Extend [true true]"),Re(">>"),Re("endobj")},pg=function(H,ce){var Ae=mi(),Fe=Co();ce.push({resourcesOid:Ae,objectOid:Fe}),H.objectNumber=Fe;var Je=[];Je.push({key:"Type",value:"/Pattern"}),Je.push({key:"PatternType",value:"1"}),Je.push({key:"PaintType",value:"1"}),Je.push({key:"TilingType",value:"1"}),Je.push({key:"BBox",value:"["+H.boundingBox.map(Oe).join(" ")+"]"}),Je.push({key:"XStep",value:Oe(H.xStep)}),Je.push({key:"YStep",value:Oe(H.yStep)}),Je.push({key:"Resources",value:Ae+" 0 R"}),H.matrix&&Je.push({key:"Matrix",value:"["+H.matrix.toString()+"]"}),cs({data:H.stream,additionalKeyValues:Je,objectId:H.objectNumber}),Re("endobj")},p5=function(H){for(var ce in H.objectNumber=Co(),Re("<<"),H)switch(ce){case"opacity":Re("/ca "+ge(H[ce]));break;case"stroke-opacity":Re("/CA "+ge(H[ce]))}Re(">>"),Re("endobj")},vv=function(H){Oi(H.resourcesOid,!0),Re("<<"),Re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ce in Re("/Font <<"),an)an.hasOwnProperty(ce)&&(!1===M||!0===M&&_.hasOwnProperty(ce))&&Re("/"+ce+" "+an[ce].objectNumber+" 0 R");Re(">>")}(),function(){if(Object.keys(yn).length>0){for(var ce in Re("/Shading <<"),yn)yn.hasOwnProperty(ce)&&yn[ce]instanceof wd&&yn[ce].objectNumber>=0&&Re("/"+ce+" "+yn[ce].objectNumber+" 0 R");Or.publish("putShadingPatternDict"),Re(">>")}}(),function(ce){if(Object.keys(yn).length>0){for(var Ae in Re("/Pattern <<"),yn)yn.hasOwnProperty(Ae)&&yn[Ae]instanceof I.TilingPattern&&yn[Ae].objectNumber>=0&&yn[Ae].objectNumber<ce&&Re("/"+Ae+" "+yn[Ae].objectNumber+" 0 R");Or.publish("putTilingPatternDict"),Re(">>")}}(H.objectOid),function(){if(Object.keys(Vn).length>0){var ce;for(ce in Re("/ExtGState <<"),Vn)Vn.hasOwnProperty(ce)&&Vn[ce].objectNumber>=0&&Re("/"+ce+" "+Vn[ce].objectNumber+" 0 R");Or.publish("putGStateDict"),Re(">>")}}(),function(){for(var ce in Re("/XObject <<"),Ki)Ki.hasOwnProperty(ce)&&Ki[ce].objectNumber>=0&&Re("/"+ce+" "+Ki[ce].objectNumber+" 0 R");Or.publish("putXobjectDict"),Re(">>")}(),Re(">>"),Re("endobj")},bM=function(H){Hn[H.fontName]=Hn[H.fontName]||{},Hn[H.fontName][H.fontStyle]=H.id},CM=function(H,ce,Ae,Fe,Je){var bt={id:"F"+(Object.keys(an).length+1).toString(10),postScriptName:H,fontName:ce,fontStyle:Ae,encoding:Fe,isStandardFont:Je||!1,metadata:{}};return Or.publish("addFont",{font:bt,instance:this}),an[bt.id]=bt,bM(bt),bt.id},ds=I.__private__.pdfEscape=I.pdfEscape=function(H,ce){return function(Ae,Fe){var Je,bt,Lt,en,rn,An,Bn,Cr,go;if(Lt=(Fe=Fe||{}).sourceEncoding||"Unicode",rn=Fe.outputEncoding,(Fe.autoencode||rn)&&an[fn].metadata&&an[fn].metadata[Lt]&&an[fn].metadata[Lt].encoding&&(en=an[fn].metadata[Lt].encoding,!rn&&an[fn].encoding&&(rn=an[fn].encoding),!rn&&en.codePages&&(rn=en.codePages[0]),"string"==typeof rn&&(rn=en[rn]),rn)){for(Bn=!1,An=[],Je=0,bt=Ae.length;Je<bt;Je++)(Cr=rn[Ae.charCodeAt(Je)])?An.push(String.fromCharCode(Cr)):An.push(Ae[Je]),An[Je].charCodeAt(0)>>8&&(Bn=!0);Ae=An.join("")}for(Je=Ae.length;void 0===Bn&&0!==Je;)Ae.charCodeAt(Je-1)>>8&&(Bn=!0),Je--;if(!Bn)return Ae;for(An=Fe.noBOM?[]:[254,255],Je=0,bt=Ae.length;Je<bt;Je++){if((go=(Cr=Ae.charCodeAt(Je))>>8)>>8)throw new Error("Character at position "+Je+" of string '"+Ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");An.push(go),An.push(Cr-(go<<8))}return String.fromCharCode.apply(void 0,An)}(H,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ev=I.__private__.beginPage=function(H){Nt[++Vr]=[],Ln[Vr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(H[0]),topRightY:Number(H[1])}},OM(Vr),vt(Nt[_e])},TM=function(H,ce){var Ae,Fe,Je;switch(t=ce||t,"string"==typeof H&&(Ae=J(H.toLowerCase()),Array.isArray(Ae)&&(Fe=Ae[0],Je=Ae[1])),Array.isArray(H)&&(Fe=H[0]*Pn,Je=H[1]*Pn),isNaN(Fe)&&(Fe=o[0],Je=o[1]),(Fe>14400||Je>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),Je=Math.min(14400,Je)),o=[Fe,Je],t.substr(0,1)){case"l":Je>Fe&&(o=[Je,Fe]);break;case"p":Fe>Je&&(o=[Je,Fe])}Ev(o),O5(Cv),Re(Eg),0!==Ov&&Re(Ov+" J"),0!==Pv&&Re(Pv+" j"),Or.publish("addPage",{pageNumber:Vr})},yv=function(H){H>0&&H<=Vr&&(Nt.splice(H,1),Ln.splice(H,1),Vr--,_e>Vr&&(_e=Vr),this.setPage(_e))},OM=function(H){H>0&&H<=Vr&&(_e=H)},PM=I.__private__.getNumberOfPages=I.getNumberOfPages=function(){return Nt.length-1},IM=function(H,ce,Ae){var Fe,Je=void 0;return Ae=Ae||{},ce=void 0!==ce?ce:an[fn].fontStyle,Fe=(H=void 0!==H?H:an[fn].fontName).toLowerCase(),void 0!==Hn[Fe]&&void 0!==Hn[Fe][ce]?Je=Hn[Fe][ce]:void 0!==Hn[H]&&void 0!==Hn[H][ce]?Je=Hn[H][ce]:!1===Ae.disableWarning&&kr.warn("Unable to look up font label for font '"+H+"', '"+ce+"'. Refer to getFontList() for available fonts."),Je||Ae.noFallback||null==(Je=Hn.times[ce])&&(Je=Hn.times.normal),Je},vg=I.__private__.putInfo=function(){var H=Co(),ce=function(Fe){return Fe};for(var Ae in null!==f&&(ce=No.encryptor(H,0)),Re("<<"),Re("/Producer ("+ds(ce("jsPDF "+on.version))+")"),Zn)Zn.hasOwnProperty(Ae)&&Zn[Ae]&&Re("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+ds(ce(Zn[Ae]))+")");Re("/CreationDate ("+ds(ce(Ze))+")"),Re(">>"),Re("endobj")},v5=I.__private__.putCatalog=function(H){var ce=(H=H||{}).rootDictionaryObjId||yc;switch(Co(),Re("<<"),Re("/Type /Catalog"),Re("/Pages "+ce+" 0 R"),un||(un="fullwidth"),un){case"fullwidth":Re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Re("/OpenAction [3 0 R /Fit]");break;case"original":Re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+un;"%"===Ae.substr(Ae.length-1)&&(un=parseInt(un)/100),"number"==typeof un&&Re("/OpenAction [3 0 R /XYZ null null "+ge(un)+"]")}switch(Wn||(Wn="continuous"),Wn){case"continuous":Re("/PageLayout /OneColumn");break;case"single":Re("/PageLayout /SinglePage");break;case"two":case"twoleft":Re("/PageLayout /TwoColumnLeft");break;case"tworight":Re("/PageLayout /TwoColumnRight")}mn&&Re("/PageMode /"+mn),Or.publish("putCatalog"),Re(">>"),Re("endobj")},Go=I.__private__.putTrailer=function(){Re("trailer"),Re("<<"),Re("/Size "+(ze+1)),Re("/Root "+ze+" 0 R"),Re("/Info "+(ze-1)+" 0 R"),null!==f&&Re("/Encrypt "+No.oid+" 0 R"),Re("/ID [ <"+et+"> <"+et+"> ]"),Re(">>")},xM=I.__private__.putHeader=function(){Re("%PDF-"+U),Re("%\xba\xdf\xac\xe0")},AM=I.__private__.putXRef=function(){var H="0000000000";Re("xref"),Re("0 "+(ze+1)),Re("0000000000 65535 f ");for(var ce=1;ce<=ze;ce++)Re("function"==typeof nt[ce]?(H+nt[ce]()).slice(-10)+" 00000 n ":void 0!==nt[ce]?(H+nt[ce]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},fu=I.__private__.buildDocument=function(){var H;ze=0,dt=0,ht=[],nt=[],Pt=[],yc=mi(),Fs=mi(),vt(ht),Or.publish("buildDocument"),xM(),Ml(),function(){Or.publish("putAdditionalObjects");for(var Ae=0;Ae<Pt.length;Ae++){var Fe=Pt[Ae];Oi(Fe.objId,!0),Re(Fe.content),Re("endobj")}Or.publish("postPutAdditionalObjects")}(),H=[],function(){for(var Ae in an)an.hasOwnProperty(Ae)&&(!1===M||!0===M&&_.hasOwnProperty(Ae))&&Jd(an[Ae])}(),function(){var Ae;for(Ae in Vn)Vn.hasOwnProperty(Ae)&&p5(Vn[Ae])}(),function(){for(var Ae in Ki)Ki.hasOwnProperty(Ae)&&gg(Ki[Ae])}(),function(Ae){var Fe;for(Fe in yn)yn.hasOwnProperty(Fe)&&(yn[Fe]instanceof wd?mg(yn[Fe]):yn[Fe]instanceof qh&&pg(yn[Fe],Ae))}(H),Or.publish("putResources"),H.forEach(vv),vv({resourcesOid:Fs,objectOid:Number.MAX_SAFE_INTEGER}),Or.publish("postPutResources"),null!==f&&(No.oid=Co(),Re("<<"),Re("/Filter /Standard"),Re("/V "+No.v),Re("/R "+No.r),Re("/U <"+No.toHexString(No.U)+">"),Re("/O <"+No.toHexString(No.O)+">"),Re("/P "+No.P),Re(">>"),Re("endobj")),vg(),v5();var ce=dt;return AM(),Go(),Re("startxref"),Re(""+ce),Re("%%EOF"),vt(Nt[_e]),ht.join("\n")},Qd=I.__private__.getBlob=function(H){return new Blob([Gn(H)],{type:"application/pdf"})},Hs=I.output=I.__private__.output=((us=function(H,ce){switch("string"==typeof(ce=ce||{})?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",H){case void 0:return fu();case"save":I.save(ce.filename);break;case"arraybuffer":return Gn(fu());case"blob":return Qd(fu());case"bloburi":case"bloburl":if(void 0!==On.URL&&"function"==typeof On.URL.createObjectURL)return On.URL&&On.URL.createObjectURL(Qd(fu()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Fe=fu();try{Ae=S4(Fe)}catch{Ae=S4(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+ce.filename+";base64,"+Ae;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(On)){var Je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(Je=ce.pdfObjectUrl,bt="");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Je+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",en=On.open();return null!==en&&en.document.write(Lt),en}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(On)){var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',An=On.open();if(null!==An){An.document.write(rn);var Bn=this;An.document.documentElement.querySelector("#pdfViewer").onload=function(){An.document.title=ce.filename,An.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bn.output("bloburl"))}}return An}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(On))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',go=On.open();if(null!==go&&(go.document.write(Cr),go.document.title=ce.filename),go||typeof safari>"u")return go;break;case"datauri":case"dataurl":return On.document.location.href=this.output("datauristring",ce);default:return null}}).foo=function(){try{return us.apply(this,arguments)}catch(Ae){var H=Ae.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ce="Error in function "+H.split("\n")[0].split("<")[0]+": "+Ae.message;if(!On.console)throw new Error(ce);On.console.error(ce,Ae),On.alert&&alert(ce)}},us.foo.bar=us,us.foo),qd=function(H){return!0===Array.isArray(Yd)&&Yd.indexOf(H)>-1};switch(r){case"pt":Pn=1;break;case"mm":Pn=72/25.4;break;case"cm":Pn=72/2.54;break;case"in":Pn=72;break;case"px":Pn=1==qd("px_scaling")?.75:96/72;break;case"pc":case"em":Pn=12;break;case"ex":Pn=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Pn=r}var No=null;xt(),Qe();var Dv=I.__private__.getPageInfo=I.getPageInfo=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ln[H].objId,pageNumber:H,pageContext:Ln[H]}},E5=I.__private__.getPageInfoByObjId=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in Ln)if(Ln[ce].objId===H)break;return Dv(ce)},y5=I.__private__.getCurrentPageInfo=I.getCurrentPageInfo=function(){return{objId:Ln[_e].objId,pageNumber:_e,pageContext:Ln[_e]}};I.addPage=function(){return TM.apply(this,arguments),this},I.setPage=function(){return OM.apply(this,arguments),vt.call(this,Nt[_e]),this},I.insertPage=function(H){return this.addPage(),this.movePage(_e,H),this},I.movePage=function(H,ce){var Ae,Fe;if(H>ce){Ae=Nt[H],Fe=Ln[H];for(var Je=H;Je>ce;Je--)Nt[Je]=Nt[Je-1],Ln[Je]=Ln[Je-1];Nt[ce]=Ae,Ln[ce]=Fe,this.setPage(ce)}else if(H<ce){Ae=Nt[H],Fe=Ln[H];for(var bt=H;bt<ce;bt++)Nt[bt]=Nt[bt+1],Ln[bt]=Ln[bt+1];Nt[ce]=Ae,Ln[ce]=Fe,this.setPage(ce)}return this},I.deletePage=function(){return yv.apply(this,arguments),this},I.__private__.text=I.text=function(H,ce,Ae,Fe,Je){var bt,Lt,en,rn,An,Bn,Cr,go,Yo,qr=(Fe=Fe||{}).scope||this;if("number"==typeof H&&"number"==typeof ce&&("string"==typeof Ae||Array.isArray(Ae))){var ti=Ae;Ae=ce,ce=H,H=ti}if(arguments[3]instanceof Dn==0?(en=arguments[4],rn=arguments[5],"object"===(0,Wr.A)(Cr=arguments[3])&&null!==Cr||("string"==typeof en&&(rn=en,en=null),"string"==typeof Cr&&(rn=Cr,Cr=null),"number"==typeof Cr&&(en=Cr,Cr=null),Fe={flags:Cr,angle:en,align:rn})):(be("The transform parameter of text() with a Matrix value"),Yo=Je),isNaN(ce)||isNaN(Ae)||null==H)throw new Error("Invalid arguments passed to jsPDF.text");if(0===H.length)return qr;var Zo,Pi="",fs="number"==typeof Fe.lineHeightFactor?Fe.lineHeightFactor:tf,Ia=qr.internal.scaleFactor;function BM(Pr){return Pr=Pr.split("\t").join(Array(Fe.TabLen||9).join(" ")),ds(Pr,Cr)}function bg(Pr){for(var Kr,Uo=Pr.concat(),ni=[],yu=Uo.length;yu--;)"string"==typeof(Kr=Uo.shift())?ni.push(Kr):Array.isArray(Pr)&&(1===Kr.length||void 0===Kr[1]&&void 0===Kr[2])?ni.push(Kr[0]):ni.push([Kr[0],Kr[1],Kr[2]]);return ni}function uf(Pr,Kr){var Uo;if("string"==typeof Pr)Uo=Kr(Pr)[0];else if(Array.isArray(Pr)){for(var ni,yu,Uv=Pr.concat(),Og=[],WM=Uv.length;WM--;)"string"==typeof(ni=Uv.shift())?Og.push(Kr(ni)[0]):Array.isArray(ni)&&"string"==typeof ni[0]&&(yu=Kr(ni[0],ni[1],ni[2]),Og.push([yu[0],yu[1],yu[2]]));Uo=Og}return Uo}var bc=!1,cf=!0;if("string"==typeof H)bc=!0;else if(Array.isArray(H)){var df=H.concat();Lt=[];for(var ff,zi=df.length;zi--;)("string"!=typeof(ff=df.shift())||Array.isArray(ff)&&"string"!=typeof ff[0])&&(cf=!1);bc=cf}if(!1===bc)throw new Error('Type of text must be string or Array. "'+H+'" is not recognized.');"string"==typeof H&&(H=H.match(/[\r?\n]/)?H.split(/\r\n|\r|\n/g):[H]);var hf=Wt/qr.internal.scaleFactor,gf=hf*(fs-1);switch(Fe.baseline){case"bottom":Ae-=gf;break;case"top":Ae+=hf-gf;break;case"hanging":Ae+=hf-2*gf;break;case"middle":Ae+=hf/2-gf}if((Bn=Fe.maxWidth||0)>0&&("string"==typeof H?H=qr.splitTextToSize(H,Bn):"[object Array]"===Object.prototype.toString.call(H)&&(H=H.reduce(function(Pr,Kr){return Pr.concat(qr.splitTextToSize(Kr,Bn))},[]))),Or.publish("preProcessText",bt={text:H,x:ce,y:Ae,options:Fe,mutex:{pdfEscape:ds,activeFontKey:fn,fonts:an,activeFontSize:Wt}}),H=bt.text,en=(Fe=bt.options).angle,Yo instanceof Dn==0&&en&&"number"==typeof en){en*=Math.PI/180,0===Fe.rotationDirection&&(en=-en),fe===he&&(en=-en);var Av=Math.cos(en),_v=Math.sin(en);Yo=new Dn(Av,_v,-_v,Av,0,0)}else en&&en instanceof Dn&&(Yo=en);fe!==he||Yo||(Yo=du),void 0!==(An=Fe.charSpace||Dg)&&(Pi+=Oe(Ne(An))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(go=Fe.horizontalScale)&&(Pi+=Oe(100*go)+" Tz\n");var To=-1,vu=void 0!==Fe.renderingMode?Fe.renderingMode:Fe.stroke,Cg=qr.internal.getCurrentPageInfo().pageContext;switch(vu){case 0:case!1:case"fill":To=0;break;case 1:case!0:case"stroke":To=1;break;case 2:case"fillThenStroke":To=2;break;case 3:case"invisible":To=3;break;case 4:case"fillAndAddForClipping":To=4;break;case 5:case"strokeAndAddPathForClipping":To=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":To=6;break;case 7:case"addToPathForClipping":To=7}-1!==To?Pi+=To+" Tr\n":-1!==(void 0!==Cg.usedRenderingMode?Cg.usedRenderingMode:-1)&&(Pi+="0 Tr\n"),-1!==To&&(Cg.usedRenderingMode=To),rn=Fe.align||"left";var hs,mf=Wt*fs,Sv=qr.internal.pageSize.getWidth(),Lv=an[fn];An=Fe.charSpace||Dg,Bn=Fe.maxWidth||0,Cr=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var Cc=[],pf=function(Pr){return qr.getStringUnitWidth(Pr,{font:Lv,charSpace:An,fontSize:Wt,doKerning:!1})*Wt/Ia};if("[object Array]"===Object.prototype.toString.call(H)){var ka;Lt=bg(H),"left"!==rn&&(hs=Lt.map(pf));var Ha,Tc=0;if("right"===rn){ce-=hs[0],H=[],zi=Lt.length;for(var Eu=0;Eu<zi;Eu++)0===Eu?(Ha=hu(ce),ka=gu(Ae)):(Ha=Ne(Tc-hs[Eu]),ka=-mf),H.push([Lt[Eu],Ha,ka]),Tc=hs[Eu]}else if("center"===rn){ce-=hs[0]/2,H=[],zi=Lt.length;for(var Oc=0;Oc<zi;Oc++)0===Oc?(Ha=hu(ce),ka=gu(Ae)):(Ha=Ne((Tc-hs[Oc])/2),ka=-mf),H.push([Lt[Oc],Ha,ka]),Tc=hs[Oc]}else if("left"===rn){H=[],zi=Lt.length;for(var Rv=0;Rv<zi;Rv++)H.push(Lt[Rv])}else if("justify"===rn&&"Identity-H"===Lv.encoding){H=[],zi=Lt.length,Bn=0!==Bn?Bn:Sv;for(var Tg=0,Bo=0;Bo<zi;Bo++)if(ka=0===Bo?gu(Ae):-mf,Ha=0===Bo?hu(ce):Tg,Bo<zi-1){var FM=Ne((Bn-hs[Bo])/(Lt[Bo].split(" ").length-1)),Cl=Lt[Bo].split(" ");H.push([Cl[0]+" ",Ha,ka]),Tg=0;for(var Tl=1;Tl<Cl.length;Tl++){var wv=(pf(Cl[Tl-1]+" "+Cl[Tl])-pf(Cl[Tl]))*Ia+FM;H.push(Tl==Cl.length-1?[Cl[Tl],wv,0]:[Cl[Tl]+" ",wv,0]),Tg-=wv}}else H.push([Lt[Bo],Ha,ka]);H.push(["",Tg,0])}else{if("justify"!==rn)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(H=[],zi=Lt.length,Bn=0!==Bn?Bn:Sv,Bo=0;Bo<zi;Bo++){ka=0===Bo?gu(Ae):-mf,Ha=0===Bo?hu(ce):0;var jv=Lt[Bo].split(" ").length-1;Cc.push(Bo<zi-1?Oe(Ne(jv>0?(Bn-hs[Bo])/jv:0)):0),H.push([Lt[Bo],Ha,ka])}}}!0===("boolean"==typeof Fe.R2L?Fe.R2L:Yn)&&(H=uf(H,function(Pr,Kr,Uo){return[Pr.split("").reverse().join(""),Kr,Uo]})),Or.publish("postProcessText",bt={text:H,x:ce,y:Ae,options:Fe,mutex:{pdfEscape:ds,activeFontKey:fn,fonts:an,activeFontSize:Wt}}),H=bt.text,Zo=bt.mutex.isHex||!1;var Bv=an[fn].encoding;"WinAnsiEncoding"!==Bv&&"StandardEncoding"!==Bv||(H=uf(H,function(Pr,Kr,Uo){return[BM(Pr),Kr,Uo]})),Lt=bg(H),H=[];for(var Pc,Ic,xc,vf=Array.isArray(Lt[0])?1:0,Ac="",Ef=function(Pr,Kr,Uo){var ni="";return Uo instanceof Dn?(Uo="number"==typeof Fe.angle?cu(Uo,new Dn(1,0,0,1,Pr,Kr)):cu(new Dn(1,0,0,1,Pr,Kr),Uo),fe===he&&(Uo=cu(new Dn(1,0,0,-1,0,0),Uo)),ni=Uo.join(" ")+" Tm\n"):ni=Oe(Pr)+" "+Oe(Kr)+" Td\n",ni},gs=0;gs<Lt.length;gs++){switch(Ac="",vf){case 1:xc=(Zo?"<":"(")+Lt[gs][0]+(Zo?">":")"),Pc=parseFloat(Lt[gs][1]),Ic=parseFloat(Lt[gs][2]);break;case 0:xc=(Zo?"<":"(")+Lt[gs]+(Zo?">":")"),Pc=hu(ce),Ic=gu(Ae)}void 0!==Cc&&void 0!==Cc[gs]&&(Ac=Cc[gs]+" Tw\n"),0===gs?H.push(Ac+Ef(Pc,Ic,Yo)+xc):0===vf?H.push(Ac+xc):1===vf&&H.push(Ac+Ef(Pc,Ic,Yo)+xc)}H=H.join(0===vf?" Tj\nT* ":" Tj\n"),H+=" Tj\n";var Ol="BT\n/";return Ol+=fn+" "+Wt+" Tf\n",Ol+=Oe(Wt*fs)+" TL\n",Ol+=nf+"\n",Ol+=Pi,Ol+=H,Re(Ol+="ET"),_[fn]=!0,qr};var D5=I.__private__.clip=I.clip=function(H){return Re("evenodd"===H?"W*":"W"),this};I.clipEvenOdd=function(){return D5("evenodd")},I.__private__.discardPath=I.discardPath=function(){return Re("n"),this};var bl=I.__private__.isValidStyle=function(H){var ce=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(H)&&(ce=!0),ce};I.__private__.setDefaultPathOperation=I.setDefaultPathOperation=function(H){return bl(H)&&(c=H),this};var _M=I.__private__.getStyle=I.getStyle=function(H){var ce=c;switch(H){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=H}return ce},SM=I.close=function(){return Re("h"),this};I.stroke=function(){return Re("S"),this},I.fill=function(H){return Dc("f",H),this},I.fillEvenOdd=function(H){return Dc("f*",H),this},I.fillStroke=function(H){return Dc("B",H),this},I.fillStrokeEvenOdd=function(H){return Dc("B*",H),this};var Dc=function(H,ce){"object"===(0,Wr.A)(ce)?b5(ce,H):Re(H)},Mv=function(H){null===H||fe===he&&void 0===H||(H=_M(H),Re(H))};function M5(H,ce,Ae,Fe,Je){var bt=new qh(ce||this.boundingBox,Ae||this.xStep,Fe||this.yStep,this.gState,Je||this.matrix);bt.stream=this.stream;var Lt=H+"$$"+this.cloneIndex+++"$$";return ls(Lt,bt),bt}var b5=function(H,ce){var Ae=ur[H.key],Fe=yn[Ae];if(Fe instanceof wd)Re("q"),Re(C5(ce)),Fe.gState&&I.setGState(Fe.gState),Re(H.matrix.toString()+" cm"),Re("/"+Ae+" sh"),Re("Q");else if(Fe instanceof qh){var Je=new Dn(1,0,0,-1,0,lf());H.matrix&&(Je=Je.multiply(H.matrix||du),Ae=M5.call(Fe,H.key,H.boundingBox,H.xStep,H.yStep,Je).id),Re("q"),Re("/Pattern cs"),Re("/"+Ae+" scn"),Fe.gState&&I.setGState(Fe.gState),Re(ce),Re("Q")}},C5=function(H){switch(H){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bv=I.moveTo=function(H,ce){return Re(Oe(Ne(H))+" "+Oe(je(ce))+" m"),this},ef=I.lineTo=function(H,ce){return Re(Oe(Ne(H))+" "+Oe(je(ce))+" l"),this},Mc=I.curveTo=function(H,ce,Ae,Fe,Je,bt){return Re([Oe(Ne(H)),Oe(je(ce)),Oe(Ne(Ae)),Oe(je(Fe)),Oe(Ne(Je)),Oe(je(bt)),"c"].join(" ")),this};I.__private__.line=I.line=function(H,ce,Ae,Fe,Je){if(isNaN(H)||isNaN(ce)||isNaN(Ae)||isNaN(Fe)||!bl(Je))throw new Error("Invalid arguments passed to jsPDF.line");return fe===se?this.lines([[Ae-H,Fe-ce]],H,ce,[1,1],Je||"S"):this.lines([[Ae-H,Fe-ce]],H,ce,[1,1]).stroke()},I.__private__.lines=I.lines=function(H,ce,Ae,Fe,Je,bt){var Lt,en,rn,An,Bn,ti,Zo,Pi;if("number"==typeof H&&(Pi=Ae,Ae=ce,ce=H,H=Pi),Fe=Fe||[1,1],bt=bt||!1,isNaN(ce)||isNaN(Ae)||!Array.isArray(H)||!Array.isArray(Fe)||!bl(Je)||"boolean"!=typeof bt)throw new Error("Invalid arguments passed to jsPDF.lines");for(bv(ce,Ae),Lt=Fe[0],en=Fe[1],An=H.length,ti=ce,Zo=Ae,rn=0;rn<An;rn++)2===(Bn=H[rn]).length?ef(ti=Bn[0]*Lt+ti,Zo=Bn[1]*en+Zo):Mc(Bn[0]*Lt+ti,Bn[1]*en+Zo,Bn[2]*Lt+ti,Bn[3]*en+Zo,ti=Bn[4]*Lt+ti,Zo=Bn[5]*en+Zo);return bt&&SM(),Mv(Je),this},I.path=function(H){for(var ce=0;ce<H.length;ce++){var Ae=H[ce],Fe=Ae.c;switch(Ae.op){case"m":bv(Fe[0],Fe[1]);break;case"l":ef(Fe[0],Fe[1]);break;case"c":Mc.apply(this,Fe);break;case"h":SM()}}return this},I.__private__.rect=I.rect=function(H,ce,Ae,Fe,Je){if(isNaN(H)||isNaN(ce)||isNaN(Ae)||isNaN(Fe)||!bl(Je))throw new Error("Invalid arguments passed to jsPDF.rect");return fe===se&&(Fe=-Fe),Re([Oe(Ne(H)),Oe(je(ce)),Oe(Ne(Ae)),Oe(Ne(Fe)),"re"].join(" ")),Mv(Je),this},I.__private__.triangle=I.triangle=function(H,ce,Ae,Fe,Je,bt,Lt){if(isNaN(H)||isNaN(ce)||isNaN(Ae)||isNaN(Fe)||isNaN(Je)||isNaN(bt)||!bl(Lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-H,Fe-ce],[Je-Ae,bt-Fe],[H-Je,ce-bt]],H,ce,[1,1],Lt,!0),this},I.__private__.roundedRect=I.roundedRect=function(H,ce,Ae,Fe,Je,bt,Lt){if(isNaN(H)||isNaN(ce)||isNaN(Ae)||isNaN(Fe)||isNaN(Je)||isNaN(bt)||!bl(Lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var en=4/3*(Math.SQRT2-1);return Je=Math.min(Je,.5*Ae),bt=Math.min(bt,.5*Fe),this.lines([[Ae-2*Je,0],[Je*en,0,Je,bt-bt*en,Je,bt],[0,Fe-2*bt],[0,bt*en,-Je*en,bt,-Je,bt],[2*Je-Ae,0],[-Je*en,0,-Je,-bt*en,-Je,-bt],[0,2*bt-Fe],[0,-bt*en,Je*en,-bt,Je,-bt]],H+Je,ce,[1,1],Lt,!0),this},I.__private__.ellipse=I.ellipse=function(H,ce,Ae,Fe,Je){if(isNaN(H)||isNaN(ce)||isNaN(Ae)||isNaN(Fe)||!bl(Je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Ae,Lt=4/3*(Math.SQRT2-1)*Fe;return bv(H+Ae,ce),Mc(H+Ae,ce-Lt,H+bt,ce-Fe,H,ce-Fe),Mc(H-bt,ce-Fe,H-Ae,ce-Lt,H-Ae,ce),Mc(H-Ae,ce+Lt,H-bt,ce+Fe,H,ce+Fe),Mc(H+bt,ce+Fe,H+Ae,ce+Lt,H+Ae,ce),Mv(Je),this},I.__private__.circle=I.circle=function(H,ce,Ae,Fe){if(isNaN(H)||isNaN(ce)||isNaN(Ae)||!bl(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(H,ce,Ae,Ae,Fe)},I.setFont=function(H,ce,Ae){return Ae&&(ce=Be(ce,Ae)),fn=IM(H,ce,{disableWarning:!1}),this};var T5=I.__private__.getFont=I.getFont=function(){return an[IM.apply(I,arguments)]};I.__private__.getFontList=I.getFontList=function(){var H,ce,Ae={};for(H in Hn)if(Hn.hasOwnProperty(H))for(ce in Ae[H]=[],Hn[H])Hn[H].hasOwnProperty(ce)&&Ae[H].push(ce);return Ae},I.addFont=function(H,ce,Ae,Fe,Je){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==bt.indexOf(arguments[3])?Je=arguments[3]:arguments[3]&&-1==bt.indexOf(arguments[3])&&(Ae=Be(Ae,Fe)),CM.call(this,H,ce,Ae,Je=Je||"Identity-H")};var tf,Cv=e.lineWidth||.200025,Rn=I.__private__.getLineWidth=I.getLineWidth=function(){return Cv},O5=I.__private__.setLineWidth=I.setLineWidth=function(H){return Cv=H,Re(Oe(Ne(H))+" w"),this};I.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(H,ce){if(H=H||[],ce=ce||0,isNaN(ce)||!Array.isArray(H))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return H=H.map(function(Ae){return Oe(Ne(Ae))}).join(" "),ce=Oe(Ne(ce)),Re("["+H+"] "+ce+" d"),this};var P5=I.__private__.getLineHeight=I.getLineHeight=function(){return Wt*tf};I.__private__.getLineHeight=I.getLineHeight=function(){return Wt*tf};var I5=I.__private__.setLineHeightFactor=I.setLineHeightFactor=function(H){return"number"==typeof(H=H||1.15)&&(tf=H),this},x5=I.__private__.getLineHeightFactor=I.getLineHeightFactor=function(){return tf};I5(e.lineHeight);var hu=I.__private__.getHorizontalCoordinate=function(H){return Ne(H)},gu=I.__private__.getVerticalCoordinate=function(H){return fe===he?H:Ln[_e].mediaBox.topRightY-Ln[_e].mediaBox.bottomLeftY-Ne(H)},A5=I.__private__.getHorizontalCoordinateString=I.getHorizontalCoordinateString=function(H){return Oe(hu(H))},_5=I.__private__.getVerticalCoordinateString=I.getVerticalCoordinateString=function(H){return Oe(gu(H))},Eg=e.strokeColor||"0 G";I.__private__.getStrokeColor=I.getDrawColor=function(){return Dl(Eg)},I.__private__.setStrokeColor=I.setDrawColor=function(H,ce,Ae,Fe){return Eg=Ws({ch1:H,ch2:ce,ch3:Ae,ch4:Fe,pdfColorType:"draw",precision:2}),Re(Eg),this};var Tv=e.fillColor||"0 g";I.__private__.getFillColor=I.getFillColor=function(){return Dl(Tv)},I.__private__.setFillColor=I.setFillColor=function(H,ce,Ae,Fe){return Tv=Ws({ch1:H,ch2:ce,ch3:Ae,ch4:Fe,pdfColorType:"fill",precision:2}),Re(Tv),this};var nf=e.textColor||"0 g",yg=I.__private__.getTextColor=I.getTextColor=function(){return Dl(nf)};I.__private__.setTextColor=I.setTextColor=function(H,ce,Ae,Fe){return nf=Ws({ch1:H,ch2:ce,ch3:Ae,ch4:Fe,pdfColorType:"text",precision:3}),this};var Dg=e.charSpace,S5=I.__private__.getCharSpace=I.getCharSpace=function(){return parseFloat(Dg||0)};I.__private__.setCharSpace=I.setCharSpace=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dg=H,this};var Ov=0;I.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},I.__private__.setLineCap=I.setLineCap=function(H){var ce=I.CapJoinStyles[H];if(void 0===ce)throw new Error("Line cap style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ov=ce,Re(ce+" J"),this};var Pv=0;I.__private__.setLineJoin=I.setLineJoin=function(H){var ce=I.CapJoinStyles[H];if(void 0===ce)throw new Error("Line join style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pv=ce,Re(ce+" j"),this},I.__private__.setLineMiterLimit=I.__private__.setMiterLimit=I.setLineMiterLimit=I.setMiterLimit=function(H){if(H=H||0,isNaN(H))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Re(Oe(Ne(H))+" M"),this},I.GState=ND,I.setGState=function(H){(H="string"==typeof H?Vn[jo[H]]:rf(null,H)).equals(ei)||(Re("/"+H.id+" gs"),ei=H)};var rf=function(H,ce){if(!H||!jo[H]){var Ae=!1;for(var Fe in Vn)if(Vn.hasOwnProperty(Fe)&&Vn[Fe].equals(ce)){Ae=!0;break}if(Ae)ce=Vn[Fe];else{var Je="GS"+(Object.keys(Vn).length+1).toString(10);Vn[Je]=ce,ce.id=Je}return H&&(jo[H]=ce.id),Or.publish("addGState",ce),ce}};I.addGState=function(H,ce){return rf(H,ce),this},I.saveGraphicsState=function(){return Re("q"),Hr.push({key:fn,size:Wt,color:nf}),this},I.restoreGraphicsState=function(){Re("Q");var H=Hr.pop();return fn=H.key,Wt=H.size,nf=H.color,ei=null,this},I.setCurrentTransformationMatrix=function(H){return Re(H.toString()+" cm"),this},I.comment=function(H){return Re("#"+H),this};var af=function(H,ce){var Ae=H||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(bt){isNaN(bt)||(Ae=parseFloat(bt))}});var Fe=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(bt){isNaN(bt)||(Fe=parseFloat(bt))}});var Je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Je},set:function(bt){Je=bt.toString()}}),this},Iv=function(H,ce,Ae,Fe){af.call(this,H,ce),this.type="rect";var Je=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Je},set:function(Lt){isNaN(Lt)||(Je=parseFloat(Lt))}});var bt=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Lt){isNaN(Lt)||(bt=parseFloat(Lt))}}),this},Mg=function(){this.page=Vr,this.currentPage=_e,this.pages=Nt.slice(0),this.pagesContext=Ln.slice(0),this.x=hn,this.y=Qr,this.matrix=br,this.width=LM(_e),this.height=mu(_e),this.outputDestination=Gt,this.id="",this.objectNumber=-1};Mg.prototype.restore=function(){Vr=this.page,Ln=this.pagesContext,Nt=this.pages,hn=this.x,Qr=this.y,br=this.matrix,RM(_e=this.currentPage,this.width),pu(_e,this.height),Gt=this.outputDestination};var xv=function(H,ce,Ae,Fe,Je){yl.push(new Mg),Vr=_e=0,Nt=[],hn=H,Qr=ce,br=Je,Ev([Ae,Fe])};for(var sf in I.beginFormObject=function(H,ce,Ae,Fe,Je){return xv(H,ce,Ae,Fe,Je),this},I.endFormObject=function(H){return function(ce){if(uu[ce])yl.pop().restore();else{var Ae=new Mg,Fe="Xo"+(Object.keys(Ki).length+1).toString(10);Ae.id=Fe,uu[ce]=Fe,Ki[Fe]=Ae,Or.publish("addFormObject",Ae),yl.pop().restore()}}(H),this},I.doFormObject=function(H,ce){var Ae=Ki[uu[H]];return Re("q"),Re(ce.toString()+" cm"),Re("/"+Ae.id+" Do"),Re("Q"),this},I.getFormObject=function(H){var ce=Ki[uu[H]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},I.save=function(H,ce){return H=H||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,!1===ce.returnPromise?(Rd(Qd(fu()),H),"function"==typeof Rd.unload&&On.setTimeout&&setTimeout(Rd.unload,911),this):new Promise(function(Ae,Fe){try{var Je=Rd(Qd(fu()),H);"function"==typeof Rd.unload&&On.setTimeout&&setTimeout(Rd.unload,911),Ae(Je)}catch(bt){Fe(bt.message)}})},on.API)on.API.hasOwnProperty(sf)&&("events"===sf&&on.API.events.length?function(H,ce){var Fe,Je;for(Je=ce.length-1;-1!==Je;Je--)H.subscribe.apply(H,[ce[Je][0]].concat("function"==typeof(Fe=ce[Je][1])?[Fe]:Fe))}(Or,on.API.events):I[sf]=on.API[sf]);function LM(H){return Ln[H].mediaBox.topRightX-Ln[H].mediaBox.bottomLeftX}function RM(H,ce){Ln[H].mediaBox.topRightX=ce+Ln[H].mediaBox.bottomLeftX}function mu(H){return Ln[H].mediaBox.topRightY-Ln[H].mediaBox.bottomLeftY}function pu(H,ce){Ln[H].mediaBox.topRightY=ce+Ln[H].mediaBox.bottomLeftY}var wM=I.getPageWidth=function(H){return LM(H=H||_e)/Pn},jM=I.setPageWidth=function(H,ce){RM(H,ce*Pn)},lf=I.getPageHeight=function(H){return mu(H=H||_e)/Pn},NM=I.setPageHeight=function(H,ce){pu(H,ce*Pn)};return I.internal={pdfEscape:ds,getStyle:_M,getFont:T5,getFontSize:Yt,getCharSpace:S5,getTextColor:yg,getLineHeight:P5,getLineHeightFactor:x5,getLineWidth:Rn,write:rr,getHorizontalCoordinate:hu,getVerticalCoordinate:gu,getCoordinateString:A5,getVerticalCoordinateString:_5,collections:{},newObject:Co,newAdditionalObject:Zd,newObjectDeferred:mi,newObjectDeferredBegin:Oi,getFilters:ks,putStream:cs,events:Or,scaleFactor:Pn,pageSize:{getWidth:function(){return wM(_e)},setWidth:function(H){jM(_e,H)},getHeight:function(){return lf(_e)},setHeight:function(H){NM(_e,H)}},encryptionOptions:f,encryption:No,getEncryptor:function(H){return null!==f?No.encryptor(H,0):function(ce){return ce}},output:Hs,getNumberOfPages:PM,pages:Nt,out:Re,f2:ge,f3:Ce,getPageInfo:Dv,getPageInfoByObjId:E5,getCurrentPageInfo:y5,getPDFVersion:k,Point:af,Rectangle:Iv,Matrix:Dn,hasHotfix:qd},Object.defineProperty(I.internal.pageSize,"width",{get:function(){return wM(_e)},set:function(H){jM(_e,H)},enumerable:!0,configurable:!0}),Object.defineProperty(I.internal.pageSize,"height",{get:function(){return lf(_e)},set:function(H){NM(_e,H)},enumerable:!0,configurable:!0}),function(H){for(var ce=0,Ae=vn.length;ce<Ae;ce++){var Fe=CM.call(this,H[ce][0],H[ce][1],H[ce][2],vn[ce][3],!0);!1===M&&(_[Fe]=!0);var Je=H[ce][0].split("-");bM({id:Fe,fontName:Je[0],fontStyle:Je[1]||""})}Or.publish("addFonts",{fonts:an,dictionary:Hn})}.call(I,vn),fn="F1",TM(o,t),Or.publish("initialized"),I}Jh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Jh.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jh.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},Jh.prototype.processOwnerPassword=function(e,n){return EP(vP(n).substr(0,5),e)},Jh.prototype.encryptor=function(e,n){var t=vP(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return EP(t,r)}},ND.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||(0,Wr.A)(e)!==(0,Wr.A)(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return 0===r},on.API={events:[]},on.version="3.0.3";var Mo=on.API,yP=1,jd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jn=function(e){return e.toFixed(2)},cc=function(e){return e.toFixed(5)};Mo.__acroform__={};var Ta=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},B4=function(e){return e*yP},hl=function(e){var n=new F4,t=qt.internal.getHeight(e)||0,r=qt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(jn(r)),Number(jn(t))],n},Lce=Mo.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<n},Rce=Mo.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<n)},wce=Mo.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<n?1:0},_o=Mo.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wce(e,n-1)},So=Mo.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lce(e,n-1)},Lo=Mo.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rce(e,n-1)},jce=Mo.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,o=e[0],i=e[1],a=e[2],l=e[3],u={};return u.lowerLeft_X=t(o)||0,u.lowerLeft_Y=r(i+l)||0,u.upperRight_X=t(o+a)||0,u.upperRight_Y=r(i)||0,[Number(jn(u.lowerLeft_X)),Number(jn(u.lowerLeft_Y)),Number(jn(u.upperRight_X)),Number(jn(u.upperRight_Y))]},Nce=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],r=DP(e,e._V||e.DV),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+o+" "+jn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var i=hl(e);return i.scope=e.scope,i.stream=n.join("\n"),i}},DP=function(e,n){var t=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},o=(n=")"==(n="("==n.substr(0,1)?n.substr(1):n).substr(n.length-1)?n.substr(0,n.length-1):n).split(" ");o=o.map(e.multiline?function(ge){return ge.split("\n")}:function(ge){return[ge]});var i=t,a=qt.internal.getHeight(e)||0;a=a<0?-a:a;var l=qt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(ge,Ce,Ne){return ge+1<o.length&&BD(Ce+" "+o[ge+1][0],e,Ne).width<=l-4};i++;e:for(;i>0;){n="",i--;var c,f,M=BD("3",e,i).height,_=e.multiline?a-i:(a-M)/2,I=_+=2,U=0,k=0,Y=0;if(i<=0){n="(...) Tj\n",n+="% Width of Text: "+BD(n,e,i=12).width+", FieldWidth:"+l+"\n";break}for(var J="",se=0,he=0;he<o.length;he++)if(o.hasOwnProperty(he)){var fe=!1;if(1!==o[he].length&&Y!==o[he].length-1){if((M+2)*(se+2)+2>a)continue e;J+=o[he][Y],fe=!0,k=he,he--}else{J=" "==(J+=o[he][Y]+" ").substr(J.length-1)?J.substr(0,J.length-1):J;var Me=parseInt(he),we=u(Me,J,i),Be=he>=o.length-1;if(we&&!Be){J+=" ",Y=0;continue}if(we||Be){if(Be)k=Me;else if(e.multiline&&(M+2)*(se+2)+2>a)continue e}else{if(!e.multiline||(M+2)*(se+2)+2>a)continue e;k=Me}}for(var Oe="",be=U;be<=k;be++){var Ue=o[be];if(e.multiline){if(be===k){Oe+=Ue[Y]+" ",Y=(Y+1)%Ue.length;continue}if(be===U){Oe+=Ue[Ue.length-1]+" ";continue}}Oe+=Ue[0]+" "}switch(Oe=" "==Oe.substr(Oe.length-1)?Oe.substr(0,Oe.length-1):Oe,f=BD(Oe,e,i).width,e.textAlign){case"right":c=l-f-2;break;case"center":c=(l-f)/2;break;default:c=2}n+=jn(c)+" "+jn(I)+" Td\n",n+="("+jd(Oe)+") Tj\n",n+=-jn(c)+" 0 Td\n",I=-(i+2),f=0,U=fe?k:k+1,se++,J=""}break}return r.text=n,r.fontSize=i,r},BD=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),o=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:o}},Bce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uce=function(e,n){var t={type:"reference",object:e};void 0===n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},U4=Mo.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(a){return a};if(Array.isArray(e)){for(var o="[",i=0;i<e.length;i++)switch(0!==i&&(o+=" "),(0,Wr.A)(e[i])){case"boolean":case"number":case"object":o+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==n&&t&&(r=t.internal.getEncryptor(n)),o+="("+jd(r(e[i].toString()))+")"):o+=e[i].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},MP=function(e,n,t){var r=function(o){return o};return void 0!==n&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),"("+jd(r(e))+")"},gl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gl.prototype.toString=function(){return this.objId+" 0 R"},gl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},gl.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(i){return"content"!=i&&"appearanceStreamContent"!=i&&"scope"!=i&&"objId"!=i&&"_"!=i.substring(0,1)});for(var t in n)if(!1===Object.getOwnPropertyDescriptor(this,n[t]).configurable){var r=n[t],o=this[r];o&&(Array.isArray(o)?e.push({key:r,value:U4(o,this.objId,this.scope)}):o instanceof gl?(o.scope=this.scope,e.push({key:r,value:o.objId+" 0 R"})):"function"!=typeof o&&e.push({key:r,value:o}))}return e};var F4=function(){gl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Ta(F4,gl);var W4=function(){gl.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+jd(t(e))+")"}},set:function(t){e=t}})};Ta(W4,gl);var js=function e(){gl.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(J){if(isNaN(J))throw new Error('Invalid value "'+J+'" for attribute F supplied.');n=J}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_o(n,3)},set:function(J){this.F=J?So(n,3):Lo(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(J){if(isNaN(J))throw new Error('Invalid value "'+J+'" for attribute Ff supplied.');t=J}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(J){r=void 0!==J?J:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(J){r[0]=J}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(J){r[1]=J}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(J){r[2]=J}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(J){r[3]=J}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(J){switch(J){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=J;break;default:throw new Error('Invalid value "'+J+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof WD)return;i="FieldObject"+e.FieldNum++}var J=function(se){return se};return this.scope&&(J=this.scope.internal.getEncryptor(this.objId)),"("+jd(J(i))+")"},set:function(J){i=J.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(J){i=J}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(J){a=J}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(J){l=J}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(J){u=J}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/yP:c},set:function(J){c=J}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(J){f=J}});var M="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!M||this instanceof WD||this instanceof Nd))return MP(M,this.objId,this.scope)},set:function(J){J=J.toString(),M=J}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof hi==0?MP(_,this.objId,this.scope):_},set:function(J){J=J.toString(),_=this instanceof hi==0?"("===J.substr(0,1)?eg(J.substr(1,J.length-2)):eg(J):J}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi==1?eg(_.substr(1,_.length-1)):_},set:function(J){J=J.toString(),_=this instanceof hi==1?"/"+J:J}});var I=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(I)return I},set:function(J){this.V=J}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof hi==0?MP(I,this.objId,this.scope):I},set:function(J){J=J.toString(),I=this instanceof hi==0?"("===J.substr(0,1)?eg(J.substr(1,J.length-2)):eg(J):J}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi==1?eg(I.substr(1,I.length-1)):I},set:function(J){J=J.toString(),I=this instanceof hi==1?"/"+J:J}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(J){k=J=!!J}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(J){U=J}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,1)},set:function(J){this.Ff=J?So(this.Ff,1):Lo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,2)},set:function(J){this.Ff=J?So(this.Ff,2):Lo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,3)},set:function(J){this.Ff=J?So(this.Ff,3):Lo(this.Ff,3)}});var Y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Y)return Y},set:function(J){if(-1===[0,1,2].indexOf(J))throw new Error('Invalid value "'+J+'" for attribute Q supplied.');Y=J}}),Object.defineProperty(this,"textAlign",{get:function(){var J;switch(Y){case 0:default:J="left";break;case 1:J="center";break;case 2:J="right"}return J},configurable:!0,enumerable:!0,set:function(J){switch(J){case"right":case 2:Y=2;break;case"center":case 1:Y=1;break;default:Y=0}}})};Ta(js,gl);var tg=function(){js.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return U4(n,this.objId,this.scope)},set:function(t){var r,o;o=[],"string"==typeof(r=t)&&(o=function(i,a,l){l||(l=1);for(var u,c=[];u=a.exec(i);)c.push(u[l]);return c}(r,/\((.*?)\)/g)),n=o}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==n.indexOf(t)&&(n.splice(n.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,18)},set:function(t){this.Ff=t?So(this.Ff,18):Lo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?So(this.Ff,19):Lo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,20)},set:function(t){t?(this.Ff=So(this.Ff,20),n.sort()):this.Ff=Lo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,22)},set:function(t){this.Ff=t?So(this.Ff,22):Lo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,23)},set:function(t){this.Ff=t?So(this.Ff,23):Lo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,27)},set:function(t){this.Ff=t?So(this.Ff,27):Lo(this.Ff,27)}}),this.hasAppearanceStream=!1};Ta(tg,js);var ng=function(){tg.call(this),this.fontName="helvetica",this.combo=!1};Ta(ng,tg);var rg=function(){ng.call(this),this.combo=!0};Ta(rg,ng);var UD=function(){rg.call(this),this.edit=!0};Ta(UD,rg);var hi=function(){js.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,15)},set:function(t){this.Ff=t?So(this.Ff,15):Lo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,16)},set:function(t){this.Ff=t?So(this.Ff,16):Lo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,17)},set:function(t){this.Ff=t?So(this.Ff,17):Lo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,26)},set:function(t){this.Ff=t?So(this.Ff,26):Lo(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(n).length){var r,o=[];for(r in o.push("<<"),n)o.push("/"+r+" ("+jd(t(n[r]))+")");return o.push(">>"),o.join("\n")}},set:function(t){"object"===(0,Wr.A)(t)&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){"string"==typeof t&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Ta(hi,js);var FD=function(){hi.call(this),this.pushButton=!0};Ta(FD,hi);var og=function(){hi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=void 0!==n?n:[]}})};Ta(og,hi);var WD=function(){var e,n;js.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(o){n=o}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(l){return l};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+jd(o(r[i]))+")");return a.push(">>"),a.join("\n")},set:function(o){"object"===(0,Wr.A)(o)&&(r=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(o){"string"==typeof o&&(r.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(o){t="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ta(WD,js),og.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},og.prototype.createOption=function(e){var n=new WD;return n.Parent=this,n.optionName=e,this.Kids.push(n),Wce.call(this.scope,n),n};var kD=function(){hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Ta(kD,hi);var Nd=function(){js.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,13)},set:function(n){this.Ff=n?So(this.Ff,13):Lo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,21)},set:function(n){this.Ff=n?So(this.Ff,21):Lo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,23)},set:function(n){this.Ff=n?So(this.Ff,23):Lo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,24)},set:function(n){this.Ff=n?So(this.Ff,24):Lo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,25)},set:function(n){this.Ff=n?So(this.Ff,25):Lo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,26)},set:function(n){this.Ff=n?So(this.Ff,26):Lo(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ta(Nd,js);var HD=function(){Nd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,14)},set:function(e){this.Ff=e?So(this.Ff,14):Lo(this.Ff,14)}}),this.password=!0};Ta(HD,Nd);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=hl(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),i=DP(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+jn(qt.internal.getWidth(e))+" "+jn(qt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+jn(i.fontSize)+" Tf "+o),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join("\n"),n},YesNormal:function(e){var n=hl(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),o=[],i=qt.internal.getHeight(e),a=qt.internal.getWidth(e),l=DP(e,e.caption);return o.push("1 g"),o.push("0 0 "+jn(a)+" "+jn(i)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+jn(a-1)+" "+jn(i-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+t+" "+jn(l.fontSize)+" Tf "+r),o.push(l.text),o.push("ET"),o.push("Q"),n.stream=o.join("\n"),n},OffPushDown:function(e){var n=hl(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+jn(qt.internal.getWidth(e))+" "+jn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join("\n"),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Circle.YesNormal,n.D[e]=qt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=hl(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((r*qt.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+cc(qt.internal.getWidth(e)/2)+" "+cc(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join("\n"),n},YesPushDown:function(e){var n=hl(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),i=Number((o*qt.internal.Bezier_C).toFixed(5)),a=Number((r*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cc(qt.internal.getWidth(e)/2)+" "+cc(qt.internal.getHeight(e)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),t.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),t.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),t.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+cc(qt.internal.getWidth(e)/2)+" "+cc(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join("\n"),n},OffPushDown:function(e){var n=hl(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),i=Number((o*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cc(qt.internal.getWidth(e)/2)+" "+cc(qt.internal.getHeight(e)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),t.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),t.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),t.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join("\n"),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Cross.YesNormal,n.D[e]=qt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=hl(e);n.scope=e.scope;var t=[],r=qt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+jn(qt.internal.getWidth(e)-2)+" "+jn(qt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(jn(r.x1.x)+" "+jn(r.x1.y)+" m"),t.push(jn(r.x2.x)+" "+jn(r.x2.y)+" l"),t.push(jn(r.x4.x)+" "+jn(r.x4.y)+" m"),t.push(jn(r.x3.x)+" "+jn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join("\n"),n},YesPushDown:function(e){var n=hl(e);n.scope=e.scope;var t=qt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+jn(qt.internal.getWidth(e))+" "+jn(qt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+jn(qt.internal.getWidth(e)-2)+" "+jn(qt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jn(t.x1.x)+" "+jn(t.x1.y)+" m"),r.push(jn(t.x2.x)+" "+jn(t.x2.y)+" l"),r.push(jn(t.x4.x)+" "+jn(t.x4.y)+" m"),r.push(jn(t.x3.x)+" "+jn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join("\n"),n},OffPushDown:function(e){var n=hl(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+jn(qt.internal.getWidth(e))+" "+jn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join("\n"),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};qt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=qt.internal.getWidth(e),t=qt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},qt.internal.getWidth=function(e){var n=0;return"object"===(0,Wr.A)(e)&&(n=B4(e.Rect[2])),n},qt.internal.getHeight=function(e){var n=0;return"object"===(0,Wr.A)(e)&&(n=B4(e.Rect[3])),n};var e,n,Wce=Mo.addField=function(e){if(function(e,n){if(n.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(js.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Bce)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new W4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i.objId=void 0,i.hasAnnotation&&Uce(i,t)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(r,o){var i=!r;for(var a in r||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],u=[],c=l.Rect;if(l.Rect&&(l.Rect=jce(l.Rect,o)),o.internal.newObjectDeferredBegin(l.objId,!0),l.DA=qt.createDefaultAppearanceStream(l),"object"===(0,Wr.A)(l)&&"function"==typeof l.getKeyValueListForStream&&(u=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Nce(l);u.push({key:"AP",value:"<</N "+f+">>"}),o.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var M="";for(var _ in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(_)){var I=l.appearanceStreamContent[_];if(M+="/"+_+" ",M+="<<",Object.keys(I).length>=1||Array.isArray(I)){for(var a in I)if(I.hasOwnProperty(a)){var U=I[a];"function"==typeof U&&(U=U.call(o,l)),M+="/"+a+" "+U+" ",o.internal.acroformPlugin.xForms.indexOf(U)>=0||o.internal.acroformPlugin.xForms.push(U)}}else"function"==typeof(U=I)&&(U=U.call(o,l)),M+="/"+a+" "+U,o.internal.acroformPlugin.xForms.indexOf(U)>=0||o.internal.acroformPlugin.xForms.push(U);M+=">>"}u.push({key:"AP",value:"<<\n"+M+">>"})}o.internal.putStream({additionalKeyValues:u,objectId:l.objId}),o.internal.out("endobj")}i&&function(k,Y){for(var J in k)if(k.hasOwnProperty(J)){var se=J,he=k[J];Y.internal.newObjectDeferredBegin(he.objId,!0),"object"===(0,Wr.A)(he)&&"function"==typeof he.putStream&&he.putStream(),delete k[se]}}(o.internal.acroformPlugin.xForms,o)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof js))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function k4(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}Mo.AcroFormChoiceField=tg,Mo.AcroFormListBox=ng,Mo.AcroFormComboBox=rg,Mo.AcroFormEditBox=UD,Mo.AcroFormButton=hi,Mo.AcroFormPushButton=FD,Mo.AcroFormRadioButton=og,Mo.AcroFormCheckBox=kD,Mo.AcroFormTextField=Nd,Mo.AcroFormPasswordField=HD,Mo.AcroFormAppearance=qt,Mo.AcroForm={ChoiceField:tg,ListBox:ng,ComboBox:rg,EditBox:UD,Button:hi,PushButton:FD,RadioButton:og,CheckBox:kD,TextField:Nd,PasswordField:HD,Appearance:qt},on.AcroForm={ChoiceField:tg,ListBox:ng,ComboBox:rg,EditBox:UD,Button:hi,PushButton:FD,RadioButton:og,CheckBox:kD,TextField:Nd,PasswordField:HD,Appearance:qt},function(e){var n="addImage_";e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.__addimage__.getImageFileTypeByImageData=function(ge,Ce){var Ne,je,Ze,et,rt,Qe=t;if("RGBA"===(Ce=Ce||t)||void 0!==ge.data&&ge.data instanceof Uint8ClampedArray&&"height"in ge&&"width"in ge)return"RGBA";if(we(ge))for(rt in r)for(Ze=r[rt],Ne=0;Ne<Ze.length;Ne+=1){for(et=!0,je=0;je<Ze[Ne].length;je+=1)if(void 0!==Ze[Ne][je]&&Ze[Ne][je]!==ge[je]){et=!1;break}if(!0===et){Qe=rt;break}}else for(rt in r)for(Ze=r[rt],Ne=0;Ne<Ze.length;Ne+=1){for(et=!0,je=0;je<Ze[Ne].length;je+=1)if(void 0!==Ze[Ne][je]&&Ze[Ne][je]!==ge.charCodeAt(je)){et=!1;break}if(!0===et){Qe=rt;break}}return Qe===t&&Ce!==t&&(Qe=Ce),Qe},i=function ge(Ce){for(var Ne=this.internal.write,je=this.internal.putStream,Ze=(0,this.internal.getFilters)();-1!==Ze.indexOf("FlateEncode");)Ze.splice(Ze.indexOf("FlateEncode"),1);Ce.objectId=this.internal.newObject();var et=[];if(et.push({key:"Type",value:"/XObject"}),et.push({key:"Subtype",value:"/Image"}),et.push({key:"Width",value:Ce.width}),et.push({key:"Height",value:Ce.height}),Ce.colorSpace===J.INDEXED?et.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ce.palette.length/3-1)+" "+("sMask"in Ce&&void 0!==Ce.sMask?Ce.objectId+2:Ce.objectId+1)+" 0 R]"}):(et.push({key:"ColorSpace",value:"/"+Ce.colorSpace}),Ce.colorSpace===J.DEVICE_CMYK&&et.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),et.push({key:"BitsPerComponent",value:Ce.bitsPerComponent}),"decodeParameters"in Ce&&void 0!==Ce.decodeParameters&&et.push({key:"DecodeParms",value:"<<"+Ce.decodeParameters+">>"}),"transparency"in Ce&&Array.isArray(Ce.transparency)&&Ce.transparency.length>0){for(var rt="",Qe=0,at=Ce.transparency.length;Qe<at;Qe++)rt+=Ce.transparency[Qe]+" "+Ce.transparency[Qe]+" ";et.push({key:"Mask",value:"["+rt+"]"})}if(void 0!==Ce.sMask&&et.push({key:"SMask",value:Ce.objectId+1+" 0 R"}),je({data:Ce.data,additionalKeyValues:et,alreadyAppliedFilters:void 0!==Ce.filter?["/"+Ce.filter]:void 0,objectId:Ce.objectId}),Ne("endobj"),"sMask"in Ce&&void 0!==Ce.sMask){var xt,pe=null!==(xt=Ce.sMaskBitsPerComponent)&&void 0!==xt?xt:Ce.bitsPerComponent,_e={width:Ce.width,height:Ce.height,colorSpace:"DeviceGray",bitsPerComponent:pe,data:Ce.sMask};"filter"in Ce&&(_e.decodeParameters="/Predictor ".concat(Ce.predictor," /Colors 1 /BitsPerComponent ").concat(pe," /Columns ").concat(Ce.width),_e.filter=Ce.filter),ge.call(this,_e)}if(Ce.colorSpace===J.INDEXED){var Le=this.internal.newObject();je({data:Oe(new Uint8Array(Ce.palette)),objectId:Le}),Ne("endobj")}},a=function(){var ge=this.internal.collections[n+"images"];for(var Ce in ge)i.call(this,ge[Ce])},l=function(){var ge,Ce=this.internal.collections[n+"images"],Ne=this.internal.write;for(var je in Ce)Ne("/I"+(ge=Ce[je]).index,ge.objectId,"0","R")},u=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var ge=this.internal.collections[n+"images"];return u.call(this),ge},f=function(){return Object.keys(this.internal.collections[n+"images"]).length},M=function(ge){return"function"==typeof e["process"+ge.toUpperCase()]},_=function(ge){return"object"===(0,Wr.A)(ge)&&1===ge.nodeType},I=function(ge,Ce){if("IMG"===ge.nodeName&&ge.hasAttribute("src")){var Ne=""+ge.getAttribute("src");if(0===Ne.indexOf("data:image/"))return wD(unescape(Ne).split("base64,").pop());var je=e.loadFile(Ne,!0);if(void 0!==je)return je}if("CANVAS"===ge.nodeName){if(0===ge.width||0===ge.height)throw new Error("Given canvas must have data. Canvas width: "+ge.width+", height: "+ge.height);var Ze;switch(Ce){case"PNG":Ze="image/png";break;case"WEBP":Ze="image/webp";break;default:Ze="image/jpeg"}return wD(ge.toDataURL(Ze,1).split("base64,").pop())}},U=function(ge){var Ce=this.internal.collections[n+"images"];if(Ce)for(var Ne in Ce)if(ge===Ce[Ne].alias)return Ce[Ne]},k=function(ge,Ce,Ne){return ge||Ce||(ge=-96,Ce=-96),ge<0&&(ge=-1*Ne.width*72/ge/this.internal.scaleFactor),Ce<0&&(Ce=-1*Ne.height*72/Ce/this.internal.scaleFactor),0===ge&&(ge=Ce*Ne.width/Ne.height),0===Ce&&(Ce=ge*Ne.height/Ne.width),[ge,Ce]},Y=function(ge,Ce,Ne,je,Ze,et){var rt=k.call(this,Ne,je,Ze),Qe=this.internal.getCoordinateString,at=this.internal.getVerticalCoordinateString,Ft=c.call(this);if(Ne=rt[0],je=rt[1],Ft[Ze.index]=Ze,et){et*=Math.PI/180;var xt=Math.cos(et),pe=Math.sin(et),_e=function(We){return We.toFixed(4)},Le=[_e(xt),_e(pe),_e(-1*pe),_e(xt),0,0,"cm"]}this.internal.write("q"),et?(this.internal.write([1,"0","0",1,Qe(ge),at(Ce+je),"cm"].join(" ")),this.internal.write(Le.join(" ")),this.internal.write([Qe(Ne),"0","0",Qe(je),"0","0","cm"].join(" "))):this.internal.write([Qe(Ne),"0","0",Qe(je),Qe(ge),at(Ce+je),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ze.index+" Do"),this.internal.write("Q")},J=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var se=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},he=e.__addimage__.sHashCode=function(ge){var Ce,Ne,je=0;if("string"==typeof ge)for(Ne=ge.length,Ce=0;Ce<Ne;Ce++)je=(je<<5)-je+ge.charCodeAt(Ce),je|=0;else if(we(ge))for(Ne=ge.byteLength/2,Ce=0;Ce<Ne;Ce++)je=(je<<5)-je+ge[Ce],je|=0;return je},fe=e.__addimage__.validateStringAsBase64=function(ge){(ge=ge||"").toString().trim();var Ce=!0;return 0===ge.length&&(Ce=!1),ge.length%4!=0&&(Ce=!1),!1===/^[A-Za-z0-9+/]+$/.test(ge.substr(0,ge.length-2))&&(Ce=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ge.substr(-2))&&(Ce=!1),Ce},Me=e.__addimage__.extractImageFromDataUrl=function(ge){if(null==ge||!(ge=ge.trim()).startsWith("data:"))return null;var Ce=ge.indexOf(",");return Ce<0?null:ge.substring(0,Ce).trim().endsWith("base64")?ge.substring(Ce+1):null};e.__addimage__.isArrayBuffer=function(ge){return ge instanceof ArrayBuffer};var we=e.__addimage__.isArrayBufferView=function(ge){return ge instanceof Int8Array||ge instanceof Uint8Array||ge instanceof Uint8ClampedArray||ge instanceof Int16Array||ge instanceof Uint16Array||ge instanceof Int32Array||ge instanceof Uint32Array||ge instanceof Float32Array||ge instanceof Float64Array},Be=e.__addimage__.binaryStringToUint8Array=function(ge){for(var Ce=ge.length,Ne=new Uint8Array(Ce),je=0;je<Ce;je++)Ne[je]=ge.charCodeAt(je);return Ne},Oe=e.__addimage__.arrayBufferToBinaryString=function(ge){for(var Ce="",Ne=we(ge)?ge:new Uint8Array(ge),je=0;je<Ne.length;je+=8192)Ce+=String.fromCharCode.apply(null,Ne.subarray(je,je+8192));return Ce};e.addImage=function(){var ge,Ce,Ne,je,Ze,et,rt,Qe,at;if("number"==typeof arguments[1]?(Ce=t,Ne=arguments[1],je=arguments[2],Ze=arguments[3],et=arguments[4],rt=arguments[5],Qe=arguments[6],at=arguments[7]):(Ce=arguments[1],Ne=arguments[2],je=arguments[3],Ze=arguments[4],et=arguments[5],rt=arguments[6],Qe=arguments[7],at=arguments[8]),"object"===(0,Wr.A)(ge=arguments[0])&&!_(ge)&&"imageData"in ge){var Ft=ge;ge=Ft.imageData,Ce=Ft.format||Ce||t,Ne=Ft.x||Ne||0,je=Ft.y||je||0,Ze=Ft.w||Ft.width||Ze,et=Ft.h||Ft.height||et,rt=Ft.alias||rt,Qe=Ft.compression||Qe,at=Ft.rotation||Ft.angle||at}var xt=this.internal.getFilters();if(void 0===Qe&&-1!==xt.indexOf("FlateEncode")&&(Qe="SLOW"),isNaN(Ne)||isNaN(je))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var pe=be.call(this,ge,Ce,rt,Qe);return Y.call(this,Ne,je,Ze,et,pe,at),this};var be=function(ge,Ce,Ne,je){var Ze,et,rt,at;if("string"==typeof ge&&o(ge)===t){ge=unescape(ge);var Qe=Ue(ge,!1);(""!==Qe||void 0!==(Qe=e.loadFile(ge,!0)))&&(ge=Qe)}if(_(ge)&&(ge=I(ge,Ce)),Ce=o(ge,Ce),!M(Ce))throw new Error("addImage does not support files of type '"+Ce+"', please ensure that a plugin for '"+Ce+"' support is added.");if((null==(rt=Ne)||0===rt.length)&&(Ne="string"==typeof(at=ge)||we(at)?he(at):we(at.data)?he(at.data):null),(Ze=U.call(this,Ne))||(ge instanceof Uint8Array||"RGBA"===Ce||(et=ge,ge=Be(ge)),Ze=this["process"+Ce.toUpperCase()](ge,f.call(this),Ne,function(at){return at&&"string"==typeof at&&(at=at.toUpperCase()),at in e.image_compression?at:se.NONE}(je),et)),!Ze)throw new Error("An unknown error occurred whilst processing the image.");return Ze},Ue=e.__addimage__.convertBase64ToBinaryString=function(ge,Ce){Ce="boolean"!=typeof Ce||Ce;var Ne,je="";if("string"==typeof ge){var Ze;Ne=null!==(Ze=Me(ge))&&void 0!==Ze?Ze:ge;try{je=wD(Ne)}catch(et){if(Ce)throw fe(Ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+et.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return je};e.getImageProperties=function(ge){var Ce,Ne,je="";if(_(ge)&&(ge=I(ge)),"string"==typeof ge&&o(ge)===t&&(""===(je=Ue(ge,!1))&&(je=e.loadFile(ge)||""),ge=je),Ne=o(ge),!M(Ne))throw new Error("addImage does not support files of type '"+Ne+"', please ensure that a plugin for '"+Ne+"' support is added.");if(ge instanceof Uint8Array||(ge=Be(ge)),!(Ce=this["process"+Ne.toUpperCase()](ge)))throw new Error("An unknown error occurred whilst processing the image");return Ce.fileType=Ne,Ce}}(on.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
e=on.API,n=function(t){if(void 0!==t&&""!=t)return!0},on.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,o,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,f=!1,M=0;M<c.length&&!f;M++)switch((r=c[M]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(0!=f){this.internal.write("/Annots [");for(var _=0;_<c.length;_++){r=c[_];var I=this.internal.pdfEscape,U=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),Y=this.internal.newAdditionalObject(),J=this.internal.getEncryptor(k.objId),se=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(o="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+I(J(r.contents))+")",i+=" /Popup "+Y.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+I(J(se))+") >>",k.content=i;var he=k.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+he,r.open&&(i+=" /Open true"),Y.content=i+=" >>",this.internal.write(k.objId,"0 R",Y.objId,"0 R");break;case"freetext":o="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var fe=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+I(U(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+fe+")",i+=" /Border [0 0 0]",this.internal.write(i+=" >>");break;case"link":if(r.options.name){var Me=this.annotations._nameMap[r.options.name];r.options.pageNumber=Me.page,r.options.top=Me.y}else r.options.top||(r.options.top=0);if(o="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+I(U(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var we=l(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+we+" "+r.options.zoom+"]"}""!=i&&this.internal.write(i+=" >>")}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,o,i,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:c(r),w:u(t+o),h:c(r+i)},options:a,type:"link"})},e.textWithLink=function(t,r,o,i){var a,l,u=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==i.maxWidth){var f=this.splitTextToSize(t,l=i.maxWidth).length;a=Math.ceil(c*f)}else l=u,a=c;return this.text(t,r,o,i),"center"===i.align&&(r-=u/2),"right"===i.align&&(r-=u),this.link(r,(o+=.2*c)-c,l,a,i),u},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(k){return void 0!==n[k.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(k){return"string"==typeof k&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},l=e.__arabicParser__.isArabicEndLetter=function(k){return a(k)&&i(k)&&n[k.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(k){return a(k)&&o.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return a(k)&&i(k)&&n[k.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return a(k)&&i(k)&&n[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return a(k)&&i(k)&&n[k.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return a(k)&&i(k)&&4==n[k.charCodeAt(0)].length},M=e.__arabicParser__.resolveLigatures=function(k){var Y=0,J=t,se="",he=0;for(Y=0;Y<k.length;Y+=1)void 0!==J[k.charCodeAt(Y)]?(he++,"number"==typeof(J=J[k.charCodeAt(Y)])&&(se+=String.fromCharCode(J),J=t,he=0),Y===k.length-1&&(J=t,se+=k.charAt(Y-(he-1)),Y-=he-1,he=0)):(J=t,se+=k.charAt(Y-he),Y-=he,he=0);return se};e.__arabicParser__.isArabicDiacritic=function(k){return void 0!==k&&void 0!==r[k.charCodeAt(0)]};var _=e.__arabicParser__.getCorrectForm=function(k,Y,J){return a(k)?!1===i(k)?-1:!c(k)||!a(Y)&&!a(J)||!a(J)&&l(Y)||l(k)&&!a(Y)||l(k)&&u(Y)||l(k)&&l(Y)?0:f(k)&&a(Y)&&!l(Y)&&a(J)&&c(J)?3:l(k)||!a(J)?1:2:-1},I=function(k){var Y=0,J=0,se=0,he="",fe="",Me="",we=(k=k||"").split("\\s+"),Be=[];for(Y=0;Y<we.length;Y+=1){for(Be.push(""),J=0;J<we[Y].length;J+=1)fe=we[Y][J-1],Me=we[Y][J+1],a(he=we[Y][J])?(se=_(he,fe,Me),Be[Y]+=-1!==se?String.fromCharCode(n[he.charCodeAt(0)][se]):he):Be[Y]+=he;Be[Y]=M(Be[Y])}return Be.join(" ")},U=e.__arabicParser__.processArabic=e.processArabic=function(){var k,Y="string"==typeof arguments[0]?arguments[0]:arguments[0].text,J=[];if(Array.isArray(Y)){var se=0;for(J=[],se=0;se<Y.length;se+=1)Array.isArray(Y[se])?J.push([I(Y[se][0]),Y[se][1],Y[se][2]]):J.push([I(Y[se])]);k=J}else k=I(Y);return"string"==typeof arguments[0]?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",U])}(on.API),on.API.autoPrint=function(e){var n;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||!1===Number.isInteger(l)||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(l){o=isNaN(l)||!1===Number.isInteger(l)||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var o;if("2d"!==(t=t||"2d"))return null;for(o in r)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=r[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(on.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(k){c=k}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var M=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return M},set:function(k){M=k}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var I=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return I},set:function(k){I=k}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(k){U=k}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof u?u:void 0,this},e.getTextDimensions=function(u,c){r.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),M=c.font||this.getFont(),_=c.scaleFactor||this.internal.scaleFactor,I=0,U=0,k=0,Y=this;if(!Array.isArray(u)&&"string"!=typeof u){if("number"!=typeof u)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var J=c.maxWidth;J>0?"string"==typeof u?u=this.splitTextToSize(u,J):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(he,fe){return he.concat(Y.splitTextToSize(fe,J))},[])):u=Array.isArray(u)?u:[u];for(var se=0;se<u.length;se++)I<(k=this.getStringUnitWidth(u[se],{font:M})*f)&&(I=k);return 0!==I&&(U=u.length),{w:I/=_,h:Math.max((U*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/_,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,M=this.internal.__cell__.margins||n,_=this.internal.__cell__.tableHeaderRow,I=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===u.lineNumber?(u.x=(c.x||0)+(c.width||0),u.y=c.y||0):c.y+c.height+u.height+M.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=M.top,I&&_&&(this.printHeaderRow(u.lineNumber,!0),u.y+=_[0].height)):u.y=c.y+c.height||u.y),void 0!==u.text[0]&&(this.rect(u.x,u.y,u.width,u.height,!0===t?"FD":void 0),"right"===u.align?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):"center"===u.align?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,c,f,M,_){if(r.call(this),!f)throw new Error("No data for PDF table.");var I,U,k,Y,J=[],se=[],he=[],fe={},Me={},we=[],Be=[],Oe=(_=_||{}).autoSize||!1,be=!1!==_.printHeaders,Ue=_.css&&void 0!==_.css["font-size"]?16*_.css["font-size"]:_.fontSize||12,ge=_.margins||Object.assign({width:this.getPageWidth()},n),Ce="number"==typeof _.padding?_.padding:3,Ne=_.headerBackgroundColor||"#c8c8c8",je=_.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=be,this.internal.__cell__.margins=ge,this.internal.__cell__.table_font_size=Ue,this.internal.__cell__.padding=Ce,this.internal.__cell__.headerBackgroundColor=Ne,this.internal.__cell__.headerTextColor=je,this.setFontSize(Ue),null==M)se=J=Object.keys(f[0]),he=J.map(function(){return"left"});else if(Array.isArray(M)&&"object"===(0,Wr.A)(M[0]))for(J=M.map(function(Ft){return Ft.name}),se=M.map(function(Ft){return Ft.prompt||Ft.name||""}),he=M.map(function(Ft){return Ft.align||"left"}),I=0;I<M.length;I+=1)Me[M[I].name]=.7499990551181103*M[I].width;else Array.isArray(M)&&"string"==typeof M[0]&&(se=J=M,he=J.map(function(){return"left"}));if(Oe||Array.isArray(M)&&"string"==typeof M[0])for(I=0;I<J.length;I+=1){for(fe[Y=J[I]]=f.map(function(Ft){return Ft[Y]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(se[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=fe[Y],this.setFont(void 0,"normal"),k=0;k<U.length;k+=1)we.push(this.getTextDimensions(U[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Me[Y]=Math.max.apply(null,we)+Ce+Ce,we=[]}if(be){var Ze={};for(I=0;I<J.length;I+=1)Ze[J[I]]={},Ze[J[I]].text=se[I],Ze[J[I]].align=he[I];var et=l.call(this,Ze,Me);Be=J.map(function(Ft){return new i(u,c,Me[Ft],et,Ze[Ft].text,void 0,Ze[Ft].align)}),this.setTableHeaderRow(Be),this.printHeaderRow(1,!1)}var rt=M.reduce(function(Ft,xt){return Ft[xt.name]=xt.align,Ft},{});for(I=0;I<f.length;I+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:I,data:f[I]},this);var Qe=l.call(this,f[I],Me);for(k=0;k<J.length;k+=1){var at=f[I][J[k]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:I,col:k,data:at},this),a.call(this,new i(u,c,Me[J[k]],Qe,at,I+2,rt[J[k]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=c,this};var l=function(u,c){var f=this.internal.__cell__.padding,M=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(u).map(function(I){var U=u[I];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,c[I]-f-f)},this).map(function(I){return this.getLineHeightFactor()*I.length*M/_+f+f},this).reduce(function(I,U){return Math.max(I,U)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var M=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(M[0],M[1],M[2],M[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],I=0;I<this.internal.__cell__.tableHeaderRow.length;I+=1){f=this.internal.__cell__.tableHeaderRow[I].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,_.push(f)),f.lineNumber=u;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(U)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}}(on.API);var H4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},V4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bP=k4(V4),K4=[100,200,300,400,500,600,700,800,900],kce=k4(K4);function CP(e){var i,n=e.family.replace(/"|'/g,"").toLowerCase(),t=H4[i=(i=e.style)||"normal"]?i:"normal",r=function(i){return i?"number"==typeof i?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):"bold"===i?700:400:400}(e.weight),o=function(i){return"number"==typeof bP[i=i||"normal"]?i:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:o,src:e.src||[],ref:e.ref||{name:n,style:[o,t,r].join(" ")}}}function z4(e,n,t,r){var o;for(o=t;o>=0&&o<n.length;o+=r)if(e[n[o]])return e[n[o]];for(o=t;o>=0&&o<n.length;o-=r)if(e[n[o]])return e[n[o]]}var Hce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function G4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Y4(e){return e.trimLeft()}function Vce(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function Kce(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===n?null:[n[0],e.substring(n[0].length)]}var VD,Z4,X4,ig,KD,J4,Q4,q4,TP=["times"];function e8(e,n,t,r,o){var i=4,a=n8;switch(o){case on.API.image_compression.FAST:i=1,a=t8;break;case on.API.image_compression.MEDIUM:i=6,a=r8;break;case on.API.image_compression.SLOW:i=9,a=o8}var l=Ip(e=function(u,c,f,M){for(var _,I=u.length/c,U=new Uint8Array(u.length+I),k=[zce,t8,n8,r8,o8],Y=0;Y<I;Y+=1){var J=Y*c,se=u.subarray(J,J+c);if(M)U.set(M(se,f,_),J+Y);else{for(var he=k.length,fe=[],Me=0;Me<he;Me+=1)fe[Me]=k[Me](se,f,_);var we=Gce(fe.concat());U.set(fe[we],J+Y)}_=se}return U}(e,n,Math.ceil(t*r/8),a),{level:i});return on.API.__addimage__.arrayBufferToBinaryString(l)}function zce(e){var n=Array.apply([],e);return n.unshift(0),n}function t8(e,n){var t=e.length,r=[];r[0]=1;for(var o=0;o<t;o+=1)r[o+1]=e[o]-(e[o-n]||0)+256&255;return r}function n8(e,n,t){var r=e.length,o=[];o[0]=2;for(var i=0;i<r;i+=1)o[i+1]=e[i]-(t&&t[i]||0)+256&255;return o}function r8(e,n,t){var r=e.length,o=[];o[0]=3;for(var i=0;i<r;i+=1)o[i+1]=e[i]+256-((e[i-n]||0)+(t&&t[i]||0)>>>1)&255;return o}function o8(e,n,t){var r=e.length,o=[];o[0]=4;for(var i=0;i<r;i+=1){var a=$ce(e[i-n]||0,t&&t[i]||0,t&&t[i-n]||0);o[i+1]=e[i]-a+256&255}return o}function $ce(e,n,t){if(e===n&&n===t)return e;var r=Math.abs(n-t),o=Math.abs(e-t),i=Math.abs(e+n-t-t);return r<=o&&r<=i?e:o<=i?n:t}function Gce(e){var n=e.map(function(t){return t.reduce(function(r,o){return r+Math.abs(o)},0)});return n.indexOf(Math.min.apply(null,n))}function OP(e,n,t){var r=n*t,o=Math.floor(r/8),i=16-(r-8*o+t),a=(1<<t)-1;return a8(e,o)>>i&a}function i8(e,n,t,r){var c,f,M,o=t*r,i=Math.floor(o/8),a=16-(o-8*i+r),l=(1<<r)-1,u=(n&l)<<a;c=e,f=i,M=a8(e,i)&~(l<<a)&65535|u,f+1<c.byteLength?c.setUint16(f,M,!1):c.setUint8(f,M>>8&255)}function a8(e,n){return n+1<e.byteLength?e.getUint16(n,!1):e.getUint8(n)<<8}function Yce(e){var n=0;if(71!==e[n++]||73!==e[n++]||70!==e[n++]||56!==e[n++]||56!=(e[n++]+1&253)||97!==e[n++])throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,o=e[n++],a=1<<1+(7&o);n++,n++;var l=null,u=null;o>>7&&(l=n,u=a,n+=3*a);var c=!0,f=[],M=0,_=null,I=0,U=null;for(this.width=t,this.height=r;c&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(11!==e[n]||78==e[n+1]&&69==e[n+2]&&84==e[n+3]&&83==e[n+4]&&67==e[n+5]&&65==e[n+6]&&80==e[n+7]&&69==e[n+8]&&50==e[n+9]&&46==e[n+10]&&48==e[n+11]&&3==e[n+12]&&1==e[n+13]&&0==e[n+16])n+=14,U=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((ge=e[n++])>=0))throw Error("Invalid block size");if(0===ge)break;n+=ge}break;case 249:if(4!==e[n++]||0!==e[n+4])throw new Error("Invalid graphics extension block.");var k=e[n++];M=e[n++]|e[n++]<<8,_=e[n++],1&k||(_=null),I=k>>2&7,n++;break;case 254:for(;;){if(!((ge=e[n++])>=0))throw Error("Invalid block size");if(0===ge)break;n+=ge}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var Y=e[n++]|e[n++]<<8,J=e[n++]|e[n++]<<8,se=e[n++]|e[n++]<<8,he=e[n++]|e[n++]<<8,fe=e[n++],Me=fe>>6&1,we=1<<1+(7&fe),Be=l,Oe=u,be=!1;fe>>7&&(be=!0,Be=n,Oe=we,n+=3*we);var Ue=n;for(n++;;){var ge;if(!((ge=e[n++])>=0))throw Error("Invalid block size");if(0===ge)break;n+=ge}f.push({x:Y,y:J,width:se,height:he,has_local_palette:be,palette_offset:Be,palette_size:Oe,data_offset:Ue,data_length:n-Ue,transparent_index:_,interlaced:!!Me,delay:M,disposal:I});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return U},this.frameInfo=function(Ce){if(Ce<0||Ce>=f.length)throw new Error("Frame index out of range.");return f[Ce]},this.decodeAndBlitFrameBGRA=function(Ce,Ne){var je=this.frameInfo(Ce),Ze=je.width*je.height,et=new Uint8Array(Ze);s8(e,je.data_offset,et,Ze);var rt=je.palette_offset,Qe=je.transparent_index;null===Qe&&(Qe=256);var at=je.width,Ft=t-at,xt=at,pe=4*(je.y*t+je.x),_e=4*((je.y+je.height)*t+je.x),Le=pe,We=4*Ft;!0===je.interlaced&&(We+=4*t*7);for(var ze=8,nt=0,ht=et.length;nt<ht;++nt){var dt=et[nt];if(0===xt&&(xt=at,(Le+=We)>=_e&&(We=4*Ft+4*t*(ze-1),Le=pe+(at+Ft)*(ze<<1),ze>>=1)),dt===Qe)Le+=4;else{var Pt=e[rt+3*dt],Nt=e[rt+3*dt+1];Ne[Le++]=e[rt+3*dt+2],Ne[Le++]=Nt,Ne[Le++]=Pt,Ne[Le++]=255}--xt}},this.decodeAndBlitFrameRGBA=function(Ce,Ne){var je=this.frameInfo(Ce),Ze=je.width*je.height,et=new Uint8Array(Ze);s8(e,je.data_offset,et,Ze);var rt=je.palette_offset,Qe=je.transparent_index;null===Qe&&(Qe=256);var at=je.width,Ft=t-at,xt=at,pe=4*(je.y*t+je.x),_e=4*((je.y+je.height)*t+je.x),Le=pe,We=4*Ft;!0===je.interlaced&&(We+=4*t*7);for(var ze=8,nt=0,ht=et.length;nt<ht;++nt){var dt=et[nt];if(0===xt&&(xt=at,(Le+=We)>=_e&&(We=4*Ft+4*t*(ze-1),Le=pe+(at+Ft)*(ze<<1),ze>>=1)),dt===Qe)Le+=4;else{var Nt=e[rt+3*dt+1],zt=e[rt+3*dt+2];Ne[Le++]=e[rt+3*dt],Ne[Le++]=Nt,Ne[Le++]=zt,Ne[Le++]=255}--xt}}}function s8(e,n,t,r){for(var o=e[n++],i=1<<o,a=i+1,l=a+1,u=o+1,c=(1<<u)-1,f=0,M=0,_=0,I=e[n++],U=new Int32Array(4096),k=null;;){for(;f<16&&0!==I;)M|=e[n++]<<f,f+=8,1===I?I=e[n++]:--I;if(f<u)break;var Y=M&c;if(M>>=u,f-=u,Y!==i){if(Y===a)break;for(var J=Y<l?Y:k,se=0,he=J;he>i;)he=U[he]>>8,++se;var fe=he;if(_+se+(J!==Y?1:0)>r)return void kr.log("Warning, gif stream longer than expected.");t[_++]=fe;var Me=_+=se;for(J!==Y&&(t[_++]=fe),he=J;se--;)t[--Me]=255&(he=U[he]),he>>=8;null!==k&&l<4096&&(U[l++]=k<<8|fe,l>=c+1&&u<12&&(++u,c=c<<1|1)),k=Y}else l=a+1,c=(1<<(u=o+1))-1,k=null}return _!==r&&kr.log("Warning, gif stream shorter than expected."),t}function PP(e){var n,t,r,o,i,a=Math.floor,l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(64),M=new Array(65535),_=new Array(65535),I=new Array(64),U=new Array(64),k=[],Y=0,J=7,se=new Array(64),he=new Array(64),fe=new Array(64),Me=new Array(256),we=new Array(2048),Be=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Oe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],be=[0,1,2,3,4,5,6,7,8,9,10,11],Ue=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ce=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ne=[0,1,2,3,4,5,6,7,8,9,10,11],je=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ze=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function et(pe,_e){for(var Le=0,We=0,ze=new Array,nt=1;nt<=16;nt++){for(var ht=1;ht<=pe[nt];ht++)ze[_e[We]]=[],ze[_e[We]][0]=Le,ze[_e[We]][1]=nt,We++,Le++;Le*=2}return ze}function rt(pe){for(var _e=pe[0],Le=pe[1]-1;Le>=0;)_e&1<<Le&&(Y|=1<<J),Le--,--J<0&&(255==Y?(Qe(255),Qe(0)):Qe(Y),J=7,Y=0)}function Qe(pe){k.push(pe)}function at(pe){Qe(pe>>8&255),Qe(255&pe)}function Ft(pe,_e,Le,We,ze){for(var nt,ht=ze[0],dt=ze[240],Pt=function(Wt,un){var Yt,Yn,mn,Mr,Wn,kn,Ur,Zn,fn,Pn,hn=0;for(fn=0;fn<8;++fn){var Qr=(Yt=Wt[hn])+(Zn=Wt[hn+7]),br=Yt-Zn,an=(Yn=Wt[hn+1])+(Ur=Wt[hn+6]),Hn=Yn-Ur,Hr=(mn=Wt[hn+2])+(kn=Wt[hn+5]),yn=mn-kn,ur=(Mr=Wt[hn+3])+(Wn=Wt[hn+4]),Vn=Mr-Wn,jo=Qr+ur,ei=Qr-ur,Vr=an+Hr,Ln=an-Hr;Wt[hn]=jo+Vr,Wt[hn+4]=jo-Vr;var Or=.707106781*(Ln+ei);Wt[hn+2]=ei+Or,Wt[hn+6]=ei-Or;var Yd=.382683433*((jo=Vn+yn)-(Ln=Hn+br)),Ki=.5411961*jo+Yd,uu=1.306562965*Ln+Yd,yl=.707106781*(Vr=yn+Hn),Dn=br+yl,cu=br-yl;Wt[hn+5]=cu+Ki,Wt[hn+3]=cu-Ki,Wt[hn+1]=Dn+uu,Wt[hn+7]=Dn-uu,hn+=8}for(hn=0,fn=0;fn<8;++fn){var du=(Yt=Wt[hn])+(Zn=Wt[hn+56]),ls=Yt-Zn,us=(Yn=Wt[hn+8])+(Ur=Wt[hn+48]),Co=Yn-Ur,mi=(mn=Wt[hn+16])+(kn=Wt[hn+40]),Oi=mn-kn,Zd=(Mr=Wt[hn+24])+(Wn=Wt[hn+32]),yc=Mr-Wn,Fs=du+Zd,Dl=du-Zd,Ws=us+mi,ks=us-mi;Wt[hn]=Fs+Ws,Wt[hn+32]=Fs-Ws;var cs=.707106781*(ks+Dl);Wt[hn+16]=Dl+cs,Wt[hn+48]=Dl-cs;var Xd=.382683433*((Fs=yc+Oi)-(ks=Co+ls)),Ml=.5411961*Fs+Xd,Jd=1.306562965*ks+Xd,gg=.707106781*(Ws=Oi+Co),mg=ls+gg,pg=ls-gg;Wt[hn+40]=pg+Ml,Wt[hn+24]=pg-Ml,Wt[hn+8]=mg+Jd,Wt[hn+56]=mg-Jd,hn++}for(fn=0;fn<64;++fn)I[fn]=(Pn=Wt[fn]*un[fn])>0?Pn+.5|0:Pn-.5|0;return I}(pe,_e),Nt=0;Nt<64;++Nt)U[Be[Nt]]=Pt[Nt];var zt=U[0]-Le;Le=U[0],0==zt?rt(We[0]):(rt(We[_[nt=32767+zt]]),rt(M[nt]));for(var Gt=63;Gt>0&&0==U[Gt];)Gt--;if(0==Gt)return rt(ht),Le;for(var vt,Re=1;Re<=Gt;){for(var rr=Re;0==U[Re]&&Re<=Gt;)++Re;var Gn=Re-rr;if(Gn>=16){vt=Gn>>4;for(var vn=1;vn<=vt;++vn)rt(dt);Gn&=15}rt(ze[(Gn<<4)+_[nt=32767+U[Re]]]),rt(M[nt]),Re++}return 63!=Gt&&rt(ht),Le}function xt(pe){pe=Math.min(Math.max(pe,1),100),i!=pe&&(function(_e){for(var Le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],We=0;We<64;We++){var ze=a((Le[We]*_e+50)/100);ze=Math.min(Math.max(ze,1),255),l[Be[We]]=ze}for(var nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ht=0;ht<64;ht++){var dt=a((nt[ht]*_e+50)/100);dt=Math.min(Math.max(dt,1),255),u[Be[ht]]=dt}for(var Pt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Nt=0,zt=0;zt<8;zt++)for(var Gt=0;Gt<8;Gt++)c[Nt]=1/(l[Be[Nt]]*Pt[zt]*Pt[Gt]*8),f[Nt]=1/(u[Be[Nt]]*Pt[zt]*Pt[Gt]*8),Nt++}(pe<50?Math.floor(5e3/pe):Math.floor(200-2*pe)),i=pe)}this.encode=function(pe,_e){var Yn,mn;_e&&xt(_e),k=new Array,Y=0,J=7,at(65496),at(65504),at(16),Qe(74),Qe(70),Qe(73),Qe(70),Qe(0),Qe(1),Qe(1),Qe(0),at(1),at(1),Qe(0),Qe(0),function(){at(65499),at(132),Qe(0);for(var Yn=0;Yn<64;Yn++)Qe(l[Yn]);Qe(1);for(var mn=0;mn<64;mn++)Qe(u[mn])}(),Yn=pe.width,mn=pe.height,at(65472),at(17),Qe(8),at(mn),at(Yn),Qe(3),Qe(1),Qe(17),Qe(0),Qe(2),Qe(17),Qe(1),Qe(3),Qe(17),Qe(1),function(){at(65476),at(418),Qe(0);for(var Yn=0;Yn<16;Yn++)Qe(Oe[Yn+1]);for(var mn=0;mn<=11;mn++)Qe(be[mn]);Qe(16);for(var Mr=0;Mr<16;Mr++)Qe(Ue[Mr+1]);for(var Wn=0;Wn<=161;Wn++)Qe(ge[Wn]);Qe(1);for(var kn=0;kn<16;kn++)Qe(Ce[kn+1]);for(var Ur=0;Ur<=11;Ur++)Qe(Ne[Ur]);Qe(17);for(var Zn=0;Zn<16;Zn++)Qe(je[Zn+1]);for(var fn=0;fn<=161;fn++)Qe(Ze[fn])}(),at(65498),at(12),Qe(3),Qe(1),Qe(0),Qe(2),Qe(17),Qe(3),Qe(17),Qe(0),Qe(63),Qe(0);var Le=0,We=0,ze=0;Y=0,J=7,this.encode.displayName="_encode_";for(var nt,ht,dt,Pt,Nt,zt,Gt,vt,Re,rr=pe.data,vn=pe.height,Wt=4*pe.width,un=0;un<vn;){for(nt=0;nt<Wt;){for(Nt=Wt*un+nt,Gt=-1,vt=0,Re=0;Re<64;Re++)zt=Nt+(vt=Re>>3)*Wt+(Gt=4*(7&Re)),un+vt>=vn&&(zt-=Wt*(un+1+vt-vn)),nt+Gt>=Wt&&(zt-=nt+Gt-Wt+4),ht=rr[zt++],dt=rr[zt++],Pt=rr[zt++],se[Re]=(we[ht]+we[dt+256|0]+we[Pt+512|0]>>16)-128,he[Re]=(we[ht+768|0]+we[dt+1024|0]+we[Pt+1280|0]>>16)-128,fe[Re]=(we[ht+1280|0]+we[dt+1536|0]+we[Pt+1792|0]>>16)-128;Le=Ft(se,c,Le,n,r),We=Ft(he,f,We,t,o),ze=Ft(fe,f,ze,t,o),nt+=32}un+=8}if(J>=0){var Yt=[];Yt[1]=J+1,Yt[0]=(1<<J+1)-1,rt(Yt)}return at(65497),new Uint8Array(k)},e=e||50,function(){for(var pe=String.fromCharCode,_e=0;_e<256;_e++)Me[_e]=pe(_e)}(),n=et(Oe,be),t=et(Ce,Ne),r=et(Ue,ge),o=et(je,Ze),function(){for(var pe=1,_e=2,Le=1;Le<=15;Le++){for(var We=pe;We<_e;We++)_[32767+We]=Le,M[32767+We]=[],M[32767+We][1]=Le,M[32767+We][0]=We;for(var ze=-(_e-1);ze<=-pe;ze++)_[32767+ze]=Le,M[32767+ze]=[],M[32767+ze][1]=Le,M[32767+ze][0]=_e-1+ze;pe<<=1,_e<<=1}}(),function(){for(var pe=0;pe<256;pe++)we[pe]=19595*pe,we[pe+256|0]=38470*pe,we[pe+512|0]=7471*pe+32768,we[pe+768|0]=-11059*pe,we[pe+1024|0]=-21709*pe,we[pe+1280|0]=32768*pe+8421375,we[pe+1536|0]=-27439*pe,we[pe+1792|0]=-5329*pe}(),xt(e)}function Ns(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l8(e){function n(be){if(!be)throw Error("assert :P")}function t(be,Ue,ge){for(var Ce=0;4>Ce;Ce++)if(be[Ue+Ce]!=ge.charCodeAt(Ce))return!0;return!1}function r(be,Ue,ge,Ce,Ne){for(var je=0;je<Ne;je++)be[Ue+je]=ge[Ce+je]}function o(be,Ue,ge,Ce){for(var Ne=0;Ne<Ce;Ne++)be[Ue+Ne]=ge}function i(be){return new Int32Array(be)}function a(be,Ue){for(var ge=[],Ce=0;Ce<be;Ce++)ge.push(new Ue);return ge}function l(be,Ue){var ge=[];return function Ce(Ne,je,Ze){for(var et=Ze[je],rt=0;rt<et&&(Ne.push(Ze.length>je+1?[]:new Ue),!(Ze.length<je+1));rt++)Ce(Ne[rt],je+1,Ze)}(ge,0,be),ge}var u=function(){var be=this;function Ue(A,R){for(var X=1<<R-1>>>0;A&X;)X>>>=1;return X?(A&X-1)+X:A}function ge(A,R,X,re,de){n(!(re%X));do{A[R+(re-=X)]=de}while(0<re)}function Ce(A,R,X,re,de){if(n(2328>=de),512>=de)var me=i(512);else if(null==(me=i(de)))return 0;return function(ve,De,Te,Ie,Ve,ot){var xe,$e,qe=De,Et=1<<Te,tt=i(16),Mt=i(16);for(n(0!=Ve),n(null!=Ie),n(null!=ve),n(0<Te),$e=0;$e<Ve;++$e){if(15<Ie[$e])return 0;++tt[Ie[$e]]}if(tt[0]==Ve)return 0;for(Mt[1]=0,xe=1;15>xe;++xe){if(tt[xe]>1<<xe)return 0;Mt[xe+1]=Mt[xe]+tt[xe]}for($e=0;$e<Ve;++$e)xe=Ie[$e],0<Ie[$e]&&(ot[Mt[xe]++]=$e);if(1==Mt[15])return(Ie=new Ne).g=0,Ie.value=ot[0],ge(ve,qe,1,Et,Ie),Et;var Ot,Bt=-1,_t=Et-1,sn=0,Qt=1,Qn=1,tn=1<<Te;for($e=0,xe=1,Ve=2;xe<=Te;++xe,Ve<<=1){if(Qt+=Qn<<=1,0>(Qn-=tt[xe]))return 0;for(;0<tt[xe];--tt[xe])(Ie=new Ne).g=xe,Ie.value=ot[$e++],ge(ve,qe+sn,Ve,tn,Ie),sn=Ue(sn,xe)}for(xe=Te+1,Ve=2;15>=xe;++xe,Ve<<=1){if(Qt+=Qn<<=1,0>(Qn-=tt[xe]))return 0;for(;0<tt[xe];--tt[xe]){if(Ie=new Ne,(sn&_t)!=Bt){for(qe+=tn,Ot=1<<(Bt=xe)-Te;15>Bt&&!(0>=(Ot-=tt[Bt]));)++Bt,Ot<<=1;Et+=tn=1<<(Ot=Bt-Te),ve[De+(Bt=sn&_t)].g=Ot+Te,ve[De+Bt].value=qe-De-Bt}Ie.g=xe-Te,Ie.value=ot[$e++],ge(ve,qe+(sn>>Te),Ve,tn,Ie),sn=Ue(sn,xe)}}return Qt!=2*Mt[15]-1?0:Et}(A,R,X,re,de,me)}function Ne(){this.value=this.g=0}function je(){this.value=this.g=0}function Ze(){this.G=a(5,Ne),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(pf,je)}function et(A,R,X,re){n(null!=A),n(null!=R),n(2147483648>re),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=R,A.pa=X,A.Jd=R,A.Yc=X+re,A.Zc=4<=re?X+re-4+1:X,ht(A)}function rt(A,R){for(var X=0;0<R--;)X|=Pt(A,128)<<R;return X}function Qe(A,R){var X=rt(A,R);return dt(A)?-X:X}function at(A,R,X,re){var de,me=0;for(n(null!=A),n(null!=R),n(4294967288>re),A.Sb=re,A.Ra=0,A.u=0,A.h=0,4<re&&(re=4),de=0;de<re;++de)me+=R[X+de]<<8*de;A.Ra=me,A.bb=re,A.oa=R,A.pa=X}function Ft(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<Tc-8>>>0,++A.bb,A.u-=8;We(A)&&(A.h=1,A.u=0)}function xt(A,R){if(n(0<=R),!A.h&&R<=Ha){var X=Le(A)&ka[R];return A.u+=R,Ft(A),X}return A.h=1,A.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _e(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Le(A){return A.Ra>>>(A.u&Tc-1)>>>0}function We(A){return n(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>Tc}function ze(A,R){A.u=R,A.h=We(A)}function nt(A){A.u>=Eu&&(n(A.u>=Eu),Ft(A))}function ht(A){n(null!=A&&null!=A.oa),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(n(null!=A&&null!=A.oa),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function dt(A){return rt(A,1)}function Pt(A,R){var X=A.Ca;0>A.b&&ht(A);var re=A.b,de=X*R>>>8,me=(A.I>>>re>de)+0;for(me?(X-=de,A.I-=de+1<<re>>>0):X=de+1,re=X,de=0;256<=re;)de+=8,re>>=8;return A.b-=re=7^de+Oc[re],A.Ca=(X<<re)-1,me}function Nt(A,R,X){A[R+0]=X>>24&255,A[R+1]=X>>16&255,A[R+2]=X>>8&255,A[R+3]=255&X}function zt(A,R){return A[R+0]|A[R+1]<<8}function Gt(A,R){return zt(A,R)|A[R+2]<<16}function vt(A,R){return zt(A,R)|zt(A,R+2)<<16}function Re(A,R){var X=1<<R;return n(null!=A),n(0<R),A.X=i(X),null==A.X?0:(A.Mb=32-R,A.Xa=R,1)}function rr(A,R){n(null!=A),n(null!=R),n(A.Xa==R.Xa),r(R.X,0,A.X,0,1<<R.Xa)}function Gn(){this.X=[],this.Xa=this.Mb=0}function vn(A,R,X,re){n(null!=X),n(null!=re);var de=X[0],me=re[0];return 0==de&&(de=(A*me+R/2)/R),0==me&&(me=(R*de+A/2)/A),0>=de||0>=me?0:(X[0]=de,re[0]=me,1)}function Wt(A,R){return A+(1<<R)-1>>>R}function un(A,R){return((4278255360&A)+(4278255360&R)>>>0&4278255360)+((16711935&A)+(16711935&R)>>>0&16711935)>>>0}function Yt(A,R){be[R]=function(X,re,de,me,ve,De,Te){var Ie;for(Ie=0;Ie<ve;++Ie){var Ve=be[A](De[Te+Ie-1],de,me+Ie);De[Te+Ie]=un(X[re+Ie],Ve)}}}function Yn(){this.ud=this.hd=this.jd=0}function mn(A,R){return((4278124286&(A^R))>>>1)+(A&R)>>>0}function Mr(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function Wn(A,R){return Mr(A+(A-R+.5>>1))}function kn(A,R,X){return Math.abs(R-X)-Math.abs(A-X)}function Ur(A,R,X,re,de,me,ve){for(re=me[ve-1],X=0;X<de;++X)me[ve+X]=re=un(A[R+X],re)}function Zn(A,R,X,re,de){var me;for(me=0;me<X;++me){var ve=A[R+me],De=ve>>8&255,Te=16711935&(Te=(Te=16711935&ve)+((De<<16)+De));re[de+me]=(4278255360&ve)+Te>>>0}}function fn(A,R){R.jd=255&A,R.hd=A>>8&255,R.ud=A>>16&255}function Pn(A,R,X,re,de,me){var ve;for(ve=0;ve<re;++ve){var De=R[X+ve],Te=De>>>8,Ie=De,Ve=255&(Ve=(Ve=De>>>16)+((A.jd<<24>>24)*(Te<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(A.hd<<24>>24)*(Te<<24>>24)>>>5)+((A.ud<<24>>24)*(Ve<<24>>24)>>>5)),de[me+ve]=(4278255360&De)+(Ve<<16)+Ie}}function hn(A,R,X,re,de){be[R]=function(me,ve,De,Te,Ie,Ve,ot,xe,$e){for(Te=ot;Te<xe;++Te)for(ot=0;ot<$e;++ot)Ie[Ve++]=de(De[re(me[ve++])])},be[A]=function(me,ve,De,Te,Ie,Ve,ot){var xe=8>>me.b,$e=me.Ea,qe=me.K[0],Et=me.w;if(8>xe)for(me=(1<<me.b)-1,Et=(1<<xe)-1;ve<De;++ve){var tt,Mt=0;for(tt=0;tt<$e;++tt)tt&me||(Mt=re(Te[Ie++])),Ve[ot++]=de(qe[Mt&Et]),Mt>>=xe}else be["VP8LMapColor"+X](Te,Ie,qe,Et,Ve,ot,ve,De,$e)}}function Qr(A,R,X,re,de){for(X=R+X;R<X;){var me=A[R++];re[de++]=me>>16&255,re[de++]=me>>8&255,re[de++]=255&me}}function br(A,R,X,re,de){for(X=R+X;R<X;){var me=A[R++];re[de++]=me>>16&255,re[de++]=me>>8&255,re[de++]=255&me,re[de++]=me>>24&255}}function an(A,R,X,re,de){for(X=R+X;R<X;){var me=(ve=A[R++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;re[de++]=me,re[de++]=ve}}function Hn(A,R,X,re,de){for(X=R+X;R<X;){var me=(ve=A[R++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;re[de++]=me,re[de++]=ve}}function Hr(A,R,X,re,de){for(X=R+X;R<X;){var me=A[R++];re[de++]=255&me,re[de++]=me>>8&255,re[de++]=me>>16&255}}function yn(A,R,X,re,de,me){if(0==me)for(X=R+X;R<X;)Nt(re,((me=A[R++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),de+=32;else r(re,de,A,R,X)}function ur(A,R){be[R][0]=be[A+"0"],be[R][1]=be[A+"1"],be[R][2]=be[A+"2"],be[R][3]=be[A+"3"],be[R][4]=be[A+"4"],be[R][5]=be[A+"5"],be[R][6]=be[A+"6"],be[R][7]=be[A+"7"],be[R][8]=be[A+"8"],be[R][9]=be[A+"9"],be[R][10]=be[A+"10"],be[R][11]=be[A+"11"],be[R][12]=be[A+"12"],be[R][13]=be[A+"13"],be[R][14]=be[A+"0"],be[R][15]=be[A+"0"]}function Vn(A){return A==w5||A==j5||A==$M||A==N5}function jo(){this.eb=[],this.size=this.A=this.fb=0}function ei(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jo,this.f.kb=new ei,this.sd=null}function Ln(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yd(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function Ki(A,R){var X=A.T,re=R.ba.f.RGBA,de=re.eb,me=re.fb+A.ka*re.A,ve=ps[R.ba.S],De=A.y,Te=A.O,Ie=A.f,Ve=A.N,ot=A.ea,xe=A.W,$e=R.cc,qe=R.dc,Et=R.Mc,tt=R.Nc,Mt=A.ka,Ot=A.ka+A.T,Bt=A.U,_t=Bt+1>>1;for(0==Mt?ve(De,Te,null,null,Ie,Ve,ot,xe,Ie,Ve,ot,xe,de,me,null,null,Bt):(ve(R.ec,R.fc,De,Te,$e,qe,Et,tt,Ie,Ve,ot,xe,de,me-re.A,de,me,Bt),++X);Mt+2<Ot;Mt+=2)ve(De,(Te+=2*A.fa)-A.fa,De,Te,$e=Ie,qe=Ve,Et=ot,tt=xe,Ie,Ve+=A.Rc,ot,xe+=A.Rc,de,(me+=2*re.A)-re.A,de,me,Bt);return Te+=A.fa,A.j+Ot<A.o?(r(R.ec,R.fc,De,Te,Bt),r(R.cc,R.dc,Ie,Ve,_t),r(R.Mc,R.Nc,ot,xe,_t),X--):1&Ot||ve(De,Te,null,null,Ie,Ve,ot,xe,Ie,Ve,ot,xe,de,me+re.A,null,null,Bt),X}function uu(A,R,X){var re=A.F,de=[A.J];if(null!=re){var me=A.U,ve=R.ba.S,De=ve==zM||ve==$M;R=R.ba.f.RGBA;var Te=[0],Ie=A.ka;Te[0]=A.T,A.Kb&&(0==Ie?--Te[0]:(--Ie,de[0]-=A.width),A.j+A.ka+A.T==A.o&&(Te[0]=A.o-A.j-Ie));var Ve=R.eb;A=W6(re,de[0],A.width,me,Te,Ve,(Ie=R.fb+Ie*R.A)+(De?0:3),R.A),n(X==Te),A&&Vn(ve)&&Fv(Ve,Ie,De,me,Te,R.A)}return 0}function yl(A){var R=A.ma,X=R.ba.S,re=11>X,de=X==VM||X==KM||X==zM||X==R5||12==X||Vn(X);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!Sv(R.Oa,A,de?11:12))return 0;if(de&&Vn(X)&&BM(),A.da)alert("todo:use_scaling");else{if(re){if(R.Ib=Yd,A.Kb){if(R.memory=i(A.U+2*(X=A.U+1>>1)),null==R.memory)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+A.U,R.Mc=R.cc,R.Nc=R.dc+X,R.Ib=Ki,BM()}}else alert("todo:EmitYUV");de&&(R.Jb=uu,re&&fs())}if(re&&!rk){for(A=0;256>A;++A)Sve[A]=89858*(A-128)+YM>>GM,wve[A]=-22014*(A-128)+YM,Rve[A]=-45773*(A-128),Lve[A]=113618*(A-128)+YM>>GM;for(A=kv;A<F5;++A)jve[A-kv]=To(R=76283*(A-16)+YM>>GM,255),Nve[A-kv]=To(R+8>>4,15);rk=1}return 1}function Dn(A){var R=A.ma,X=A.U,re=A.T;return n(!(1&A.ka)),0>=X||0>=re?0:(X=R.Ib(A,R),null!=R.Jb&&R.Jb(A,R,X),R.Dc+=X,1)}function cu(A){A.ma.memory=null}function du(A,R,X,re){return 47!=xt(A,8)?0:(R[0]=xt(A,14)+1,X[0]=xt(A,14)+1,re[0]=xt(A,1),0!=xt(A,3)?0:!A.h)}function ls(A,R){if(4>A)return A+1;var X=A-2>>1;return(2+(1&A)<<X)+xt(R,X)+1}function us(A,R){return 120<R?R-120:1<=(X=((X=vve[R-1])>>4)*A+(8-(15&X)))?X:1;var X}function Co(A,R,X){var re=Le(X),de=A[R+=255&re].g-8;return 0<de&&(ze(X,X.u+8),re=Le(X),R+=A[R].value,R+=re&(1<<de)-1),ze(X,X.u+A[R].g),A[R].value}function mi(A,R,X){return X.g+=A.g,X.value+=A.value<<R>>>0,n(8>=X.g),A.g}function Oi(A,R,X){var re=A.xc;return n((R=0==re?0:A.vc[A.md*(X>>re)+(R>>re)])<A.Wb),A.Ya[R]}function Zd(A,R,X,re){var de=A.ab,me=A.c*R,ve=A.C;R=ve+R;var De=X,Te=re;for(re=A.Ta,X=A.Ua;0<de--;){var Ie=A.gc[de],Ve=ve,ot=R,xe=De,$e=Te,qe=(Te=re,De=X,Ie.Ea);switch(n(Ve<ot),n(ot<=Ie.nc),Ie.hc){case 2:Bo(xe,$e,(ot-Ve)*qe,Te,De);break;case 0:var Et=Ve,tt=ot,Mt=Te,Ot=De,Bt=(tn=Ie).Ea;0==Et&&(Rv(xe,$e,null,null,1,Mt,Ot),Ur(xe,$e+1,0,0,Bt-1,Mt,Ot+1),$e+=Bt,Ot+=Bt,++Et);for(var _t=1<<tn.b,sn=_t-1,Qt=Wt(Bt,tn.b),Qn=tn.K,tn=tn.w+(Et>>tn.b)*Qt;Et<tt;){var cr=Qn,ri=tn,qn=1;for(Tg(xe,$e,Mt,Ot-Bt,1,Mt,Ot);qn<Bt;){var nn=(qn&~sn)+_t;nn>Bt&&(nn=Bt),(0,jv[cr[ri++]>>8&15])(xe,$e+ +qn,Mt,Ot+qn-Bt,nn-qn,Mt,Ot+qn),qn=nn}$e+=Bt,Ot+=Bt,++Et&sn||(tn+=Qt)}ot!=Ie.nc&&r(Te,De-qe,Te,De+(ot-Ve-1)*qe,qe);break;case 1:for(qe=xe,tt=$e,Bt=(xe=Ie.Ea)-(Ot=xe&~(Mt=($e=1<<Ie.b)-1)),Et=Wt(xe,Ie.b),_t=Ie.K,Ie=Ie.w+(Ve>>Ie.b)*Et;Ve<ot;){for(sn=_t,Qt=Ie,Qn=new Yn,tn=tt+Ot,cr=tt+xe;tt<tn;)fn(sn[Qt++],Qn),Nv(Qn,qe,tt,$e,Te,De),tt+=$e,De+=$e;tt<cr&&(fn(sn[Qt++],Qn),Nv(Qn,qe,tt,Bt,Te,De),tt+=Bt,De+=Bt),++Ve&Mt||(Ie+=Et)}break;case 3:if(xe==Te&&$e==De&&0<Ie.b){for(tt=Te,xe=qe=De+(ot-Ve)*qe-(Ot=(ot-Ve)*Wt(Ie.Ea,Ie.b)),$e=Te,Mt=De,Et=[],Ot=(Bt=Ot)-1;0<=Ot;--Ot)Et[Ot]=$e[Mt+Ot];for(Ot=Bt-1;0<=Ot;--Ot)tt[xe+Ot]=Et[Ot];FM(Ie,Ve,ot,Te,qe,Te,De)}else FM(Ie,Ve,ot,xe,$e,Te,De)}De=re,Te=X}Te!=X&&r(re,X,De,Te,me)}function yc(A,R){var X=A.V,re=A.Ba+A.c*A.C,de=R-A.C;if(n(R<=A.l.o),n(16>=de),0<de){var me=A.l,ve=A.Ta,De=A.Ua,Te=me.width;if(Zd(A,de,X,re),de=De=[De],n((X=A.C)<(re=R)),n(me.v<me.va),re>me.o&&(re=me.o),X<me.j){var Ie=me.j-X;X=me.j,de[0]+=Ie*Te}if(X>=re?X=0:(de[0]+=4*me.v,me.ka=X-me.j,me.U=me.va-me.v,me.T=re-X,X=1),X){if(De=De[0],11>(X=A.ca).S){var Ve=X.f.RGBA,ot=(re=X.S,de=me.U,me=me.T,Ie=Ve.eb,Ve.A),xe=me;for(Ve=Ve.fb+A.Ma*Ve.A;0<xe--;){var $e=ve,qe=De,Et=de,tt=Ie,Mt=Ve;switch(re){case HM:Bv($e,qe,Et,tt,Mt);break;case VM:Pc($e,qe,Et,tt,Mt);break;case w5:Pc($e,qe,Et,tt,Mt),Fv(tt,Mt,0,Et,1,0);break;case G6:vf($e,qe,Et,tt,Mt);break;case KM:yn($e,qe,Et,tt,Mt,1);break;case j5:yn($e,qe,Et,tt,Mt,1),Fv(tt,Mt,0,Et,1,0);break;case zM:yn($e,qe,Et,tt,Mt,0);break;case $M:yn($e,qe,Et,tt,Mt,0),Fv(tt,Mt,1,Et,1,0);break;case R5:Ic($e,qe,Et,tt,Mt);break;case N5:Ic($e,qe,Et,tt,Mt),F6(tt,Mt,Et,1,0);break;case Y6:xc($e,qe,Et,tt,Mt);break;default:n(0)}De+=Te,Ve+=ot}A.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");n(A.Ma<=X.height)}}A.C=R,n(A.C<=A.i)}function Fs(A){var R;if(0<A.ua)return 0;for(R=0;R<A.Wb;++R){var X=A.Ya[R].G,re=A.Ya[R].H;if(0<X[1][re[1]+0].g||0<X[2][re[2]+0].g||0<X[3][re[3]+0].g)return 0}return 1}function Dl(A,R,X,re,de,me){if(0!=A.Z){var ve=A.qd,De=A.rd;for(n(null!=Sc[A.Z]);R<X;++R)Sc[A.Z](ve,De,re,de,re,de,me),ve=re,De=de,de+=me;A.qd=ve,A.rd=De}}function Ws(A,R){var X=A.l.ma,re=0==X.Z||1==X.Z?A.l.j:A.C;if(re=A.C<re?re:A.C,n(R<=A.l.o),R>re){var de=A.l.width,me=X.ca,ve=X.tb+de*re,De=A.V,Te=A.Ba+A.c*re,Ie=A.gc;n(1==A.ab),n(3==Ie[0].hc),Tl(Ie[0],re,R,De,Te,me,ve),Dl(X,re,R,me,ve,de)}A.C=A.Ma=R}function ks(A,R,X,re,de,me,ve){var De=A.$/re,Te=A.$%re,Ie=A.m,Ve=A.s,ot=X+A.$,xe=ot;de=X+re*de;var $e=X+re*me,qe=280+Ve.ua,Et=A.Pb?De:16777216,tt=0<Ve.ua?Ve.Wa:null,Mt=Ve.wc,Ot=ot<$e?Oi(Ve,Te,De):null;n(A.C<me),n($e<=de);var Bt=!1;e:for(;;){for(;Bt||ot<$e;){var _t=0;if(De>=Et){var sn=ot-X;n((Et=A).Pb),Et.wd=Et.m,Et.xd=sn,0<Et.s.ua&&rr(Et.s.Wa,Et.s.vb),Et=De+yve}if(Te&Mt||(Ot=Oi(Ve,Te,De)),n(null!=Ot),Ot.Qb&&(R[ot]=Ot.qb,Bt=!0),!Bt)if(nt(Ie),Ot.jc){sn=R;var Qt=ot,Qn=Ot.pd[Le(_t=Ie)&pf-1];n(Ot.jc),256>Qn.g?(ze(_t,_t.u+Qn.g),sn[Qt]=Qn.value,_t=0):(ze(_t,_t.u+Qn.g-256),n(256<=Qn.value),_t=Qn.value),0==_t&&(Bt=!0)}else _t=Co(Ot.G[0],Ot.H[0],Ie);if(Ie.h)break;if(Bt||256>_t){if(!Bt)if(Ot.nd)R[ot]=(Ot.qb|_t<<8)>>>0;else{if(nt(Ie),Bt=Co(Ot.G[1],Ot.H[1],Ie),nt(Ie),sn=Co(Ot.G[2],Ot.H[2],Ie),Qt=Co(Ot.G[3],Ot.H[3],Ie),Ie.h)break;R[ot]=(Qt<<24|Bt<<16|_t<<8|sn)>>>0}if(Bt=!1,++ot,++Te>=re&&(Te=0,++De,null!=ve&&De<=me&&!(De%16)&&ve(A,De),null!=tt))for(;xe<ot;)_t=R[xe++],tt.X[(506832829*_t&4294967295)>>>tt.Mb]=_t}else if(280>_t){if(_t=ls(_t-256,Ie),sn=Co(Ot.G[4],Ot.H[4],Ie),nt(Ie),sn=us(re,sn=ls(sn,Ie)),Ie.h)break;if(ot-X<sn||de-ot<_t)break e;for(Qt=0;Qt<_t;++Qt)R[ot+Qt]=R[ot+Qt-sn];for(ot+=_t,Te+=_t;Te>=re;)Te-=re,++De,null!=ve&&De<=me&&!(De%16)&&ve(A,De);if(n(ot<=de),Te&Mt&&(Ot=Oi(Ve,Te,De)),null!=tt)for(;xe<ot;)_t=R[xe++],tt.X[(506832829*_t&4294967295)>>>tt.Mb]=_t}else{if(!(_t<qe))break e;for(Bt=_t-280,n(null!=tt);xe<ot;)_t=R[xe++],tt.X[(506832829*_t&4294967295)>>>tt.Mb]=_t;_t=ot,n(!(Bt>>>(sn=tt).Xa)),R[_t]=sn.X[Bt],Bt=!0}Bt||n(Ie.h==We(Ie))}if(A.Pb&&Ie.h&&ot<de)n(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&rr(A.s.vb,A.s.Wa);else{if(Ie.h)break e;ve?.(A,De>me?me:De),A.a=0,A.$=ot-X}return 1}return A.a=3,0}function cs(A){n(null!=A),A.vc=null,A.yc=null,A.Ya=null;var R=A.Wa;null!=R&&(R.X=null),A.vb=null,n(null!=A)}function Xd(){var A=new rn;return null==A?null:(A.a=0,A.xb=J6,ur("Predictor","VP8LPredictors"),ur("Predictor","VP8LPredictors_C"),ur("PredictorAdd","VP8LPredictorsAdd"),ur("PredictorAdd","VP8LPredictorsAdd_C"),Bo=Zn,Nv=Pn,Bv=Qr,Pc=br,Ic=an,xc=Hn,vf=Hr,be.VP8LMapColor32b=Cl,be.VP8LMapColor8b=wv,A)}function Ml(A,R,X,re,de){var me=1,ve=[A],De=[R],Te=re.m,Ie=re.s,Ve=null,ot=0;e:for(;;){if(X)for(;me&&xt(Te,1);){var xe=ve,$e=De,qe=re,Et=1,tt=qe.m,Mt=qe.gc[qe.ab],Ot=xt(tt,2);if(qe.Oc&1<<Ot)me=0;else{switch(qe.Oc|=1<<Ot,Mt.hc=Ot,Mt.Ea=xe[0],Mt.nc=$e[0],Mt.K=[null],++qe.ab,n(4>=qe.ab),Ot){case 0:case 1:Mt.b=xt(tt,3)+2,Et=Ml(Wt(Mt.Ea,Mt.b),Wt(Mt.nc,Mt.b),0,qe,Mt.K),Mt.K=Mt.K[0];break;case 3:var Bt,_t=xt(tt,8)+1,sn=16<_t?0:4<_t?1:2<_t?2:3;if(xe[0]=Wt(Mt.Ea,sn),Mt.b=sn,Bt=Et=Ml(_t,1,0,qe,Mt.K)){var Qt,Qn=_t,tn=Mt,cr=1<<(8>>tn.b),ri=i(cr);if(null==ri)Bt=0;else{var qn=tn.K[0],nn=tn.w;for(ri[0]=tn.K[0][0],Qt=1;Qt<1*Qn;++Qt)ri[Qt]=un(qn[nn+Qt],ri[Qt-1]);for(;Qt<4*cr;++Qt)ri[Qt]=0;tn.K[0]=null,tn.K[0]=ri,Bt=1}}Et=Bt;break;case 2:break;default:n(0)}me=Et}}if(ve=ve[0],De=De[0],me&&xt(Te,1)&&!(me=1<=(ot=xt(Te,4))&&11>=ot)){re.a=3;break e}var Kt;if(Kt=me)t:{var Fo,Kn,hr,so=re,Ii=ve,oa=De,Oo=ot,$i=X,ia=so.m,oi=so.s,mr=[null],Lr=1,Po=0,Rr=Eve[Oo];n:for(;;){if($i&&xt(ia,1)){var xi=xt(ia,3)+2,Ks=Wt(Ii,xi),Wo=Wt(oa,xi),xa=Ks*Wo;if(!Ml(Ks,Wo,0,so,mr))break n;for(mr=mr[0],oi.xc=xi,Fo=0;Fo<xa;++Fo){var zr=mr[Fo]>>8&65535;mr[Fo]=zr,zr>=Lr&&(Lr=zr+1)}}if(ia.h)break n;for(Kn=0;5>Kn;++Kn){var ii=Z6[Kn];!Kn&&0<Oo&&(ii+=1<<Oo),Po<ii&&(Po=ii)}var Ka=a(Lr*Rr,Ne),aa=Lr,za=a(aa,Ze);if(null==za)var $a=null;else n(65536>=aa),$a=za;var Aa=i(Po);if(null==$a||null==Aa||null==Ka){so.a=1;break n}var Ga=Ka;for(Fo=hr=0;Fo<Lr;++Fo){var eo=$a[Fo],Ya=eo.G,zs=eo.H,yf=0,Mu=1,Ai=0;for(Kn=0;5>Kn;++Kn){ii=Z6[Kn],Ya[Kn]=Ga,zs[Kn]=hr,!Kn&&0<Oo&&(ii+=1<<Oo);o:{var XM,W5=ii,JM=so,Hv=Aa,Fve=Ga,Wve=hr,k5=0,Lc=JM.m,kve=xt(Lc,1);if(o(Hv,0,0,W5),kve){var Hve=xt(Lc,1)+1,Vve=xt(Lc,1),ak=xt(Lc,0==Vve?1:8);Hv[ak]=1,2==Hve&&(Hv[ak=xt(Lc,8)]=1);var QM=1}else{var sk=i(19),lk=xt(Lc,4)+4;if(19<lk){JM.a=3;var qM=0;break o}for(XM=0;XM<lk;++XM)sk[pve[XM]]=xt(Lc,3);var H5=void 0,Vv=void 0,uk=JM,Kve=sk,e1=W5,ck=Hv,V5=0,Rc=uk.m,dk=8,fk=a(128,Ne);r:for(;Ce(fk,0,7,Kve,19);){if(xt(Rc,1)){var zve=2+2*xt(Rc,3);if((H5=2+xt(Rc,zve))>e1)break r}else H5=e1;for(Vv=0;Vv<e1&&H5--;){nt(Rc);var hk=fk[0+(127&Le(Rc))];ze(Rc,Rc.u+hk.g);var Pg=hk.value;if(16>Pg)ck[Vv++]=Pg,0!=Pg&&(dk=Pg);else{var $ve=16==Pg,gk=Pg-16,Gve=gve[gk],mk=xt(Rc,hve[gk])+Gve;if(Vv+mk>e1)break r;for(var Yve=$ve?dk:0;0<mk--;)ck[Vv++]=Yve}}V5=1;break r}V5||(uk.a=3),QM=V5}(QM=QM&&!Lc.h)&&(k5=Ce(Fve,Wve,8,Hv,W5)),QM&&0!=k5?qM=k5:(JM.a=3,qM=0)}if(0==qM)break n;if(Mu&&1==mve[Kn]&&(Mu=0==Ga[hr].g),yf+=Ga[hr].g,hr+=qM,3>=Kn){var Kv,K5=Aa[0];for(Kv=1;Kv<ii;++Kv)Aa[Kv]>K5&&(K5=Aa[Kv]);Ai+=K5}}if(eo.nd=Mu,eo.Qb=0,Mu&&(eo.qb=(Ya[3][zs[3]+0].value<<24|Ya[1][zs[1]+0].value<<16|Ya[2][zs[2]+0].value)>>>0,0==yf&&256>Ya[0][zs[0]+0].value&&(eo.Qb=1,eo.qb+=Ya[0][zs[0]+0].value<<8)),eo.jc=!eo.Qb&&6>Ai,eo.jc){var t1,bu=eo;for(t1=0;t1<pf;++t1){var wc=t1,jc=bu.pd[wc],n1=bu.G[0][bu.H[0]+wc];256<=n1.value?(jc.g=n1.g+256,jc.value=n1.value):(jc.g=0,jc.value=0,wc>>=mi(n1,8,jc),wc>>=mi(bu.G[1][bu.H[1]+wc],16,jc),wc>>=mi(bu.G[2][bu.H[2]+wc],0,jc),mi(bu.G[3][bu.H[3]+wc],24,jc))}}}oi.vc=mr,oi.Wb=Lr,oi.Ya=$a,oi.yc=Ka,Kt=1;break t}Kt=0}if(!(me=Kt)){re.a=3;break e}if(0<ot){if(Ie.ua=1<<ot,!Re(Ie.Wa,ot)){re.a=1,me=0;break e}}else Ie.ua=0;var z5=re,pk=ve,Zve=De,$5=z5.s,G5=$5.xc;if(z5.c=pk,z5.i=Zve,$5.md=Wt(pk,G5),$5.wc=0==G5?-1:(1<<G5)-1,X){re.xb=Pve;break e}if(null==(Ve=i(ve*De))){re.a=1,me=0;break e}me=(me=ks(re,Ve,0,ve,De,De,null))&&!Te.h;break e}return me?(null!=de?de[0]=Ve:(n(null==Ve),n(X)),re.$=0,X||cs(Ie)):cs(Ie),me}function Jd(A,R){var X=A.c*A.i,re=X+R+16*R;return n(A.c<=R),A.V=i(re),null==A.V?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+X+R,1)}function gg(A,R){var X=A.C,re=R-X,de=A.V,me=A.Ba+A.c*X;for(n(R<=A.l.o);0<re;){var ve=16<re?16:re,De=A.l.ma,Te=A.l.width,Ie=Te*ve,Ve=De.ca,ot=De.tb+Te*X,xe=A.Ta,$e=A.Ua;Zd(A,ve,de,me),k6(xe,$e,Ve,ot,Ie),Dl(De,X,X+ve,Ve,ot,Te),re-=ve,de+=ve*A.c,X+=ve}n(X==R),A.C=A.Ma=R}function mg(){this.ub=this.yd=this.td=this.Rb=0}function pg(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function p5(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vv(){var A;this.Yb=(function R(X,re,de){for(var me=de[re],ve=0;ve<me&&(X.push(de.length>re+1?[]:0),!(de.length<re+1));ve++)R(X[ve],re+1,de)}(A=[],0,[3,11]),A)}function bM(){this.jb=i(3),this.Wc=l([4,8],vv),this.Xc=l([4,17],vv)}function CM(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ds(){this.ld=this.La=this.dd=this.tc=0}function Ev(){this.Na=this.la=0}function TM(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yv(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function OM(){this.uc=this.M=this.Nb=0,this.wa=Array(new ds),this.Y=0,this.ya=Array(new yv),this.aa=0,this.l=new vg}function PM(){this.y=i(16),this.f=i(8),this.ea=i(8)}function IM(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new mg,this.Kc=new pg,this.ed=new CM,this.Qa=new p5,this.Ic=this.$c=this.Aa=0,this.D=new OM,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,pe),this.ia=0,this.pb=a(4,TM),this.Pa=new bM,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new PM),this.Hd=0,this.rb=Array(new Ev),this.sb=0,this.wa=Array(new ds),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yv),this.L=this.aa=0,this.gd=l([4,2],ds),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vg(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function v5(){var A=new IM;return null!=A&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,Wv||(Wv=fu)),A}function Go(A,R,X){return 0==A.a&&(A.a=R,A.sc=X,A.cb=0),0}function xM(A,R,X){return 3<=X&&157==A[R+0]&&1==A[R+1]&&42==A[R+2]}function AM(A,R){if(null==A)return 0;if(A.a=0,A.sc="OK",null==R)return Go(A,2,"null VP8Io passed to VP8GetHeaders()");var X=R.data,re=R.w,de=R.ha;if(4>de)return Go(A,7,"Truncated header.");var me=X[re+0]|X[re+1]<<8|X[re+2]<<16,ve=A.Od;if(ve.Rb=!(1&me),ve.td=me>>1&7,ve.yd=me>>4&1,ve.ub=me>>5,3<ve.td)return Go(A,3,"Incorrect keyframe parameters.");if(!ve.yd)return Go(A,4,"Frame not displayable.");re+=3,de-=3;var De=A.Kc;if(ve.Rb){if(7>de)return Go(A,7,"cannot parse picture header");if(!xM(X,re,de))return Go(A,3,"Bad code word");De.c=16383&(X[re+4]<<8|X[re+3]),De.Td=X[re+4]>>6,De.i=16383&(X[re+6]<<8|X[re+5]),De.Ud=X[re+6]>>6,re+=7,de-=7,A.za=De.c+15>>4,A.Ub=De.i+15>>4,R.width=De.c,R.height=De.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,o((me=A.Pa).jb,0,255,me.jb.length),n(null!=(me=A.Qa)),me.Cb=0,me.Bb=0,me.Fb=1,o(me.Zb,0,0,me.Zb.length),o(me.Lb,0,0,me.Lb)}if(ve.ub>de)return Go(A,7,"bad partition length");et(me=A.m,X,re,ve.ub),re+=ve.ub,de-=ve.ub,ve.Rb&&(De.Ld=dt(me),De.Kd=dt(me)),De=A.Qa;var Te,Ie=A.Pa;if(n(null!=me),n(null!=De),De.Cb=dt(me),De.Cb){if(De.Bb=dt(me),dt(me)){for(De.Fb=dt(me),Te=0;4>Te;++Te)De.Zb[Te]=dt(me)?Qe(me,7):0;for(Te=0;4>Te;++Te)De.Lb[Te]=dt(me)?Qe(me,6):0}if(De.Bb)for(Te=0;3>Te;++Te)Ie.jb[Te]=dt(me)?rt(me,8):255}else De.Bb=0;if(me.Ka)return Go(A,3,"cannot parse segment header");if((De=A.ed).zd=dt(me),De.Tb=rt(me,6),De.wb=rt(me,3),De.Pc=dt(me),De.Pc&&dt(me)){for(Ie=0;4>Ie;++Ie)dt(me)&&(De.vd[Ie]=Qe(me,6));for(Ie=0;4>Ie;++Ie)dt(me)&&(De.od[Ie]=Qe(me,6))}if(A.L=0==De.Tb?0:De.zd?1:2,me.Ka)return Go(A,3,"cannot parse filter header");var Ve=de;if(de=Te=re,re=Te+Ve,De=Ve,A.Xb=(1<<rt(A.m,2))-1,Ve<3*(Ie=A.Xb))X=7;else{for(Te+=3*Ie,De-=3*Ie,Ve=0;Ve<Ie;++Ve){var ot=X[de+0]|X[de+1]<<8|X[de+2]<<16;ot>De&&(ot=De),et(A.Jc[+Ve],X,Te,ot),Te+=ot,De-=ot,de+=3}et(A.Jc[+Ie],X,Te,De),X=Te<re?0:5}if(0!=X)return Go(A,X,"cannot parse partitions");for(X=rt(Te=A.m,7),de=dt(Te)?Qe(Te,4):0,re=dt(Te)?Qe(Te,4):0,De=dt(Te)?Qe(Te,4):0,Ie=dt(Te)?Qe(Te,4):0,Te=dt(Te)?Qe(Te,4):0,Ve=A.Qa,ot=0;4>ot;++ot){if(Ve.Cb){var xe=Ve.Zb[ot];Ve.Fb||(xe+=X)}else{if(0<ot){A.pb[ot]=A.pb[0];continue}xe=X}var $e=A.pb[ot];$e.Sc[0]=B5[To(xe+de,127)],$e.Sc[1]=U5[To(xe+0,127)],$e.Eb[0]=2*B5[To(xe+re,127)],$e.Eb[1]=101581*U5[To(xe+De,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=B5[To(xe+Ie,117)],$e.Qc[1]=U5[To(xe+Te,127)],$e.lc=xe+Te}if(!ve.Rb)return Go(A,4,"Not a key frame.");for(dt(me),ve=A.Pa,X=0;4>X;++X){for(de=0;8>de;++de)for(re=0;3>re;++re)for(De=0;11>De;++De)Ie=Pt(me,Tve[X][de][re][De])?rt(me,8):bve[X][de][re][De],ve.Wc[X][de].Yb[re][De]=Ie;for(de=0;17>de;++de)ve.Xc[X][de]=ve.Wc[X][Ove[de]]}return A.kc=dt(me),A.kc&&(A.Bd=rt(me,8)),A.cb=1}function fu(A,R,X,re,de,me,ve){var De=R[de].Yb[X];for(X=0;16>de;++de){if(!Pt(A,De[X+0]))return de;for(;!Pt(A,De[X+1]);)if(De=R[++de].Yb[0],X=0,16==de)return 16;var Te=R[de+1].Yb;if(Pt(A,De[X+2])){var Ie=A,Ve=0;if(Pt(Ie,(xe=De)[(ot=X)+3]))if(Pt(Ie,xe[ot+6])){for(De=0,ot=2*(Ve=Pt(Ie,xe[ot+8]))+(xe=Pt(Ie,xe[ot+9+Ve])),Ve=0,xe=Dve[ot];xe[De];++De)Ve+=Ve+Pt(Ie,xe[De]);Ve+=3+(8<<ot)}else Pt(Ie,xe[ot+7])?(Ve=7+2*Pt(Ie,165),Ve+=Pt(Ie,145)):Ve=5+Pt(Ie,159);else Ve=Pt(Ie,xe[ot+4])?3+Pt(Ie,xe[ot+5]):2;De=Te[2]}else Ve=1,De=Te[1];Te=ve+Mve[de],0>(Ie=A).b&&ht(Ie);var ot,xe=Ie.b,$e=(ot=Ie.Ca>>1)-(Ie.I>>xe)>>31;--Ie.b,Ie.Ca+=$e,Ie.Ca|=1,Ie.I-=(ot+1&$e)<<xe,me[Te]=((Ve^$e)-$e)*re[(0<de)+0]}return 16}function Qd(A){var R=A.rb[A.sb-1];R.la=0,R.Na=0,o(A.zc,0,0,A.zc.length),A.ja=0}function Hs(A,R,X,re,de){A[R+X+32*re]=-256&(de=A[R+X+32*re]+(de>>3))?0>de?0:255:de}function qd(A,R,X,re,de,me){Hs(A,R,0,X,re+de),Hs(A,R,1,X,re+me),Hs(A,R,2,X,re-me),Hs(A,R,3,X,re-de)}function No(A){return(20091*A>>16)+A}function Dv(A,R,X,re){var de,me=0,ve=i(16);for(de=0;4>de;++de){var De=A[R+0]+A[R+8],Te=A[R+0]-A[R+8],Ie=(35468*A[R+4]>>16)-No(A[R+12]),Ve=No(A[R+4])+(35468*A[R+12]>>16);ve[me+0]=De+Ve,ve[me+1]=Te+Ie,ve[me+2]=Te-Ie,ve[me+3]=De-Ve,me+=4,R++}for(de=me=0;4>de;++de)De=(A=ve[me+0]+4)+ve[me+8],Te=A-ve[me+8],Ie=(35468*ve[me+4]>>16)-No(ve[me+12]),Hs(X,re,0,0,De+(Ve=No(ve[me+4])+(35468*ve[me+12]>>16))),Hs(X,re,1,0,Te+Ie),Hs(X,re,2,0,Te-Ie),Hs(X,re,3,0,De-Ve),me++,re+=32}function E5(A,R,X,re){var de=A[R+0]+4,me=35468*A[R+4]>>16,ve=No(A[R+4]),De=35468*A[R+1]>>16;qd(X,re,0,de+ve,A=No(A[R+1]),De),qd(X,re,1,de+me,A,De),qd(X,re,2,de-me,A,De),qd(X,re,3,de-ve,A,De)}function y5(A,R,X,re,de){Dv(A,R,X,re),de&&Dv(A,R+16,X,re+4)}function D5(A,R,X,re){Ef(A,R+0,X,re,1),Ef(A,R+32,X,re+128,1)}function bl(A,R,X,re){var de;for(A=A[R+0]+4,de=0;4>de;++de)for(R=0;4>R;++R)Hs(X,re,R,de,A)}function _M(A,R,X,re){A[R+0]&&Pr(A,R+0,X,re),A[R+16]&&Pr(A,R+16,X,re+4),A[R+32]&&Pr(A,R+32,X,re+128),A[R+48]&&Pr(A,R+48,X,re+128+4)}function SM(A,R,X,re){var de,me=i(16);for(de=0;4>de;++de){var ve=A[R+0+de]+A[R+12+de],De=A[R+4+de]+A[R+8+de],Te=A[R+4+de]-A[R+8+de],Ie=A[R+0+de]-A[R+12+de];me[0+de]=ve+De,me[8+de]=ve-De,me[4+de]=Ie+Te,me[12+de]=Ie-Te}for(de=0;4>de;++de)ve=(A=me[0+4*de]+3)+me[3+4*de],Te=me[1+4*de]-me[2+4*de],Ie=A-me[3+4*de],X[re+0]=ve+(De=me[1+4*de]+me[2+4*de])>>3,X[re+16]=Ie+Te>>3,X[re+32]=ve-De>>3,X[re+48]=Ie-Te>>3,re+=64}function Dc(A,R,X){var re,de=R-32,me=Va,ve=255-A[de-1];for(re=0;re<X;++re){var De,Te=me,Ie=ve+A[R-1];for(De=0;De<X;++De)A[R+De]=Te[Ie+A[de+De]];R+=32}}function Mv(A,R){Dc(A,R,4)}function M5(A,R){Dc(A,R,8)}function b5(A,R){Dc(A,R,16)}function C5(A,R){var X;for(X=0;16>X;++X)r(A,R+32*X,A,R-32,16)}function bv(A,R){var X;for(X=16;0<X;--X)o(A,R,A[R-1],16),R+=32}function ef(A,R,X){var re;for(re=0;16>re;++re)o(R,X+32*re,A,16)}function Mc(A,R){var X,re=16;for(X=0;16>X;++X)re+=A[R-1+32*X]+A[R+X-32];ef(re>>5,A,R)}function T5(A,R){var X,re=8;for(X=0;16>X;++X)re+=A[R-1+32*X];ef(re>>4,A,R)}function tf(A,R){var X,re=8;for(X=0;16>X;++X)re+=A[R+X-32];ef(re>>4,A,R)}function Cv(A,R){ef(128,A,R)}function Rn(A,R,X){return A+2*R+X+2>>2}function O5(A,R){var X,re=R-32;for(re=new Uint8Array([Rn(A[re-1],A[re+0],A[re+1]),Rn(A[re+0],A[re+1],A[re+2]),Rn(A[re+1],A[re+2],A[re+3]),Rn(A[re+2],A[re+3],A[re+4])]),X=0;4>X;++X)r(A,R+32*X,re,0,re.length)}function P5(A,R){var X=A[R-1],re=A[R-1+32],de=A[R-1+64],me=A[R-1+96];Nt(A,R+0,16843009*Rn(A[R-1-32],X,re)),Nt(A,R+32,16843009*Rn(X,re,de)),Nt(A,R+64,16843009*Rn(re,de,me)),Nt(A,R+96,16843009*Rn(de,me,me))}function I5(A,R){var X,re=4;for(X=0;4>X;++X)re+=A[R+X-32]+A[R-1+32*X];for(re>>=3,X=0;4>X;++X)o(A,R+32*X,re,4)}function x5(A,R){var X=A[R-1+0],re=A[R-1+32],de=A[R-1+64],me=A[R-1-32],ve=A[R+0-32],De=A[R+1-32],Te=A[R+2-32],Ie=A[R+3-32];A[R+0+96]=Rn(re,de,A[R-1+96]),A[R+1+96]=A[R+0+64]=Rn(X,re,de),A[R+2+96]=A[R+1+64]=A[R+0+32]=Rn(me,X,re),A[R+3+96]=A[R+2+64]=A[R+1+32]=A[R+0+0]=Rn(ve,me,X),A[R+3+64]=A[R+2+32]=A[R+1+0]=Rn(De,ve,me),A[R+3+32]=A[R+2+0]=Rn(Te,De,ve),A[R+3+0]=Rn(Ie,Te,De)}function hu(A,R){var X=A[R+1-32],re=A[R+2-32],de=A[R+3-32],me=A[R+4-32],ve=A[R+5-32],De=A[R+6-32],Te=A[R+7-32];A[R+0+0]=Rn(A[R+0-32],X,re),A[R+1+0]=A[R+0+32]=Rn(X,re,de),A[R+2+0]=A[R+1+32]=A[R+0+64]=Rn(re,de,me),A[R+3+0]=A[R+2+32]=A[R+1+64]=A[R+0+96]=Rn(de,me,ve),A[R+3+32]=A[R+2+64]=A[R+1+96]=Rn(me,ve,De),A[R+3+64]=A[R+2+96]=Rn(ve,De,Te),A[R+3+96]=Rn(De,Te,Te)}function gu(A,R){var X=A[R-1+0],re=A[R-1+32],de=A[R-1+64],me=A[R-1-32],ve=A[R+0-32],De=A[R+1-32],Te=A[R+2-32],Ie=A[R+3-32];A[R+0+0]=A[R+1+64]=me+ve+1>>1,A[R+1+0]=A[R+2+64]=ve+De+1>>1,A[R+2+0]=A[R+3+64]=De+Te+1>>1,A[R+3+0]=Te+Ie+1>>1,A[R+0+96]=Rn(de,re,X),A[R+0+64]=Rn(re,X,me),A[R+0+32]=A[R+1+96]=Rn(X,me,ve),A[R+1+32]=A[R+2+96]=Rn(me,ve,De),A[R+2+32]=A[R+3+96]=Rn(ve,De,Te),A[R+3+32]=Rn(De,Te,Ie)}function A5(A,R){var X=A[R+0-32],re=A[R+1-32],de=A[R+2-32],me=A[R+3-32],ve=A[R+4-32],De=A[R+5-32],Te=A[R+6-32],Ie=A[R+7-32];A[R+0+0]=X+re+1>>1,A[R+1+0]=A[R+0+64]=re+de+1>>1,A[R+2+0]=A[R+1+64]=de+me+1>>1,A[R+3+0]=A[R+2+64]=me+ve+1>>1,A[R+0+32]=Rn(X,re,de),A[R+1+32]=A[R+0+96]=Rn(re,de,me),A[R+2+32]=A[R+1+96]=Rn(de,me,ve),A[R+3+32]=A[R+2+96]=Rn(me,ve,De),A[R+3+64]=Rn(ve,De,Te),A[R+3+96]=Rn(De,Te,Ie)}function _5(A,R){var X=A[R-1+0],re=A[R-1+32],de=A[R-1+64],me=A[R-1+96];A[R+0+0]=X+re+1>>1,A[R+2+0]=A[R+0+32]=re+de+1>>1,A[R+2+32]=A[R+0+64]=de+me+1>>1,A[R+1+0]=Rn(X,re,de),A[R+3+0]=A[R+1+32]=Rn(re,de,me),A[R+3+32]=A[R+1+64]=Rn(de,me,me),A[R+3+64]=A[R+2+64]=A[R+0+96]=A[R+1+96]=A[R+2+96]=A[R+3+96]=me}function Eg(A,R){var X=A[R-1+0],re=A[R-1+32],de=A[R-1+64],me=A[R-1+96],ve=A[R-1-32],De=A[R+0-32],Te=A[R+1-32],Ie=A[R+2-32];A[R+0+0]=A[R+2+32]=X+ve+1>>1,A[R+0+32]=A[R+2+64]=re+X+1>>1,A[R+0+64]=A[R+2+96]=de+re+1>>1,A[R+0+96]=me+de+1>>1,A[R+3+0]=Rn(De,Te,Ie),A[R+2+0]=Rn(ve,De,Te),A[R+1+0]=A[R+3+32]=Rn(X,ve,De),A[R+1+32]=A[R+3+64]=Rn(re,X,ve),A[R+1+64]=A[R+3+96]=Rn(de,re,X),A[R+1+96]=Rn(me,de,re)}function Tv(A,R){var X;for(X=0;8>X;++X)r(A,R+32*X,A,R-32,8)}function nf(A,R){var X;for(X=0;8>X;++X)o(A,R,A[R-1],8),R+=32}function yg(A,R,X){var re;for(re=0;8>re;++re)o(R,X+32*re,A,8)}function Dg(A,R){var X,re=8;for(X=0;8>X;++X)re+=A[R+X-32]+A[R-1+32*X];yg(re>>4,A,R)}function S5(A,R){var X,re=4;for(X=0;8>X;++X)re+=A[R+X-32];yg(re>>3,A,R)}function Ov(A,R){var X,re=4;for(X=0;8>X;++X)re+=A[R-1+32*X];yg(re>>3,A,R)}function Pv(A,R){yg(128,A,R)}function rf(A,R,X){var re=A[R-X],de=A[R+0],me=3*(de-re)+L5[1020+A[R-2*X]-A[R+X]],ve=kM[112+(me+4>>3)];A[R-X]=Va[255+re+kM[112+(me+3>>3)]],A[R+0]=Va[255+de-ve]}function af(A,R,X,re){return ms[255+A[R-2*X]-A[R-X]]>re||ms[255+A[R+X]-A[R+0]]>re}function Iv(A,R,X,re){return 4*ms[255+A[R-X]-A[R+0]]+ms[255+A[R-2*X]-A[R+X]]<=re}function Mg(A,R,X,re,de){var me=A[R-3*X],ve=A[R-2*X],De=A[R-X],Te=A[R+0],Ie=A[R+X],Ve=A[R+2*X];return 4*ms[255+De-Te]+ms[255+ve-Ie]>re?0:ms[255+A[R-4*X]-me]<=de&&ms[255+me-ve]<=de&&ms[255+ve-De]<=de&&ms[255+A[R+3*X]-Ve]<=de&&ms[255+Ve-Ie]<=de&&ms[255+Ie-Te]<=de}function xv(A,R,X,re){var de=2*re+1;for(re=0;16>re;++re)Iv(A,R+re,X,de)&&rf(A,R+re,X)}function sf(A,R,X,re){var de=2*re+1;for(re=0;16>re;++re)Iv(A,R+re*X,1,de)&&rf(A,R+re*X,1)}function LM(A,R,X,re){var de;for(de=3;0<de;--de)xv(A,R+=4*X,X,re)}function RM(A,R,X,re){var de;for(de=3;0<de;--de)sf(A,R+=4,X,re)}function mu(A,R,X,re,de,me,ve,De){for(me=2*me+1;0<de--;){if(Mg(A,R,X,me,ve))if(af(A,R,X,De))rf(A,R,X);else{var Te=A,Ie=R,Ve=X,ot=Te[Ie-2*Ve],xe=Te[Ie-Ve],$e=Te[Ie+0],qe=Te[Ie+Ve],Et=Te[Ie+2*Ve],tt=27*(Ot=L5[1020+3*($e-xe)+L5[1020+ot-qe]])+63>>7,Mt=18*Ot+63>>7,Ot=9*Ot+63>>7;Te[Ie-3*Ve]=Va[255+Te[Ie-3*Ve]+Ot],Te[Ie-2*Ve]=Va[255+ot+Mt],Te[Ie-Ve]=Va[255+xe+tt],Te[Ie+0]=Va[255+$e-tt],Te[Ie+Ve]=Va[255+qe-Mt],Te[Ie+2*Ve]=Va[255+Et-Ot]}R+=re}}function pu(A,R,X,re,de,me,ve,De){for(me=2*me+1;0<de--;){if(Mg(A,R,X,me,ve))if(af(A,R,X,De))rf(A,R,X);else{var Te=A,Ie=R,Ve=X,ot=Te[Ie-Ve],xe=Te[Ie+0],$e=Te[Ie+Ve],qe=kM[112+(4+(Et=3*(xe-ot))>>3)],Et=kM[112+(Et+3>>3)],tt=qe+1>>1;Te[Ie-2*Ve]=Va[255+Te[Ie-2*Ve]+tt],Te[Ie-Ve]=Va[255+ot+Et],Te[Ie+0]=Va[255+xe-qe],Te[Ie+Ve]=Va[255+$e-tt]}R+=re}}function wM(A,R,X,re,de,me){mu(A,R,X,1,16,re,de,me)}function jM(A,R,X,re,de,me){mu(A,R,1,X,16,re,de,me)}function lf(A,R,X,re,de,me){var ve;for(ve=3;0<ve;--ve)pu(A,R+=4*X,X,1,16,re,de,me)}function NM(A,R,X,re,de,me){var ve;for(ve=3;0<ve;--ve)pu(A,R+=4,1,X,16,re,de,me)}function H(A,R,X,re,de,me,ve,De){mu(A,R,de,1,8,me,ve,De),mu(X,re,de,1,8,me,ve,De)}function ce(A,R,X,re,de,me,ve,De){mu(A,R,1,de,8,me,ve,De),mu(X,re,1,de,8,me,ve,De)}function Ae(A,R,X,re,de,me,ve,De){pu(A,R+4*de,de,1,8,me,ve,De),pu(X,re+4*de,de,1,8,me,ve,De)}function Fe(A,R,X,re,de,me,ve,De){pu(A,R+4,1,de,8,me,ve,De),pu(X,re+4,1,de,8,me,ve,De)}function Je(){this.ba=new Vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function en(){this.ua=0,this.Wa=new Gn,this.vb=new Gn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ze,this.yc=new Ne}function rn(){this.xb=this.a=0,this.l=new vg,this.ca=new Vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _e,this.Pb=0,this.wd=new _e,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new en,this.ab=0,this.gc=a(4,Lt),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vg,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bn(A,R,X,re,de,me,ve){for(A=null==A?0:A[R+0],R=0;R<ve;++R)de[me+R]=A+X[re+R]&255,A=de[me+R]}function Cr(A,R,X,re,de,me,ve){var De;if(null==A)Bn(null,null,X,re,de,me,ve);else for(De=0;De<ve;++De)de[me+De]=A[R+De]+X[re+De]&255}function go(A,R,X,re,de,me,ve){if(null==A)Bn(null,null,X,re,de,me,ve);else{var De,Te=A[R+0],Ie=Te,Ve=Te;for(De=0;De<ve;++De)Ie=Ve+(Te=A[R+De])-Ie,Ve=X[re+De]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Te,de[me+De]=Ve}}function Yo(A,R,X,re){var de=R.width,me=R.o;if(n(null!=A&&null!=R),0>X||0>=re||X+re>me)return null;if(!A.Cc){if(null==A.ga){var ve;if(A.ga=new An,(ve=null==A.ga)||(ve=R.width*R.o,n(0==A.Gb.length),A.Gb=i(ve),A.Uc=0,null==A.Gb?ve=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,ve=1),ve=!ve),!ve){var De=A.Fa,Te=A.P,Ie=A.qc,Ve=A.mb,ot=A.nb,xe=Te+1,$e=Ie-1,qe=(ve=A.ga).l;if(n(null!=De&&null!=Ve&&null!=R),Sc[0]=null,Sc[1]=Bn,Sc[2]=Cr,Sc[3]=go,ve.ca=Ve,ve.tb=ot,ve.c=R.width,ve.i=R.height,n(0<ve.c&&0<ve.i),1>=Ie)R=0;else if(ve.$a=3&De[Te+0],ve.Z=De[Te+0]>>2&3,ve.Lc=De[Te+0]>>4&3,Te=De[Te+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Te)R=0;else if(qe.put=Dn,qe.ac=yl,qe.bc=cu,qe.ma=ve,qe.width=R.width,qe.height=R.height,qe.Da=R.Da,qe.v=R.v,qe.va=R.va,qe.j=R.j,qe.o=R.o,ve.$a)e:{n(1==ve.$a),R=Xd();t:for(;;){if(null==R){R=0;break e}if(n(null!=ve),ve.mc=R,R.c=ve.c,R.i=ve.i,R.l=ve.l,R.l.ma=ve,R.l.width=ve.c,R.l.height=ve.i,R.a=0,at(R.m,De,xe,$e),!Ml(ve.c,ve.i,1,R,null)||(1==R.ab&&3==R.gc[0].hc&&Fs(R.s)?(ve.ic=1,De=R.c*R.i,R.Ta=null,R.Ua=0,R.V=i(De),R.Ba=0,null==R.V?(R.a=1,R=0):R=1):(ve.ic=0,R=Jd(R,ve.c)),!R))break t;R=1;break e}ve.mc=null,R=0}else R=$e>=ve.c*ve.i;ve=!R}if(ve)return null;1!=A.ga.Lc?A.Ga=0:re=me-X}n(null!=A.ga),n(X+re<=me);e:{if(R=(De=A.ga).c,me=De.l.o,0==De.$a){if(xe=A.rc,$e=A.Vc,qe=A.Fa,Ie=A.mb,Ve=A.nb+X*R,n((Te=A.P+1+X*R)<=A.P+A.qc),0!=De.Z)for(n(null!=Sc[De.Z]),ve=0;ve<re;++ve)Sc[De.Z](xe,$e,qe,Te,Ie,Ve,R),xe=Ie,$e=Ve,Ve+=R,Te+=R;else for(ve=0;ve<re;++ve)r(Ie,Ve,qe,Te,R),xe=Ie,$e=Ve,Ve+=R,Te+=R;A.rc=xe,A.Vc=$e}else{if(n(null!=De.mc),R=X+re,n(null!=(ve=De.mc)),n(R<=ve.i),ve.C>=R)R=1;else if(De.ic||fs(),De.ic){De=ve.V,xe=ve.Ba;var Et=ve.i,tt=(qe=1,Te=ve.$/($e=ve.c),Ie=ve.$%$e,Ve=ve.m,ot=ve.s,ve.$),Mt=$e*Et,Ot=$e*R,Bt=ot.wc,_t=tt<Ot?Oi(ot,Ie,Te):null;n(tt<=Mt),n(R<=Et),n(Fs(ot));t:for(;;){for(;!Ve.h&&tt<Ot;){if(Ie&Bt||(_t=Oi(ot,Ie,Te)),n(null!=_t),nt(Ve),256>(Et=Co(_t.G[0],_t.H[0],Ve)))De[xe+tt]=Et,++tt,++Ie>=$e&&(Ie=0,++Te<=R&&!(Te%16)&&Ws(ve,Te));else{if(!(280>Et)){qe=0;break t}Et=ls(Et-256,Ve);var sn,Qt=Co(_t.G[4],_t.H[4],Ve);if(nt(Ve),!(tt>=(Qt=us($e,Qt=ls(Qt,Ve)))&&Mt-tt>=Et)){qe=0;break t}for(sn=0;sn<Et;++sn)De[xe+tt+sn]=De[xe+tt+sn-Qt];for(tt+=Et,Ie+=Et;Ie>=$e;)Ie-=$e,++Te<=R&&!(Te%16)&&Ws(ve,Te);tt<Ot&&Ie&Bt&&(_t=Oi(ot,Ie,Te))}n(Ve.h==We(Ve))}Ws(ve,Te>R?R:Te);break t}!qe||Ve.h&&tt<Mt?(qe=0,ve.a=Ve.h?5:3):ve.$=tt,R=qe}else R=ks(ve,ve.V,ve.Ba,ve.c,ve.i,R,gg);if(!R){re=0;break e}}X+re>=me&&(A.Cc=1),re=1}if(!re)return null;if(A.Cc&&(null!=(re=A.ga)&&(re.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+X*de}function qr(A,R,X,re,de,me){for(;0<de--;){var ve,De=A,Te=R+(X?1:0),Ie=A,Ve=R+(X?0:3);for(ve=0;ve<re;++ve){var ot=Ie[Ve+4*ve];255!=ot&&(De[Te+4*ve+0]=De[Te+4*ve+0]*(ot*=32897)>>23,De[Te+4*ve+1]=De[Te+4*ve+1]*ot>>23,De[Te+4*ve+2]=De[Te+4*ve+2]*ot>>23)}R+=me}}function ti(A,R,X,re,de){for(;0<re--;){var me;for(me=0;me<X;++me){var ve=A[R+2*me+0],De=15&(Ie=A[R+2*me+1]),Te=4369*De,Ie=(240&Ie|Ie>>4)*Te>>16;A[R+2*me+0]=(240&ve|ve>>4)*Te>>16&240|(15&ve|ve<<4)*Te>>16>>4&15,A[R+2*me+1]=240&Ie|De}R+=de}}function Zo(A,R,X,re,de,me,ve,De){var Te,Ie,Ve=255;for(Ie=0;Ie<de;++Ie){for(Te=0;Te<re;++Te){var ot=A[R+Te];me[ve+4*Te]=ot,Ve&=ot}R+=X,ve+=De}return 255!=Ve}function Pi(A,R,X,re,de){var me;for(me=0;me<de;++me)X[re+me]=A[R+me]>>8}function fs(){Fv=qr,F6=ti,W6=Zo,k6=Pi}function Ia(A,R,X){be[A]=function(re,de,me,ve,De,Te,Ie,Ve,ot,xe,$e,qe,Et,tt,Mt,Ot,Bt){var _t,sn=Bt-1>>1,Qt=De[Te+0]|Ie[Ve+0]<<16,Qn=ot[xe+0]|$e[qe+0]<<16;n(null!=re);var tn=3*Qt+Qn+131074>>2;for(R(re[de+0],255&tn,tn>>16,Et,tt),null!=me&&R(me[ve+0],255&(tn=3*Qn+Qt+131074>>2),tn>>16,Mt,Ot),_t=1;_t<=sn;++_t){var cr=De[Te+_t]|Ie[Ve+_t]<<16,ri=ot[xe+_t]|$e[qe+_t]<<16,qn=Qt+cr+Qn+ri+524296,nn=qn+2*(cr+Qn)>>3;tn=nn+Qt>>1,Qt=(qn=qn+2*(Qt+ri)>>3)+cr>>1,R(re[de+2*_t-1],255&tn,tn>>16,Et,tt+(2*_t-1)*X),R(re[de+2*_t-0],255&Qt,Qt>>16,Et,tt+(2*_t-0)*X),null!=me&&(Qt=nn+ri>>1,R(me[ve+2*_t-1],255&(tn=qn+Qn>>1),tn>>16,Mt,Ot+(2*_t-1)*X),R(me[ve+2*_t+0],255&Qt,Qt>>16,Mt,Ot+(2*_t+0)*X)),Qt=cr,Qn=ri}1&Bt||(R(re[de+Bt-1],255&(tn=3*Qt+Qn+131074>>2),tn>>16,Et,tt+(Bt-1)*X),null!=me&&R(me[ve+Bt-1],255&(tn=3*Qn+Qt+131074>>2),tn>>16,Mt,Ot+(Bt-1)*X))}}function BM(){ps[HM]=Ive,ps[VM]=Q6,ps[G6]=xve,ps[KM]=q6,ps[zM]=ek,ps[R5]=tk,ps[Y6]=Ave,ps[w5]=Q6,ps[j5]=q6,ps[$M]=ek,ps[N5]=tk}function bg(A){return A&~_ve?0>A?0:255:A>>nk}function uf(A,R){return bg((19077*A>>8)+(26149*R>>8)-14234)}function bc(A,R,X){return bg((19077*A>>8)-(6419*R>>8)-(13320*X>>8)+8708)}function cf(A,R){return bg((19077*A>>8)+(33050*R>>8)-17685)}function df(A,R,X,re,de){re[de+0]=uf(A,X),re[de+1]=bc(A,R,X),re[de+2]=cf(A,R)}function ff(A,R,X,re,de){re[de+0]=cf(A,R),re[de+1]=bc(A,R,X),re[de+2]=uf(A,X)}function zi(A,R,X,re,de){var me=bc(A,R,X);R=me<<3&224|cf(A,R)>>3,re[de+0]=248&uf(A,X)|me>>5,re[de+1]=R}function hf(A,R,X,re,de){var me=240&cf(A,R)|15;re[de+0]=240&uf(A,X)|bc(A,R,X)>>4,re[de+1]=me}function gf(A,R,X,re,de){re[de+0]=255,df(A,R,X,re,de+1)}function Av(A,R,X,re,de){ff(A,R,X,re,de),re[de+3]=255}function _v(A,R,X,re,de){df(A,R,X,re,de),re[de+3]=255}function To(A,R){return 0>A?0:A>R?R:A}function vu(A,R,X){be[A]=function(re,de,me,ve,De,Te,Ie,Ve,ot){for(var xe=Ve+(-2&ot)*X;Ve!=xe;)R(re[de+0],me[ve+0],De[Te+0],Ie,Ve),R(re[de+1],me[ve+0],De[Te+0],Ie,Ve+X),de+=2,++ve,++Te,Ve+=2*X;1&ot&&R(re[de+0],me[ve+0],De[Te+0],Ie,Ve)}}function Cg(A,R,X){return 0==X?0==A?0==R?6:5:0==R?4:0:X}function UM(A,R,X,re,de){switch(A>>>30){case 3:Ef(R,X,re,de,0);break;case 2:gs(R,X,re,de);break;case 1:Pr(R,X,re,de)}}function hs(A,R){var X,re,de=R.M,me=R.Nb,ve=A.oc,De=A.pc+40,Te=A.oc,Ie=A.pc+584,Ve=A.oc,ot=A.pc+600;for(X=0;16>X;++X)ve[De+32*X-1]=129;for(X=0;8>X;++X)Te[Ie+32*X-1]=129,Ve[ot+32*X-1]=129;for(0<de?ve[De-1-32]=Te[Ie-1-32]=Ve[ot-1-32]=129:(o(ve,De-32-1,127,21),o(Te,Ie-32-1,127,9),o(Ve,ot-32-1,127,9)),re=0;re<A.za;++re){var xe=R.ya[R.aa+re];if(0<re){for(X=-1;16>X;++X)r(ve,De+32*X-4,ve,De+32*X+12,4);for(X=-1;8>X;++X)r(Te,Ie+32*X-4,Te,Ie+32*X+4,4),r(Ve,ot+32*X-4,Ve,ot+32*X+4,4)}var $e=A.Gd,qe=A.Hd+re,Et=xe.ad,tt=xe.Hc;if(0<de&&(r(ve,De-32,$e[qe].y,0,16),r(Te,Ie-32,$e[qe].f,0,8),r(Ve,ot-32,$e[qe].ea,0,8)),xe.Za){var Mt=ve,Ot=De-32+16;for(0<de&&(re>=A.za-1?o(Mt,Ot,$e[qe].y[15],4):r(Mt,Ot,$e[qe+1].y,0,4)),X=0;4>X;X++)Mt[Ot+128+X]=Mt[Ot+256+X]=Mt[Ot+384+X]=Mt[Ot+0+X];for(X=0;16>X;++X,tt<<=2)Vs[xe.Ob[X]](Mt=ve,Ot=De+ok[X]),UM(tt,Et,16*+X,Mt,Ot)}else if(Mt=Cg(re,de,xe.Ob[0]),_c[Mt](ve,De),0!=tt)for(X=0;16>X;++X,tt<<=2)UM(tt,Et,16*+X,ve,De+ok[X]);for(X=xe.Gc,Mt=Cg(re,de,xe.Dd),Du[Mt](Te,Ie),Du[Mt](Ve,ot),tt=Et,Mt=Te,Ot=Ie,255&(xe=0|X)&&(170&xe?Ol(tt,256,Mt,Ot):Kr(tt,256,Mt,Ot)),xe=Ve,tt=ot,255&(X>>=8)&&(170&X?Ol(Et,320,xe,tt):Kr(Et,320,xe,tt)),de<A.Ub-1&&(r($e[qe].y,0,ve,De+480,16),r($e[qe].f,0,Te,Ie+224,8),r($e[qe].ea,0,Ve,ot+224,8)),$e=A.sa,qe=A.ta+16*re+16*me*A.R,Et=A.qa,xe=A.ra+8*re+(X=8*me*A.B),tt=A.Ha,Mt=A.Ia+8*re+X,X=0;16>X;++X)r($e,qe+X*A.R,ve,De+32*X,16);for(X=0;8>X;++X)r(Et,xe+X*A.B,Te,Ie+32*X,8),r(tt,Mt+X*A.B,Ve,ot+32*X,8)}}function mf(A,R,X,re,de,me,ve,De,Te){var Ie=[0],Ve=[0],ot=0,xe=null!=Te?Te.kd:0,$e=Te??new bt;if(null==A||12>X)return 7;$e.data=A,$e.w=R,$e.ha=X,R=[R],X=[X],$e.gb=[$e.gb];e:{var qe=R,Et=X,tt=$e.gb;if(n(null!=A),n(null!=Et),n(null!=tt),tt[0]=0,12<=Et[0]&&!t(A,qe[0],"RIFF")){if(t(A,qe[0]+8,"WEBP")){tt=3;break e}var Mt=vt(A,qe[0]+4);if(12>Mt||4294967286<Mt){tt=3;break e}if(xe&&Mt>Et[0]-8){tt=7;break e}tt[0]=Mt,qe[0]+=12,Et[0]-=12}tt=0}if(0!=tt)return tt;for(Mt=0<$e.gb[0],X=X[0];;){e:{var Ot=A;Et=R,tt=X;var Bt=Ie,_t=Ve,sn=qe=[0];if((tn=ot=[ot])[0]=0,8>tt[0])tt=7;else{if(!t(Ot,Et[0],"VP8X")){if(10!=vt(Ot,Et[0]+4)){tt=3;break e}if(18>tt[0]){tt=7;break e}var Qt=vt(Ot,Et[0]+8),Qn=1+Gt(Ot,Et[0]+12);if(2147483648<=Qn*(Ot=1+Gt(Ot,Et[0]+15))){tt=3;break e}null!=sn&&(sn[0]=Qt),null!=Bt&&(Bt[0]=Qn),null!=_t&&(_t[0]=Ot),Et[0]+=18,tt[0]-=18,tn[0]=1}tt=0}}if(ot=ot[0],0!=tt)return tt;if(Et=!!(2&(qe=qe[0])),!Mt&&ot)return 3;if(null!=me&&(me[0]=!!(16&qe)),null!=ve&&(ve[0]=Et),null!=De&&(De[0]=0),ve=Ie[0],qe=Ve[0],ot&&Et&&null==Te){tt=0;break}if(4>X){tt=7;break}if(Mt&&ot||!Mt&&!ot&&!t(A,R[0],"ALPH")){X=[X],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{tt=R,Mt=X;var tn=$e.gb;Bt=$e.na,_t=$e.P,sn=$e.Sa,Qn=22,n(null!=(Qt=A)),n(null!=Mt),Ot=tt[0];var cr=Mt[0];for(n(null!=Bt),n(null!=sn),Bt[0]=null,_t[0]=null,sn[0]=0;;){if(tt[0]=Ot,Mt[0]=cr,8>cr){tt=7;break e}var ri=vt(Qt,Ot+4);if(4294967286<ri){tt=3;break e}var qn=8+ri+1&-2;if(Qn+=qn,0<tn&&Qn>tn){tt=3;break e}if(!t(Qt,Ot,"VP8 ")||!t(Qt,Ot,"VP8L")){tt=0;break e}if(cr[0]<qn){tt=7;break e}t(Qt,Ot,"ALPH")||(Bt[0]=Qt,_t[0]=Ot+8,sn[0]=ri),Ot+=qn,cr-=qn}}if(X=X[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],0!=tt)break}X=[X],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(tn=A,tt=R,Mt=X,Bt=$e.gb[0],_t=$e.Ja,sn=$e.xa,Qt=tt[0],Ot=!t(tn,Qt,"VP8 "),Qn=!t(tn,Qt,"VP8L"),n(null!=tn),n(null!=Mt),n(null!=_t),n(null!=sn),8>Mt[0])tt=7;else{if(Ot||Qn){if(tn=vt(tn,Qt+4),12<=Bt&&tn>Bt-12){tt=3;break e}if(xe&&tn>Mt[0]-8){tt=7;break e}_t[0]=tn,tt[0]+=8,Mt[0]-=8,sn[0]=Qn}else sn[0]=5<=Mt[0]&&47==tn[Qt+0]&&!(tn[Qt+4]>>5),_t[0]=Mt[0];tt=0}if(X=X[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],R=R[0],0!=tt)break;if(4294967286<$e.Ja)return 3;if(null==De||Et||(De[0]=$e.xa?2:1),ve=[ve],qe=[qe],$e.xa){if(5>X){tt=7;break}De=ve,xe=qe,Et=me,null==A||5>X?A=0:5<=X&&47==A[R+0]&&!(A[R+4]>>5)?(Mt=[0],tn=[0],Bt=[0],at(_t=new _e,A,R,X),du(_t,Mt,tn,Bt)?(null!=De&&(De[0]=Mt[0]),null!=xe&&(xe[0]=tn[0]),null!=Et&&(Et[0]=Bt[0]),A=1):A=0):A=0}else{if(10>X){tt=7;break}De=qe,null==A||10>X||!xM(A,R+3,X-3)?A=0:(xe=A[R+0]|A[R+1]<<8|A[R+2]<<16,Et=16383&(A[R+7]<<8|A[R+6]),A=16383&(A[R+9]<<8|A[R+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=$e.Ja||!Et||!A?A=0:(ve&&(ve[0]=Et),De&&(De[0]=A),A=1))}if(!A||(ve=ve[0],qe=qe[0],ot&&(Ie[0]!=ve||Ve[0]!=qe)))return 3;null!=Te&&(Te[0]=$e,Te.offset=R-Te.w,n(4294967286>R-Te.w),n(Te.offset==Te.ha-X));break}return 0==tt||7==tt&&ot&&null==Te?(null!=me&&(me[0]|=null!=$e.na&&0<$e.na.length),null!=re&&(re[0]=ve),null!=de&&(de[0]=qe),0):tt}function Sv(A,R,X){var re=R.width,de=R.height,me=0,ve=0,De=re,Te=de;if(R.Da=null!=A&&0<A.Da,R.Da&&(De=A.cd,Te=A.bd,me=A.v,ve=A.j,11>X||(me&=-2,ve&=-2),0>me||0>ve||0>=De||0>=Te||me+De>re||ve+Te>de))return 0;if(R.v=me,R.j=ve,R.va=me+De,R.o=ve+Te,R.U=De,R.T=Te,R.da=null!=A&&0<A.da,R.da){if(!vn(De,Te,X=[A.ib],me=[A.hb]))return 0;R.ib=X[0],R.hb=me[0]}return R.ob=null!=A&&A.ob,R.Kb=null==A||!A.Sd,R.da&&(R.ob=R.ib<3*re/4&&R.hb<3*de/4,R.Kb=0),1}function Lv(A){if(null==A)return 2;if(11>A.S){var R=A.f.RGBA;R.fb+=(A.height-1)*R.A,R.A=-R.A}else(R=A.f.kb).O+=((A=A.height)-1)*R.fa,R.fa=-R.fa,R.N+=(A-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(A-1>>1)*R.Db,R.Db=-R.Db,null!=R.F&&(R.J+=(A-1)*R.lb,R.lb=-R.lb);return 0}function Cc(A,R,X,re){if(null==re||0>=A||0>=R)return 2;if(null!=X){if(X.Da){var de=X.cd,me=X.bd,ve=-2&X.v,De=-2&X.j;if(0>ve||0>De||0>=de||0>=me||ve+de>A||De+me>R)return 2;A=de,R=me}if(X.da){if(!vn(A,R,de=[X.ib],me=[X.hb]))return 2;A=de[0],R=me[0]}}re.width=A,re.height=R;e:{var Te=re.width,Ie=re.height;if(A=re.S,0>=Te||0>=Ie||!(A>=HM&&13>A))A=2;else{if(0>=re.Rd&&null==re.sd){ve=me=de=R=0;var Ve=(De=Te*ik[A])*Ie;if(11>A||(me=(Ie+1)/2*(R=(Te+1)/2),12==A&&(ve=(de=Te)*Ie)),null==(Ie=i(Ve+2*me+ve))){A=1;break e}re.sd=Ie,11>A?((Te=re.f.RGBA).eb=Ie,Te.fb=0,Te.A=De,Te.size=Ve):((Te=re.f.kb).y=Ie,Te.O=0,Te.fa=De,Te.Fd=Ve,Te.f=Ie,Te.N=0+Ve,Te.Ab=R,Te.Cd=me,Te.ea=Ie,Te.W=0+Ve+me,Te.Db=R,Te.Ed=me,12==A&&(Te.F=Ie,Te.J=0+Ve+2*me),Te.Tc=ve,Te.lb=de)}if(R=1,me=re.width,ve=re.height,(de=re.S)>=HM&&13>de)if(11>de)A=re.f.RGBA,R&=(De=Math.abs(A.A))*(ve-1)+me<=A.size,R&=De>=me*ik[de],R&=null!=A.eb;else{A=re.f.kb,De=(me+1)/2,Ve=(ve+1)/2,Te=Math.abs(A.fa),Ie=Math.abs(A.Ab);var ot=Math.abs(A.Db),xe=Math.abs(A.lb);R&=Te*(ve-1)+me<=A.Fd,R&=Ie*(Ve-1)+De<=A.Cd,R=(R&=ot*(Ve-1)+De<=A.Ed)&Te>=me&Ie>=De&ot>=De,R&=null!=A.y,R&=null!=A.f,R&=null!=A.ea,12==de&&(R&=xe>=me,R&=xe*(ve-1)+me<=A.Tc,R&=null!=A.F)}else R=0;A=R?0:2}}return 0!=A||null!=X&&X.fd&&(A=Lv(re)),A}var pf=64,ka=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ha=24,Tc=32,Eu=8,Oc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Yt("Predictor0","PredictorAdd0"),be.Predictor0=function(){return 4278190080},be.Predictor1=function(A){return A},be.Predictor2=function(A,R,X){return R[X+0]},be.Predictor3=function(A,R,X){return R[X+1]},be.Predictor4=function(A,R,X){return R[X-1]},be.Predictor5=function(A,R,X){return mn(mn(A,R[X+1]),R[X+0])},be.Predictor6=function(A,R,X){return mn(A,R[X-1])},be.Predictor7=function(A,R,X){return mn(A,R[X+0])},be.Predictor8=function(A,R,X){return mn(R[X-1],R[X+0])},be.Predictor9=function(A,R,X){return mn(R[X+0],R[X+1])},be.Predictor10=function(A,R,X){return mn(mn(A,R[X-1]),mn(R[X+0],R[X+1]))},be.Predictor11=function(A,R,X){var re=R[X+0];return 0>=kn(re>>24&255,A>>24&255,(R=R[X-1])>>24&255)+kn(re>>16&255,A>>16&255,R>>16&255)+kn(re>>8&255,A>>8&255,R>>8&255)+kn(255&re,255&A,255&R)?re:A},be.Predictor12=function(A,R,X){var re=R[X+0];return(Mr((A>>24&255)+(re>>24&255)-((R=R[X-1])>>24&255))<<24|Mr((A>>16&255)+(re>>16&255)-(R>>16&255))<<16|Mr((A>>8&255)+(re>>8&255)-(R>>8&255))<<8|Mr((255&A)+(255&re)-(255&R)))>>>0},be.Predictor13=function(A,R,X){var re=R[X-1];return(Wn((A=mn(A,R[X+0]))>>24&255,re>>24&255)<<24|Wn(A>>16&255,re>>16&255)<<16|Wn(A>>8&255,re>>8&255)<<8|Wn(255&A,255&re))>>>0};var Rv=be.PredictorAdd0;be.PredictorAdd1=Ur,Yt("Predictor2","PredictorAdd2"),Yt("Predictor3","PredictorAdd3"),Yt("Predictor4","PredictorAdd4"),Yt("Predictor5","PredictorAdd5"),Yt("Predictor6","PredictorAdd6"),Yt("Predictor7","PredictorAdd7"),Yt("Predictor8","PredictorAdd8"),Yt("Predictor9","PredictorAdd9"),Yt("Predictor10","PredictorAdd10"),Yt("Predictor11","PredictorAdd11"),Yt("Predictor12","PredictorAdd12"),Yt("Predictor13","PredictorAdd13");var Tg=be.PredictorAdd2;hn("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),hn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var Bo,FM=be.ColorIndexInverseTransform,Cl=be.MapARGB,Tl=be.VP8LColorIndexInverseTransformAlpha,wv=be.MapAlpha,jv=be.VP8LPredictorsAdd=[];jv.length=16,(be.VP8LPredictors=[]).length=16,(be.VP8LPredictorsAdd_C=[]).length=16,(be.VP8LPredictors_C=[]).length=16;var Nv,Bv,Pc,Ic,xc,vf,Ac,Ef,gs,Ol,Pr,Kr,Uo,ni,yu,Uv,Og,WM,R6,w6,j6,N6,B6,U6,Fv,F6,W6,k6,H6=i(511),V6=i(2041),K6=i(225),z6=i(767),$6=0,L5=V6,kM=K6,Va=z6,ms=H6,HM=0,VM=1,G6=2,KM=3,zM=4,R5=5,Y6=6,w5=7,j5=8,$M=9,N5=10,hve=[2,3,7],gve=[3,3,11],Z6=[280,256,256,256,40],mve=[0,1,1,1,0],pve=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vve=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Eve=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yve=8,B5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],U5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wv=null,Dve=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mve=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],X6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bve=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cve=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tve=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ove=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_c=[],Vs=[],Du=[],Pve=1,J6=2,Sc=[],ps=[];Ia("UpsampleRgbLinePair",df,3),Ia("UpsampleBgrLinePair",ff,3),Ia("UpsampleRgbaLinePair",_v,4),Ia("UpsampleBgraLinePair",Av,4),Ia("UpsampleArgbLinePair",gf,4),Ia("UpsampleRgba4444LinePair",hf,2),Ia("UpsampleRgb565LinePair",zi,2);var Ive=be.UpsampleRgbLinePair,xve=be.UpsampleBgrLinePair,Q6=be.UpsampleRgbaLinePair,q6=be.UpsampleBgraLinePair,ek=be.UpsampleArgbLinePair,tk=be.UpsampleRgba4444LinePair,Ave=be.UpsampleRgb565LinePair,GM=16,YM=1<<GM-1,kv=-227,F5=482,nk=6,_ve=(256<<nk)-1,rk=0,Sve=i(256),Lve=i(256),Rve=i(256),wve=i(256),jve=i(F5-kv),Nve=i(F5-kv);vu("YuvToRgbRow",df,3),vu("YuvToBgrRow",ff,3),vu("YuvToRgbaRow",_v,4),vu("YuvToBgraRow",Av,4),vu("YuvToArgbRow",gf,4),vu("YuvToRgba4444Row",hf,2),vu("YuvToRgb565Row",zi,2);var ok=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ZM=[0,2,8],Bve=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(A,R,X,re,de){var me=VM,ve=new Je,De=new Vr;ve.ba=De,De.S=me,De.width=[De.width],De.height=[De.height];var Te=De.width,Ie=De.height,Ve=new Ln;if(null==Ve||null==A)var ot=2;else n(null!=Ve),ot=mf(A,R,X,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(0!=ot?Te=0:(null!=Te&&(Te[0]=Ve.width[0]),null!=Ie&&(Ie[0]=Ve.height[0]),Te=1),Te){De.width=De.width[0],De.height=De.height[0],null!=re&&(re[0]=De.width),null!=de&&(de[0]=De.height);e:{if(re=new vg,(de=new bt).data=A,de.w=R,de.ha=X,de.kd=1,R=[0],n(null!=de),(0==(A=mf(de.data,de.w,de.ha,null,null,null,R,null,de))||7==A)&&R[0]&&(A=4),0==(R=A)){if(n(null!=ve),re.data=de.data,re.w=de.w+de.offset,re.ha=de.ha-de.offset,re.put=Dn,re.ac=yl,re.bc=cu,re.ma=ve,de.xa){if(null==(A=Xd())){ve=1;break e}if(function(xe,$e){var qe=[0],Et=[0],tt=[0];t:for(;;){if(null==xe)return 0;if(null==$e)return xe.a=2,0;if(xe.l=$e,xe.a=0,at(xe.m,$e.data,$e.w,$e.ha),!du(xe.m,qe,Et,tt)){xe.a=3;break t}if(xe.xb=J6,$e.width=qe[0],$e.height=Et[0],!Ml(qe[0],Et[0],1,xe,null))break t;return 1}return n(0!=xe.a),0}(A,re)){if(re=0==(R=Cc(re.width,re.height,ve.Oa,ve.ba))){t:{re=A;n:for(;;){if(null==re){re=0;break t}if(n(null!=re.s.yc),n(null!=re.s.Ya),n(0<re.s.Wb),n(null!=(X=re.l)),n(null!=(de=X.ma)),0!=re.xb){if(re.ca=de.ba,re.tb=de.tb,n(null!=re.ca),!Sv(de.Oa,X,KM)){re.a=2;break n}if(!Jd(re,X.width)||X.da)break n;if((X.da||Vn(re.ca.S))&&fs(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=re.ca.f.kb.F&&fs()),re.Pb&&0<re.s.ua&&null==re.s.vb.X&&!Re(re.s.vb,re.s.Wa.Xa)){re.a=1;break n}re.xb=0}if(!ks(re,re.V,re.Ba,re.c,re.i,X.o,yc))break n;de.Dc=re.Ma,re=1;break t}n(0!=re.a),re=0}re=!re}re&&(R=A.a)}else R=A.a}else{if(null==(A=new v5)){ve=1;break e}if(A.Fa=de.na,A.P=de.P,A.qc=de.Sa,AM(A,re)){if(0==(R=Cc(re.width,re.height,ve.Oa,ve.ba))){if(A.Aa=0,X=ve.Oa,n(null!=(de=A)),null!=X){if(0<(Te=0>(Te=X.Md)?0:100<Te?255:255*Te/100)){for(Ie=Ve=0;4>Ie;++Ie)12>(ot=de.pb[Ie]).lc&&(ot.ia=Te*Bve[0>ot.lc?0:ot.lc]>>3),Ve|=ot.ia;Ve&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=X.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}(function(xe,$e){if(null==xe)return 0;if(null==$e)return Go(xe,2,"NULL VP8Io parameter in VP8Decode().");if(!xe.cb&&!AM(xe,$e))return 0;if(n(xe.cb),null==$e.ac||$e.ac($e)){$e.ob&&(xe.L=0);var qe=ZM[xe.L];if(2==xe.L?(xe.yb=0,xe.zb=0):(xe.yb=$e.v-qe>>4,xe.zb=$e.j-qe>>4,0>xe.yb&&(xe.yb=0),0>xe.zb&&(xe.zb=0)),xe.Va=$e.o+15+qe>>4,xe.Hb=$e.va+15+qe>>4,xe.Hb>xe.za&&(xe.Hb=xe.za),xe.Va>xe.Ub&&(xe.Va=xe.Ub),0<xe.L){var Et=xe.ed;for(qe=0;4>qe;++qe){var tt;if(xe.Qa.Cb){var Mt=xe.Qa.Lb[qe];xe.Qa.Fb||(Mt+=Et.Tb)}else Mt=Et.Tb;for(tt=0;1>=tt;++tt){var Ot=xe.gd[qe][tt],Bt=Mt;if(Et.Pc&&(Bt+=Et.vd[0],tt&&(Bt+=Et.od[0])),0<(Bt=0>Bt?0:63<Bt?63:Bt)){var _t=Bt;0<Et.wb&&(_t=4<Et.wb?_t>>2:_t>>1)>9-Et.wb&&(_t=9-Et.wb),1>_t&&(_t=1),Ot.dd=_t,Ot.tc=2*Bt+_t,Ot.ld=40<=Bt?2:15<=Bt?1:0}else Ot.tc=0;Ot.La=tt}}}qe=0}else Go(xe,6,"Frame setup failed"),qe=xe.a;if(qe=0==qe){if(qe){xe.$c=0,0<xe.Aa||(xe.Ic=1);t:{Et=4*(_t=xe.za);var sn=32*_t,Qt=_t+1,Qn=0<xe.L?_t*(0<xe.Aa?2:1):0,tn=(2==xe.Aa?2:1)*_t;if((Ot=Et+832+(tt=3*(16*(qe=xe.Ic)+ZM[xe.L])/2*sn)+(Mt=null!=xe.Fa&&0<xe.Fa.length?xe.Kc.c*xe.Kc.i:0))!=Ot)qe=0;else{if(Ot>xe.Vb){if(xe.Vb=0,xe.Ec=i(Ot),xe.Fc=0,null==xe.Ec){qe=Go(xe,1,"no memory during frame initialization.");break t}xe.Vb=Ot}Bt=xe.Fc,xe.Ac=Ot=xe.Ec,xe.Bc=Bt,Bt+=Et,xe.Gd=a(sn,PM),xe.Hd=0,xe.rb=a(Qt+1,Ev),xe.sb=1,xe.wa=Qn?a(Qn,ds):null,xe.Y=0,xe.D.Nb=0,xe.D.wa=xe.wa,xe.D.Y=xe.Y,0<xe.Aa&&(xe.D.Y+=_t),n(!0),xe.oc=Ot,xe.pc=Bt,Bt+=832,xe.ya=a(tn,yv),xe.aa=0,xe.D.ya=xe.ya,xe.D.aa=xe.aa,2==xe.Aa&&(xe.D.aa+=_t),xe.R=16*_t,xe.B=8*_t,_t=(sn=ZM[xe.L])*xe.R,sn=sn/2*xe.B,xe.sa=Ot,xe.ta=Bt+_t,xe.qa=xe.sa,xe.ra=xe.ta+16*qe*xe.R+sn,xe.Ha=xe.qa,xe.Ia=xe.ra+8*qe*xe.B+sn,xe.$c=0,Bt+=tt,xe.mb=Mt?Ot:null,xe.nb=Mt?Bt:null,n(Bt+Mt<=xe.Fc+xe.Vb),Qd(xe),o(xe.Ac,xe.Bc,0,Et),qe=1}}if(qe){if($e.ka=0,$e.y=xe.sa,$e.O=xe.ta,$e.f=xe.qa,$e.N=xe.ra,$e.ea=xe.Ha,$e.Vd=xe.Ia,$e.fa=xe.R,$e.Rc=xe.B,$e.F=null,$e.J=0,!$6){for(qe=-255;255>=qe;++qe)H6[255+qe]=0>qe?-qe:qe;for(qe=-1020;1020>=qe;++qe)V6[1020+qe]=-128>qe?-128:127<qe?127:qe;for(qe=-112;112>=qe;++qe)K6[112+qe]=-16>qe?-16:15<qe?15:qe;for(qe=-255;510>=qe;++qe)z6[255+qe]=0>qe?0:255<qe?255:qe;$6=1}Ac=SM,Ef=y5,Ol=D5,Pr=bl,Kr=_M,gs=E5,Uo=wM,ni=jM,yu=H,Uv=ce,Og=lf,WM=NM,R6=Ae,w6=Fe,j6=xv,N6=sf,B6=LM,U6=RM,Vs[0]=I5,Vs[1]=Mv,Vs[2]=O5,Vs[3]=P5,Vs[4]=x5,Vs[5]=gu,Vs[6]=hu,Vs[7]=A5,Vs[8]=Eg,Vs[9]=_5,_c[0]=Mc,_c[1]=b5,_c[2]=C5,_c[3]=bv,_c[4]=T5,_c[5]=tf,_c[6]=Cv,Du[0]=Dg,Du[1]=M5,Du[2]=Tv,Du[3]=nf,Du[4]=Ov,Du[5]=S5,Du[6]=Pv,qe=1}else qe=0}qe&&(qe=function(cr,ri){for(cr.M=0;cr.M<cr.Va;++cr.M){var qn,nn=cr.Jc[cr.M&cr.Xb],Kt=cr.m,Fo=cr;for(qn=0;qn<Fo.za;++qn){var Kn=Kt,hr=Fo,so=hr.Ac,Ii=hr.Bc+4*qn,oa=hr.zc,Oo=hr.ya[hr.aa+qn];if(Oo.$b=hr.Qa.Bb?Pt(Kn,hr.Pa.jb[0])?2+Pt(Kn,hr.Pa.jb[2]):Pt(Kn,hr.Pa.jb[1]):0,hr.kc&&(Oo.Ad=Pt(Kn,hr.Bd)),Oo.Za=!Pt(Kn,145)+0,Oo.Za){var $i=Oo.Ob,ia=0;for(hr=0;4>hr;++hr){var oi,mr=oa[0+hr];for(oi=0;4>oi;++oi){for(var Lr=X6[Pt(Kn,(mr=Cve[so[Ii+oi]][mr])[0])];0<Lr;)Lr=X6[2*Lr+Pt(Kn,mr[Lr])];so[Ii+oi]=mr=-Lr}r($i,ia,so,Ii,4),ia+=4,oa[0+hr]=mr}}else mr=Pt(Kn,156)?Pt(Kn,128)?1:3:Pt(Kn,163)?2:0,Oo.Ob[0]=mr,o(so,Ii,mr,4),o(oa,0,mr,4);Oo.Dd=Pt(Kn,142)?Pt(Kn,114)?Pt(Kn,183)?1:3:2:0}if(Fo.m.Ka)return Go(cr,7,"Premature end-of-partition0 encountered.");for(;cr.ja<cr.za;++cr.ja){if(Fo=nn,Kn=(Kt=cr).rb[Kt.sb-1],so=Kt.rb[Kt.sb+Kt.ja],qn=Kt.ya[Kt.aa+Kt.ja],Ii=Kt.kc?qn.Ad:0)Kn.la=so.la=0,qn.Za||(Kn.Na=so.Na=0),qn.Hc=0,qn.Gc=0,qn.ia=0;else{var Po,Rr;if(Kn=so,so=Fo,Ii=Kt.Pa.Xc,Oo=Kt.pb[(oa=Kt.ya[Kt.aa+Kt.ja]).$b],ia=Kt.rb[Kt.sb-1],mr=oi=0,o(hr=oa.ad,$i=0,0,384),oa.Za)var xi=0,Ks=Ii[3];else{Lr=i(16);var Wo=Kn.Na+ia.Na;if(Wo=Wv(so,Ii[1],Wo,Oo.Eb,0,Lr,0),Kn.Na=ia.Na=(0<Wo)+0,1<Wo)Ac(Lr,0,hr,$i);else{var xa=Lr[0]+3>>3;for(Lr=0;256>Lr;Lr+=16)hr[$i+Lr]=xa}xi=1,Ks=Ii[0]}var zr=15&Kn.la,ii=15&ia.la;for(Lr=0;4>Lr;++Lr){var Ka=1&ii;for(xa=Rr=0;4>xa;++xa)zr=zr>>1|(Ka=(Wo=Wv(so,Ks,Wo=Ka+(1&zr),Oo.Sc,xi,hr,$i))>xi)<<7,Rr=Rr<<2|(3<Wo?3:1<Wo?2:0!=hr[$i+0]),$i+=16;zr>>=4,ii=ii>>1|Ka<<7,oi=(oi<<8|Rr)>>>0}for(Ks=zr,xi=ii>>4,Po=0;4>Po;Po+=2){for(Rr=0,zr=Kn.la>>4+Po,ii=ia.la>>4+Po,Lr=0;2>Lr;++Lr){for(Ka=1&ii,xa=0;2>xa;++xa)zr=zr>>1|(Ka=0<(Wo=Wv(so,Ii[2],Wo=Ka+(1&zr),Oo.Qc,0,hr,$i)))<<3,Rr=Rr<<2|(3<Wo?3:1<Wo?2:0!=hr[$i+0]),$i+=16;zr>>=2,ii=ii>>1|Ka<<5}mr|=Rr<<4*Po,Ks|=zr<<4<<Po,xi|=(240&ii)<<Po}Kn.la=Ks,ia.la=xi,oa.Hc=oi,oa.Gc=mr,oa.ia=43690&mr?0:Oo.ia,Ii=!(oi|mr)}if(0<Kt.L&&(Kt.wa[Kt.Y+Kt.ja]=Kt.gd[qn.$b][qn.Za],Kt.wa[Kt.Y+Kt.ja].La|=!Ii),Fo.Ka)return Go(cr,7,"Premature end-of-file encountered.")}if(Qd(cr),Kt=ri,Fo=1,qn=(nn=cr).D,Kn=0<nn.L&&nn.M>=nn.zb&&nn.M<=nn.Va,0==nn.Aa)t:{if(qn.M=nn.M,qn.uc=Kn,hs(nn,qn),Fo=1,qn=(Rr=nn.D).Nb,Kn=(mr=ZM[nn.L])*nn.R,Ii=nn.sa,oa=nn.ta-Kn+(Lr=16*qn*nn.R),Oo=nn.qa,hr=nn.ra-(so=mr/2*nn.B)+(xa=8*qn*nn.B),$i=nn.Ha,ia=nn.Ia-so+xa,ii=0==(zr=Rr.M),oi=zr>=nn.Va-1,2==nn.Aa&&hs(nn,Rr),Rr.uc)for(Ka=(Wo=nn).D.M,n(Wo.D.uc),Rr=Wo.yb;Rr<Wo.Hb;++Rr){Ks=Ka;var aa=(za=(Ai=Wo).D).Nb,za=za.wa[za.Y+(xi=Rr)],$a=Ai.sa,Aa=Ai.ta+16*aa*(Po=Ai.R)+16*xi,Ga=za.dd,eo=za.tc;if(0!=eo)if(n(3<=eo),1==Ai.L)0<xi&&N6($a,Aa,Po,eo+4),za.La&&U6($a,Aa,Po,eo),0<Ks&&j6($a,Aa,Po,eo+4),za.La&&B6($a,Aa,Po,eo);else{var Ya=Ai.B,zs=Ai.qa,yf=Ai.ra+8*aa*Ya+8*xi,Mu=Ai.Ha,Ai=Ai.Ia+8*aa*Ya+8*xi;aa=za.ld,0<xi&&(ni($a,Aa,Po,eo+4,Ga,aa),Uv(zs,yf,Mu,Ai,Ya,eo+4,Ga,aa)),za.La&&(WM($a,Aa,Po,eo,Ga,aa),w6(zs,yf,Mu,Ai,Ya,eo,Ga,aa)),0<Ks&&(Uo($a,Aa,Po,eo+4,Ga,aa),yu(zs,yf,Mu,Ai,Ya,eo+4,Ga,aa)),za.La&&(Og($a,Aa,Po,eo,Ga,aa),R6(zs,yf,Mu,Ai,Ya,eo,Ga,aa))}}if(nn.ia&&alert("todo:DitherRow"),null!=Kt.put){if(Rr=16*zr,zr=16*(zr+1),ii?(Kt.y=nn.sa,Kt.O=nn.ta+Lr,Kt.f=nn.qa,Kt.N=nn.ra+xa,Kt.ea=nn.Ha,Kt.W=nn.Ia+xa):(Rr-=mr,Kt.y=Ii,Kt.O=oa,Kt.f=Oo,Kt.N=hr,Kt.ea=$i,Kt.W=ia),oi||(zr-=mr),zr>Kt.o&&(zr=Kt.o),Kt.F=null,Kt.J=null,null!=nn.Fa&&0<nn.Fa.length&&Rr<zr&&(Kt.J=Yo(nn,Kt,Rr,zr-Rr),Kt.F=nn.mb,null==Kt.F&&0==Kt.F.length)){Fo=Go(nn,3,"Could not decode alpha data.");break t}Rr<Kt.j&&(mr=Kt.j-Rr,Rr=Kt.j,n(!(1&mr)),Kt.O+=nn.R*mr,Kt.N+=nn.B*(mr>>1),Kt.W+=nn.B*(mr>>1),null!=Kt.F&&(Kt.J+=Kt.width*mr)),Rr<zr&&(Kt.O+=Kt.v,Kt.N+=Kt.v>>1,Kt.W+=Kt.v>>1,null!=Kt.F&&(Kt.J+=Kt.v),Kt.ka=Rr-Kt.j,Kt.U=Kt.va-Kt.v,Kt.T=zr-Rr,Fo=Kt.put(Kt))}qn+1!=nn.Ic||oi||(r(nn.sa,nn.ta-Kn,Ii,oa+16*nn.R,Kn),r(nn.qa,nn.ra-so,Oo,hr+8*nn.B,so),r(nn.Ha,nn.Ia-so,$i,ia+8*nn.B,so))}if(!Fo)return Go(cr,6,"Output aborted.")}return 1}(xe,$e)),null!=$e.bc&&$e.bc($e),qe&=1}return qe?(xe.cb=0,qe):0})(A,re)||(R=A.a)}}else R=A.a}0==R&&null!=ve.Oa&&ve.Oa.fd&&(R=Lv(ve.ba))}ve=R}me=0!=ve?null:11>me?De.f.RGBA.eb:De.f.kb.y}else me=null;return me};var ik=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(be,Ue){for(var ge="",Ce=0;Ce<4;Ce++)ge+=String.fromCharCode(be[Ue++]);return ge}function f(be,Ue){return be[Ue+0]|be[Ue+1]<<8}function M(be,Ue){return(be[Ue+0]|be[Ue+1]<<8|be[Ue+2]<<16)>>>0}function _(be,Ue){return(be[Ue+0]|be[Ue+1]<<8|be[Ue+2]<<16|be[Ue+3]<<24)>>>0}new u;var I=[0],U=[0],k=[],Y=new u,J=e,se=function(be,Ue){var ge={},Ce=0,Ne=!1,je=0,Ze=0;if(ge.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(pe,_e){for(var Le=0;Le<4;Le++)if(pe[_e+Le]!="RIFF".charCodeAt(Le))return!0;return!1}(be,Ue)){for(_(be,Ue+=4),Ue+=8;Ue<be.length;){var et=c(be,Ue),rt=_(be,Ue+=4);Ue+=4;var Qe=rt+(1&rt);switch(et){case"VP8 ":case"VP8L":void 0===ge.frames[Ce]&&(ge.frames[Ce]={}),(xt=ge.frames[Ce]).src_off=Ne?Ze:Ue-8,xt.src_size=je+rt+8,Ce++,Ne&&(Ne=!1,je=0,Ze=0);break;case"VP8X":(xt=ge.header={}).feature_flags=be[Ue];var at=Ue+4;xt.canvas_width=1+M(be,at),xt.canvas_height=1+M(be,at+=3),at+=3;break;case"ALPH":Ne=!0,je=Qe+8,Ze=Ue-8;break;case"ANIM":(xt=ge.header).bgcolor=_(be,Ue),xt.loop_count=f(be,at=Ue+4),at+=2;break;case"ANMF":var Ft,xt;(xt=ge.frames[Ce]={}).offset_x=2*M(be,Ue),xt.offset_y=2*M(be,Ue+=3),xt.width=1+M(be,Ue+=3),xt.height=1+M(be,Ue+=3),xt.duration=M(be,Ue+=3),Ue+=3,Ft=be[Ue++],xt.dispose=1&Ft,xt.blend=Ft>>1&1}"ANMF"!=et&&(Ue+=Qe)}return ge}}(J,0);se.response=J,se.rgbaoutput=!0,se.dataurl=!1;var he=se.header?se.header:null,fe=se.frames?se.frames:null;if(he){he.loop_counter=he.loop_count,I=[he.canvas_height],U=[he.canvas_width];for(var Me=0;Me<fe.length&&0!=fe[Me].blend;Me++);}var we=fe[0],Be=Y.WebPDecodeRGBA(J,we.src_off,we.src_size,U,I);we.rgba=Be,we.imgwidth=U[0],we.imgheight=I[0];for(var Oe=0;Oe<U[0]*I[0]*4;Oe++)k[Oe]=Be[Oe];return this.width=U,this.height=I,this.data=k,this}(function(e){var n,t,r,o,i,a,l,u,c,f=function(pe){return this.isStrokeTransparent=(pe=pe||{}).isStrokeTransparent||!1,this.strokeOpacity=pe.strokeOpacity||1,this.strokeStyle=pe.strokeStyle||"#000000",this.fillStyle=pe.fillStyle||"#000000",this.isFillTransparent=pe.isFillTransparent||!1,this.fillOpacity=pe.fillOpacity||1,this.font=pe.font||"10px sans-serif",this.textBaseline=pe.textBaseline||"alphabetic",this.textAlign=pe.textAlign||"left",this.lineWidth=pe.lineWidth||1,this.lineJoin=pe.lineJoin||"miter",this.lineCap=pe.lineCap||"butt",this.path=pe.path||[],this.transform=void 0!==pe.transform?pe.transform.clone():new u,this.globalCompositeOperation=pe.globalCompositeOperation||"normal",this.globalAlpha=pe.globalAlpha||1,this.clip_path=pe.clip_path||[],this.currentPoint=pe.currentPoint||new a,this.miterLimit=pe.miterLimit||10,this.lastPoint=pe.lastPoint||new a,this.lineDashOffset=pe.lineDashOffset||0,this.lineDash=pe.lineDash||[],this.margin=pe.margin||[0,0,0,0],this.prevPageLastElemOffset=pe.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof pe.ignoreClearRect||pe.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new M(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,c=new f}]);var M=function(pe){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var _e=pe;Object.defineProperty(this,"pdf",{get:function(){return _e}});var Le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Le},set:function(vt){Le=!!vt}});var We=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return We},set:function(vt){We=!!vt}});var ze=0;Object.defineProperty(this,"posX",{get:function(){return ze},set:function(vt){isNaN(vt)||(ze=vt)}});var nt=0;Object.defineProperty(this,"posY",{get:function(){return nt},set:function(vt){isNaN(vt)||(nt=vt)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(vt){var Re;"number"==typeof vt?Re=[vt,vt,vt,vt]:((Re=new Array(4))[0]=vt[0],Re[1]=vt.length>=2?vt[1]:Re[0],Re[2]=vt.length>=3?vt[2]:Re[0],Re[3]=vt.length>=4?vt[3]:Re[1]),c.margin=Re}});var ht=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ht},set:function(vt){ht=vt}});var dt=0;Object.defineProperty(this,"lastBreak",{get:function(){return dt},set:function(vt){dt=vt}});var Pt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pt},set:function(vt){Pt=vt}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(vt){vt instanceof f&&(c=vt)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(vt){c.path=vt}});var Nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Nt},set:function(vt){Nt=vt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(vt){var Re;Re=_(vt),this.ctx.fillStyle=Re.style,this.ctx.isFillTransparent=0===Re.a,this.ctx.fillOpacity=Re.a,this.pdf.setFillColor(Re.r,Re.g,Re.b,{a:Re.a}),this.pdf.setTextColor(Re.r,Re.g,Re.b,{a:Re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(vt){var Re=_(vt);this.ctx.strokeStyle=Re.style,this.ctx.isStrokeTransparent=0===Re.a,this.ctx.strokeOpacity=Re.a,0===Re.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Re.r,Re.g,Re.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(vt){-1!==["butt","round","square"].indexOf(vt)&&(this.ctx.lineCap=vt,this.pdf.setLineCap(vt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(vt){isNaN(vt)||(this.ctx.lineWidth=vt,this.pdf.setLineWidth(vt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(vt){-1!==["bevel","round","miter"].indexOf(vt)&&(this.ctx.lineJoin=vt,this.pdf.setLineJoin(vt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(vt){isNaN(vt)||(this.ctx.miterLimit=vt,this.pdf.setMiterLimit(vt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(vt){this.ctx.textBaseline=vt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(vt){-1!==["right","end","center","left","start"].indexOf(vt)&&(this.ctx.textAlign=vt)}});var zt=null,Gt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Gt},set:function(vt){zt=null,Gt=vt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(vt){var Re;if(this.ctx.font=vt,null!==(Re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(vt))){var rr=Re[1],Gn=Re[3],vn=Re[4],Wt=Re[6],un=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vn)[2];vn=Math.floor("px"===un?parseFloat(vn)*this.pdf.internal.scaleFactor:"em"===un?parseFloat(vn)*this.pdf.getFontSize():parseFloat(vn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vn);var Yt=function(Pn){var hn,Qr,br=[],an=Pn.trim();if(""===an)return TP;if(an in $4)return[$4[an]];for(;""!==an;){switch(Qr=null,hn=(an=Y4(an)).charAt(0)){case'"':case"'":Qr=Vce(an.substring(1),hn);break;default:Qr=Kce(an)}if(null===Qr||(br.push(Qr[0]),""!==(an=Y4(Qr[1]))&&","!==an.charAt(0)))return TP;an=an.replace(/^,/,"")}return br}(Wt);if(this.fontFaces){var Mr=function(Pn,hn,Qr){for(var br=(Qr=Qr||{}).defaultFontFamily||"times",an=Object.assign({},Hce,Qr.genericFontFamilies||{}),Hn=null,Hr=null,yn=0;yn<hn.length;++yn)if(an[(Hn=CP(hn[yn])).family]&&(Hn.family=an[Hn.family]),Pn.hasOwnProperty(Hn.family)){Hr=Pn[Hn.family];break}if(!(Hr=Hr||Pn[br]))throw new Error("Could not find a font-family for the rule '"+G4(Hn)+"' and default family '"+br+"'.");if(Hr=function(ur,Vn){if(Vn[ur])return Vn[ur];var jo=bP[ur],Vr=z4(Vn,V4,jo,jo<=bP.normal?-1:1);if(!Vr)throw new Error("Could not find a matching font-stretch value for "+ur);return Vr}(Hn.stretch,Hr),Hr=function(ur,Vn){if(Vn[ur])return Vn[ur];for(var jo=H4[ur],ei=0;ei<jo.length;++ei)if(Vn[jo[ei]])return Vn[jo[ei]];throw new Error("Could not find a matching font-style for "+ur)}(Hn.style,Hr),!(Hr=function(ur,Vn){if(Vn[ur])return Vn[ur];if(400===ur&&Vn[500])return Vn[500];if(500===ur&&Vn[400])return Vn[400];var ei=z4(Vn,K4,kce[ur],ur<400?-1:1);if(!ei)throw new Error("Could not find a matching font-weight for value "+ur);return ei}(Hn.weight,Hr)))throw new Error("Failed to resolve a font for the rule '"+G4(Hn)+"'.");return Hr}(function(Pn,hn){if(null===zt){var Qr=(br=Pn.getFontList(),an=[],Object.keys(br).forEach(function(Hn){br[Hn].forEach(function(Hr){var yn=null;switch(Hr){case"bold":yn={family:Hn,weight:"bold"};break;case"italic":yn={family:Hn,style:"italic"};break;case"bolditalic":yn={family:Hn,weight:"bold",style:"italic"};break;case"":case"normal":yn={family:Hn}}null!==yn&&(yn.ref={name:Hn,style:Hr},an.push(yn))})}),an);zt=function(br){for(var an={},Hn=0;Hn<br.length;++Hn){var Hr=CP(br[Hn]),yn=Hr.family,ur=Hr.stretch,Vn=Hr.style,jo=Hr.weight;an[yn]=an[yn]||{},an[yn][ur]=an[yn][ur]||{},an[yn][ur][Vn]=an[yn][ur][Vn]||{},an[yn][ur][Vn][jo]=Hr}return an}(Qr.concat(hn))}var br,an;return zt}(this.pdf,this.fontFaces),Yt.map(function(Pn){return{family:Pn,stretch:"normal",weight:Gn,style:rr}}));this.pdf.setFont(Mr.ref.name,Mr.ref.style)}else{var Wn="";("bold"===Gn||parseInt(Gn,10)>=700||"bold"===rr)&&(Wn="bold"),"italic"===rr&&(Wn+="italic"),0===Wn.length&&(Wn="normal");for(var kn="",Ur={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zn=0;Zn<Yt.length;Zn++){if(void 0!==this.pdf.internal.getFont(Yt[Zn],Wn,{noFallback:!0,disableWarning:!0})){kn=Yt[Zn];break}if("bolditalic"===Wn&&void 0!==this.pdf.internal.getFont(Yt[Zn],"bold",{noFallback:!0,disableWarning:!0}))kn=Yt[Zn],Wn="bold";else if(void 0!==this.pdf.internal.getFont(Yt[Zn],"normal",{noFallback:!0,disableWarning:!0})){kn=Yt[Zn],Wn="normal";break}}if(""===kn)for(var fn=0;fn<Yt.length;fn++)if(Ur[Yt[fn]]){kn=Ur[Yt[fn]];break}this.pdf.setFont(kn=""===kn?"Times":kn,Wn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(vt){this.ctx.globalCompositeOperation=vt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(vt){this.ctx.globalAlpha=vt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(vt){this.ctx.lineDashOffset=vt,xt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(vt){this.ctx.lineDash=vt,xt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(vt){this.ctx.ignoreClearRect=!!vt}})};M.prototype.setLineDash=function(pe){this.lineDash=pe},M.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},M.prototype.fill=function(){fe.call(this,"fill",!1)},M.prototype.stroke=function(){fe.call(this,"stroke",!1)},M.prototype.beginPath=function(){this.path=[{type:"begin"}]},M.prototype.moveTo=function(pe,_e){if(isNaN(pe)||isNaN(_e))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Le=this.ctx.transform.applyToPoint(new a(pe,_e));this.path.push({type:"mt",x:Le.x,y:Le.y}),this.ctx.lastPoint=new a(pe,_e)},M.prototype.closePath=function(){var pe=new a(0,0),_e=0;for(_e=this.path.length-1;-1!==_e;_e--)if("begin"===this.path[_e].type&&"object"===(0,Wr.A)(this.path[_e+1])&&"number"==typeof this.path[_e+1].x){pe=new a(this.path[_e+1].x,this.path[_e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(pe.x,pe.y)},M.prototype.lineTo=function(pe,_e){if(isNaN(pe)||isNaN(_e))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Le=this.ctx.transform.applyToPoint(new a(pe,_e));this.path.push({type:"lt",x:Le.x,y:Le.y}),this.ctx.lastPoint=new a(Le.x,Le.y)},M.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),fe.call(this,null,!0)},M.prototype.quadraticCurveTo=function(pe,_e,Le,We){if(isNaN(Le)||isNaN(We)||isNaN(pe)||isNaN(_e))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ze=this.ctx.transform.applyToPoint(new a(Le,We)),nt=this.ctx.transform.applyToPoint(new a(pe,_e));this.path.push({type:"qct",x1:nt.x,y1:nt.y,x:ze.x,y:ze.y}),this.ctx.lastPoint=new a(ze.x,ze.y)},M.prototype.bezierCurveTo=function(pe,_e,Le,We,ze,nt){if(isNaN(ze)||isNaN(nt)||isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ht=this.ctx.transform.applyToPoint(new a(ze,nt)),dt=this.ctx.transform.applyToPoint(new a(pe,_e)),Pt=this.ctx.transform.applyToPoint(new a(Le,We));this.path.push({type:"bct",x1:dt.x,y1:dt.y,x2:Pt.x,y2:Pt.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new a(ht.x,ht.y)},M.prototype.arc=function(pe,_e,Le,We,ze,nt){if(isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We)||isNaN(ze))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nt=!!nt,!this.ctx.transform.isIdentity){var ht=this.ctx.transform.applyToPoint(new a(pe,_e));pe=ht.x,_e=ht.y;var dt=this.ctx.transform.applyToPoint(new a(0,Le)),Pt=this.ctx.transform.applyToPoint(new a(0,0));Le=Math.sqrt(Math.pow(dt.x-Pt.x,2)+Math.pow(dt.y-Pt.y,2))}Math.abs(ze-We)>=2*Math.PI&&(We=0,ze=2*Math.PI),this.path.push({type:"arc",x:pe,y:_e,radius:Le,startAngle:We,endAngle:ze,counterclockwise:nt})},M.prototype.arcTo=function(pe,_e,Le,We,ze){throw new Error("arcTo not implemented.")},M.prototype.rect=function(pe,_e,Le,We){if(isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(pe,_e),this.lineTo(pe+Le,_e),this.lineTo(pe+Le,_e+We),this.lineTo(pe,_e+We),this.lineTo(pe,_e),this.lineTo(pe+Le,_e),this.lineTo(pe,_e)},M.prototype.fillRect=function(pe,_e,Le,We){if(isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!I.call(this)){var ze={};"butt"!==this.lineCap&&(ze.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ze.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(pe,_e,Le,We),this.fill(),ze.hasOwnProperty("lineCap")&&(this.lineCap=ze.lineCap),ze.hasOwnProperty("lineJoin")&&(this.lineJoin=ze.lineJoin)}},M.prototype.strokeRect=function(pe,_e,Le,We){if(isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(pe,_e,Le,We),this.stroke())},M.prototype.clearRect=function(pe,_e,Le,We){if(isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(pe,_e,Le,We))},M.prototype.save=function(pe){pe="boolean"!=typeof pe||pe;for(var _e=this.pdf.internal.getCurrentPageInfo().pageNumber,Le=0;Le<this.pdf.internal.getNumberOfPages();Le++)this.pdf.setPage(Le+1),this.pdf.internal.out("q");if(this.pdf.setPage(_e),pe){this.ctx.fontSize=this.pdf.internal.getFontSize();var We=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=We}},M.prototype.restore=function(pe){pe="boolean"!=typeof pe||pe;for(var _e=this.pdf.internal.getCurrentPageInfo().pageNumber,Le=0;Le<this.pdf.internal.getNumberOfPages();Le++)this.pdf.setPage(Le+1),this.pdf.internal.out("Q");this.pdf.setPage(_e),pe&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},M.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(pe){var _e,Le,We,ze;if(!0===pe.isCanvasGradient&&(pe=pe.getColor()),!pe)return{r:0,g:0,b:0,a:0,style:pe};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(pe))_e=0,Le=0,We=0,ze=0;else{var nt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(pe);if(null!==nt)_e=parseInt(nt[1]),Le=parseInt(nt[2]),We=parseInt(nt[3]),ze=1;else if(null!==(nt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(pe)))_e=parseInt(nt[1]),Le=parseInt(nt[2]),We=parseInt(nt[3]),ze=parseFloat(nt[4]);else{if(ze=1,"string"==typeof pe&&"#"!==pe.charAt(0)){var ht=new _4(pe);pe=ht.ok?ht.toHex():"#000000"}4===pe.length?(_e=pe.substring(1,2),_e+=_e,Le=pe.substring(2,3),Le+=Le,We=pe.substring(3,4),We+=We):(_e=pe.substring(1,3),Le=pe.substring(3,5),We=pe.substring(5,7)),_e=parseInt(_e,16),Le=parseInt(Le,16),We=parseInt(We,16)}}return{r:_e,g:Le,b:We,a:ze,style:pe}},I=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},U=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};M.prototype.fillText=function(pe,_e,Le,We){if(isNaN(_e)||isNaN(Le)||"string"!=typeof pe)throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(We=isNaN(We)?void 0:We,!I.call(this)){var ze=Qe(this.ctx.transform.rotation);Ce.call(this,{text:pe,x:_e,y:Le,scale:this.ctx.transform.scaleX,angle:ze,align:this.textAlign,maxWidth:We})}},M.prototype.strokeText=function(pe,_e,Le,We){if(isNaN(_e)||isNaN(Le)||"string"!=typeof pe)throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){We=isNaN(We)?void 0:We;var ze=Qe(this.ctx.transform.rotation);Ce.call(this,{text:pe,x:_e,y:Le,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:ze,align:this.textAlign,maxWidth:We})}},M.prototype.measureText=function(pe){if("string"!=typeof pe)throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var _e=this.pdf,Le=this.pdf.internal.scaleFactor,We=_e.internal.getFontSize(),ze=_e.getStringUnitWidth(pe)*We/_e.internal.scaleFactor;return new function(nt){var ht=(nt=nt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ht}}),this}({width:ze*=Math.round(96*Le/72*1e4)/1e4})},M.prototype.scale=function(pe,_e){if(isNaN(pe)||isNaN(_e))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Le=new u(pe,0,0,_e,0,0);this.ctx.transform=this.ctx.transform.multiply(Le)},M.prototype.rotate=function(pe){if(isNaN(pe))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var _e=new u(Math.cos(pe),Math.sin(pe),-Math.sin(pe),Math.cos(pe),0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},M.prototype.translate=function(pe,_e){if(isNaN(pe)||isNaN(_e))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Le=new u(1,0,0,1,pe,_e);this.ctx.transform=this.ctx.transform.multiply(Le)},M.prototype.transform=function(pe,_e,Le,We,ze,nt){if(isNaN(pe)||isNaN(_e)||isNaN(Le)||isNaN(We)||isNaN(ze)||isNaN(nt))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ht=new u(pe,_e,Le,We,ze,nt);this.ctx.transform=this.ctx.transform.multiply(ht)},M.prototype.setTransform=function(pe,_e,Le,We,ze,nt){pe=isNaN(pe)?1:pe,_e=isNaN(_e)?0:_e,Le=isNaN(Le)?0:Le,We=isNaN(We)?1:We,ze=isNaN(ze)?0:ze,nt=isNaN(nt)?0:nt,this.ctx.transform=new u(pe,_e,Le,We,ze,nt)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};M.prototype.drawImage=function(pe,_e,Le,We,ze,nt,ht,dt,Pt){var Nt=this.pdf.getImageProperties(pe),zt=1,Gt=1,vt=1,Re=1;void 0!==We&&void 0!==dt&&(vt=dt/We,Re=Pt/ze,zt=Nt.width/We*dt/We,Gt=Nt.height/ze*Pt/ze),void 0===nt&&(nt=_e,ht=Le,_e=0,Le=0),void 0!==We&&void 0===dt&&(dt=We,Pt=ze),void 0===We&&void 0===dt&&(dt=Nt.width,Pt=Nt.height);for(var rr,Gn=this.ctx.transform.decompose(),vn=Qe(Gn.rotate.shx),Wt=new u,un=(Wt=(Wt=(Wt=Wt.multiply(Gn.translate)).multiply(Gn.skew)).multiply(Gn.scale)).applyToRectangle(new l(nt-_e*vt,ht-Le*Re,We*zt,ze*Gt)),Yt=Y.call(this,un),Yn=[],mn=0;mn<Yt.length;mn+=1)-1===Yn.indexOf(Yt[mn])&&Yn.push(Yt[mn]);if(he(Yn),this.autoPaging)for(var Mr=Yn[0],Wn=Yn[Yn.length-1],kn=Mr;kn<Wn+1;kn++){this.pdf.setPage(kn);var Ur=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zn=1===kn?this.posY+this.margin[0]:this.margin[0],Pn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],hn=1===kn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(kn-2)*Pn;if(0!==this.ctx.clip_path.length){var Qr=this.path;rr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=se(rr,this.posX+this.margin[3],-hn+Zn+this.ctx.prevPageLastElemOffset),Me.call(this,"fill",!0),this.path=Qr}var br=JSON.parse(JSON.stringify(un));br=se([br],this.posX+this.margin[3],-hn+Zn+this.ctx.prevPageLastElemOffset)[0];var an=(kn>Mr||kn<Wn)&&k.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ur,Pn,null).clip().discardPath()),this.pdf.addImage(pe,"JPEG",br.x,br.y,br.w,br.h,null,null,vn),an&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(pe,"JPEG",un.x,un.y,un.w,un.h,null,null,vn)};var Y=function(pe,_e,Le){var We=[];_e=_e||this.pdf.internal.pageSize.width,Le=Le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ze=this.posY+this.ctx.prevPageLastElemOffset;switch(pe.type){default:case"mt":case"lt":We.push(Math.floor((pe.y+ze)/Le)+1);break;case"arc":We.push(Math.floor((pe.y+ze-pe.radius)/Le)+1),We.push(Math.floor((pe.y+ze+pe.radius)/Le)+1);break;case"qct":var nt=at(this.ctx.lastPoint.x,this.ctx.lastPoint.y,pe.x1,pe.y1,pe.x,pe.y);We.push(Math.floor((nt.y+ze)/Le)+1),We.push(Math.floor((nt.y+nt.h+ze)/Le)+1);break;case"bct":var ht=Ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,pe.x1,pe.y1,pe.x2,pe.y2,pe.x,pe.y);We.push(Math.floor((ht.y+ze)/Le)+1),We.push(Math.floor((ht.y+ht.h+ze)/Le)+1);break;case"rect":We.push(Math.floor((pe.y+ze)/Le)+1),We.push(Math.floor((pe.y+pe.h+ze)/Le)+1)}for(var dt=0;dt<We.length;dt+=1)for(;this.pdf.internal.getNumberOfPages()<We[dt];)J.call(this);return We},J=function(){var pe=this.fillStyle,_e=this.strokeStyle,Le=this.font,We=this.lineCap,ze=this.lineWidth,nt=this.lineJoin;this.pdf.addPage(),this.fillStyle=pe,this.strokeStyle=_e,this.font=Le,this.lineCap=We,this.lineWidth=ze,this.lineJoin=nt},se=function(pe,_e,Le){for(var We=0;We<pe.length;We++)switch(pe[We].type){case"bct":pe[We].x2+=_e,pe[We].y2+=Le;case"qct":pe[We].x1+=_e,pe[We].y1+=Le;default:pe[We].x+=_e,pe[We].y+=Le}return pe},he=function(pe){return pe.sort(function(_e,Le){return _e-Le})},fe=function(pe,_e){for(var Le,We,ze=this.fillStyle,nt=this.strokeStyle,ht=this.lineCap,dt=this.lineWidth,Pt=Math.abs(dt*this.ctx.transform.scaleX),Nt=this.lineJoin,zt=JSON.parse(JSON.stringify(this.path)),Gt=JSON.parse(JSON.stringify(this.path)),vt=[],Re=0;Re<Gt.length;Re++)if(void 0!==Gt[Re].x)for(var rr=Y.call(this,Gt[Re]),Gn=0;Gn<rr.length;Gn+=1)-1===vt.indexOf(rr[Gn])&&vt.push(rr[Gn]);for(var vn=0;vn<vt.length;vn++)for(;this.pdf.internal.getNumberOfPages()<vt[vn];)J.call(this);if(he(vt),this.autoPaging)for(var Wt=vt[0],un=vt[vt.length-1],Yt=Wt;Yt<un+1;Yt++){this.pdf.setPage(Yt),this.fillStyle=ze,this.strokeStyle=nt,this.lineCap=ht,this.lineWidth=Pt,this.lineJoin=Nt;var Yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mn=1===Yt?this.posY+this.margin[0]:this.margin[0],Wn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kn=1===Yt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Yt-2)*Wn;if(0!==this.ctx.clip_path.length){var Ur=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=se(Le,this.posX+this.margin[3],-kn+mn+this.ctx.prevPageLastElemOffset),Me.call(this,pe,!0),this.path=Ur}if(We=JSON.parse(JSON.stringify(zt)),this.path=se(We,this.posX+this.margin[3],-kn+mn+this.ctx.prevPageLastElemOffset),!1===_e||0===Yt){var Zn=(Yt>Wt||Yt<un)&&k.call(this);Zn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yn,Wn,null).clip().discardPath()),Me.call(this,pe,_e),Zn&&this.pdf.restoreGraphicsState()}this.lineWidth=dt}else this.lineWidth=Pt,Me.call(this,pe,_e),this.lineWidth=dt;this.path=zt},Me=function(pe,_e){if(("stroke"!==pe||_e||!U.call(this))&&("stroke"===pe||_e||!I.call(this))){for(var Le,We,ze=[],nt=this.path,ht=0;ht<nt.length;ht++){var dt=nt[ht];switch(dt.type){case"begin":ze.push({begin:!0});break;case"close":ze.push({close:!0});break;case"mt":ze.push({start:dt,deltas:[],abs:[]});break;case"lt":var Pt=ze.length;if(nt[ht-1]&&!isNaN(nt[ht-1].x)&&(Le=[dt.x-nt[ht-1].x,dt.y-nt[ht-1].y],Pt>0))for(;Pt>=0;Pt--)if(!0!==ze[Pt-1].close&&!0!==ze[Pt-1].begin){ze[Pt-1].deltas.push(Le),ze[Pt-1].abs.push(dt);break}break;case"bct":ze[ze.length-1].deltas.push(Le=[dt.x1-nt[ht-1].x,dt.y1-nt[ht-1].y,dt.x2-nt[ht-1].x,dt.y2-nt[ht-1].y,dt.x-nt[ht-1].x,dt.y-nt[ht-1].y]);break;case"qct":ze[ze.length-1].deltas.push(Le=[nt[ht-1].x+2/3*(dt.x1-nt[ht-1].x)-nt[ht-1].x,nt[ht-1].y+2/3*(dt.y1-nt[ht-1].y)-nt[ht-1].y,dt.x+2/3*(dt.x1-dt.x)-nt[ht-1].x,dt.y+2/3*(dt.y1-dt.y)-nt[ht-1].y,dt.x-nt[ht-1].x,dt.y-nt[ht-1].y]);break;case"arc":ze.push({deltas:[],abs:[],arc:!0}),Array.isArray(ze[ze.length-1].abs)&&ze[ze.length-1].abs.push(dt)}}We=_e?null:"stroke"===pe?"stroke":"fill";for(var Gn=!1,vn=0;vn<ze.length;vn++)if(ze[vn].arc)for(var Wt=ze[vn].abs,un=0;un<Wt.length;un++){var Yt=Wt[un];"arc"===Yt.type?Oe.call(this,Yt.x,Yt.y,Yt.radius,Yt.startAngle,Yt.endAngle,Yt.counterclockwise,void 0,_e,!Gn):Ne.call(this,Yt.x,Yt.y),Gn=!0}else!0===ze[vn].close?(this.pdf.internal.out("h"),Gn=!1):!0!==ze[vn].begin&&(je.call(this,ze[vn].deltas,ze[vn].start.x,ze[vn].start.y),Gn=!0);We&&be.call(this,We),_e&&Ue.call(this)}},we=function(pe){var _e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Le=_e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return pe-Le;case"top":return pe+_e-Le;case"hanging":return pe+_e-2*Le;case"middle":return pe+_e/2-Le;default:return pe}},Be=function(pe){return pe+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};M.prototype.createLinearGradient=function(){var pe=function(){};return pe.colorStops=[],pe.addColorStop=function(_e,Le){this.colorStops.push([_e,Le])},pe.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},pe.isCanvasGradient=!0,pe},M.prototype.createPattern=function(){return this.createLinearGradient()},M.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Oe=function(pe,_e,Le,We,ze,nt,ht,dt,Pt){for(var Nt=et.call(this,Le,We,ze,nt),zt=0;zt<Nt.length;zt++){var Gt=Nt[zt];0===zt&&(Pt?ge.call(this,Gt.x1+pe,Gt.y1+_e):Ne.call(this,Gt.x1+pe,Gt.y1+_e)),Ze.call(this,pe,_e,Gt.x2,Gt.y2,Gt.x3,Gt.y3,Gt.x4,Gt.y4)}dt?Ue.call(this):be.call(this,ht)},be=function(pe){switch(pe){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ue=function(){this.pdf.clip(),this.pdf.discardPath()},ge=function(pe,_e){this.pdf.internal.out(t(pe)+" "+r(_e)+" m")},Ce=function(pe){var _e;switch(pe.align){case"right":case"end":_e="right";break;case"center":_e="center";break;default:_e="left"}var Le=this.pdf.getTextDimensions(pe.text),We=we.call(this,pe.y),ze=Be.call(this,We)-Le.h,nt=this.ctx.transform.applyToPoint(new a(pe.x,We)),ht=this.ctx.transform.decompose(),dt=new u;dt=(dt=(dt=dt.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale);for(var Pt,Nt,zt,Gt=this.ctx.transform.applyToRectangle(new l(pe.x,We,Le.w,Le.h)),vt=dt.applyToRectangle(new l(pe.x,ze,Le.w,Le.h)),Re=Y.call(this,vt),rr=[],Gn=0;Gn<Re.length;Gn+=1)-1===rr.indexOf(Re[Gn])&&rr.push(Re[Gn]);if(he(rr),this.autoPaging)for(var vn=rr[0],Wt=rr[rr.length-1],un=vn;un<Wt+1;un++){this.pdf.setPage(un);var Yt=1===un?this.posY+this.margin[0]:this.margin[0],mn=this.pdf.internal.pageSize.height-this.margin[2],Mr=mn-this.margin[0],Wn=this.pdf.internal.pageSize.width-this.margin[1],kn=Wn-this.margin[3],Ur=1===un?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(un-2)*Mr;if(0!==this.ctx.clip_path.length){var Zn=this.path;Pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=se(Pt,this.posX+this.margin[3],-1*Ur+Yt),Me.call(this,"fill",!0),this.path=Zn}var fn=se([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-Ur+Yt+this.ctx.prevPageLastElemOffset)[0];pe.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*pe.scale),this.lineWidth=(zt=this.lineWidth)*pe.scale);var Pn="text"!==this.autoPaging;if(Pn||fn.y+fn.h<=mn){if(Pn||fn.y>=Yt&&fn.x<=Wn){var hn=Pn?pe.text:this.pdf.splitTextToSize(pe.text,pe.maxWidth||Wn-fn.x)[0],Qr=se([JSON.parse(JSON.stringify(Gt))],this.posX+this.margin[3],-Ur+Yt+this.ctx.prevPageLastElemOffset)[0],br=Pn&&(un>vn||un<Wt)&&k.call(this);br&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kn,Mr,null).clip().discardPath()),this.pdf.text(hn,Qr.x,Qr.y,{angle:pe.angle,align:_e,renderingMode:pe.renderingMode}),br&&this.pdf.restoreGraphicsState()}}else fn.y<mn&&(this.ctx.prevPageLastElemOffset+=mn-fn.y);pe.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=zt)}else pe.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*pe.scale),this.lineWidth=(zt=this.lineWidth)*pe.scale),this.pdf.text(pe.text,nt.x+this.posX,nt.y+this.posY,{angle:pe.angle,align:_e,renderingMode:pe.renderingMode,maxWidth:pe.maxWidth}),pe.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=zt)},Ne=function(pe,_e,Le,We){We=We||0,this.pdf.internal.out(t(pe+(Le=Le||0))+" "+r(_e+We)+" l")},je=function(pe,_e,Le){return this.pdf.lines(pe,_e,Le,null,null)},Ze=function(pe,_e,Le,We,ze,nt,ht,dt){this.pdf.internal.out([n(o(Le+pe)),n(i(We+_e)),n(o(ze+pe)),n(i(nt+_e)),n(o(ht+pe)),n(i(dt+_e)),"c"].join(" "))},et=function(pe,_e,Le,We){for(var ze=2*Math.PI,nt=Math.PI/2;_e>Le;)_e-=ze;var ht=Math.abs(Le-_e);ht<ze&&We&&(ht=ze-ht);for(var dt=[],Pt=We?-1:1,Nt=_e;ht>1e-5;){var zt=Nt+Pt*Math.min(ht,nt);dt.push(rt.call(this,pe,Nt,zt)),ht-=Math.abs(zt-Nt),Nt=zt}return dt},rt=function(pe,_e,Le){var We=(Le-_e)/2,ze=pe*Math.cos(We),nt=pe*Math.sin(We),ht=ze,dt=-nt,Pt=ht*ht+dt*dt,Nt=Pt+ht*ze+dt*nt,zt=4/3*(Math.sqrt(2*Pt*Nt)-Nt)/(ht*nt-dt*ze),Gt=ht-zt*dt,vt=dt+zt*ht,Re=Gt,rr=-vt,Gn=We+_e,vn=Math.cos(Gn),Wt=Math.sin(Gn);return{x1:pe*Math.cos(_e),y1:pe*Math.sin(_e),x2:Gt*vn-vt*Wt,y2:Gt*Wt+vt*vn,x3:Re*vn-rr*Wt,y3:Re*Wt+rr*vn,x4:pe*Math.cos(Le),y4:pe*Math.sin(Le)}},Qe=function(pe){return 180*pe/Math.PI},at=function(pe,_e,Le,We,ze,nt){var ht=pe+.5*(Le-pe),dt=_e+.5*(We-_e),Pt=ze+.5*(Le-ze),Nt=nt+.5*(We-nt),zt=Math.min(pe,ze,ht,Pt),Gt=Math.max(pe,ze,ht,Pt),vt=Math.min(_e,nt,dt,Nt),Re=Math.max(_e,nt,dt,Nt);return new l(zt,vt,Gt-zt,Re-vt)},Ft=function(pe,_e,Le,We,ze,nt,ht,dt){var Pt,Nt,zt,Gt,vt,Re,rr,Gn,vn,Wt,un,Yt,Yn,mn,Mr=Le-pe,Wn=We-_e,kn=ze-Le,Ur=nt-We,Zn=ht-ze,fn=dt-nt;for(Nt=0;Nt<41;Nt++)vn=(rr=(zt=pe+(Pt=Nt/40)*Mr)+Pt*((vt=Le+Pt*kn)-zt))+Pt*(vt+Pt*(ze+Pt*Zn-vt)-rr),Wt=(Gn=(Gt=_e+Pt*Wn)+Pt*((Re=We+Pt*Ur)-Gt))+Pt*(Re+Pt*(nt+Pt*fn-Re)-Gn),0==Nt?(un=vn,Yt=Wt,Yn=vn,mn=Wt):(un=Math.min(un,vn),Yt=Math.min(Yt,Wt),Yn=Math.max(Yn,vn),mn=Math.max(mn,Wt));return new l(Math.round(un),Math.round(Yt),Math.round(Yn-un),Math.round(mn-Yt))},xt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Le=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Le)}}})(on.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n=function(a){var l,u,c,f,M,_,I,U,k,Y;for(/[^\x00-\xFF]/.test(a),u=[],c=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>c;c+=4)0!==(M=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))?(_=(M=((M=((M=((M=(M-(Y=M%85))/85)-(k=M%85))/85)-(U=M%85))/85)-(I=M%85))/85)%85,u.push(_+33,I+33,U+33,k+33,Y+33)):u.push(122);return function(J,se){for(var he=se;he>0;he--)J.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(a){var l,u,c,f,M,_=String,I="length",U=255,k="charCodeAt",Y="slice",J="replace";for(a[Y](-2),a=a[Y](0,-2)[J](/\s/g,"")[J]("z","!!!!!"),c=[],f=0,M=(a+=l="uuuuu"[Y](a[I]%5||5))[I];M>f;f+=5)u=52200625*(a[k](f)-33)+614125*(a[k](f+1)-33)+7225*(a[k](f+2)-33)+85*(a[k](f+3)-33)+(a[k](f+4)-33),c.push(U&u>>24,U&u>>16,U&u>>8,U&u);return function(se,he){for(var fe=he;fe>0;fe--)se.pop()}(c,l[I]),_.fromCharCode.apply(_,c)},r=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(a=a.replace(/\s/g,"")).indexOf(">")&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),!1===l.test(a))return"";for(var u="",c=0;c<a.length;c+=2)u+=String.fromCharCode("0x"+(a[c]+a[c+1]));return u},i=function(a){for(var l=new Uint8Array(a.length),u=a.length;u--;)l[u]=a.charCodeAt(u);return(l=Ip(l)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,l){var u=0,c=a||"",f=[];for("string"==typeof(l=l||[])&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=o(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(on.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){e.loadFile=function(n,t,r){return function(o,i,a){i=!1!==i,a="function"==typeof a?a:function(){};var l=void 0;try{l=function(u,c,f){var M=new XMLHttpRequest,_=0,I=function(U){var k=U.length,Y=[],J=String.fromCharCode;for(_=0;_<k;_+=1)Y.push(J(255&U.charCodeAt(_)));return Y.join("")};if(M.open("GET",u,!c),M.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(M.onload=function(){f(200===M.status?I(this.responseText):void 0)}),M.send(null),c&&200===M.status)return I(M.responseText)}(o,i,a)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(on.API),function(e){function n(){return(On.html2canvas?Promise.resolve(On.html2canvas):d.e(239).then(d.t.bind(d,7239,23))).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(On.DOMPurify?Promise.resolve(On.DOMPurify):d.e(627).then(d.bind(d,627))).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=(0,Wr.A)(l);return"undefined"===u?"undefined":"string"===u||l instanceof String?"string":"number"===u||l instanceof Number?"number":"function"===u||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&1===l.nodeType?"element":"object"===u?"object":"unknown"},o=function(l,u){var c=document.createElement(l);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},i=function l(u,c){for(var f=3===u.nodeType?document.createTextNode(u.nodeValue):u.cloneNode(!1),M=u.firstChild;M;M=M.nextSibling)!0!==c&&1===M.nodeType&&"SCRIPT"===M.nodeName||f.appendChild(l(M,c));return 1===u.nodeType&&("CANVAS"===u.nodeName?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):"TEXTAREA"!==u.nodeName&&"SELECT"!==u.nodeName||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},a=function l(u){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),c);return(f=f.setProgress(1,l,1,[l])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,u){return l.__proto__=u||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(c){switch(r(c)){case"string":return"string";case"element":return"canvas"===c.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(c){return this.set({src:o("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===u.tagName&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,M="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:M,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,c.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var I=0;I<f.length;++I){var U=f[I],k=U.src.find(function(Y){return"truetype"===Y.format});k&&c.addFont(k.url,U.ref.name,U.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=0==_.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,c.context2d.save(!0),u(this.prop.container,_)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,u,c){return"img"===(c=c||"pdf").toLowerCase()||"image"===c.toLowerCase()?this.outputImg(l,u):this.outputPdf(l,u)},a.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if("object"!==r(l))return this;var u=Object.keys(l||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(l,u){return this.then(function(){var c=l in a.template.prop?this.prop[l]:this.opt[l];return u?u(c):c})},a.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(2===l.length&&(l=[l[0],l[1],l[0],l[1]]),4===l.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(l=l||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,u,c,f){return null!=l&&(this.progress.val=l),null!=u&&(this.progress.state=u),null!=c&&(this.progress.n=c),null!=f&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,u,c,f){return this.setProgress(l?this.progress.val+l:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,u){var c=this;return this.thenCore(l,u,function(f,M){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(_){return c.updateProgress(null,f),_}).then(f,M).then(function(_){return c.updateProgress(1),_})})},a.prototype.thenCore=function(l,u,c){c=c||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var M=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?f:a.convert(Object.assign({},f),Promise.prototype),_=c.call(M,l,u);return a.convert(_,f.__proto__)},a.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},a.prototype.thenList=function(l){var u=this;return l.forEach(function(c){u=u.thenCore(c)}),u},a.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return a.convert(u,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,on.getPageSize=function(l,u,c){if("object"===(0,Wr.A)(l)){var f=l;l=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var M,_=(""+c).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":M=1;break;case"mm":M=72/25.4;break;case"cm":M=72/2.54;break;case"in":M=72;break;case"px":M=.75;break;case"pc":case"em":M=12;break;case"ex":M=6;break;default:throw"Invalid unit: "+u}var U,k=0,Y=0;if(I.hasOwnProperty(_))k=I[_][1]/M,Y=I[_][0]/M;else try{k=c[1],Y=c[0]}catch{throw new Error("Invalid format: "+c)}if("p"===l||"portrait"===l)l="p",Y>k&&(U=Y,Y=k,k=U);else{if("l"!==l&&"landscape"!==l)throw"Invalid orientation: "+l;l="l",k>Y&&(U=Y,Y=k,k=U)}return{width:Y,height:k,unit:u,k:M,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(CP):null;var c=new a(u);return u.worker?c:c.from(l).doCallback()}}(on.API),on.API.addJS=function(e){return X4=e,this.internal.events.subscribe("postPutResources",function(){VD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(VD+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==VD&&void 0!==Z4&&this.internal.out("/Names <</JavaScript "+VD+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=t.outline.render().split(/\r\n/),i=0;i<o.length;i++){var a=o[i],l=r.exec(a);null!=l&&t.internal.newObjectDeferredBegin(l[1],!1),t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(i=0;i<c;i++){var M=t.internal.newObject();f.push(M);var _=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var I=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+I+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,o,i){var a={title:o,options:i,children:[]};return null==r&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var o=0;o<r.children.length;o++)this.genIds_r(r.children[o])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,o){for(var i=0;i<o.children.length;i++)r.count++,this.count_r(r,o.children[i]);return r.count}}])}(on.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,o,i,a,l){var u,c=this.decode.DCT_DECODE,f=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=a||t)?new Uint8Array(t):t,(u=function(M){for(var _,I=256*M.charCodeAt(4)+M.charCodeAt(5),U=M.length,k={width:0,height:0,numcomponents:1},Y=4;Y<U;Y+=2){if(-1!==n.indexOf(M.charCodeAt((Y+=I)+1))){_=256*M.charCodeAt(Y+5)+M.charCodeAt(Y+6),k={width:256*M.charCodeAt(Y+7)+M.charCodeAt(Y+8),height:_,numcomponents:M.charCodeAt(Y+9)};break}I=256*M.charCodeAt(Y+2)+M.charCodeAt(Y+3)}return k}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:c,index:r,alias:o}}return f}}(on.API),on.API.processPNG=function(e,n,t,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var o,M,_,I,i=function Ice(e,n){return new yce(e,n).decode()}(e,{checkCrc:!0}),a=i.width,l=i.height,u=i.channels,f=i.depth,k=(o=i.palette&&1===u?function(Oe){for(var be=Oe.width,Ue=Oe.height,ge=Oe.data,Ce=Oe.palette,Ne=Oe.depth,je=!1,Ze=[],et=[],rt=void 0,Qe=!1,at=0,Ft=0;Ft<Ce.length;Ft++){var xt=WF(Ce[Ft],4),We=xt[3];Ze.push(xt[0],xt[1],xt[2]),null!=We&&(0===We?(at++,et.length<1&&et.push(Ft)):We<255&&(Qe=!0))}if(Qe||at>1){je=!0,et=void 0;var ze=be*Ue;rt=new Uint8Array(ze);for(var nt=new DataView(ge.buffer),ht=0;ht<ze;ht++){var Pt=WF(Ce[OP(nt,ht,Ne)],4)[3];rt[ht]=Pt}}else 0===at&&(et=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:je?8:void 0,colorBytes:ge,alphaBytes:rt,needSMask:je,palette:Ze,mask:et}}(i):2===u||4===u?function(Oe){for(var be=Oe.data,Ce=Oe.channels,Ne=Oe.depth,je=2===Ce?"DeviceGray":"DeviceRGB",Ze=Ce-1,et=Oe.width*Oe.height,rt=Ze,at=1*et,Ft=Math.ceil(et*rt*Ne/8),xt=Math.ceil(at*Ne/8),pe=new Uint8Array(Ft),_e=new Uint8Array(xt),Le=new DataView(be.buffer),We=new DataView(pe.buffer),ze=new DataView(_e.buffer),nt=!1,ht=0;ht<et;ht++){for(var dt=ht*Ce,Pt=0;Pt<rt;Pt++)i8(We,OP(Le,dt+Pt,Ne),ht*rt+Pt,Ne);var Nt=OP(Le,dt+rt,Ne);Nt<(1<<Ne)-1&&(nt=!0),i8(ze,Nt,1*ht,Ne)}return{colorSpace:je,colorsPerPixel:Ze,sMaskBitsPerComponent:nt?Ne:void 0,colorBytes:pe,alphaBytes:_e,needSMask:nt}}(i):{colorSpace:Ue=1===(Oe=i).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===Ue?1:3,colorBytes:(be=Oe.data)instanceof Uint16Array?function(ge){for(var Ce=ge.length,Ne=new Uint8Array(2*Ce),je=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),Ze=0;Ze<Ce;Ze++)je.setUint16(2*Ze,ge[Ze],!1);return Ne}(be):be,needSMask:!1}).colorSpace,Y=o.colorsPerPixel,J=o.sMaskBitsPerComponent,se=o.colorBytes,he=o.alphaBytes,fe=o.needSMask,Me=o.palette,we=o.mask,Be=null;return r!==on.API.image_compression.NONE?(Be=function(Oe){var be;switch(Oe){case on.API.image_compression.FAST:be=11;break;case on.API.image_compression.MEDIUM:be=13;break;case on.API.image_compression.SLOW:be=14;break;default:be=12}return be}(r),M=this.decode.FLATE_DECODE,_="/Predictor ".concat(Be," /Colors ").concat(Y," /BitsPerComponent ").concat(f," /Columns ").concat(a),e=e8(se,Math.ceil(a*Y*f/8),Y,f,r),fe&&(I=e8(he,Math.ceil(a*J/8),1,J,r))):(M=void 0,_=void 0,e=se,fe&&(I=he)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:t,data:e,index:n,filter:M,decodeParameters:_,transparency:we,palette:Me,sMask:I,predictor:Be,width:a,height:l,bitsPerComponent:f,sMaskBitsPerComponent:J,colorSpace:k}}var Oe,be,Ue},function(e){e.processGIF89A=function(n,t,r,o){var i=new Yce(n),a=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var c={data:u,width:a,height:l},f=new PP(100).encode(c,100);return e.processJPEG.call(this,f,t,r,o)},e.processGIF87A=e.processGIF89A}(on.API),Ns.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:o,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ns.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[e]()}catch(t){kr.log("bit decode error:"+t)}},Ns.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,o=0;o<n;o++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*o*4,l=0;l<8&&8*o+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}0!==t&&(this.pos+=4-t)}},Ns.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,o=0;o<e;o++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*o*4,u=15&i,c=this.palette[i>>4];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*o+1>=this.width)break;this.data[a+4]=(c=this.palette[u]).blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==n&&(this.pos+=4-n)}},Ns.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(o<this.palette.length){var a=this.palette[o];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},Ns.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&n)/n*255|0,l=(i>>5&n)/n*255|0,c=i>>15?255:0,f=r*this.width*4+4*o;this.data[f]=(i>>10&n)/n*255|0,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=c}this.pos+=e}},Ns.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&n)/n*255|0,u=(a>>5&t)/t*255|0,f=o*this.width*4+4*i;this.data[f]=(a>>11)/n*255|0,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},Ns.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*t;this.data[a]=i,this.data[a+1]=o,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ns.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=i,this.data[l+1]=o,this.data[l+2]=r,this.data[l+3]=a}},Ns.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){e.processBMP=function(n,t,r,o){var i=new Ns(n,!1),a=i.width,l=i.height,u={data:i.getData(),width:a,height:l},c=new PP(100).encode(u,100);return e.processJPEG.call(this,c,t,r,o)}}(on.API),l8.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){e.processWEBP=function(n,t,r,o){var i=new l8(n),a=i.width,l=i.height,u={data:i.getData(),width:a,height:l},c=new PP(100).encode(u,100);return e.processJPEG.call(this,c,t,r,o)}}(on.API),on.API.processRGBA=function(e,n,t){for(var r=e.data,o=r.length,i=new Uint8Array(o/4*3),a=new Uint8Array(o/4),l=0,u=0,c=0;c<o;c+=4){var M=r[c+1],_=r[c+2],I=r[c+3];i[l++]=r[c],i[l++]=M,i[l++]=_,a[u++]=I}var U=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:U,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},KD=(ig=on.API).getCharWidthsArray=function(e,n){var t,r,o=(n=n||{}).font||this.internal.getFont(),i=n.fontSize||this.internal.getFontSize(),a=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:o.metadata.Unicode.widths,u=l.fof?l.fof:1,c=n.kerning?n.kerning:o.metadata.Unicode.kerning,f=c.fof?c.fof:1,M=!1!==n.doKerning,_=0,I=e.length,U=0,k=l[0]||u,Y=[];for(t=0;t<I;t++)r=e.charCodeAt(t),"function"==typeof o.metadata.widthOfString?Y.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(_=M&&"object"===(0,Wr.A)(c[r])&&!isNaN(parseInt(c[r][U],10))?c[r][U]/f:0,Y.push((l[r]||k)/u+_)),U=r;return Y},J4=ig.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),o=n.charSpace||this.internal.getCharSpace();return ig.processArabic&&(e=ig.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,t,o)/t:KD.apply(this,arguments).reduce(function(i,a){return i+a},0)},Q4=function(e,n,t,r){for(var o=[],i=0,a=e.length,l=0;i!==a&&l+n[i]<t;)l+=n[i],i++;o.push(e.slice(0,i));var u=i;for(l=0;i!==a;)l+n[i]>r&&(o.push(e.slice(u,i)),l=0,u=i),l+=n[i],i++;return u!==i&&o.push(e.slice(u,i)),o},q4=function(e,n,t){t||(t={});var r,o,i,a,l,u,f=[],M=[f],_=t.textIndent||0,I=0,U=0,k=e.split(" "),Y=KD.apply(this,[" ",t])[0];if(u=-1===t.lineIndent?k[0].length+2:t.lineIndent||0){var J=Array(u).join(" "),se=[];k.map(function(fe){(fe=fe.split(/\s*\n/)).length>1?se=se.concat(fe.map(function(Me,we){return(we&&Me.length?"\n":"")+Me})):se.push(fe[0])}),k=se,u=J4.apply(this,[J,t])}for(i=0,a=k.length;i<a;i++){var he=0;if(r=k[i],u&&"\n"==r[0]&&(r=r.substr(1),he=1),_+I+(U=(o=KD.apply(this,[r,t])).reduce(function(fe,Me){return fe+Me},0))>n||he){if(U>n){for(l=Q4.apply(this,[r,o,n-(_+I),n]),f.push(l.shift()),f=[l.pop()];l.length;)M.push([l.shift()]);U=o.slice(r.length-(f[0]?f[0].length:0)).reduce(function(fe,Me){return fe+Me},0)}else f=[r];M.push(f),_=U+u,I=Y}else f.push(r),_+=I+U,I=Y}return M.map(u?function(fe,Me){return(Me?J:"")+fe.join(" ")}:function(fe){return fe.join(" ")})},ig.splitTextToSize=function(e,n,t){var r,o=(t=t||{}).fontSize||this.internal.getFontSize(),i=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var M=this.internal.getFont(f.fontName,f.fontStyle),_="Unicode";return M.metadata[_]?{widths:M.metadata[_].widths||{0:1},kerning:M.metadata[_].kerning||{}}:{font:M.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*n/o;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/o:0,i.lineIndent=t.lineIndent;var l,u,c=[];for(l=0,u=r.length;l<u;l++)c=c.concat(q4.apply(this,[r[l],a,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="0123456789abcdef",t="klmnopqrstuvwxyz",r={},o={},i=0;i<16;i++)r[t[i]]=n[i],o[n[i]]=t[i];var a=function(_){return"0x"+parseInt(_,10).toString(16)},l=e.__fontmetrics__.compress=function(_){var I,U,k,Y,J=["{"];for(var se in _){if(I=_[se],isNaN(parseInt(se,10))?U="'"+se+"'":(se=parseInt(se,10),U=(U=a(se).slice(2)).slice(0,-1)+o[U.slice(-1)]),"number"==typeof I)I<0?(k=a(I).slice(3),Y="-"):(k=a(I).slice(2),Y=""),k=Y+k.slice(0,-1)+o[k.slice(-1)];else{if("object"!==(0,Wr.A)(I))throw new Error("Don't know what to do with value type "+(0,Wr.A)(I)+".");k=l(I)}J.push(U+k)}return J.push("}"),J.join("")},u=e.__fontmetrics__.uncompress=function(_){if("string"!=typeof _)throw new Error("Invalid argument passed to uncompress.");for(var I,U,k,Y,J={},se=1,he=J,fe=[],Me="",we="",Be=_.length-1,Oe=1;Oe<Be;Oe+=1)"'"==(Y=_[Oe])?I?(k=I.join(""),I=void 0):I=[]:I?I.push(Y):"{"==Y?(fe.push([he,k]),he={},k=void 0):"}"==Y?((U=fe.pop())[0][U[1]]=he,k=void 0,he=U[0]):"-"==Y?se=-1:void 0===k?r.hasOwnProperty(Y)?(Me+=r[Y],k=parseInt(Me,16)*se,se=1,Me=""):Me+=Y:r.hasOwnProperty(Y)?(we+=r[Y],he[k]=parseInt(we,16)*se,se=1,k=void 0,we=""):we+=Y;return J},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},M={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(_){var I=_.font,U=M.Unicode[I.postScriptName];U&&(I.metadata.Unicode={},I.metadata.Unicode.widths=U.widths,I.metadata.Unicode.kerning=U.kerning);var k=f.Unicode[I.postScriptName];k&&(I.metadata.Unicode.encoding=k,I.encoding=k.codePages[0])}])}(on.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n=function(t){for(var r=t.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=t.charCodeAt(i);return o};e.API.events.push(["addFont",function(t){var a,l,r=void 0,o=t.font,i=t.instance;if(!o.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(o.postScriptName)?i.loadFile(o.postScriptName):i.getFileFromVFS(o.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");a=o,l=/^\x00\x01\x00\x00/.test(l=r)?n(l):n(wD(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(on),on.API.addSvgAsImage=function(e,n,t,r,o,i,a,l){if(isNaN(n)||isNaN(t))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(o))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=o;var c=u.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},M=this;return(On.canvg?Promise.resolve(On.canvg):d.e(147).then(d.bind(d,147))).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(c,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){M.addImage(u.toDataURL("image/jpeg",1),n,t,r,o,a,l)})},on.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var o=0;o<this.internal.pages[r].length;o++)this.internal.pages[r][o]=this.internal.pages[r][o].replace(n,t);return this},on.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,o,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],c=0,f=0,M=0;function _(U,k){var Y,J=!1;for(Y=0;Y<U.length;Y+=1)U[Y]===k&&(J=!0);return J}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===e||!0===n){var I=l.length;for(M=0;M<I;M+=1)t[l[M]].value=t[l[M]].defaultValue,t[l[M]].explicitSet=!1}if("object"===(0,Wr.A)(e))for(o in e)if(i=e[o],_(l,o)&&void 0!==i){if("boolean"===t[o].type&&"boolean"==typeof i)t[o].value=i;else if("name"===t[o].type&&_(t[o].valueSet,i))t[o].value=i;else if("integer"===t[o].type&&Number.isInteger(i))t[o].value=i;else if("array"===t[o].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])u.push(String(i[c]-1));else if(i[c].length>1){for(f=0;f<i[c].length;f+=1)"number"!=typeof i[c][f]&&(r=!1);!0===r&&u.push([i[c][0]-1,i[c][1]-1].join(" "))}t[o].value="["+u.join(" ")+"]"}else t[o].value=t[o].defaultValue;t[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var U,k=[];for(U in t)!0===t[U].explicitSet&&k.push("name"===t[U].type?"/"+U+" /"+t[U].value:"/"+U+" "+t[U].value);0!==k.length&&this.internal.write("/ViewerPreferences\n<<\n"+k.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+l.length+o.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(o+i+a+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,o){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(on.API),function(e){var n=e.API,t=n.pdfEscape16=function(i,a){for(var l,u=a.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],M=0,_=i.length;M<_;++M){if(l=a.metadata.characterToGlyph(i.charCodeAt(M)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(M),-1==u.indexOf(l)&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),"0"==l)return f.join("");l=l.toString(16),f.push(c[4-l.length],l)}return f.join("")},r=function(i){var a,l,u,c,f,M,_;for(f="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",u=[],M=0,_=(l=Object.keys(i).sort(function(I,U){return I-U})).length;M<_;M++)a=l[M],u.length>=100&&(f+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar",u=[]),null!=i[a]&&"function"==typeof i[a].toString&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+c+">"));return u.length&&(f+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar\n"),f+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(i){!function(a){var l=a.font,u=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&"Identity-H"===l.encoding){for(var M=l.metadata.Unicode.widths,_=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),I="",U=0;U<_.length;U++)I+=String.fromCharCode(_[U]);var k=c();f({data:I,addLength1:!0,objectId:k}),u("endobj");var Y=c();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:Y}),u("endobj");var J=c();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Qh(l.fontName)),u("/FontFile2 "+k+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var se=c();u("<<"),u("/Type /Font"),u("/BaseFont /"+Qh(l.fontName)),u("/FontDescriptor "+J+" 0 R"),u("/W "+e.API.PDFObject.convert(M)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=c(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+Y+" 0 R"),u("/BaseFont /"+Qh(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+se+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}}(i)}]),n.events.push(["putFont",function(i){!function(a){var l=a.font,u=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===l.encoding){for(var M=l.metadata.rawData,_="",I=0;I<M.length;I++)_+=String.fromCharCode(M[I]);var U=c();f({data:_,addLength1:!0,objectId:U}),u("endobj");var k=c();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var Y=c();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+U+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Qh(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=c();for(var J=0;J<l.metadata.hmtx.widths.length;J++)l.metadata.hmtx.widths[J]=parseInt(l.metadata.hmtx.widths[J]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Qh(l.fontName)+"/FontDescriptor "+Y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}}(i)}]);var o=function(i){var a,l=i.text||"",u=i.x,c=i.y,f=i.options||{},M=i.mutex||{},_=M.pdfEscape,I=M.activeFontKey,U=M.fonts,k=I,Y="",J=0,se="",he=U[k].encoding;if("Identity-H"!==U[k].encoding)return{text:l,x:u,y:c,options:f,mutex:M};for(se=l,k=I,Array.isArray(l)&&(se=l[0]),J=0;J<se.length;J+=1)U[k].metadata.hasOwnProperty("cmap")&&(a=U[k].metadata.cmap.unicode.codeMap[se[J].charCodeAt(0)]),a||se[J].charCodeAt(0)<256&&U[k].metadata.hasOwnProperty("Unicode")?Y+=se[J]:Y+="";var fe="";return parseInt(k.slice(1))<14||"WinAnsiEncoding"===he?fe=_(Y,k).split("").map(function(Me){return Me.charCodeAt(0).toString(16)}).join(""):"Identity-H"===he&&(fe=t(Y,U[k])),M.isHex=!0,{text:fe,x:u,y:c,options:f,mutex:M}};n.events.push(["postProcessText",function(i){var a=i.text||"",l=[],u={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&3===a[c].length?l.push([o(Object.assign({},u,{text:a[c][0]})).text,a[c][1],a[c][2]]):l.push(o(Object.assign({},u,{text:a[c]})).text);i.text=l}else i.text=o(Object.assign({},u,{text:a})).text}])}(on),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(e){var n=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),void 0!==this.internal.vFS[t]},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(on.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var o,i,a,l,u,c,f,M=n,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],I=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Y=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],J=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),se=!1,he=0;this.__bidiEngine__={};var fe=function(ge){var Ce=ge.charCodeAt(),Ne=Ce>>8,je=k[Ne];return void 0!==je?M[256*je+(255&Ce)]:252===Ne||253===Ne?"AL":J.test(Ne)?"L":8===Ne?"R":"N"},Me=function(ge){for(var Ce,Ne=0;Ne<ge.length;Ne++){if("L"===(Ce=fe(ge.charAt(Ne))))return!1;if("R"===Ce)return!0}return!1},we=function(ge,Ce,Ne,je){var Ze,et,rt,Qe,at=Ce[je];switch(at){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":se=!1;break;case"N":case"AN":break;case"EN":se&&(at="AN");break;case"AL":se=!0,at="R";break;case"WS":case"BN":at="N";break;case"CS":je<1||je+1>=Ce.length||"EN"!==(Ze=Ne[je-1])&&"AN"!==Ze||"EN"!==(et=Ce[je+1])&&"AN"!==et?at="N":se&&(et="AN"),at=et===Ze?et:"N";break;case"ES":at="EN"===(Ze=je>0?Ne[je-1]:"B")&&je+1<Ce.length&&"EN"===Ce[je+1]?"EN":"N";break;case"ET":if(je>0&&"EN"===Ne[je-1]){at="EN";break}if(se){at="N";break}for(rt=je+1,Qe=Ce.length;rt<Qe&&"ET"===Ce[rt];)rt++;at=rt<Qe&&"EN"===Ce[rt]?"EN":"N";break;case"NSM":if(a&&!l){for(Qe=Ce.length,rt=je+1;rt<Qe&&"NSM"===Ce[rt];)rt++;if(rt<Qe){var Ft=ge[je];if(Ze=Ce[rt],(Ft>=1425&&Ft<=2303||64286===Ft)&&("R"===Ze||"AL"===Ze)){at="R";break}}}at=je<1||"B"===(Ze=Ce[je-1])?"N":Ne[je-1];break;case"B":se=!1,o=!0,at=he;break;case"S":i=!0,at="N"}return at},Be=function(ge,Ce,Ne){var je=ge.split("");return Ne&&Oe(je,Ne,{hiLevel:he}),je.reverse(),Ce&&Ce.reverse(),je.join("")},Oe=function(ge,Ce,Ne){var je,Ze,et,rt,Qe,at=-1,Ft=ge.length,xt=0,pe=[],_e=he?I:_,Le=[];for(se=!1,o=!1,i=!1,Ze=0;Ze<Ft;Ze++)Le[Ze]=fe(ge[Ze]);for(et=0;et<Ft;et++){if(Qe=xt,pe[et]=we(ge,Le,pe,et),je=240&(xt=_e[Qe][U[pe[et]]]),Ce[et]=rt=_e[xt&=15][5],je>0)if(16===je){for(Ze=at;Ze<et;Ze++)Ce[Ze]=1;at=-1}else at=-1;if(_e[xt][6])-1===at&&(at=et);else if(at>-1){for(Ze=at;Ze<et;Ze++)Ce[Ze]=rt;at=-1}"B"===Le[et]&&(Ce[et]=0),Ne.hiLevel|=rt}i&&function(We,ze,nt){for(var ht=0;ht<nt;ht++)if("S"===We[ht]){ze[ht]=he;for(var dt=ht-1;dt>=0&&"WS"===We[dt];dt--)ze[dt]=he}}(Le,Ce,Ft)},be=function(ge,Ce,Ne,je,Ze){if(!(Ze.hiLevel<ge)){if(1===ge&&1===he&&!o)return Ce.reverse(),void(Ne&&Ne.reverse());for(var et,rt,Qe,at,Ft=Ce.length,xt=0;xt<Ft;){if(je[xt]>=ge){for(Qe=xt+1;Qe<Ft&&je[Qe]>=ge;)Qe++;for(at=xt,rt=Qe-1;at<rt;at++,rt--)et=Ce[at],Ce[at]=Ce[rt],Ce[rt]=et,Ne&&(et=Ne[at],Ne[at]=Ne[rt],Ne[rt]=et);xt=Qe}xt++}}},Ue=function(ge,Ce,Ne){var je=ge.split(""),Ze={hiLevel:he};return Ne||(Ne=[]),Oe(je,Ne,Ze),function(et,rt,Qe){if(0!==Qe.hiLevel&&f)for(var at,Ft=0;Ft<et.length;Ft++)1===rt[Ft]&&(at=Y.indexOf(et[Ft]))>=0&&(et[Ft]=Y[at+1])}(je,Ne,Ze),be(2,je,Ce,Ne,Ze),be(1,je,Ce,Ne,Ze),je.join("")};return this.__bidiEngine__.doBidiReorder=function(ge,Ce,Ne){if(function(Ze,et){if(et)for(var rt=0;rt<Ze.length;rt++)et[rt]=rt;void 0===l&&(l=Me(Ze)),void 0===c&&(c=Me(Ze))}(ge,Ce),a||!u||c)if(a&&u&&l^c)he=l?1:0,ge=Be(ge,Ce,Ne);else if(!a&&u&&c)he=l?1:0,ge=Ue(ge,Ce,Ne),ge=Be(ge,Ce);else if(!a||l||u||c){if(a&&!u&&l^c)ge=Be(ge,Ce),l?(he=0,ge=Ue(ge,Ce,Ne)):(he=1,ge=Ue(ge,Ce,Ne),ge=Be(ge,Ce));else if(a&&l&&!u&&c)he=1,ge=Ue(ge,Ce,Ne),ge=Be(ge,Ce);else if(!a&&!u&&l^c){var je=f;l?(he=1,ge=Ue(ge,Ce,Ne),he=0,f=!1,ge=Ue(ge,Ce,Ne),f=je):(he=0,ge=Ue(ge,Ce,Ne),ge=Be(ge,Ce),he=1,f=!1,ge=Ue(ge,Ce,Ne),f=je,ge=Be(ge,Ce))}}else he=0,ge=Ue(ge,Ce,Ne);else he=l?1:0,ge=Ue(ge,Ce,Ne);return ge},this.__bidiEngine__.setOptions=function(ge){ge&&(a=ge.isInputVisual,u=ge.isOutputVisual,l=ge.isInputRtl,c=ge.isOutputRtl,f=ge.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var o=r.text,i=r.options||{},a=[];if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,t.setOptions(i),"[object Array]"===Object.prototype.toString.call(o)){var l=0;for(a=[],l=0;l<o.length;l+=1)"[object Array]"===Object.prototype.toString.call(o[l])?a.push([t.doBidiReorder(o[l][0]),o[l][1],o[l][2]]):a.push([t.doBidiReorder(o[l])]);r.text=a}else r.text=t.doBidiReorder(o);t.setOptions({isInputVisual:!0})}])}(on),on.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new dc(n),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ude(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new Zce(this.contents),this.head=new Jce(this),this.name=new nde(this),this.cmap=new c8(this),this.toUnicode={},this.hhea=new Qce(this),this.maxp=new rde(this),this.hmtx=new ode(this),this.post=new ede(this),this.os2=new qce(this),this.loca=new lde(this),this.glyf=new ide(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,o,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,l,u,c;for(c=[],a=0,l=(u=this.bbox).length;a<l;a++)c.push(Math.round(u[a]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(o=this.post.italic_angle),32768&(t=o>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var o,i,a,l;for(a=0,i=0,l=(n=""+n).length;0<=l?i<l:i>l;i=0<=l?++i:--i)o=n.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(o))+r*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(n,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*n},e}();var Bs,dc=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,o;for(o=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)o.push(this.writeByte(n.charCodeAt(t)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,o,i,a,l,u;return n=this.readByte(),t=this.readByte(),r=this.readByte(),o=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^o)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*o+16777216*i+65536*a+256*l+u},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var r,o,i;for(i=[],r=0,o=n.length;r<o;r++)i.push(this.writeByte(n[r]));return i},e}(),Zce=function(){var e;function n(t){var r,o,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},o=0,i=this.tableCount;0<=i?o<i:o>i;o=0<=i?++o:--o)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,o,a,l,u,c,f,M,_,I,U,k;for(k in I=Object.keys(t).length,u=Math.log(2),M=16*Math.floor(Math.log(I)/u),a=Math.floor(M/u),f=16*I-M,(o=new dc).writeInt(this.scalarType),o.writeShort(I),o.writeShort(M),o.writeShort(a),o.writeShort(f),c=o.pos+16*I,l=null,U=[],t)for(_=t[k],o.writeString(k),o.writeInt(e(_)),o.writeInt(c),o.writeInt(_.length),U=U.concat(_),"head"===k&&(l=c),c+=_.length;c%4;)U.push(0),c++;return o.write(U),r=2981146554-e(o.data),o.pos=l+8,o.writeUInt32(r),o.data},e=function(t){var r,o,i,a;for(t=d8.call(t);t.length%4;)t.push(0);for(i=new dc(t),o=0,r=0,a=t.length;r<a;r=r+=4)o+=i.readUInt32();return 4294967295&o},n}(),Xce={}.hasOwnProperty,ml=function(e,n){for(var t in n)Xce.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Bs=function(){function e(n){var t;this.file=n,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Jce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var t;return(t=new dc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(n),t.writeShort(this.glyphDataFormat),t.data},e}(),u8=function(){function e(n,t){var r,o,i,a,l,u,c,f,M,_,I,U,k,Y,J,se,he;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),M=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(I=n.readUInt16(),_=I/2,n.pos+=6,i=function(){var fe,Me;for(Me=[],u=fe=0;0<=_?fe<_:fe>_;u=0<=_?++fe:--fe)Me.push(n.readUInt16());return Me}(),n.pos+=2,k=function(){var fe,Me;for(Me=[],u=fe=0;0<=_?fe<_:fe>_;u=0<=_?++fe:--fe)Me.push(n.readUInt16());return Me}(),c=function(){var fe,Me;for(Me=[],u=fe=0;0<=_?fe<_:fe>_;u=0<=_?++fe:--fe)Me.push(n.readUInt16());return Me}(),f=function(){var fe,Me;for(Me=[],u=fe=0;0<=_?fe<_:fe>_;u=0<=_?++fe:--fe)Me.push(n.readUInt16());return Me}(),o=(this.length-n.pos+this.offset)/2,l=function(){var fe,Me;for(Me=[],u=fe=0;0<=o?fe<o:fe>o;u=0<=o?++fe:--fe)Me.push(n.readUInt16());return Me}(),u=J=0,he=i.length;J<he;u=++J)for(Y=i[u],r=se=U=k[u];U<=Y?se<=Y:se>=Y;r=U<=Y?++se:--se)0===f[u]?a=r+c[u]:0!==(a=l[f[u]/2+(r-U)-(_-u)]||0)&&(a+=c[u]),this.codeMap[r]=65535&a}n.pos=M}return e.encode=function(n,t){var r,o,i,a,l,u,c,f,M,_,I,U,k,Y,J,se,he,Me,we,Be,Oe,be,Ue,ge,Ce,Ne,je,Ze,et,rt,Qe,at,Ft,xt,pe,_e,Le,We,ze,nt,ht,dt,Pt,Nt,zt;switch(je=new dc,a=Object.keys(n).sort(function(Gt,vt){return Gt-vt}),t){case"macroman":for(k=0,Y=function(){var Gt=[];for(U=0;U<256;++U)Gt.push(0);return Gt}(),se={0:0},i={},Ze=0,at=a.length;Ze<at;Ze++)null==se[dt=n[o=a[Ze]]]&&(se[dt]=++k),i[o]={old:n[o],new:se[n[o]]},Y[o]=se[n[o]];return je.writeUInt16(1),je.writeUInt16(0),je.writeUInt32(12),je.writeUInt16(0),je.writeUInt16(262),je.writeUInt16(0),je.write(Y),{charMap:i,subtable:je.data,maxGlyphID:k+1};case"unicode":for(Ce=[],M=[],he=0,se={},r={},J=c=null,et=0,Ft=a.length;et<Ft;et++)null==se[Me=n[o=a[et]]]&&(se[Me]=++he),r[o]={old:Me,new:se[Me]},l=se[Me]-o,null!=J&&l===c||(J&&M.push(J),Ce.push(o),c=l),J=o;for(J&&M.push(J),M.push(65535),Ce.push(65535),Ue=2*(be=Ce.length),Oe=2*Math.pow(Math.log(be)/Math.LN2,2),_=Math.log(Oe/2)/Math.LN2,Be=2*be-Oe,u=[],we=[],I=[],U=rt=0,xt=Ce.length;rt<xt;U=++rt){if(f=M[U],65535===(ge=Ce[U])){u.push(0),we.push(0);break}if(ge-(Ne=r[ge].new)>=32768)for(u.push(0),we.push(2*(I.length+be-U)),o=Qe=ge;ge<=f?Qe<=f:Qe>=f;o=ge<=f?++Qe:--Qe)I.push(r[o].new);else u.push(Ne-ge),we.push(0)}for(je.writeUInt16(3),je.writeUInt16(1),je.writeUInt32(12),je.writeUInt16(4),je.writeUInt16(16+8*be+2*I.length),je.writeUInt16(0),je.writeUInt16(Ue),je.writeUInt16(Oe),je.writeUInt16(_),je.writeUInt16(Be),nt=0,pe=M.length;nt<pe;nt++)je.writeUInt16(o=M[nt]);for(je.writeUInt16(0),ht=0,_e=Ce.length;ht<_e;ht++)je.writeUInt16(o=Ce[ht]);for(Pt=0,Le=u.length;Pt<Le;Pt++)je.writeUInt16(l=u[Pt]);for(Nt=0,We=we.length;Nt<We;Nt++)je.writeUInt16(we[Nt]);for(zt=0,ze=I.length;zt<ze;zt++)je.writeUInt16(k=I[zt]);return{charMap:r,subtable:je.data,maxGlyphID:he+1}}},e}(),c8=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="cmap",e.prototype.parse=function(n){var t,r,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)t=new u8(n,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(n,t){var r,o;return null==t&&(t="macroman"),r=u8.encode(n,t),(o=new dc).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},e}(),Qce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),qce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(n.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),ede=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="post",e.prototype.parse=function(n){var t,r,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=n.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)t=n.readByte(),o.push(this.names.push(n.readString(t)));return o;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 262144:return this.map=function(){var a,l,u;for(u=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)u.push(n.readUInt32());return u}.call(this)}},e}(),tde=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},nde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="name",e.prototype.parse=function(n){var t,r,o,i,a,l,u,c,f,M,_;for(n.pos=this.offset,n.readShort(),t=n.readShort(),l=n.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},i=f=0,M=r.length;f<M;i=++f)n.pos=(o=r[i]).offset,c=n.readString(o.length),a=new tde(c,o),null==u[_=o.nameID]&&(u[_]=[]),u[o.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),rde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),ode=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var t,r,o,a,l,u;for(n.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],t=c=0;0<=o?c<o:c>o;t=0<=o?++c:--c)f.push(n.readInt16());return f}(),this.widths=function(){var c,f,M,_;for(_=[],c=0,f=(M=this.metrics).length;c<f;c++)_.push(M[c].advance);return _}.call(this),r=this.widths[this.widths.length-1],u=[],t=a=0;0<=o?a<o:a>o;t=0<=o?++a:--a)u.push(this.widths.push(r));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),d8=[].slice,ide=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var t,r,o,i,a,l,u,c,f,M;return n in this.cache?this.cache[n]:(t=this.file.contents,r=(i=this.file.loca).indexOf(n),0===(o=i.lengthOf(n))?this.cache[n]=null:(t.pos=this.offset+r,a=(l=new dc(t.read(o))).readShort(),c=l.readShort(),M=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=-1===a?new sde(l,c,M,u,f):new ade(l,a,c,M,u,f),this.cache[n]))},e.prototype.encode=function(n,t,r){var o,i,a,l,u;for(a=[],i=[],l=0,u=t.length;l<u;l++)o=n[t[l]],i.push(a.length),o&&(a=a.concat(o.encode(r)));return i.push(a.length),{table:a,offsets:i}},e}(),ade=function(){function e(n,t,r,o,i,a){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=o,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),sde=function(){function e(n,t,r,o,i){var a,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=o,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new dc(d8.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),lde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,Bs),e.prototype.tag="loca",e.prototype.parse=function(n){var r;return n.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var o,i;for(i=[],r=0,o=this.length;r<o;r+=2)i.push(2*n.readUInt16());return i}.call(this):function(){var o,i;for(i=[],r=0,o=this.length;r<o;r+=4)i.push(n.readUInt32());return i}.call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,t){for(var r=new Uint32Array(this.offsets.length),o=0,i=0,a=0;a<r.length;++a)if(r[a]=o,i<t.length&&t[i]==a){++i,r[a]=o;var u=this.offsets[a+1]-this.offsets[a];u>0&&(o+=u)}for(var c=new Array(4*r.length),f=0;f<r.length;++f)c[4*f+3]=255&r[f],c[4*f+2]=(65280&r[f])>>8,c[4*f+1]=(16711680&r[f])>>16,c[4*f]=(4278190080&r[f])>>24;return c},e}(),ude=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,o,i;for(t in o=this.font.cmap.tables[0].codeMap,n={},i=this.subset)n[t]=o[i[t]];return n},e.prototype.glyphsFor=function(n){var t,r,o,i,a,l,u;for(o={},a=0,l=n.length;a<l;a++)o[i=n[a]]=this.font.glyf.glyphFor(i);for(i in t=[],o)null!=(r=o[i])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in u=this.glyphsFor(t))o[i]=r=u[i];return o},e.prototype.encode=function(n,t){var r,o,i,a,u,c,f,M,_,I,U,k,Y,J;for(o in r=c8.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(n),I={0:0},J=r.charMap)I[(u=J[o]).old]=u.new;for(U in _=r.maxGlyphID,a)U in I||(I[U]=_++);return f=function(se){var he,fe;for(he in fe={},se)fe[se[he]]=he;return fe}(I),M=Object.keys(f).sort(function(se,he){return se-he}),k=function(){var se,he,fe;for(fe=[],se=0,he=M.length;se<he;se++)fe.push(f[M[se]]);return fe}(),i=this.font.glyf.encode(a,k,I),c=this.font.loca.encode(i.offsets,k),Y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(Y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Y)},e}();function ag(e){return e+.5|0}on.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var o,i;if(Array.isArray(t))return"["+function(){var l,u,c;for(c=[],l=0,u=t.length;l<u;l++)c.push(n.convert(t[l]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(o in i=["<<"],t)i.push("/"+o+" "+n.convert(t[o]));return i.push(">>"),i.join("\n")}return""+t},n}();const eu=(e,n,t)=>Math.max(Math.min(e,t),n);function Zp(e){return eu(ag(2.55*e),0,255)}function fc(e){return eu(ag(255*e),0,255)}function tu(e){return eu(ag(e/2.55)/100,0,1)}function f8(e){return eu(ag(100*e),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},IP=[..."0123456789ABCDEF"],cde=e=>IP[15&e],dde=e=>IP[(240&e)>>4]+IP[15&e],zD=e=>(240&e)>>4==(15&e);const pde=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function h8(e,n,t){const r=n*Math.min(t,1-t),o=(i,a=(i+e/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function vde(e,n,t){const r=(o,i=(o+e/60)%6)=>t-t*n*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Ede(e,n,t){const r=h8(e,1,.5);let o;for(n+t>1&&(o=1/(n+t),n*=o,t*=o),o=0;o<3;o++)r[o]*=1-n-t,r[o]+=n;return r}function xP(e){const t=e.r/255,r=e.g/255,o=e.b/255,i=Math.max(t,r,o),a=Math.min(t,r,o),l=(i+a)/2;let u,c,f;return i!==a&&(f=i-a,c=l>.5?f/(2-i-a):f/(i+a),u=function yde(e,n,t,r,o){return e===o?(n-t)/r+(n<t?6:0):n===o?(t-e)/r+2:(e-n)/r+4}(t,r,o,f,i),u=60*u+.5),[0|u,c||0,l]}function AP(e,n,t,r){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,r)).map(fc)}function _P(e,n,t){return AP(h8,e,n,t)}function g8(e){return(e%360+360)%360}const m8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},p8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let $D;const Ide=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,SP=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,sg=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function GD(e,n,t){if(e){let r=xP(e);r[n]=Math.max(0,Math.min(r[n]+r[n]*t,0===n?360:1)),r=_P(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function v8(e,n){return e&&Object.assign(n||{},e)}function E8(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=fc(e[3]))):(n=v8(e,{r:0,g:0,b:0,a:1})).a=fc(n.a),n}function Sde(e){return"r"===e.charAt(0)?function xde(e){const n=Ide.exec(e);let r,o,i,t=255;if(n){if(n[7]!==r){const a=+n[7];t=n[8]?Zp(a):eu(255*a,0,255)}return r=+n[1],o=+n[3],i=+n[5],r=255&(n[2]?Zp(r):eu(r,0,255)),o=255&(n[4]?Zp(o):eu(o,0,255)),i=255&(n[6]?Zp(i):eu(i,0,255)),{r,g:o,b:i,a:t}}}(e):function bde(e){const n=pde.exec(e);let r,t=255;if(!n)return;n[5]!==r&&(t=n[6]?Zp(+n[5]):fc(+n[5]));const o=g8(+n[2]),i=+n[3]/100,a=+n[4]/100;return r="hwb"===n[1]?function Dde(e,n,t){return AP(Ede,e,n,t)}(o,i,a):"hsv"===n[1]?function Mde(e,n,t){return AP(vde,e,n,t)}(o,i,a):_P(o,i,a),{r:r[0],g:r[1],b:r[2],a:t}}(e)}class lg{constructor(n){if(n instanceof lg)return n;const t=typeof n;let r;"object"===t?r=E8(n):"string"===t&&(r=function hde(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*ss[e[1]],g:255&17*ss[e[2]],b:255&17*ss[e[3]],a:5===n?17*ss[e[4]]:255}:(7===n||9===n)&&(t={r:ss[e[1]]<<4|ss[e[2]],g:ss[e[3]]<<4|ss[e[4]],b:ss[e[5]]<<4|ss[e[6]],a:9===n?ss[e[7]]<<4|ss[e[8]]:255})),t}(n)||function Pde(e){$D||($D=function Ode(){const e={},n=Object.keys(p8),t=Object.keys(m8);let r,o,i,a,l;for(r=0;r<n.length;r++){for(a=l=n[r],o=0;o<t.length;o++)i=t[o],l=l.replace(i,m8[i]);i=parseInt(p8[a],16),e[l]=[i>>16&255,i>>8&255,255&i]}return e}(),$D.transparent=[0,0,0,0]);const n=$D[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||Sde(n)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var n=v8(this._rgb);return n&&(n.a=tu(n.a)),n}set rgb(n){this._rgb=E8(n)}rgbString(){return this._valid?function Ade(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${tu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function mde(e){var n=(e=>zD(e.r)&&zD(e.g)&&zD(e.b)&&zD(e.a))(e)?cde:dde;return e?"#"+n(e.r)+n(e.g)+n(e.b)+((e,n)=>e<255?n(e):"")(e.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function Tde(e){if(!e)return;const n=xP(e),t=n[0],r=f8(n[1]),o=f8(n[2]);return e.a<255?`hsla(${t}, ${r}%, ${o}%, ${tu(e.a)})`:`hsl(${t}, ${r}%, ${o}%)`}(this._rgb):void 0}mix(n,t){if(n){const r=this.rgb,o=n.rgb;let i;const a=t===i?.5:t,l=2*a-1,u=r.a-o.a,c=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;i=1-c,r.r=255&c*r.r+i*o.r+.5,r.g=255&c*r.g+i*o.g+.5,r.b=255&c*r.b+i*o.b+.5,r.a=a*r.a+(1-a)*o.a,this.rgb=r}return this}interpolate(n,t){return n&&(this._rgb=function _de(e,n,t){const r=sg(tu(e.r)),o=sg(tu(e.g)),i=sg(tu(e.b));return{r:fc(SP(r+t*(sg(tu(n.r))-r))),g:fc(SP(o+t*(sg(tu(n.g))-o))),b:fc(SP(i+t*(sg(tu(n.b))-i))),a:e.a+t*(n.a-e.a)}}(this._rgb,n._rgb,t)),this}clone(){return new lg(this.rgb)}alpha(n){return this._rgb.a=fc(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,t=ag(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=t,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return GD(this._rgb,2,n),this}darken(n){return GD(this._rgb,2,-n),this}saturate(n){return GD(this._rgb,1,n),this}desaturate(n){return GD(this._rgb,1,-n),this}rotate(n){return function Cde(e,n){var t=xP(e);t[0]=g8(t[0]+n),t=_P(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,n),this}}function nu(){}const Lde=(()=>{let e=0;return()=>e++})();function tr(e){return null==e}function io(e){if(Array.isArray&&Array.isArray(e))return!0;const n=Object.prototype.toString.call(e);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function nr(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function bo(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Wa(e,n){return bo(e)?e:n}function Nn(e,n){return typeof e>"u"?n:e}const y8=(e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*n:+e;function Jr(e,n,t){if(e&&"function"==typeof e.call)return e.apply(t,n)}function Sr(e,n,t,r){let o,i,a;if(io(e))if(i=e.length,r)for(o=i-1;o>=0;o--)n.call(t,e[o],o);else for(o=0;o<i;o++)n.call(t,e[o],o);else if(nr(e))for(a=Object.keys(e),i=a.length,o=0;o<i;o++)n.call(t,e[a[o]],a[o])}function YD(e,n){let t,r,o,i;if(!e||!n||e.length!==n.length)return!1;for(t=0,r=e.length;t<r;++t)if(o=e[t],i=n[t],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function ZD(e){if(io(e))return e.map(ZD);if(nr(e)){const n=Object.create(null),t=Object.keys(e),r=t.length;let o=0;for(;o<r;++o)n[t[o]]=ZD(e[t[o]]);return n}return e}function D8(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function wde(e,n,t,r){if(!D8(e))return;const o=n[e],i=t[e];nr(o)&&nr(i)?Xp(o,i,r):n[e]=ZD(i)}function Xp(e,n,t){const r=io(n)?n:[n],o=r.length;if(!nr(e))return e;const i=(t=t||{}).merger||wde;let a;for(let l=0;l<o;++l){if(a=r[l],!nr(a))continue;const u=Object.keys(a);for(let c=0,f=u.length;c<f;++c)i(u[c],e,a,t)}return e}function Jp(e,n){return Xp(e,n,{merger:jde})}function jde(e,n,t){if(!D8(e))return;const r=n[e],o=t[e];nr(r)&&nr(o)?Jp(r,o):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=ZD(o))}const M8={"":e=>e,x:e=>e.x,y:e=>e.y};function hc(e,n){return(M8[n]||(M8[n]=function Bde(e){const n=function Nde(e){const n=e.split("."),t=[];let r="";for(const o of n)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}(e);return t=>{for(const r of n){if(""===r)break;t=t&&t[r]}return t}}(n)))(e)}function LP(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Qp=e=>typeof e<"u",gc=e=>"function"==typeof e,b8=(e,n)=>{if(e.size!==n.size)return!1;for(const t of e)if(!n.has(t))return!1;return!0},vr=Math.PI,ao=2*vr,Fde=ao+vr,XD=Number.POSITIVE_INFINITY,Wde=vr/180,Ro=vr/2,Bd=vr/4,C8=2*vr/3,mc=Math.log10,pl=Math.sign;function qp(e,n,t){return Math.abs(e-n)<t}function T8(e){const n=Math.round(e);e=qp(e,n,e/1e3)?n:e;const t=Math.pow(10,Math.floor(mc(e))),r=e/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function ug(e){return!function Hde(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function O8(e,n,t){let r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r][t],isNaN(i)||(n.min=Math.min(n.min,i),n.max=Math.max(n.max,i))}function Us(e){return e*(vr/180)}function RP(e){return e*(180/vr)}function P8(e){if(!bo(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function I8(e,n){const t=n.x-e.x,r=n.y-e.y,o=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i<-.5*vr&&(i+=ao),{angle:i,distance:o}}function wP(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Kde(e,n){return(e-n+Fde)%ao-vr}function Wi(e){return(e%ao+ao)%ao}function ev(e,n,t,r){const o=Wi(e),i=Wi(n),a=Wi(t),l=Wi(i-o),u=Wi(a-o),c=Wi(o-i),f=Wi(o-a);return o===i||o===a||r&&i===a||l>u&&c<f}function gi(e,n,t){return Math.max(n,Math.min(t,e))}function ru(e,n,t,r=1e-6){return e>=Math.min(n,t)-r&&e<=Math.max(n,t)+r}function jP(e,n,t){t=t||(a=>e[a]<n);let i,r=e.length-1,o=0;for(;r-o>1;)i=o+r>>1,t(i)?o=i:r=i;return{lo:o,hi:r}}const ou=(e,n,t,r)=>jP(e,t,r?o=>{const i=e[o][n];return i<t||i===t&&e[o+1][n]===t}:o=>e[o][n]<t),$de=(e,n,t)=>jP(e,t,r=>e[r][n]>=t),x8=["push","pop","shift","splice","unshift"];function A8(e,n){const t=e._chartjs;if(!t)return;const r=t.listeners,o=r.indexOf(n);-1!==o&&r.splice(o,1),!(r.length>0)&&(x8.forEach(i=>{delete e[i]}),delete e._chartjs)}function _8(e){const n=new Set(e);return n.size===e.length?e:Array.from(n)}const S8=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function L8(e,n){let t=[],r=!1;return function(...o){t=o,r||(r=!0,S8.call(window,()=>{r=!1,e.apply(n,t)}))}}const NP=e=>"start"===e?"left":"end"===e?"right":"center",ki=(e,n,t)=>"start"===e?n:"end"===e?t:(n+t)/2;function R8(e,n,t){const r=n.length;let o=0,i=r;if(e._sorted){const{iScale:a,vScale:l,_parsed:u}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=a.axis,{min:M,max:_,minDefined:I,maxDefined:U}=a.getUserBounds();if(I){if(o=Math.min(ou(u,f,M).lo,t?r:ou(n,f,a.getPixelForValue(M)).lo),c){const k=u.slice(0,o+1).reverse().findIndex(Y=>!tr(Y[l.axis]));o-=Math.max(0,k)}o=gi(o,0,r-1)}if(U){let k=Math.max(ou(u,a.axis,_,!0).hi+1,t?0:ou(n,f,a.getPixelForValue(_),!0).hi+1);if(c){const Y=u.slice(k-1).findIndex(J=>!tr(J[l.axis]));k+=Math.max(0,Y)}i=gi(k,o,r)-o}else i=r-o}return{start:o,count:i}}function w8(e){const{xScale:n,yScale:t,_scaleRanges:r}=e,o={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!r)return e._scaleRanges=o,!0;const i=r.xmin!==n.min||r.xmax!==n.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,o),i}const JD=e=>0===e||1===e,j8=(e,n,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-n)*ao/t),N8=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*ao/t)+1,tv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ro),easeOutSine:e=>Math.sin(e*Ro),easeInOutSine:e=>-.5*(Math.cos(vr*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>JD(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>JD(e)?e:j8(e,.075,.3),easeOutElastic:e=>JD(e)?e:N8(e,.075,.3),easeInOutElastic:e=>JD(e)?e:e<.5?.5*j8(2*e,.1125,.45):.5+.5*N8(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},easeInBounce:e=>1-tv.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*tv.easeInBounce(2*e):.5*tv.easeOutBounce(2*e-1)+.5};function BP(e){if(e&&"object"==typeof e){const n=e.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function B8(e){return BP(e)?e:new lg(e)}function UP(e){return BP(e)?e:new lg(e).saturate(.5).darken(.1).hexString()}const Jde=["x","y","borderWidth","radius","tension"],Qde=["color","borderColor","backgroundColor"],U8=new Map;function nv(e,n,t){return function tfe(e,n){n=n||{};const t=e+JSON.stringify(n);let r=U8.get(t);return r||(r=new Intl.NumberFormat(e,n),U8.set(t,r)),r}(n,t).format(e)}const F8={values:e=>io(e)?e:""+e,numeric(e,n,t){if(0===e)return"0";const r=this.chart.options.locale;let o,i=e;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),i=function nfe(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const a=mc(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),nv(e,r,u)},logarithmic(e,n,t){if(0===e)return"0";const r=t[n].significand||e/Math.pow(10,Math.floor(mc(e)));return[1,2,3,5,10,15].includes(r)||n>.8*t.length?F8.numeric.call(this,e,n,t):""}};var QD={formatters:F8};const Ud=Object.create(null),FP=Object.create(null);function rv(e,n){if(!n)return e;const t=n.split(".");for(let r=0,o=t.length;r<o;++r){const i=t[r];e=e[i]||(e[i]=Object.create(null))}return e}function WP(e,n,t){return"string"==typeof n?Xp(rv(e,n),t):Xp(rv(e,""),n)}class ofe{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>UP(o.backgroundColor),this.hoverBorderColor=(r,o)=>UP(o.borderColor),this.hoverColor=(r,o)=>UP(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return WP(this,n,t)}get(n){return rv(this,n)}describe(n,t){return WP(FP,n,t)}override(n,t){return WP(Ud,n,t)}route(n,t,r,o){const i=rv(this,n),a=rv(this,r),l="_"+t;Object.defineProperties(i,{[l]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[l],c=a[o];return nr(u)?Object.assign({},c,u):Nn(u,c)},set(u){this[l]=u}}})}apply(n){n.forEach(t=>t(this))}}var fo=new ofe({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function qde(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),e.set("animations",{colors:{type:"color",properties:Qde},numbers:{type:"number",properties:Jde}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function efe(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function rfe(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:QD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);function qD(e,n,t,r,o){let i=n[o];return i||(i=n[o]=e.measureText(o).width,t.push(o)),i>r&&(r=i),r}function afe(e,n,t,r){let o=(r=r||{}).data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(o=r.data={},i=r.garbageCollect=[],r.font=n),e.save(),e.font=n;let a=0;const l=t.length;let u,c,f,M,_;for(u=0;u<l;u++)if(M=t[u],null==M||io(M)){if(io(M))for(c=0,f=M.length;c<f;c++)_=M[c],null!=_&&!io(_)&&(a=qD(e,o,i,a,_))}else a=qD(e,o,i,a,M);e.restore();const I=i.length/2;if(I>t.length){for(u=0;u<I;u++)delete o[i[u]];i.splice(0,I)}return a}function Fd(e,n,t){const r=e.currentDevicePixelRatio,o=0!==t?Math.max(t/2,.5):0;return Math.round((n-o)*r)/r+o}function W8(e,n){!n&&!e||((n=n||e.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore())}function kP(e,n,t,r){k8(e,n,t,r,null)}function k8(e,n,t,r,o){let i,a,l,u,c,f,M,_;const I=n.pointStyle,U=n.rotation,k=n.radius;let Y=(U||0)*Wde;if(I&&"object"==typeof I&&(i=I.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(t,r),e.rotate(Y),e.drawImage(I,-I.width/2,-I.height/2,I.width,I.height),void e.restore();if(!(isNaN(k)||k<=0)){switch(e.beginPath(),I){default:o?e.ellipse(t,r,o/2,k,0,0,ao):e.arc(t,r,k,0,ao),e.closePath();break;case"triangle":f=o?o/2:k,e.moveTo(t+Math.sin(Y)*f,r-Math.cos(Y)*k),Y+=C8,e.lineTo(t+Math.sin(Y)*f,r-Math.cos(Y)*k),Y+=C8,e.lineTo(t+Math.sin(Y)*f,r-Math.cos(Y)*k),e.closePath();break;case"rectRounded":c=.516*k,u=k-c,a=Math.cos(Y+Bd)*u,M=Math.cos(Y+Bd)*(o?o/2-c:u),l=Math.sin(Y+Bd)*u,_=Math.sin(Y+Bd)*(o?o/2-c:u),e.arc(t-M,r-l,c,Y-vr,Y-Ro),e.arc(t+_,r-a,c,Y-Ro,Y),e.arc(t+M,r+l,c,Y,Y+Ro),e.arc(t-_,r+a,c,Y+Ro,Y+vr),e.closePath();break;case"rect":if(!U){u=Math.SQRT1_2*k,f=o?o/2:u,e.rect(t-f,r-u,2*f,2*u);break}Y+=Bd;case"rectRot":M=Math.cos(Y)*(o?o/2:k),a=Math.cos(Y)*k,l=Math.sin(Y)*k,_=Math.sin(Y)*(o?o/2:k),e.moveTo(t-M,r-l),e.lineTo(t+_,r-a),e.lineTo(t+M,r+l),e.lineTo(t-_,r+a),e.closePath();break;case"crossRot":Y+=Bd;case"cross":M=Math.cos(Y)*(o?o/2:k),a=Math.cos(Y)*k,l=Math.sin(Y)*k,_=Math.sin(Y)*(o?o/2:k),e.moveTo(t-M,r-l),e.lineTo(t+M,r+l),e.moveTo(t+_,r-a),e.lineTo(t-_,r+a);break;case"star":M=Math.cos(Y)*(o?o/2:k),a=Math.cos(Y)*k,l=Math.sin(Y)*k,_=Math.sin(Y)*(o?o/2:k),e.moveTo(t-M,r-l),e.lineTo(t+M,r+l),e.moveTo(t+_,r-a),e.lineTo(t-_,r+a),Y+=Bd,M=Math.cos(Y)*(o?o/2:k),a=Math.cos(Y)*k,l=Math.sin(Y)*k,_=Math.sin(Y)*(o?o/2:k),e.moveTo(t-M,r-l),e.lineTo(t+M,r+l),e.moveTo(t+_,r-a),e.lineTo(t-_,r+a);break;case"line":a=o?o/2:Math.cos(Y)*k,l=Math.sin(Y)*k,e.moveTo(t-a,r-l),e.lineTo(t+a,r+l);break;case"dash":e.moveTo(t,r),e.lineTo(t+Math.cos(Y)*(o?o/2:k),r+Math.sin(Y)*k);break;case!1:e.closePath()}e.fill(),n.borderWidth>0&&e.stroke()}}function iu(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function eM(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function tM(e){e.restore()}function sfe(e,n,t,r,o){if(!n)return e.lineTo(t.x,t.y);if("middle"===o){const i=(n.x+t.x)/2;e.lineTo(i,n.y),e.lineTo(i,t.y)}else"after"===o!=!!r?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function lfe(e,n,t,r){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(r?n.cp1x:n.cp2x,r?n.cp1y:n.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function cfe(e,n,t,r,o){if(o.strikethrough||o.underline){const i=e.measureText(r),a=n-i.actualBoundingBoxLeft,l=n+i.actualBoundingBoxRight,c=t+i.actualBoundingBoxDescent,f=o.strikethrough?(t-i.actualBoundingBoxAscent+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(a,f),e.lineTo(l,f),e.stroke()}}function dfe(e,n){const t=e.fillStyle;e.fillStyle=n.color,e.fillRect(n.left,n.top,n.width,n.height),e.fillStyle=t}function Wd(e,n,t,r,o,i={}){const a=io(n)?n:[n],l=i.strokeWidth>0&&""!==i.strokeColor;let u,c;for(e.save(),e.font=o.string,function ufe(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),tr(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}(e,i),u=0;u<a.length;++u)c=a[u],i.backdrop&&dfe(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),tr(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,t,r,i.maxWidth)),e.fillText(c,t,r,i.maxWidth),cfe(e,t,r,c,i),r+=Number(o.lineHeight);e.restore()}function ov(e,n){const{x:t,y:r,w:o,h:i,radius:a}=n;e.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*vr,vr,!0),e.lineTo(t,r+i-a.bottomLeft),e.arc(t+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,vr,Ro,!0),e.lineTo(t+o-a.bottomRight,r+i),e.arc(t+o-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Ro,0,!0),e.lineTo(t+o,r+a.topRight),e.arc(t+o-a.topRight,r+a.topRight,a.topRight,0,-Ro,!0),e.lineTo(t+a.topLeft,r)}const ffe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hfe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function gfe(e,n){const t=(""+e).match(ffe);if(!t||"normal"===t[1])return 1.2*n;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return n*e}const mfe=e=>+e||0;function HP(e,n){const t={},r=nr(n),o=r?Object.keys(n):n,i=nr(e)?r?a=>Nn(e[a],e[n[a]]):a=>e[a]:()=>e;for(const a of o)t[a]=mfe(i(a));return t}function H8(e){return HP(e,{top:"y",right:"x",bottom:"y",left:"x"})}function kd(e){return HP(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Hi(e){const n=H8(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Qo(e,n){let t=Nn((e=e||{}).size,(n=n||fo.font).size);"string"==typeof t&&(t=parseInt(t,10));let r=Nn(e.style,n.style);r&&!(""+r).match(hfe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Nn(e.family,n.family),lineHeight:gfe(Nn(e.lineHeight,n.lineHeight),t),size:t,style:r,weight:Nn(e.weight,n.weight),string:""};return o.string=function ife(e){return!e||tr(e.size)||tr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(o),o}function iv(e,n,t,r){let i,a,l,o=!0;for(i=0,a=e.length;i<a;++i)if(l=e[i],void 0!==l&&(void 0!==n&&"function"==typeof l&&(l=l(n),o=!1),void 0!==t&&io(l)&&(l=l[t%l.length],o=!1),void 0!==l))return r&&!o&&(r.cacheable=!1),l}function pc(e,n){return Object.assign(Object.create(e),n)}function VP(e,n=[""],t,r,o=()=>e[0]){const i=t||e;typeof r>"u"&&(r=G8("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:o,override:l=>VP([l,...e],n,i,r)};return new Proxy(a,{deleteProperty:(l,u)=>(delete l[u],delete l._keys,delete e[0][u],!0),get:(l,u)=>K8(l,u,()=>function Tfe(e,n,t,r){let o;for(const i of n)if(o=G8(vfe(i,e),t),typeof o<"u")return KP(e,o)?zP(t,r,e,o):o}(u,n,e,l)),getOwnPropertyDescriptor:(l,u)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,u)=>Y8(l).includes(u),ownKeys:l=>Y8(l),set(l,u,c){const f=l._storage||(l._storage=o());return l[u]=f[u]=c,delete l._keys,!0}})}function cg(e,n,t,r){const o={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:V8(e,r),setContext:i=>cg(e,i,t,r),override:i=>cg(e.override(i),n,t,r)};return new Proxy(o,{deleteProperty:(i,a)=>(delete i[a],delete e[a],!0),get:(i,a,l)=>K8(i,a,()=>function Efe(e,n,t){const{_proxy:r,_context:o,_subProxy:i,_descriptors:a}=e;let l=r[n];return gc(l)&&a.isScriptable(n)&&(l=function yfe(e,n,t,r){const{_proxy:o,_context:i,_subProxy:a,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let u=n(i,a||r);return l.delete(e),KP(e,u)&&(u=zP(o._scopes,o,e,u)),u}(n,l,e,t)),io(l)&&l.length&&(l=function Dfe(e,n,t,r){const{_proxy:o,_context:i,_subProxy:a,_descriptors:l}=t;if(typeof i.index<"u"&&r(e))return n[i.index%n.length];if(nr(n[0])){const u=n,c=o._scopes.filter(f=>f!==u);n=[];for(const f of u){const M=zP(c,o,e,f);n.push(cg(M,i,a&&a[e],l))}}return n}(n,l,e,a.isIndexable)),KP(n,l)&&(l=cg(l,o,i&&i[n],a)),l}(i,a,l)),getOwnPropertyDescriptor:(i,a)=>i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(i,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(i,a,l)=>(e[a]=l,delete i[a],!0)})}function V8(e,n={scriptable:!0,indexable:!0}){const{_scriptable:t=n.scriptable,_indexable:r=n.indexable,_allKeys:o=n.allKeys}=e;return{allKeys:o,scriptable:t,indexable:r,isScriptable:gc(t)?t:()=>t,isIndexable:gc(r)?r:()=>r}}const vfe=(e,n)=>e?e+LP(n):n,KP=(e,n)=>nr(n)&&"adapters"!==e&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function K8(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n)||"constructor"===n)return e[n];const r=t();return e[n]=r,r}function z8(e,n,t){return gc(e)?e(n,t):e}const Mfe=(e,n)=>!0===e?n:"string"==typeof e?hc(n,e):void 0;function bfe(e,n,t,r,o){for(const i of n){const a=Mfe(t,i);if(a){e.add(a);const l=z8(a._fallback,t,o);if(typeof l<"u"&&l!==t&&l!==r)return l}else if(!1===a&&typeof r<"u"&&t!==r)return null}return!1}function zP(e,n,t,r){const o=n._rootScopes,i=z8(n._fallback,t,r),a=[...e,...o],l=new Set;l.add(r);let u=$8(l,a,t,i||t,r);return!(null===u||typeof i<"u"&&i!==t&&(u=$8(l,a,i,u,r),null===u))&&VP(Array.from(l),[""],o,i,()=>function Cfe(e,n,t){const r=e._getTarget();n in r||(r[n]={});const o=r[n];return io(o)&&nr(t)?t:o||{}}(n,t,r))}function $8(e,n,t,r,o){for(;t;)t=bfe(e,n,t,r,o);return t}function G8(e,n){for(const t of n){if(!t)continue;const r=t[e];if(typeof r<"u")return r}}function Y8(e){let n=e._keys;return n||(n=e._keys=function Ofe(e){const n=new Set;for(const t of e)for(const r of Object.keys(t).filter(o=>!o.startsWith("_")))n.add(r);return Array.from(n)}(e._scopes)),n}function Z8(e,n,t,r){const{iScale:o}=e,{key:i="r"}=this._parsing,a=new Array(r);let l,u,c,f;for(l=0,u=r;l<u;++l)c=l+t,f=n[c],a[l]={r:o.parse(hc(f,i),c)};return a}const Pfe=Number.EPSILON||1e-14,dg=(e,n)=>n<e.length&&!e[n].skip&&e[n],X8=e=>"x"===e?"y":"x";function Ife(e,n,t,r){const o=e.skip?n:e,i=n,a=t.skip?n:t,l=wP(i,o),u=wP(a,i);let c=l/(l+u),f=u/(l+u);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const M=r*c,_=r*f;return{previous:{x:i.x-M*(a.x-o.x),y:i.y-M*(a.y-o.y)},next:{x:i.x+_*(a.x-o.x),y:i.y+_*(a.y-o.y)}}}function nM(e,n,t){return Math.max(Math.min(e,t),n)}function Lfe(e,n,t,r,o){let i,a,l,u;if(n.spanGaps&&(e=e.filter(c=>!c.skip)),"monotone"===n.cubicInterpolationMode)!function _fe(e,n="x"){const t=X8(n),r=e.length,o=Array(r).fill(0),i=Array(r);let a,l,u,c=dg(e,0);for(a=0;a<r;++a)if(l=u,u=c,c=dg(e,a+1),u){if(c){const f=c[n]-u[n];o[a]=0!==f?(c[t]-u[t])/f:0}i[a]=l?c?pl(o[a-1])!==pl(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}(function xfe(e,n,t){const r=e.length;let o,i,a,l,u,c=dg(e,0);for(let f=0;f<r-1;++f)if(u=c,c=dg(e,f+1),u&&c){if(qp(n[f],0,Pfe)){t[f]=t[f+1]=0;continue}o=t[f]/n[f],i=t[f+1]/n[f],l=Math.pow(o,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),t[f]=o*a*n[f],t[f+1]=i*a*n[f])}})(e,o,i),function Afe(e,n,t="x"){const r=X8(t),o=e.length;let i,a,l,u=dg(e,0);for(let c=0;c<o;++c){if(a=l,l=u,u=dg(e,c+1),!l)continue;const f=l[t],M=l[r];a&&(i=(f-a[t])/3,l[`cp1${t}`]=f-i,l[`cp1${r}`]=M-i*n[c]),u&&(i=(u[t]-f)/3,l[`cp2${t}`]=f+i,l[`cp2${r}`]=M+i*n[c])}}(e,i,n)}(e,o);else{let c=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)l=e[i],u=Ife(c,l,e[Math.min(i+1,a-(r?0:1))%a],n.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,c=l}n.capBezierPoints&&function Sfe(e,n){let t,r,o,i,a,l=iu(e[0],n);for(t=0,r=e.length;t<r;++t)a=i,i=l,l=t<r-1&&iu(e[t+1],n),i&&(o=e[t],a&&(o.cp1x=nM(o.cp1x,n.left,n.right),o.cp1y=nM(o.cp1y,n.top,n.bottom)),l&&(o.cp2x=nM(o.cp2x,n.left,n.right),o.cp2y=nM(o.cp2y,n.top,n.bottom)))}(e,t)}function $P(){return typeof window<"u"&&typeof document<"u"}function GP(e){let n=e.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function rM(e,n,t){let r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*n.parentNode[t])):r=e,r}const oM=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),wfe=["top","right","bottom","left"];function Hd(e,n,t){const r={};t=t?"-"+t:"";for(let o=0;o<4;o++){const i=wfe[o];r[i]=parseFloat(e[n+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Vd(e,n){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:r}=n,o=oM(t),i="border-box"===o.boxSizing,a=Hd(o,"padding"),l=Hd(o,"border","width"),{x:u,y:c,box:f}=function Nfe(e,n){const t=e.touches,r=t&&t.length?t[0]:e,{offsetX:o,offsetY:i}=r;let l,u,a=!1;if(((e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot))(o,i,e.target))l=o,u=i;else{const c=n.getBoundingClientRect();l=r.clientX-c.left,u=r.clientY-c.top,a=!0}return{x:l,y:u,box:a}}(e,t),M=a.left+(f&&l.left),_=a.top+(f&&l.top);let{width:I,height:U}=n;return i&&(I-=a.width+l.width,U-=a.height+l.height),{x:Math.round((u-M)/I*t.width/r),y:Math.round((c-_)/U*t.height/r)}}const iM=e=>Math.round(10*e)/10;function J8(e,n,t){const r=n||1,o=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==o||a.width!==i)&&(e.currentDevicePixelRatio=r,a.height=o,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Ffe=function(){let e=!1;try{const n={get passive(){return e=!0,!1}};$P()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return e}();function Q8(e,n){const t=function Rfe(e,n){return oM(e).getPropertyValue(n)}(e,n),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Kd(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function Wfe(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:"middle"===r?t<.5?e.y:n.y:"after"===r?t<1?e.y:n.y:t>0?n.y:e.y}}function kfe(e,n,t,r){const o={x:e.cp2x,y:e.cp2y},i={x:n.cp1x,y:n.cp1y},a=Kd(e,o,t),l=Kd(o,i,t),u=Kd(i,n,t),c=Kd(a,l,t),f=Kd(l,u,t);return Kd(c,f,t)}function fg(e,n,t){return e?function(e,n){return{x:t=>e+e+n-t,setWidth(t){n=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,r)=>t-r,leftForLtr:(t,r)=>t-r}}(n,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,n)=>e+n,leftForLtr:(e,n)=>e}}function q8(e,n){let t,r;("ltr"===n||"rtl"===n)&&(t=e.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=r)}function eW(e,n){void 0!==n&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function tW(e){return"angle"===e?{between:ev,compare:Kde,normalize:Wi}:{between:ru,compare:(n,t)=>n-t,normalize:n=>n}}function nW({start:e,end:n,count:t,loop:r,style:o}){return{start:e%t,end:n%t,loop:r&&(n-e+1)%t==0,style:o}}function rW(e,n,t){if(!t)return[e];const{property:r,start:o,end:i}=t,a=n.length,{compare:l,between:u,normalize:c}=tW(r),{start:f,end:M,loop:_,style:I}=function Kfe(e,n,t){const{property:r,start:o,end:i}=t,{between:a,normalize:l}=tW(r),u=n.length;let _,I,{start:c,end:f,loop:M}=e;if(M){for(c+=u,f+=u,_=0,I=u;_<I&&a(l(n[c%u][r]),o,i);++_)c--,f--;c%=u,f%=u}return f<c&&(f+=u),{start:c,end:f,loop:M,style:e.style}}(e,n,t),U=[];let J,se,he,k=!1,Y=null;const we=()=>k||u(o,he,J)&&0!==l(o,he),Be=()=>!k||0===l(i,J)||u(i,he,J);for(let Oe=f,be=f;Oe<=M;++Oe)se=n[Oe%a],!se.skip&&(J=c(se[r]),J!==he&&(k=u(J,o,i),null===Y&&we()&&(Y=0===l(J,o)?Oe:be),null!==Y&&Be()&&(U.push(nW({start:Y,end:Oe,loop:_,count:a,style:I})),Y=null),be=Oe,he=J));return null!==Y&&U.push(nW({start:Y,end:M,loop:_,count:a,style:I})),U}function oW(e,n){const t=[],r=e.segments;for(let o=0;o<r.length;o++){const i=rW(r[o],e.points,n);i.length&&t.push(...i)}return t}function aW(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Zfe(e,n){if(!n)return!1;const t=[],r=function(o,i){return BP(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(n,r)}function aM(e,n,t){return e.options.clip?e[t]:n[t]}function sW(e,n){const t=n._clip;if(t.disabled)return!1;const r=function Xfe(e,n){const{xScale:t,yScale:r}=e;return t&&r?{left:aM(t,n,"left"),right:aM(t,n,"right"),top:aM(r,n,"top"),bottom:aM(r,n,"bottom")}:n}(n,e.chartArea);return{left:!1===t.left?0:r.left-(!0===t.left?0:t.left),right:!1===t.right?e.width:r.right+(!0===t.right?0:t.right),top:!1===t.top?0:r.top-(!0===t.top?0:t.top),bottom:!1===t.bottom?e.height:r.bottom+(!0===t.bottom?0:t.bottom)}}class Jfe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,r,o){const a=t.duration;t.listeners[o].forEach(l=>l({chart:n,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=S8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const i=r.items;let u,a=i.length-1,l=!1;for(;a>=0;--a)u=i[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(n),l=!0):(i[a]=i[i.length-1],i.pop());l&&(o.draw(),this._notify(o,r,n,"progress")),i.length||(r.running=!1,this._notify(o,r,n,"complete"),r.initial=!1),t+=i.length}),this._lastDate=n,0===t&&(this._running=!1)}_getAnims(n){const t=this._charts;let r=t.get(n);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,r)),r}listen(n,t,r){this._getAnims(n).listeners[t].push(r)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){const t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(n){if(!this._running)return!1;const t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){const t=this._charts.get(n);if(!t||!t.items.length)return;const r=t.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var au=new Jfe;const lW="transparent",Qfe={boolean:(e,n,t)=>t>.5?n:e,color(e,n,t){const r=B8(e||lW),o=r.valid&&B8(n||lW);return o&&o.valid?o.mix(r,t).hexString():n},number:(e,n,t)=>e+(n-e)*t};class qfe{constructor(n,t,r,o){const i=t[r];o=iv([n.to,o,i,n.from]);const a=iv([n.from,i,o]);this._active=!0,this._fn=n.fn||Qfe[n.type||typeof a],this._easing=tv[n.easing]||tv.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=r,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(n,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,n.duration)),this._total+=i,this._loop=!!n.loop,this._to=iv([n.to,t,o,n.from]),this._from=iv([n.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const t=n-this._start,r=this._duration,o=this._prop,i=this._from,a=this._loop,l=this._to;let u;if(this._active=i!==l&&(a||t<r),!this._active)return this._target[o]=l,void this._notify(!0);t<0?this._target[o]=i:(u=t/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(i,l,u))}wait(){const n=this._promises||(this._promises=[]);return new Promise((t,r)=>{n.push({res:t,rej:r})})}_notify(n){const t=n?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}}class uW{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!nr(n))return;const t=Object.keys(fo.animation),r=this._properties;Object.getOwnPropertyNames(n).forEach(o=>{const i=n[o];if(!nr(i))return;const a={};for(const l of t)a[l]=i[l];(io(i.properties)&&i.properties||[o]).forEach(l=>{(l===o||!r.has(l))&&r.set(l,a)})})}_animateOptions(n,t){const r=t.options,o=function the(e,n){if(!n)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=n}(n,r);if(!o)return[];const i=this._createAnimations(o,r);return r.$shared&&function ehe(e,n){const t=[],r=Object.keys(n);for(let o=0;o<r.length;o++){const i=e[r[o]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}(n.options.$animations,r).then(()=>{n.options=r},()=>{}),i}_createAnimations(n,t){const r=this._properties,o=[],i=n.$animations||(n.$animations={}),a=Object.keys(t),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const c=a[u];if("$"===c.charAt(0))continue;if("options"===c){o.push(...this._animateOptions(n,t));continue}const f=t[c];let M=i[c];const _=r.get(c);if(M){if(_&&M.active()){M.update(_,f,l);continue}M.cancel()}_&&_.duration?(i[c]=M=new qfe(_,n,c,f),o.push(M)):n[c]=f}return o}update(n,t){if(0===this._properties.size)return void Object.assign(n,t);const r=this._createAnimations(n,t);return r.length?(au.add(this._chart,r),!0):void 0}}function cW(e,n){const t=e&&e.options||{},r=t.reverse,o=void 0===t.min?n:0,i=void 0===t.max?n:0;return{start:r?i:o,end:r?o:i}}function dW(e,n){const t=[],r=e._getSortedDatasetMetas(n);let o,i;for(o=0,i=r.length;o<i;++o)t.push(r[o].index);return t}function fW(e,n,t,r={}){const o=e.keys,i="single"===r.mode;let a,l,u,c;if(null===n)return;let f=!1;for(a=0,l=o.length;a<l;++a){if(u=+o[a],u===t){if(f=!0,r.all)continue;break}c=e.values[u],bo(c)&&(i||0===n||pl(n)===pl(c))&&(n+=c)}return f||r.all?n:0}function YP(e,n){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==n.stack}function she(e,n,t){const r=e[n]||(e[n]={});return r[t]||(r[t]={})}function hW(e,n,t,r){for(const o of n.getMatchingVisibleMetas(r).reverse()){const i=e[o.index];if(t&&i>0||!t&&i<0)return o.index}return null}function gW(e,n){const{chart:t,_cachedMeta:r}=e,o=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:l}=r,u=i.axis,c=a.axis,f=function ihe(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}(i,a,r),M=n.length;let _;for(let I=0;I<M;++I){const U=n[I],{[u]:k,[c]:Y}=U;_=(U._stacks||(U._stacks={}))[c]=she(o,f,k),_[l]=Y,_._top=hW(_,a,!0,r.type),_._bottom=hW(_,a,!1,r.type),(_._visualValues||(_._visualValues={}))[l]=Y}}function ZP(e,n){const t=e.scales;return Object.keys(t).filter(r=>t[r].axis===n).shift()}function av(e,n){const t=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){n=n||e._parsed;for(const o of n){const i=o._stacks;if(!i||void 0===i[r]||void 0===i[r][t])return;delete i[r][t],void 0!==i[r]._visualValues&&void 0!==i[r]._visualValues[t]&&delete i[r]._visualValues[t]}}}const XP=e=>"reset"===e||"none"===e,mW=(e,n)=>n?e:Object.assign({},e);let vc=(()=>class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=YP(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&av(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,o=this.getDataset(),i=(_,I,U,k)=>"x"===_?I:"r"===_?k:U,a=r.xAxisID=Nn(o.xAxisID,ZP(t,"x")),l=r.yAxisID=Nn(o.yAxisID,ZP(t,"y")),u=r.rAxisID=Nn(o.rAxisID,ZP(t,"r")),c=r.indexAxis,f=r.iAxisID=i(c,a,l,u),M=r.vAxisID=i(c,l,a,u);r.xScale=this.getScaleForId(a),r.yScale=this.getScaleForId(l),r.rScale=this.getScaleForId(u),r.iScale=this.getScaleForId(f),r.vScale=this.getScaleForId(M)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&A8(this._data,this),t._stacked&&av(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),o=this._data;if(nr(r))this._data=function ohe(e,n){const{iScale:t,vScale:r}=n,o="x"===t.axis?"x":"y",i="x"===r.axis?"x":"y",a=Object.keys(e),l=new Array(a.length);let u,c,f;for(u=0,c=a.length;u<c;++u)f=a[u],l[u]={[o]:f,[i]:e[f]};return l}(r,this._cachedMeta);else if(o!==r){if(o){A8(o,this);const i=this._cachedMeta;av(i),i._parsed=[]}r&&Object.isExtensible(r)&&function Yde(e,n){e._chartjs?e._chartjs.listeners.push(n):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),x8.forEach(t=>{const r="_onData"+LP(t),o=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...i){const a=o.apply(this,i);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[r]&&l[r](...i)}),a}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,o=this.getDataset();let i=!1;this._dataCheck();const a=r._stacked;r._stacked=YP(r.vScale,r),r.stack!==o.stack&&(i=!0,av(r),r.stack=o.stack),this._resyncElements(t),(i||a!==r._stacked)&&(gW(this,r._parsed),r._stacked=YP(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:o,_data:i}=this,{iScale:a,_stacked:l}=o,u=a.axis;let M,_,I,c=0===t&&r===i.length||o._sorted,f=t>0&&o._parsed[t-1];if(!1===this._parsing)o._parsed=i,o._sorted=!0,I=i;else{I=io(i[t])?this.parseArrayData(o,i,t,r):nr(i[t])?this.parseObjectData(o,i,t,r):this.parsePrimitiveData(o,i,t,r);const U=()=>null===_[u]||f&&_[u]<f[u];for(M=0;M<r;++M)o._parsed[M+t]=_=I[M],c&&(U()&&(c=!1),f=_);o._sorted=c}l&&gW(this,I)}parsePrimitiveData(t,r,o,i){const{iScale:a,vScale:l}=t,u=a.axis,c=l.axis,f=a.getLabels(),M=a===l,_=new Array(i);let I,U,k;for(I=0,U=i;I<U;++I)k=I+o,_[I]={[u]:M||a.parse(f[k],k),[c]:l.parse(r[k],k)};return _}parseArrayData(t,r,o,i){const{xScale:a,yScale:l}=t,u=new Array(i);let c,f,M,_;for(c=0,f=i;c<f;++c)M=c+o,_=r[M],u[c]={x:a.parse(_[0],M),y:l.parse(_[1],M)};return u}parseObjectData(t,r,o,i){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(i);let M,_,I,U;for(M=0,_=i;M<_;++M)I=M+o,U=r[I],f[M]={x:a.parse(hc(U,u),I),y:l.parse(hc(U,c),I)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,o){const a=this._cachedMeta,l=r[t.axis];return fW({keys:dW(this.chart,!0),values:r._stacks[t.axis]._visualValues},l,a.index,{mode:o})}updateRangeFromParsed(t,r,o,i){const a=o[r.axis];let l=null===a?NaN:a;const u=i&&o._stacks[r.axis];i&&u&&(i.values=u,l=fW(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,r){const o=this._cachedMeta,i=o._parsed,a=o._sorted&&t===o.iScale,l=i.length,u=this._getOtherScale(t),c=((e,n)=>e&&!n.hidden&&n._stacked&&{keys:dW(this.chart,!0),values:null})(r,o),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:M,max:_}=function ahe(e){const{min:n,max:t,minDefined:r,maxDefined:o}=e.getUserBounds();return{min:r?n:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}(u);let I,U;function k(){U=i[I];const Y=U[u.axis];return!bo(U[t.axis])||M>Y||_<Y}for(I=0;I<l&&(k()||(this.updateRangeFromParsed(f,t,U,c),!a));++I);if(a)for(I=l-1;I>=0;--I)if(!k()){this.updateRangeFromParsed(f,t,U,c);break}return f}getAllParsedValues(t){const r=this._cachedMeta._parsed,o=[];let i,a,l;for(i=0,a=r.length;i<a;++i)l=r[i][t.axis],bo(l)&&o.push(l);return o}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,o=r.iScale,i=r.vScale,a=this.getParsed(t);return{label:o?""+o.getLabelForValue(a[o.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=function rhe(e){let n,t,r,o;return nr(e)?(n=e.top,t=e.right,r=e.bottom,o=e.left):n=t=r=o=e,{top:n,right:t,bottom:r,left:o,disabled:!1===e}}(Nn(this.options.clip,function nhe(e,n,t){if(!1===t)return!1;const r=cW(e,t),o=cW(n,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,o=this._cachedMeta,i=o.data||[],a=this.chart.chartArea,l=[],u=this._drawStart||0,c=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let M;for(o.dataset&&o.dataset.draw(t,a,u,c),M=u;M<u+c;++M){const _=i[M];_.hidden||(_.active&&f?l.push(_):_.draw(t,a))}for(M=0;M<l.length;++M)l[M].draw(t,a)}getStyle(t,r){const o=r?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,r,o){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=function uhe(e,n,t){return pc(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function lhe(e,n){return pc(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!r,a.mode=o,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",o){const i="active"===r,a=this._cachedDataOpts,l=t+"-"+r,u=a[l],c=this.enableOptionSharing&&Qp(o);if(u)return mW(u,c);const f=this.chart.config,M=f.datasetElementScopeKeys(this._type,t),_=i?[`${t}Hover`,"hover",t,""]:[t,""],I=f.getOptionScopes(this.getDataset(),M),U=Object.keys(fo.elements[t]),Y=f.resolveNamedOptions(I,U,()=>this.getContext(o,i,r),_);return Y.$shared&&(Y.$shared=c,a[l]=Object.freeze(mW(Y,c))),Y}_resolveAnimations(t,r,o){const i=this.chart,a=this._cachedDataOpts,l=`animation-${r}`,u=a[l];if(u)return u;let c;if(!1!==i.options.animation){const M=this.chart.config,_=M.datasetAnimationScopeKeys(this._type,r),I=M.getOptionScopes(this.getDataset(),_);c=M.createResolver(I,this.getContext(t,o,r))}const f=new uW(i,c&&c.animations);return c&&c._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||XP(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const o=this.resolveDataElementOptions(t,r),i=this._sharedOptions,a=this.getSharedOptions(o),l=this.includeOptions(r,a)||a!==i;return this.updateSharedOptions(a,r,o),{sharedOptions:a,includeOptions:l}}updateElement(t,r,o,i){XP(i)?Object.assign(t,o):this._resolveAnimations(r,i).update(t,o)}updateSharedOptions(t,r,o){t&&!XP(r)&&this._resolveAnimations(void 0,r).update(t,o)}_setStyle(t,r,o,i){t.active=i;const a=this.getStyle(r,i);this._resolveAnimations(r,o,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,r,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,r,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,o=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const i=o.length,a=r.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,r,o=!0){const i=this._cachedMeta,a=i.data,l=t+r;let u;const c=f=>{for(f.length+=r,u=f.length-1;u>=l;u--)f[u]=f[u-r]};for(c(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,r),o&&this.updateElements(a,t,r,"reset")}updateElements(t,r,o,i){}_removeElements(t,r){const o=this._cachedMeta;if(this._parsing){const i=o._parsed.splice(t,r);o._stacked&&av(o,i)}o.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,o,i]=t;this[r](o,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function fhe(e){const n=e.iScale,t=function dhe(e,n){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(n);let r=[];for(let o=0,i=t.length;o<i;o++)r=r.concat(t[o].controller.getAllParsedValues(e));e._cache.$bar=_8(r.sort((o,i)=>o-i))}return e._cache.$bar}(n,e.type);let o,i,a,l,r=n._length;const u=()=>{32767===a||-32768===a||(Qp(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(o=0,i=t.length;o<i;++o)a=n.getPixelForValue(t[o]),u();for(l=void 0,o=0,i=n.ticks.length;o<i;++o)a=n.getPixelForTick(o),u();return r}function pW(e,n,t,r){return io(e)?function mhe(e,n,t,r){const o=t.parse(e[0],r),i=t.parse(e[1],r),a=Math.min(o,i),l=Math.max(o,i);let u=a,c=l;Math.abs(a)>Math.abs(l)&&(u=l,c=a),n[t.axis]=c,n._custom={barStart:u,barEnd:c,start:o,end:i,min:a,max:l}}(e,n,t,r):n[t.axis]=t.parse(e,r),n}function vW(e,n,t,r){const o=e.iScale,i=e.vScale,a=o.getLabels(),l=o===i,u=[];let c,f,M,_;for(c=t,f=t+r;c<f;++c)_=n[c],M={},M[o.axis]=l||o.parse(a[c],c),u.push(pW(_,M,i,c));return u}function JP(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Ehe(e,n,t,r){let o=n.borderSkipped;const i={};if(!o)return void(e.borderSkipped=i);if(!0===o)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:u,top:c,bottom:f}=function vhe(e){let n,t,r,o,i;return e.horizontal?(n=e.base>e.x,t="left",r="right"):(n=e.base<e.y,t="bottom",r="top"),n?(o="end",i="start"):(o="start",i="end"),{start:t,end:r,reverse:n,top:o,bottom:i}}(e);"middle"===o&&t&&(e.enableBorderRadius=!0,(t._top||0)===r?o=c:(t._bottom||0)===r?o=f:(i[EW(f,a,l,u)]=!0,o=c)),i[EW(o,a,l,u)]=!0,e.borderSkipped=i}function EW(e,n,t,r){return r?(e=function yhe(e,n,t){return e===n?t:e===t?n:e}(e,n,t),e=yW(e,t,n)):e=yW(e,n,t),e}function yW(e,n,t){return"start"===e?n:"end"===e?t:e}function Dhe(e,{inflateAmount:n},t){e.inflateAmount="auto"===n?1===t?.33:0:n}let Mhe=(()=>class e extends vc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,o,i){return vW(t,r,o,i)}parseArrayData(t,r,o,i){return vW(t,r,o,i)}parseObjectData(t,r,o,i){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f="x"===a.axis?u:c,M="x"===l.axis?u:c,_=[];let I,U,k,Y;for(I=o,U=o+i;I<U;++I)Y=r[I],k={},k[a.axis]=a.parse(hc(Y,f),I),_.push(pW(hc(Y,M),k,l,I));return _}updateRangeFromParsed(t,r,o,i){super.updateRangeFromParsed(t,r,o,i);const a=o._custom;a&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:o,vScale:i}=r,a=this.getParsed(t),l=a._custom,u=JP(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+o.getLabelForValue(a[o.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,o,i){const a="reset"===i,{index:l,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),M=this._getRuler(),{sharedOptions:_,includeOptions:I}=this._getSharedOptions(r,i);for(let U=r;U<r+o;U++){const k=this.getParsed(U),Y=a||tr(k[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(U),J=this._calculateBarIndexPixels(U,M),se=(k._stacks||{})[u.axis],he={horizontal:f,base:Y.base,enableBorderRadius:!se||JP(k._custom)||l===se._top||l===se._bottom,x:f?Y.head:J.center,y:f?J.center:Y.head,height:f?J.size:Math.abs(Y.size),width:f?Math.abs(Y.size):J.size};I&&(he.options=_||this.resolveDataElementOptions(U,t[U].active?"active":i));const fe=he.options||t[U].options;Ehe(he,fe,se,l),Dhe(he,fe,M.ratio),this.updateElement(t[U],U,he,i)}}_getStacks(t,r){const{iScale:o}=this._cachedMeta,i=o.getMatchingVisibleMetas(this._type).filter(M=>M.controller.options.grouped),a=o.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(r),c=u&&u[o.axis],f=M=>{const _=M._parsed.find(U=>U[o.axis]===c),I=_&&_[M.vScale.axis];if(tr(I)||isNaN(I))return!0};for(const M of i)if((void 0===r||!f(M))&&((!1===a||-1===l.indexOf(M.stack)||void 0===a&&void 0===M.stack)&&l.push(M.stack),M.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(o=>t[o].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const o of this.chart.data.datasets)t[Nn("x"===this.chart.options.indexAxis?o.xAxisID:o.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,o){const i=this._getStacks(t,o),a=void 0!==r?i.indexOf(r):-1;return-1===a?i.length-1:a}_getRuler(){const t=this.options,r=this._cachedMeta,o=r.iScale,i=[];let a,l;for(a=0,l=r.data.length;a<l;++a)i.push(o.getPixelForValue(this.getParsed(a)[o.axis],a));const u=t.barThickness;return{min:u||fhe(r),pixels:i,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:o,index:i},options:{base:a,minBarLength:l}}=this,u=a||0,c=this.getParsed(t),f=c._custom,M=JP(f);let k,Y,_=c[r.axis],I=0,U=o?this.applyStack(r,c,o):_;U!==_&&(I=U-_,U=_),M&&(_=f.barStart,U=f.barEnd-f.barStart,0!==_&&pl(_)!==pl(f.barEnd)&&(I=0),I+=_);const J=tr(a)||M?I:a;let se=r.getPixelForValue(J);if(k=this.chart.getDataVisibility(t)?r.getPixelForValue(I+U):se,Y=k-se,Math.abs(Y)<l){Y=function phe(e,n,t){return 0!==e?pl(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}(Y,r,u)*l,_===u&&(se-=Y/2);const he=r.getPixelForDecimal(0),fe=r.getPixelForDecimal(1),Me=Math.min(he,fe),we=Math.max(he,fe);se=Math.max(Math.min(se,we),Me),k=se+Y,o&&!M&&(c._stacks[r.axis]._visualValues[i]=r.getValueForPixel(k)-r.getValueForPixel(se))}if(se===r.getPixelForValue(u)){const he=pl(Y)*r.getLineWidthForValue(u)/2;se+=he,Y-=he}return{size:Y,base:se,head:k,center:k+Y/2}}_calculateBarIndexPixels(t,r){const o=r.scale,i=this.options,a=i.skipNull,l=Nn(i.maxBarThickness,1/0);let u,c;const f=this._getAxisCount();if(r.grouped){const M=a?this._getStackCount(t):r.stackCount,_="flex"===i.barThickness?function ghe(e,n,t,r){const o=n.pixels,i=o[e];let a=e>0?o[e-1]:null,l=e<o.length-1?o[e+1]:null;const u=t.categoryPercentage;null===a&&(a=i-(null===l?n.end-n.start:l-i)),null===l&&(l=i+i-a);const c=i-(i-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/r,ratio:t.barPercentage,start:c}}(t,r,i,M*f):function hhe(e,n,t,r){const o=t.barThickness;let i,a;return tr(o)?(i=n.min*t.categoryPercentage,a=t.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:n.pixels[e]-i/2}}(t,r,i,M*f),I="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,U=this._getAxis().indexOf(Nn(I,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+U;u=_.start+_.chunk*k+_.chunk/2,c=Math.min(l,_.chunk*_.ratio)}else u=o.getPixelForValue(this.getParsed(t)[o.axis],t),c=Math.min(l,r.min*r.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,o=t.data,i=o.length;let a=0;for(;a<i;++a)null!==this.getParsed(a)[r.axis]&&!o[a].hidden&&o[a].draw(this._ctx)}})(),bhe=(()=>class e extends vc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,o,i){const a=super.parsePrimitiveData(t,r,o,i);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+o).radius;return a}parseArrayData(t,r,o,i){const a=super.parseArrayData(t,r,o,i);for(let l=0;l<a.length;l++)a[l]._custom=Nn(r[o+l][2],this.resolveDataElementOptions(l+o).radius);return a}parseObjectData(t,r,o,i){const a=super.parseObjectData(t,r,o,i);for(let l=0;l<a.length;l++){const u=r[o+l];a[l]._custom=Nn(u&&u.r&&+u.r,this.resolveDataElementOptions(l+o).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let o=t.length-1;o>=0;--o)r=Math.max(r,t[o].size(this.resolveDataElementOptions(o))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,o=this.chart.data.labels||[],{xScale:i,yScale:a}=r,l=this.getParsed(t),u=i.getLabelForValue(l.x),c=a.getLabelForValue(l.y),f=l._custom;return{label:o[t]||"",value:"("+u+", "+c+(f?", "+f:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,o,i){const a="reset"===i,{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(r,i),M=l.axis,_=u.axis;for(let I=r;I<r+o;I++){const U=t[I],k=!a&&this.getParsed(I),Y={},J=Y[M]=a?l.getPixelForDecimal(.5):l.getPixelForValue(k[M]),se=Y[_]=a?u.getBasePixel():u.getPixelForValue(k[_]);Y.skip=isNaN(J)||isNaN(se),f&&(Y.options=c||this.resolveDataElementOptions(I,U.active?"active":i),a&&(Y.options.radius=0)),this.updateElement(U,I,Y,i)}}resolveDataElementOptions(t,r){const o=this.getParsed(t);let i=super.resolveDataElementOptions(t,r);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return"active"!==r&&(i.radius=0),i.radius+=Nn(o&&o._custom,a),i}})(),QP=(()=>class e extends vc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:o,color:i}}=t.legend.options;return r.labels.map((a,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,r,o){o.chart.toggleDataVisibility(r.index),o.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const o=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=o;else{let l,u,a=c=>+o[c];if(nr(o[t])){const{key:c="value"}=this._parsing;a=f=>+hc(o[f],c)}for(l=t,u=t+r;l<u;++l)i._parsed[l]=a(l)}}_getRotation(){return Us(this.options.rotation-90)}_getCircumference(){return Us(this.options.circumference)}_getRotationExtents(){let t=ao,r=-ao;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const i=this.chart.getDatasetMeta(o).controller,a=i._getRotation(),l=i._getCircumference();t=Math.min(t,a),r=Math.max(r,a+l)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:o}=r,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(o.width,o.height)-l)/2,0),c=Math.min(((e,n)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/n)(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:M,rotation:_}=this._getRotationExtents(),{ratioX:I,ratioY:U,offsetX:k,offsetY:Y}=function Che(e,n,t){let r=1,o=1,i=0,a=0;if(n<ao){const l=e,u=l+n,c=Math.cos(l),f=Math.sin(l),M=Math.cos(u),_=Math.sin(u),I=(he,fe,Me)=>ev(he,l,u,!0)?1:Math.max(fe,fe*t,Me,Me*t),U=(he,fe,Me)=>ev(he,l,u,!0)?-1:Math.min(fe,fe*t,Me,Me*t),k=I(0,c,M),Y=I(Ro,f,_),J=U(vr,c,M),se=U(vr+Ro,f,_);r=(k-J)/2,o=(Y-se)/2,i=-(k+J)/2,a=-(Y+se)/2}return{ratioX:r,ratioY:o,offsetX:i,offsetY:a}}(_,M,c),he=Math.max(Math.min((o.width-l)/I,(o.height-l)/U)/2,0),fe=y8(this.options.radius,he),we=(fe-Math.max(fe*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*fe,this.offsetY=Y*fe,i.total=this.calculateTotal(),this.outerRadius=fe-we*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-we*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,r){const o=this.options,i=this._cachedMeta,a=this._getCircumference();return r&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/ao)}updateElements(t,r,o,i){const a="reset"===i,l=this.chart,u=l.chartArea,M=(u.left+u.right)/2,_=(u.top+u.bottom)/2,I=a&&l.options.animation.animateScale,U=I?0:this.innerRadius,k=I?0:this.outerRadius,{sharedOptions:Y,includeOptions:J}=this._getSharedOptions(r,i);let he,se=this._getRotation();for(he=0;he<r;++he)se+=this._circumference(he,a);for(he=r;he<r+o;++he){const fe=this._circumference(he,a),Me=t[he],we={x:M+this.offsetX,y:_+this.offsetY,startAngle:se,endAngle:se+fe,circumference:fe,outerRadius:k,innerRadius:U};J&&(we.options=Y||this.resolveDataElementOptions(he,Me.active?"active":i)),se+=fe,this.updateElement(Me,he,we,i)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let i,o=0;for(i=0;i<r.length;i++){const a=t._parsed[i];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(o+=Math.abs(a))}return o}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?ao*(Math.abs(t)/r):0}getLabelAndValue(t){const o=this.chart,i=o.data.labels||[],a=nv(this._cachedMeta._parsed[t],o.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let r=0;const o=this.chart;let i,a,l,u,c;if(!t)for(i=0,a=o.data.datasets.length;i<a;++i)if(o.isDatasetVisible(i)){l=o.getDatasetMeta(i),t=l.data,u=l.controller;break}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=u.resolveDataElementOptions(i),"inner"!==c.borderAlign&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let o=0,i=t.length;o<i;++o){const a=this.resolveDataElementOptions(o);r=Math.max(r,a.offset||0,a.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(r+=this._getRingWeight(o));return r}_getRingWeight(t){return Math.max(Nn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),The=(()=>class e extends vc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:o,data:i=[],_dataset:a}=r,l=this.chart._animationsDisabled;let{start:u,count:c}=R8(r,i,l);this._drawStart=u,this._drawCount=c,w8(r)&&(u=0,c=i.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!l,options:f},t),this.updateElements(i,u,c,t)}updateElements(t,r,o,i){const a="reset"===i,{iScale:l,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:M,includeOptions:_}=this._getSharedOptions(r,i),I=l.axis,U=u.axis,{spanGaps:k,segment:Y}=this.options,J=ug(k)?k:Number.POSITIVE_INFINITY,se=this.chart._animationsDisabled||a||"none"===i,he=r+o,fe=t.length;let Me=r>0&&this.getParsed(r-1);for(let we=0;we<fe;++we){const Be=t[we],Oe=se?Be:{};if(we<r||we>=he){Oe.skip=!0;continue}const be=this.getParsed(we),Ue=tr(be[U]),ge=Oe[I]=l.getPixelForValue(be[I],we),Ce=Oe[U]=a||Ue?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,be,c):be[U],we);Oe.skip=isNaN(ge)||isNaN(Ce)||Ue,Oe.stop=we>0&&Math.abs(be[I]-Me[I])>J,Y&&(Oe.parsed=be,Oe.raw=f.data[we]),_&&(Oe.options=M||this.resolveDataElementOptions(we,Be.active?"active":i)),se||this.updateElement(Be,we,Oe,i),Me=be}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,o=r.options&&r.options.borderWidth||0,i=t.data||[];if(!i.length)return o;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}})(),DW=(()=>class e extends vc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:o,color:i}}=t.legend.options;return r.labels.map((a,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,r,o){o.chart.toggleDataVisibility(r.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const o=this.chart,i=o.data.labels||[],a=nv(this._cachedMeta._parsed[t].r,o.options.locale);return{label:i[t]||"",value:a}}parseObjectData(t,r,o,i){return Z8.bind(this)(t,r,o,i)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,i)=>{const a=this.getParsed(i).r;!isNaN(a)&&this.chart.getDataVisibility(i)&&(a<r.min&&(r.min=a),a>r.max&&(r.max=a))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,o=t.options,i=Math.min(r.right-r.left,r.bottom-r.top),a=Math.max(i/2,0),u=(a-Math.max(o.cutoutPercentage?a/100*o.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,r,o,i){const a="reset"===i,l=this.chart,c=l.options.animation,f=this._cachedMeta.rScale,M=f.xCenter,_=f.yCenter,I=f.getIndexAngle(0)-.5*vr;let k,U=I;const Y=360/this.countVisibleElements();for(k=0;k<r;++k)U+=this._computeAngle(k,i,Y);for(k=r;k<r+o;k++){const J=t[k];let se=U,he=U+this._computeAngle(k,i,Y),fe=l.getDataVisibility(k)?f.getDistanceFromCenterForValue(this.getParsed(k).r):0;U=he,a&&(c.animateScale&&(fe=0),c.animateRotate&&(se=he=I));const Me={x:M,y:_,innerRadius:0,outerRadius:fe,startAngle:se,endAngle:he,options:this.resolveDataElementOptions(k,J.active?"active":i)};this.updateElement(J,k,Me,i)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((o,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(t,r,o){return this.chart.getDataVisibility(t)?Us(this.resolveDataElementOptions(t,r).angle||o):0}})();var Ohe=Object.freeze({__proto__:null,BarController:Mhe,BubbleController:bhe,DoughnutController:QP,LineController:The,PieController:(()=>class e extends QP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:DW,RadarController:(()=>class e extends vc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const r=this._cachedMeta.vScale,o=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(o[r.axis])}}parseObjectData(t,r,o,i){return Z8.bind(this)(t,r,o,i)}update(t){const r=this._cachedMeta,o=r.dataset,i=r.data||[],a=r.iScale.getLabels();if(o.points=i,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:a.length===i.length,options:l},t)}this.updateElements(i,0,i.length,t)}updateElements(t,r,o,i){const a=this._cachedMeta.rScale,l="reset"===i;for(let u=r;u<r+o;u++){const c=t[u],f=this.resolveDataElementOptions(u,c.active?"active":i),M=a.getPointPositionForValue(u,this.getParsed(u).r),_=l?a.xCenter:M.x,I=l?a.yCenter:M.y,U={x:_,y:I,angle:M.angle,skip:isNaN(_)||isNaN(I),options:f};this.updateElement(c,u,U,i)}}})(),ScatterController:(()=>class e extends vc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const r=this._cachedMeta,o=this.chart.data.labels||[],{xScale:i,yScale:a}=r,l=this.getParsed(t),u=i.getLabelForValue(l.x),c=a.getLabelForValue(l.y);return{label:o[t]||"",value:"("+u+", "+c+")"}}update(t){const r=this._cachedMeta,{data:o=[]}=r,i=this.chart._animationsDisabled;let{start:a,count:l}=R8(r,o,i);if(this._drawStart=a,this._drawCount=l,w8(r)&&(a=0,l=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:c}=r;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=o;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!i,options:f},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(o,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,o,i){const a="reset"===i,{iScale:l,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,M=this.resolveDataElementOptions(r,i),_=this.getSharedOptions(M),I=this.includeOptions(i,_),U=l.axis,k=u.axis,{spanGaps:Y,segment:J}=this.options,se=ug(Y)?Y:Number.POSITIVE_INFINITY,he=this.chart._animationsDisabled||a||"none"===i;let fe=r>0&&this.getParsed(r-1);for(let Me=r;Me<r+o;++Me){const we=t[Me],Be=this.getParsed(Me),Oe=he?we:{},be=tr(Be[k]),Ue=Oe[U]=l.getPixelForValue(Be[U],Me),ge=Oe[k]=a||be?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,Be,c):Be[k],Me);Oe.skip=isNaN(Ue)||isNaN(ge)||be,Oe.stop=Me>0&&Math.abs(Be[U]-fe[U])>se,J&&(Oe.parsed=Be,Oe.raw=f.data[Me]),I&&(Oe.options=_||this.resolveDataElementOptions(Me,we.active?"active":i)),he||this.updateElement(we,Me,Oe,i),fe=Be}this.updateSharedOptions(_,i,M)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let u=0;for(let c=r.length-1;c>=0;--c)u=Math.max(u,r[c].size(this.resolveDataElementOptions(c))/2);return u>0&&u}const o=t.dataset,i=o.options&&o.options.borderWidth||0;if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,l)/2}})()});function zd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qP{static override(n){Object.assign(qP.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return zd()}parse(){return zd()}format(){return zd()}add(){return zd()}diff(){return zd()}startOf(){return zd()}endOf(){return zd()}}var Phe__date=qP;function Ihe(e,n,t,r){const{controller:o,data:i,_sorted:a}=e,l=o._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&n===l.axis&&"r"!==n&&a&&i.length){const c=l._reversePixels?$de:ou;if(!r){const f=c(i,n,t);if(u){const{vScale:M}=o._cachedMeta,{_parsed:_}=e,I=_.slice(0,f.lo+1).reverse().findIndex(k=>!tr(k[M.axis]));f.lo-=Math.max(0,I);const U=_.slice(f.hi).findIndex(k=>!tr(k[M.axis]));f.hi+=Math.max(0,U)}return f}if(o._sharedOptions){const f=i[0],M="function"==typeof f.getRange&&f.getRange(n);if(M){const _=c(i,n,t-M),I=c(i,n,t+M);return{lo:_.lo,hi:I.hi}}}}return{lo:0,hi:i.length-1}}function sv(e,n,t,r,o){const i=e.getSortedVisibleDatasetMetas(),a=t[n];for(let l=0,u=i.length;l<u;++l){const{index:c,data:f}=i[l],{lo:M,hi:_}=Ihe(i[l],n,a,o);for(let I=M;I<=_;++I){const U=f[I];U.skip||r(U,c,I)}}}function e5(e,n,t,r,o){const i=[];return!o&&!e.isPointInArea(n)||sv(e,t,n,function(l,u,c){!o&&!iu(l,e.chartArea,0)||l.inRange(n.x,n.y,r)&&i.push({element:l,datasetIndex:u,index:c})},!0),i}function t5(e,n,t,r,o,i){return i||e.isPointInArea(n)?"r"!==t||r?function _he(e,n,t,r,o,i){let a=[];const l=function xhe(e){const n=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(r,o){const i=n?Math.abs(r.x-o.x):0,a=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(t);let u=Number.POSITIVE_INFINITY;return sv(e,t,n,function c(f,M,_){const I=f.inRange(n.x,n.y,o);if(r&&!I)return;const U=f.getCenterPoint(o);if(!i&&!e.isPointInArea(U)&&!I)return;const Y=l(n,U);Y<u?(a=[{element:f,datasetIndex:M,index:_}],u=Y):Y===u&&a.push({element:f,datasetIndex:M,index:_})}),a}(e,n,t,r,o,i):function Ahe(e,n,t,r){let o=[];return sv(e,t,n,function i(a,l,u){const{startAngle:c,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:M}=I8(a,{x:n.x,y:n.y});ev(M,c,f)&&o.push({element:a,datasetIndex:l,index:u})}),o}(e,n,t,o):[]}function MW(e,n,t,r,o){const i=[],a="x"===t?"inXRange":"inYRange";let l=!1;return sv(e,t,n,(u,c,f)=>{u[a]&&u[a](n[t],o)&&(i.push({element:u,datasetIndex:c,index:f}),l=l||u.inRange(n.x,n.y,o))}),r&&!l?[]:i}var She={evaluateInteractionItems:sv,modes:{index(e,n,t,r){const o=Vd(n,e),i=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?e5(e,o,i,r,a):t5(e,o,i,!1,r,a),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const f=l[0].index,M=c.data[f];M&&!M.skip&&u.push({element:M,datasetIndex:c.index,index:f})}),u):[]},dataset(e,n,t,r){const o=Vd(n,e),i=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?e5(e,o,i,r,a):t5(e,o,i,!1,r,a);if(l.length>0){const u=l[0].datasetIndex,c=e.getDatasetMeta(u).data;l=[];for(let f=0;f<c.length;++f)l.push({element:c[f],datasetIndex:u,index:f})}return l},point:(e,n,t,r)=>e5(e,Vd(n,e),t.axis||"xy",r,t.includeInvisible||!1),nearest:(e,n,t,r)=>t5(e,Vd(n,e),t.axis||"xy",t.intersect,r,t.includeInvisible||!1),x:(e,n,t,r)=>MW(e,Vd(n,e),"x",t.intersect,r),y:(e,n,t,r)=>MW(e,Vd(n,e),"y",t.intersect,r)}};const bW=["left","top","right","bottom"];function lv(e,n){return e.filter(t=>t.pos===n)}function CW(e,n){return e.filter(t=>-1===bW.indexOf(t.pos)&&t.box.axis===n)}function uv(e,n){return e.sort((t,r)=>{const o=n?r:t,i=n?t:r;return o.weight===i.weight?o.index-i.index:o.weight-i.weight})}function TW(e,n,t,r){return Math.max(e[t],n[t])+Math.max(e[r],n[r])}function OW(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function Nhe(e,n,t,r){const{pos:o,box:i}=t,a=e.maxPadding;if(!nr(o)){t.size&&(e[o]-=t.size);const M=r[t.stack]||{size:0,count:1};M.size=Math.max(M.size,t.horizontal?i.height:i.width),t.size=M.size/M.count,e[o]+=t.size}i.getPadding&&OW(a,i.getPadding());const l=Math.max(0,n.outerWidth-TW(a,e,"left","right")),u=Math.max(0,n.outerHeight-TW(a,e,"top","bottom")),c=l!==e.w,f=u!==e.h;return e.w=l,e.h=u,t.horizontal?{same:c,other:f}:{same:f,other:c}}function Uhe(e,n){const t=n.maxPadding;return function r(o){const i={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{i[a]=Math.max(n[a],t[a])}),i}(e?["left","right"]:["top","bottom"])}function cv(e,n,t,r){const o=[];let i,a,l,u,c,f;for(i=0,a=e.length,c=0;i<a;++i){l=e[i],u=l.box,u.update(l.width||n.w,l.height||n.h,Uhe(l.horizontal,n));const{same:M,other:_}=Nhe(n,t,l,r);c|=M&&o.length,f=f||_,u.fullSize||o.push(l)}return c&&cv(o,n,t,r)||f}function sM(e,n,t,r,o){e.top=t,e.left=n,e.right=n+r,e.bottom=t+o,e.width=r,e.height=o}function PW(e,n,t,r){const o=t.padding;let{x:i,y:a}=n;for(const l of e){const u=l.box,c=r[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/c.weight||1;if(l.horizontal){const M=n.w*f,_=c.size||u.height;Qp(c.start)&&(a=c.start),u.fullSize?sM(u,o.left,a,t.outerWidth-o.right-o.left,_):sM(u,n.left+c.placed,a,M,_),c.start=a,c.placed+=M,a=u.bottom}else{const M=n.h*f,_=c.size||u.width;Qp(c.start)&&(i=c.start),u.fullSize?sM(u,i,o.top,_,t.outerHeight-o.bottom-o.top):sM(u,i,n.top+c.placed,_,M),c.start=i,c.placed+=M,i=u.right}}n.x=i,n.y=a}var Vi={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){const t=e.boxes?e.boxes.indexOf(n):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,r){if(!e)return;const o=Hi(e.options.layout.padding),i=Math.max(n-o.width,0),a=Math.max(t-o.height,0),l=function jhe(e){const n=function Lhe(e){const n=[];let t,r,o,i,a,l;for(t=0,r=(e||[]).length;t<r;++t)o=e[t],({position:i,options:{stack:a,stackWeight:l=1}}=o),n.push({index:t,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&i+a,stackWeight:l});return n}(e),t=uv(n.filter(c=>c.box.fullSize),!0),r=uv(lv(n,"left"),!0),o=uv(lv(n,"right")),i=uv(lv(n,"top"),!0),a=uv(lv(n,"bottom")),l=CW(n,"x"),u=CW(n,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:o.concat(u).concat(a).concat(l),chartArea:lv(n,"chartArea"),vertical:r.concat(o).concat(u),horizontal:i.concat(a).concat(l)}}(e.boxes),u=l.vertical,c=l.horizontal;Sr(e.boxes,k=>{"function"==typeof k.beforeLayout&&k.beforeLayout()});const f=u.reduce((k,Y)=>Y.box.options&&!1===Y.box.options.display?k:k+1,0)||1,M=Object.freeze({outerWidth:n,outerHeight:t,padding:o,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/f,hBoxMaxHeight:a/2}),_=Object.assign({},o);OW(_,Hi(r));const I=Object.assign({maxPadding:_,w:i,h:a,x:o.left,y:o.top},o),U=function whe(e,n){const t=function Rhe(e){const n={};for(const t of e){const{stack:r,pos:o,stackWeight:i}=t;if(!r||!bW.includes(o))continue;const a=n[r]||(n[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return n}(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=n;let i,a,l;for(i=0,a=e.length;i<a;++i){l=e[i];const{fullSize:u}=l.box,c=t[l.stack],f=c&&l.stackWeight/c.weight;l.horizontal?(l.width=f?f*r:u&&n.availableWidth,l.height=o):(l.width=r,l.height=f?f*o:u&&n.availableHeight)}return t}(u.concat(c),M);cv(l.fullSize,I,M,U),cv(u,I,M,U),cv(c,I,M,U)&&cv(u,I,M,U),function Bhe(e){const n=e.maxPadding;function t(r){const o=Math.max(n[r]-e[r],0);return e[r]+=o,o}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(I),PW(l.leftAndTop,I,M,U),I.x+=I.w,I.y+=I.h,PW(l.rightAndBottom,I,M,U),e.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},Sr(l.chartArea,k=>{const Y=k.box;Object.assign(Y,e.chartArea),Y.update(I.w,I.h,{left:0,top:0,right:0,bottom:0})})}};class IW{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,r){}removeEventListener(n,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,r,o){return t=Math.max(0,t||n.width),r=r||n.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(n){return!0}updateConfig(n){}}class Fhe extends IW{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const lM="$chartjs",Whe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xW=e=>null===e||""===e,AW=!!Ffe&&{passive:!0};function Vhe(e,n,t){e&&e.canvas&&e.canvas.removeEventListener(n,t,AW)}function uM(e,n){for(const t of e)if(t===n||t.contains(n))return!0}function zhe(e,n,t){const r=e.canvas,o=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||uM(l.addedNodes,r),a=a&&!uM(l.removedNodes,r);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function $he(e,n,t){const r=e.canvas,o=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||uM(l.removedNodes,r),a=a&&!uM(l.addedNodes,r);a&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const dv=new Map;let _W=0;function SW(){const e=window.devicePixelRatio;e!==_W&&(_W=e,dv.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function Zhe(e,n,t){const r=e.canvas,o=r&&GP(r);if(!o)return;const i=L8((l,u)=>{const c=o.clientWidth;t(l,u),c<o.clientWidth&&t()},window),a=new ResizeObserver(l=>{const u=l[0],c=u.contentRect.width,f=u.contentRect.height;0===c&&0===f||i(c,f)});return a.observe(o),function Ghe(e,n){dv.size||window.addEventListener("resize",SW),dv.set(e,n)}(e,i),a}function n5(e,n,t){t&&t.disconnect(),"resize"===n&&function Yhe(e){dv.delete(e),dv.size||window.removeEventListener("resize",SW)}(e)}function Xhe(e,n,t){const r=e.canvas,o=L8(i=>{null!==e.ctx&&t(function Khe(e,n){const t=Whe[e.type]||e.type,{x:r,y:o}=Vd(e,n);return{type:t,chart:n,native:e,x:void 0!==r?r:null,y:void 0!==o?o:null}}(i,e))},e);return function Hhe(e,n,t){e&&e.addEventListener(n,t,AW)}(r,n,o),o}class Jhe extends IW{acquireContext(n,t){const r=n&&n.getContext&&n.getContext("2d");return r&&r.canvas===n?(function khe(e,n){const t=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[lM]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",xW(o)){const i=Q8(e,"width");void 0!==i&&(e.width=i)}if(xW(r))if(""===e.style.height)e.height=e.width/(n||2);else{const i=Q8(e,"height");void 0!==i&&(e.height=i)}}(n,t),r):null}releaseContext(n){const t=n.canvas;if(!t[lM])return!1;const r=t[lM].initial;["height","width"].forEach(i=>{const a=r[i];tr(a)?t.removeAttribute(i):t.setAttribute(i,a)});const o=r.style||{};return Object.keys(o).forEach(i=>{t.style[i]=o[i]}),t.width=t.width,delete t[lM],!0}addEventListener(n,t,r){this.removeEventListener(n,t),(n.$proxies||(n.$proxies={}))[t]=({attach:zhe,detach:$he,resize:Zhe}[t]||Xhe)(n,t,r)}removeEventListener(n,t){const r=n.$proxies||(n.$proxies={}),o=r[t];o&&(({attach:n5,detach:n5,resize:n5}[t]||Vhe)(n,t,o),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,r,o){return function Ufe(e,n,t,r){const o=oM(e),i=Hd(o,"margin"),a=rM(o.maxWidth,e,"clientWidth")||XD,l=rM(o.maxHeight,e,"clientHeight")||XD,u=function Bfe(e,n,t){let r,o;if(void 0===n||void 0===t){const i=e&&GP(e);if(i){const a=i.getBoundingClientRect(),l=oM(i),u=Hd(l,"border","width"),c=Hd(l,"padding");n=a.width-c.width-u.width,t=a.height-c.height-u.height,r=rM(l.maxWidth,i,"clientWidth"),o=rM(l.maxHeight,i,"clientHeight")}else n=e.clientWidth,t=e.clientHeight}return{width:n,height:t,maxWidth:r||XD,maxHeight:o||XD}}(e,n,t);let{width:c,height:f}=u;if("content-box"===o.boxSizing){const _=Hd(o,"border","width"),I=Hd(o,"padding");c-=I.width+_.width,f-=I.height+_.height}return c=Math.max(0,c-i.width),f=Math.max(0,r?c/r:f-i.height),c=iM(Math.min(c,a,u.maxWidth)),f=iM(Math.min(f,l,u.maxHeight)),c&&!f&&(f=iM(c/2)),(void 0!==n||void 0!==t)&&r&&u.height&&f>u.height&&(f=u.height,c=iM(Math.floor(f*r))),{width:c,height:f}}(n,t,r,o)}isAttached(n){const t=n&&GP(n);return!(!t||!t.isConnected)}}class su{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:t,y:r}=this.getProps(["x","y"],n);return{x:t,y:r}}hasValue(){return ug(this.x)&&ug(this.y)}getProps(n,t){const r=this.$animations;if(!t||!r)return this;const o={};return n.forEach(i=>{o[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),o}}function cM(e,n,t,r,o){const i=Nn(r,0),a=Math.min(Nn(o,e.length),e.length);let u,c,f,l=0;for(t=Math.ceil(t),o&&(u=o-r,t=u/Math.floor(u/t)),f=i;f<0;)l++,f=Math.round(i+l*t);for(c=Math.max(i,0);c<a;c++)c===f&&(n.push(e[c]),l++,f=Math.round(i+l*t))}const LW=(e,n,t)=>"top"===n||"left"===n?e[n]+t:e[n]-t,RW=(e,n)=>Math.min(n||e,e);function wW(e,n){const t=[],r=e.length/n,o=e.length;let i=0;for(;i<o;i+=r)t.push(e[Math.floor(i)]);return t}function age(e,n,t){const r=e.ticks.length,o=Math.min(n,r-1),i=e._startPixel,a=e._endPixel,l=1e-6;let c,u=e.getPixelForTick(o);if(!(t&&(c=1===r?Math.max(u-i,a-u):0===n?(e.getPixelForTick(1)-u)/2:(u-e.getPixelForTick(o-1))/2,u+=o<n?c:-c,u<i-l||u>a+l)))return u}function fv(e){return e.drawTicks?e.tickLength:0}function jW(e,n){if(!e.display)return 0;const t=Qo(e.font,n),r=Hi(e.padding);return(io(e.text)?e.text.length:1)*t.lineHeight+r.height}function cge(e,n,t){let r=NP(e);return(t&&"right"!==n||!t&&"right"===n)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class $d extends su{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return n=Wa(n,Number.POSITIVE_INFINITY),t=Wa(t,Number.NEGATIVE_INFINITY),r=Wa(r,Number.POSITIVE_INFINITY),o=Wa(o,Number.NEGATIVE_INFINITY),{min:Wa(n,r),max:Wa(t,o),minDefined:bo(n),maxDefined:bo(t)}}getMinMax(n){let a,{min:t,max:r,minDefined:o,maxDefined:i}=this.getUserBounds();if(o&&i)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,c=l.length;u<c;++u)a=l[u].controller.getMinMax(this,n),o||(t=Math.min(t,a.min)),i||(r=Math.max(r,a.max));return t=i&&t>r?r:t,r=o&&t>r?t:r,{min:Wa(t,Wa(r,t)),max:Wa(r,Wa(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jr(this.options.beforeUpdate,[this])}update(n,t,r){const{beginAtZero:o,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function pfe(e,n,t){const{min:r,max:o}=e,i=y8(n,(o-r)/2),a=(l,u)=>t&&0===l?0:l+u;return{min:a(r,-Math.abs(i)),max:a(o,i)}}(this,i,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?wW(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function qhe(e,n){const t=e.options.ticks,r=function ege(e){const n=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(n?0:1),e._maxLength/t))}(e),o=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?function nge(e){const n=[];let t,r;for(t=0,r=e.length;t<r;t++)e[t].major&&n.push(t);return n}(n):[],a=i.length,l=i[0],u=i[a-1],c=[];if(a>o)return function rge(e,n,t,r){let a,o=0,i=t[0];for(r=Math.ceil(r),a=0;a<e.length;a++)a===i&&(n.push(e[a]),o++,i=t[o*r])}(n,c,i,a/o),c;const f=function tge(e,n,t){const r=function oge(e){const n=e.length;let t,r;if(n<2)return!1;for(r=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==r)return!1;return r}(e),o=n.length/t;if(!r)return Math.max(o,1);const i=function kde(e){const n=[],t=Math.sqrt(e);let r;for(r=1;r<t;r++)e%r===0&&(n.push(r),n.push(e/r));return t===(0|t)&&n.push(t),n.sort((o,i)=>o-i).pop(),n}(r);for(let a=0,l=i.length-1;a<l;a++){const u=i[a];if(u>o)return u}return Math.max(o,1)}(i,n,o);if(a>0){let M,_;const I=a>1?Math.round((u-l)/(a-1)):null;for(cM(n,c,f,tr(I)?0:l-I,l),M=0,_=a-1;M<_;M++)cM(n,c,f,i[M],i[M+1]);return cM(n,c,f,u,tr(I)?n.length:u+I),c}return cM(n,c,f),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,r,n=this.options.reverse;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,n=!n),this._startPixel=t,this._endPixel=r,this._reversePixels=n,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jr(this.options.afterUpdate,[this])}beforeSetDimensions(){Jr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jr(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),Jr(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const t=this.options.ticks;let r,o,i;for(r=0,o=n.length;r<o;r++)i=n[r],i.label=Jr(t.callback,[i.value,r,n],this)}afterTickToLabelConversion(){Jr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,t=n.ticks,r=RW(this.ticks.length,n.ticks.maxTicksLimit),o=t.minRotation||0,i=t.maxRotation;let l,u,c,a=o;if(!this._isVisible()||!t.display||o>=i||r<=1||!this.isHorizontal())return void(this.labelRotation=o);const f=this._getLabelSizes(),M=f.widest.width,_=f.highest.height,I=gi(this.chart.width-M,0,this.maxWidth);l=n.offset?this.maxWidth/r:I/(r-1),M+6>l&&(l=I/(r-(n.offset?.5:1)),u=this.maxHeight-fv(n.grid)-t.padding-jW(n.title,this.chart.options.font),c=Math.sqrt(M*M+_*_),a=RP(Math.min(Math.asin(gi((f.highest.height+6)/l,-1,1)),Math.asin(gi(u/c,-1,1))-Math.asin(gi(_/c,-1,1)))),a=Math.max(o,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Jr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jr(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=jW(o,t.options.font);if(l?(n.width=this.maxWidth,n.height=fv(i)+u):(n.height=this.maxHeight,n.width=fv(i)+u),r.display&&this.ticks.length){const{first:c,last:f,widest:M,highest:_}=this._getLabelSizes(),I=2*r.padding,U=Us(this.labelRotation),k=Math.cos(U),Y=Math.sin(U);l?n.height=Math.min(this.maxHeight,n.height+(r.mirror?0:Y*M.width+k*_.height)+I):n.width=Math.min(this.maxWidth,n.width+(r.mirror?0:k*M.width+Y*_.height)+I),this._calculatePadding(c,f,Y,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,r,o){const{ticks:{align:i,padding:a},position:l}=this.options,u=0!==this.labelRotation,c="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,M=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,I=0;u?c?(_=o*n.width,I=r*t.height):(_=r*n.height,I=o*t.width):"start"===i?I=t.width:"end"===i?_=n.width:"inner"!==i&&(_=n.width/2,I=t.width/2),this.paddingLeft=Math.max((_-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((I-M+a)*this.width/(this.width-M),0)}else{let f=t.height/2,M=n.height/2;"start"===i?(f=0,M=n.height):"end"===i&&(f=t.height,M=0),this.paddingTop=f+a,this.paddingBottom=M+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jr(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:t}=this.options;return"top"===t||"bottom"===t||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),t=0,r=n.length;t<r;t++)tr(n[t].label)&&(n.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=wW(r,t)),this._labelSizes=n=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,r){const{ctx:o,_longestTextCache:i}=this,a=[],l=[],u=Math.floor(t/RW(t,r));let M,_,I,U,k,Y,J,se,he,fe,Me,c=0,f=0;for(M=0;M<t;M+=u){if(U=n[M].label,k=this._resolveTickFontOptions(M),o.font=Y=k.string,J=i[Y]=i[Y]||{data:{},gc:[]},se=k.lineHeight,he=fe=0,tr(U)||io(U)){if(io(U))for(_=0,I=U.length;_<I;++_)Me=U[_],!tr(Me)&&!io(Me)&&(he=qD(o,J.data,J.gc,he,Me),fe+=se)}else he=qD(o,J.data,J.gc,he,U),fe=se;a.push(he),l.push(fe),c=Math.max(he,c),f=Math.max(fe,f)}!function sge(e,n){Sr(e,t=>{const r=t.gc,o=r.length/2;let i;if(o>n){for(i=0;i<o;++i)delete t.data[r[i]];r.splice(0,o)}})}(i,t);const we=a.indexOf(c),Be=l.indexOf(f),Oe=be=>({width:a[be]||0,height:l[be]||0});return{first:Oe(0),last:Oe(t-1),widest:Oe(we),highest:Oe(Be),widths:a,heights:l}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const t=this._startPixel+n*this._length;return function zde(e){return gi(e,-32768,32767)}(this._alignToPixels?Fd(this.chart,t,0):t)}getDecimalForPixel(n){const t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){const t=this.ticks||[];if(n>=0&&n<t.length){const r=t[n];return r.$context||(r.$context=function uge(e,n,t){return pc(e,{tick:t,index:n,type:"tick"})}(this.getContext(),n,r))}return this.$context||(this.$context=function lge(e,n){return pc(e,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,t=Us(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=n.autoSkipPadding||0,l=i?i.widest.width+a:0,u=i?i.highest.height+a:0;return this.isHorizontal()?u*r>l*o?l/r:u/o:u*o<l*r?u/r:l/o}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const t=this.axis,r=this.chart,o=this.options,{grid:i,position:a,border:l}=o,u=i.offset,c=this.isHorizontal(),M=this.ticks.length+(u?1:0),_=fv(i),I=[],U=l.setContext(this.getContext()),k=U.display?U.width:0,Y=k/2,J=function(et){return Fd(r,et,k)};let se,he,fe,Me,we,Be,Oe,be,Ue,ge,Ce,Ne;if("top"===a)se=J(this.bottom),Be=this.bottom-_,be=se-Y,ge=J(n.top)+Y,Ne=n.bottom;else if("bottom"===a)se=J(this.top),ge=n.top,Ne=J(n.bottom)-Y,Be=se+Y,be=this.top+_;else if("left"===a)se=J(this.right),we=this.right-_,Oe=se-Y,Ue=J(n.left)+Y,Ce=n.right;else if("right"===a)se=J(this.left),Ue=n.left,Ce=J(n.right)-Y,we=se+Y,Oe=this.left+_;else if("x"===t){if("center"===a)se=J((n.top+n.bottom)/2+.5);else if(nr(a)){const et=Object.keys(a)[0];se=J(this.chart.scales[et].getPixelForValue(a[et]))}ge=n.top,Ne=n.bottom,Be=se+Y,be=Be+_}else if("y"===t){if("center"===a)se=J((n.left+n.right)/2);else if(nr(a)){const et=Object.keys(a)[0];se=J(this.chart.scales[et].getPixelForValue(a[et]))}we=se-Y,Oe=we-_,Ue=n.left,Ce=n.right}const je=Nn(o.ticks.maxTicksLimit,M),Ze=Math.max(1,Math.ceil(M/je));for(he=0;he<M;he+=Ze){const et=this.getContext(he),rt=i.setContext(et),Qe=l.setContext(et),at=rt.lineWidth,Ft=rt.color,xt=Qe.dash||[],pe=Qe.dashOffset,_e=rt.tickWidth,Le=rt.tickColor,We=rt.tickBorderDash||[],ze=rt.tickBorderDashOffset;fe=age(this,he,u),void 0!==fe&&(Me=Fd(r,fe,at),c?we=Oe=Ue=Ce=Me:Be=be=ge=Ne=Me,I.push({tx1:we,ty1:Be,tx2:Oe,ty2:be,x1:Ue,y1:ge,x2:Ce,y2:Ne,width:at,color:Ft,borderDash:xt,borderDashOffset:pe,tickWidth:_e,tickColor:Le,tickBorderDash:We,tickBorderDashOffset:ze}))}return this._ticksLength=M,this._borderValue=se,I}_computeLabelItems(n){const t=this.axis,r=this.options,{position:o,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:c,padding:f,mirror:M}=i,_=fv(r.grid),I=_+f,U=M?-f:I,k=-Us(this.labelRotation),Y=[];let J,se,he,fe,Me,we,Be,Oe,be,Ue,ge,Ce,Ne="middle";if("top"===o)we=this.bottom-U,Be=this._getXAxisLabelAlignment();else if("bottom"===o)we=this.top+U,Be=this._getXAxisLabelAlignment();else if("left"===o){const Ze=this._getYAxisLabelAlignment(_);Be=Ze.textAlign,Me=Ze.x}else if("right"===o){const Ze=this._getYAxisLabelAlignment(_);Be=Ze.textAlign,Me=Ze.x}else if("x"===t){if("center"===o)we=(n.top+n.bottom)/2+I;else if(nr(o)){const Ze=Object.keys(o)[0];we=this.chart.scales[Ze].getPixelForValue(o[Ze])+I}Be=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===o)Me=(n.left+n.right)/2-I;else if(nr(o)){const Ze=Object.keys(o)[0];Me=this.chart.scales[Ze].getPixelForValue(o[Ze])}Be=this._getYAxisLabelAlignment(_).textAlign}"y"===t&&("start"===u?Ne="top":"end"===u&&(Ne="bottom"));const je=this._getLabelSizes();for(J=0,se=l.length;J<se;++J){he=l[J],fe=he.label;const Ze=i.setContext(this.getContext(J));Oe=this.getPixelForTick(J)+i.labelOffset,be=this._resolveTickFontOptions(J),Ue=be.lineHeight,ge=io(fe)?fe.length:1;const et=ge/2,rt=Ze.color,Qe=Ze.textStrokeColor,at=Ze.textStrokeWidth;let xt,Ft=Be;if(a?(Me=Oe,"inner"===Be&&(Ft=J===se-1?this.options.reverse?"left":"right":0===J?this.options.reverse?"right":"left":"center"),Ce="top"===o?"near"===c||0!==k?-ge*Ue+Ue/2:"center"===c?-je.highest.height/2-et*Ue+Ue:Ue/2-je.highest.height:"near"===c||0!==k?Ue/2:"center"===c?je.highest.height/2-et*Ue:je.highest.height-ge*Ue,M&&(Ce*=-1),0!==k&&!Ze.showLabelBackdrop&&(Me+=Ue/2*Math.sin(k))):(we=Oe,Ce=(1-ge)*Ue/2),Ze.showLabelBackdrop){const pe=Hi(Ze.backdropPadding),_e=je.heights[J],Le=je.widths[J];let We=Ce-pe.top,ze=0-pe.left;switch(Ne){case"middle":We-=_e/2;break;case"bottom":We-=_e}switch(Be){case"center":ze-=Le/2;break;case"right":ze-=Le;break;case"inner":J===se-1?ze-=Le:J>0&&(ze-=Le/2)}xt={left:ze,top:We,width:Le+pe.width,height:_e+pe.height,color:Ze.backdropColor}}Y.push({label:fe,font:be,textOffset:Ce,options:{rotation:k,color:rt,strokeColor:Qe,strokeWidth:at,textAlign:Ft,textBaseline:Ne,translation:[Me,we],backdrop:xt}})}return Y}_getXAxisLabelAlignment(){const{position:n,ticks:t}=this.options;if(-Us(this.labelRotation))return"top"===n?"left":"right";let o="center";return"start"===t.align?o="left":"end"===t.align?o="right":"inner"===t.align&&(o="inner"),o}_getYAxisLabelAlignment(n){const{position:t,ticks:{crossAlign:r,mirror:o,padding:i}}=this.options,l=n+i,u=this._getLabelSizes().widest.width;let c,f;return"left"===t?o?(f=this.right+i,"near"===r?c="left":"center"===r?(c="center",f+=u/2):(c="right",f+=u)):(f=this.right-l,"near"===r?c="right":"center"===r?(c="center",f-=u/2):(c="left",f=this.left)):"right"===t?o?(f=this.left+i,"near"===r?c="right":"center"===r?(c="center",f-=u/2):(c="left",f-=u)):(f=this.left+l,"near"===r?c="left":"center"===r?(c="center",f+=u/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:t},left:r,top:o,width:i,height:a}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(r,o,i,a),n.restore())}getLineWidthForValue(n){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(i=>i.value===n);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(n){const t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let i,a;const l=(u,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(i=0,a=o.length;i<a;++i){const u=o[i];t.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:t,options:{border:r,grid:o}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,f,M,_;this.isHorizontal()?(c=Fd(n,this.left,a)-a/2,f=Fd(n,this.right,l)+l/2,M=_=u):(M=Fd(n,this.top,a)-a/2,_=Fd(n,this.bottom,l)+l/2,c=f=u),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(c,M),t.lineTo(f,_),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&eM(r,o);const i=this.getLabelItems(n);for(const a of i)Wd(r,a.label,0,a.textOffset,a.font,a.options);o&&tM(r)}drawTitle(){const{ctx:n,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const i=Qo(r.font),a=Hi(r.padding),l=r.align;let u=i.lineHeight/2;"bottom"===t||"center"===t||nr(t)?(u+=a.bottom,io(r.text)&&(u+=i.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:c,titleY:f,maxWidth:M,rotation:_}=function dge(e,n,t,r){const{top:o,left:i,bottom:a,right:l,chart:u}=e,{chartArea:c,scales:f}=u;let _,I,U,M=0;const k=a-o,Y=l-i;if(e.isHorizontal()){if(I=ki(r,i,l),nr(t)){const J=Object.keys(t)[0];U=f[J].getPixelForValue(t[J])+k-n}else U="center"===t?(c.bottom+c.top)/2+k-n:LW(e,t,n);_=l-i}else{if(nr(t)){const J=Object.keys(t)[0];I=f[J].getPixelForValue(t[J])-Y+n}else I="center"===t?(c.left+c.right)/2-Y+n:LW(e,t,n);U=ki(r,a,o),M="left"===t?-Ro:Ro}return{titleX:I,titleY:U,maxWidth:_,rotation:M}}(this,u,t,l);Wd(n,r.text,0,0,i,{color:r.color,maxWidth:M,rotation:_,textAlign:cge(l,t,o),textBaseline:"middle",translation:[c,f]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,t=n.ticks&&n.ticks.z||0,r=Nn(n.grid&&n.grid.z,-1),o=Nn(n.border&&n.border.z,0);return this._isVisible()&&this.draw===$d.prototype.draw?[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]:[{z:t,draw:i=>{this.draw(i)}}]}getMatchingVisibleMetas(n){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];l[r]===this.id&&(!n||l.type===n)&&o.push(l)}return o}_resolveTickFontOptions(n){return Qo(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class dM{constructor(n,t,r){this.type=n,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const t=Object.getPrototypeOf(n);let r;(function gge(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const o=this.items,i=n.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+n);return i in o||(o[i]=n,function fge(e,n,t){const r=Xp(Object.create(null),[t?fo.get(t):{},fo.get(n),e.defaults]);fo.set(n,r),e.defaultRoutes&&function hge(e,n){Object.keys(n).forEach(t=>{const r=t.split("."),o=r.pop(),i=[e].concat(r).join("."),a=n[t].split("."),l=a.pop(),u=a.join(".");fo.route(i,o,u,l)})}(n,e.defaultRoutes),e.descriptors&&fo.describe(n,e.descriptors)}(n,a,r),this.override&&fo.override(n.id,n.overrides)),a}get(n){return this.items[n]}unregister(n){const t=this.items,r=n.id,o=this.scope;r in t&&delete t[r],o&&r in fo[o]&&(delete fo[o][r],this.override&&delete Ud[r])}}class mge{constructor(){this.controllers=new dM(vc,"datasets",!0),this.elements=new dM(su,"elements"),this.plugins=new dM(Object,"plugins"),this.scales=new dM($d,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,r){[...t].forEach(o=>{const i=r||this._getRegistryForType(o);r||i.isForType(o)||i===this.plugins&&o.id?this._exec(n,i,o):Sr(o,a=>{const l=r||this._getRegistryForType(a);this._exec(n,l,a)})})}_exec(n,t,r){const o=LP(n);Jr(r["before"+o],[],r),t[n](r),Jr(r["after"+o],[],r)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(n))return r}return this.plugins}_get(n,t,r){const o=t.get(n);if(void 0===o)throw new Error('"'+n+'" is not a registered '+r+".");return o}}var vl=new mge;class pge{constructor(){this._init=[]}notify(n,t,r,o){"beforeInit"===t&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const i=o?this._descriptors(n).filter(o):this._descriptors(n),a=this._notify(i,n,t,r);return"afterDestroy"===t&&(this._notify(i,n,"stop"),this._notify(this._init,n,"uninstall")),a}_notify(n,t,r,o){o=o||{};for(const i of n){const a=i.plugin;if(!1===Jr(a[r],[t,o,i.options],a)&&o.cancelable)return!1}return!0}invalidate(){tr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){const r=n&&n.config,o=Nn(r.options&&r.options.plugins,{}),i=function vge(e){const n={},t=[],r=Object.keys(vl.plugins.items);for(let i=0;i<r.length;i++)t.push(vl.getPlugin(r[i]));const o=e.plugins||[];for(let i=0;i<o.length;i++){const a=o[i];-1===t.indexOf(a)&&(t.push(a),n[a.id]=!0)}return{plugins:t,localIds:n}}(r);return!1!==o||t?function yge(e,{plugins:n,localIds:t},r,o){const i=[],a=e.getContext();for(const l of n){const u=l.id,c=Ege(r[u],o);null!==c&&i.push({plugin:l,options:Dge(e.config,{plugin:l,local:t[u]},c,a)})}return i}(n,i,o,t):[]}_notifyStateChanges(n){const t=this._oldCache||[],r=this._cache,o=(i,a)=>i.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(o(t,r),n,"stop"),this._notify(o(r,t),n,"start")}}function Ege(e,n){return n||!1!==e?!0===e?{}:e:null}function Dge(e,{plugin:n,local:t},r,o){const i=e.pluginScopeKeys(n),a=e.getOptionScopes(r,i);return t&&n.defaults&&a.push(n.defaults),e.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function r5(e,n){return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||(fo.datasets[e]||{}).indexAxis||"x"}function NW(e){if("x"===e||"y"===e||"r"===e)return e}function Cge(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function o5(e,...n){if(NW(e))return e;for(const t of n){const r=t.axis||Cge(t.position)||e.length>1&&NW(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function BW(e,n,t){if(t[n+"AxisID"]===e)return{axis:n}}function UW(e){const n=e.options||(e.options={});n.plugins=Nn(n.plugins,{}),n.scales=function Oge(e,n){const t=Ud[e.type]||{scales:{}},r=n.scales||{},o=r5(e.type,n),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!nr(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=o5(a,l,function Tge(e,n){if(n.data&&n.data.datasets){const t=n.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(t.length)return BW(e,"x",t[0])||BW(e,"y",t[0])}return{}}(a,e),fo.scales[l.type]),c=function bge(e,n){return e===n?"_index_":"_value_"}(u,o),f=t.scales||{};i[a]=Jp(Object.create(null),[{axis:u},l,f[u],f[c]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,u=a.indexAxis||r5(l,n),f=(Ud[l]||{}).scales||{};Object.keys(f).forEach(M=>{const _=function Mge(e,n){let t=e;return"_index_"===e?t=n:"_value_"===e&&(t="x"===n?"y":"x"),t}(M,u),I=a[_+"AxisID"]||_;i[I]=i[I]||Object.create(null),Jp(i[I],[{axis:_},r[I],f[M]])})}),Object.keys(i).forEach(a=>{const l=i[a];Jp(l,[fo.scales[l.type],fo.scale])}),i}(e,n)}function FW(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const WW=new Map,kW=new Set;function fM(e,n){let t=WW.get(e);return t||(t=n(),WW.set(e,t),kW.add(t)),t}const hv=(e,n,t)=>{const r=hc(n,t);void 0!==r&&e.add(r)};class Ige{constructor(n){this._config=function Pge(e){return(e=e||{}).data=FW(e.data),UW(e),e}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=FW(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),UW(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return fM(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return fM(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return fM(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){const t=n.id;return fM(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){const r=this._scopeCache;let o=r.get(n);return(!o||t)&&(o=new Map,r.set(n,o)),o}getOptionScopes(n,t,r){const{options:o,type:i}=this,a=this._cachedScopes(n,r),l=a.get(t);if(l)return l;const u=new Set;t.forEach(f=>{n&&(u.add(n),f.forEach(M=>hv(u,n,M))),f.forEach(M=>hv(u,o,M)),f.forEach(M=>hv(u,Ud[i]||{},M)),f.forEach(M=>hv(u,fo,M)),f.forEach(M=>hv(u,FP,M))});const c=Array.from(u);return 0===c.length&&c.push(Object.create(null)),kW.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:n,type:t}=this;return[n,Ud[t]||{},fo.datasets[t]||{},{type:t},fo,FP]}resolveNamedOptions(n,t,r,o=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=HW(this._resolverCache,n,o);let u=a;(function Age(e,n){const{isScriptable:t,isIndexable:r}=V8(e);for(const o of n){const i=t(o),a=r(o),l=(a||i)&&e[o];if(i&&(gc(l)||xge(l))||a&&io(l))return!0}return!1})(a,t)&&(i.$shared=!1,u=cg(a,r=gc(r)?r():r,this.createResolver(n,r,l)));for(const c of t)i[c]=u[c];return i}createResolver(n,t,r=[""],o){const{resolver:i}=HW(this._resolverCache,n,r);return nr(t)?cg(i,t,void 0,o):i}}function HW(e,n,t){let r=e.get(n);r||(r=new Map,e.set(n,r));const o=t.join();let i=r.get(o);return i||(i={resolver:VP(n,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(o,i)),i}const xge=e=>nr(e)&&Object.getOwnPropertyNames(e).some(n=>gc(e[n])),Sge=["top","bottom","left","right","chartArea"];function VW(e,n){return"top"===e||"bottom"===e||-1===Sge.indexOf(e)&&"x"===n}function KW(e,n){return function(t,r){return t[e]===r[e]?t[n]-r[n]:t[e]-r[e]}}function zW(e){const n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),Jr(t&&t.onComplete,[e],n)}function Lge(e){const n=e.chart,t=n.options.animation;Jr(t&&t.onProgress,[e],n)}function $W(e){return $P()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hM={},GW=e=>{const n=$W(e);return Object.values(hM).filter(t=>t.canvas===n).pop()};function Rge(e,n,t){const r=Object.keys(e);for(const o of r){const i=+o;if(i>=n){const a=e[o];delete e[o],(t>0||i>n)&&(e[i+t]=a)}}}let i5=(()=>class e{static defaults=fo;static instances=hM;static overrides=Ud;static registry=vl;static version="4.5.0";static getChart=GW;static register(...t){vl.add(...t),YW()}static unregister(...t){vl.remove(...t),YW()}constructor(t,r){const o=this.config=new Ige(r),i=$W(t),a=GW(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function Qhe(e){return!$P()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Fhe:Jhe}(i)),this.platform.updateConfig(o);const u=this.platform.acquireContext(i,l.aspectRatio),c=u&&u.canvas,f=c&&c.height,M=c&&c.width;this.id=Lde(),this.ctx=u,this.canvas=c,this.width=M,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pge,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Zde(e,n){let t;return function(...r){return n?(clearTimeout(t),t=setTimeout(e,n,r)):e.apply(this,r),n}}(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],hM[this.id]=this,u&&c?(au.listen(this,"complete",zW),au.listen(this,"progress",Lge),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:o,height:i,_aspectRatio:a}=this;return tr(t)?r&&a?a:i?o/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return vl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return W8(this.canvas,this.ctx),this}stop(){return au.stop(this),this}resize(t,r){au.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const o=this.options,l=this.platform.getMaximumSize(this.canvas,t,r,o.maintainAspectRatio&&this.aspectRatio),u=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,J8(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Jr(o.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){Sr(this.options.scales||{},(o,i)=>{o.id=i})}buildOrUpdateScales(){const t=this.options,r=t.scales,o=this.scales,i=Object.keys(o).reduce((l,u)=>(l[u]=!1,l),{});let a=[];r&&(a=a.concat(Object.keys(r).map(l=>{const u=r[l],c=o5(l,u),f="r"===c,M="x"===c;return{options:u,dposition:f?"chartArea":M?"bottom":"left",dtype:f?"radialLinear":M?"category":"linear"}}))),Sr(a,l=>{const u=l.options,c=u.id,f=o5(c,u),M=Nn(u.type,l.dtype);(void 0===u.position||VW(u.position,f)!==VW(l.dposition))&&(u.position=l.dposition),i[c]=!0;let _=null;c in o&&o[c].type===M?_=o[c]:(_=new(vl.getScale(M))({id:c,type:M,ctx:this.ctx,chart:this}),o[_.id]=_),_.init(u,t)}),Sr(i,(l,u)=>{l||delete o[u]}),Sr(o,l=>{Vi.configure(this,l,l.options),Vi.addBox(this,l)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,o=t.length;if(t.sort((i,a)=>i.index-a.index),o>r){for(let i=r;i<o;++i)this._destroyDatasetMeta(i);t.splice(r,o-r)}this._sortedMetasets=t.slice(0).sort(KW("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((o,i)=>{0===r.filter(a=>a===o._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let o,i;for(this._removeUnreferencedMetasets(),o=0,i=r.length;o<i;o++){const a=r[o];let l=this.getDatasetMeta(o);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(o),l=this.getDatasetMeta(o)),l.type=u,l.indexAxis=a.indexAxis||r5(u,this.options),l.order=a.order||0,l.index=o,l.label=""+a.label,l.visible=this.isDatasetVisible(o),l.controller)l.controller.updateIndex(o),l.controller.linkScales();else{const c=vl.getController(u),{datasetElementType:f,dataElementType:M}=fo.datasets[u];Object.assign(c,{dataElementType:vl.getElement(M),datasetElementType:f&&vl.getElement(f)}),l.controller=new c(this,o),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Sr(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const o=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,M=this.data.datasets.length;f<M;f++){const{controller:_}=this.getDatasetMeta(f),I=!i&&-1===a.indexOf(_);_.buildOrUpdateElements(I),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=o.layout.autoPadding?l:0,this._updateLayout(l),i||Sr(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(KW("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Sr(this.scales,t=>{Vi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!b8(r,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:o,start:i,count:a}of r)Rge(t,i,"_removeElements"===o?-a:a)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,o=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),i=o(0);for(let a=1;a<r;a++)if(!b8(i,o(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Vi.update(this,this.width,this.height,t);const r=this.chartArea,o=r.width<=0||r.height<=0;this._layers=[],Sr(this.boxes,i=>{o&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let r=0,o=this.data.datasets.length;r<o;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,o=this.data.datasets.length;r<o;++r)this._updateDataset(r,gc(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const o=this.getDatasetMeta(t),i={meta:o,index:t,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(o.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(au.has(this)?this.attached&&!au.running(this)&&au.start(this):(this.draw(),zW({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:o,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,i)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,o=[];let i,a;for(i=0,a=r.length;i<a;++i){const l=r[i];(!t||l.visible)&&o.push(l)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,o={meta:t,index:t.index,cancelable:!0},i=sW(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&eM(r,i),t.controller.draw(),i&&tM(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return iu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,o,i){const a=She.modes[r];return"function"==typeof a?a(this,t,o,i):[]}getDatasetMeta(t){const r=this.data.datasets[t],o=this._metasets;let i=o.filter(a=>a&&a._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},o.push(i)),i}getContext(){return this.$context||(this.$context=pc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const o=this.getDatasetMeta(t);return"boolean"==typeof o.hidden?!o.hidden:!r.hidden}setDatasetVisibility(t,r){this.getDatasetMeta(t).hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,o){const i=o?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,i);Qp(r)?(a.data[r].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),l.update(a,{visible:o}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),au.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),W8(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete hM[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,o=(a,l)=>{r.addEventListener(this,a,l),t[a]=l},i=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Sr(this.options.events,a=>o(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,o=(c,f)=>{r.addEventListener(this,c,f),t[c]=f},i=(c,f)=>{t[c]&&(r.removeEventListener(this,c,f),delete t[c])},a=(c,f)=>{this.canvas&&this.resize(c,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),o("resize",a),o("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),o("attach",u)},r.isAttached(this.canvas)?u():l()}unbindEvents(){Sr(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Sr(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,o){const i=o?"set":"remove";let a,l,u,c;for("dataset"===r&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,c=t.length;u<c;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],o=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!YD(o,r)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,r))}notifyPlugins(t,r,o){return this._plugins.notify(this,t,r,o)}isPluginEnabled(t){return 1===this._plugins._cache.filter(r=>r.plugin.id===t).length}_updateHoverStyles(t,r,o){const i=this.options.hover,a=(c,f)=>c.filter(M=>!f.some(_=>M.datasetIndex===_.datasetIndex&&M.index===_.index)),l=a(r,t),u=o?t:a(t,r);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,r){const o={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},i=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",o,i))return;const a=this._handleEvent(t,r,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,i),(a||o.changed)&&this.render(),this}_handleEvent(t,r,o){const{_active:i=[],options:a}=this,u=this._getActiveElements(t,i,o,r),c=function Ude(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),f=function wge(e,n,t,r){return t&&"mouseout"!==e.type?r?n:e:null}(t,this._lastEvent,o,c);o&&(this._lastEvent=null,Jr(a.onHover,[t,u,this],this),c&&Jr(a.onClick,[t,u,this],this));const M=!YD(u,i);return(M||r)&&(this._active=u,this._updateHoverStyles(u,i,r)),this._lastEvent=f,M}_getActiveElements(t,r,o,i){if("mouseout"===t.type)return[];if(!o)return r;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}})();function YW(){return Sr(i5.instances,e=>e._plugins.invalidate())}function hg(e,n,t,r){return{x:t+e*Math.cos(n),y:r+e*Math.sin(n)}}function gM(e,n,t,r,o,i){const{x:a,y:l,startAngle:u,pixelMargin:c,innerRadius:f}=n,M=Math.max(n.outerRadius+r+t-c,0),_=f>0?f+r+t+c:0;let I=0;const U=o-u;if(r){const rt=((f>0?f-r:0)+(M>0?M-r:0))/2;I=(U-(0!==rt?U*rt/(rt+r):U))/2}const Y=(U-Math.max(.001,U*M-t/vr)/M)/2,J=u+Y+I,se=o-Y-I,{outerStart:he,outerEnd:fe,innerStart:Me,innerEnd:we}=function Uge(e,n,t,r){const o=function Bge(e){return HP(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),i=(t-n)/2,a=Math.min(i,r*n/2),l=u=>{const c=(t-Math.min(i,u))*r/2;return gi(u,0,Math.min(i,c))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:gi(o.innerStart,0,a),innerEnd:gi(o.innerEnd,0,a)}}(n,_,M,se-J),Be=M-he,Oe=M-fe,be=J+he/Be,Ue=se-fe/Oe,ge=_+Me,Ce=_+we,Ne=J+Me/ge,je=se-we/Ce;if(e.beginPath(),i){const Ze=(be+Ue)/2;if(e.arc(a,l,M,be,Ze),e.arc(a,l,M,Ze,Ue),fe>0){const at=hg(Oe,Ue,a,l);e.arc(at.x,at.y,fe,Ue,se+Ro)}const et=hg(Ce,se,a,l);if(e.lineTo(et.x,et.y),we>0){const at=hg(Ce,je,a,l);e.arc(at.x,at.y,we,se+Ro,je+Math.PI)}const rt=(se-we/_+(J+Me/_))/2;if(e.arc(a,l,_,se-we/_,rt,!0),e.arc(a,l,_,rt,J+Me/_,!0),Me>0){const at=hg(ge,Ne,a,l);e.arc(at.x,at.y,Me,Ne+Math.PI,J-Ro)}const Qe=hg(Be,J,a,l);if(e.lineTo(Qe.x,Qe.y),he>0){const at=hg(Be,be,a,l);e.arc(at.x,at.y,he,J-Ro,be)}}else{e.moveTo(a,l);const Ze=Math.cos(be)*M+a,et=Math.sin(be)*M+l;e.lineTo(Ze,et);const rt=Math.cos(Ue)*M+a,Qe=Math.sin(Ue)*M+l;e.lineTo(rt,Qe)}e.closePath()}function ZW(e,n,t=n){e.lineCap=Nn(t.borderCapStyle,n.borderCapStyle),e.setLineDash(Nn(t.borderDash,n.borderDash)),e.lineDashOffset=Nn(t.borderDashOffset,n.borderDashOffset),e.lineJoin=Nn(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=Nn(t.borderWidth,n.borderWidth),e.strokeStyle=Nn(t.borderColor,n.borderColor)}function Hge(e,n,t){e.lineTo(t.x,t.y)}function XW(e,n,t={}){const r=e.length,{start:o=0,end:i=r-1}=t,{start:a,end:l}=n,u=Math.max(o,a),c=Math.min(i,l);return{count:r,start:u,loop:n.loop,ilen:c<u&&!(o<a&&i<a||o>l&&i>l)?r+c-u:c-u}}function Kge(e,n,t,r){const{points:o,options:i}=n,{count:a,start:l,loop:u,ilen:c}=XW(o,t,r),f=function Vge(e){return e.stepped?sfe:e.tension||"monotone"===e.cubicInterpolationMode?lfe:Hge}(i);let I,U,k,{move:M=!0,reverse:_}=r||{};for(I=0;I<=c;++I)U=o[(l+(_?c-I:I))%a],!U.skip&&(M?(e.moveTo(U.x,U.y),M=!1):f(e,k,U,_,i.stepped),k=U);return u&&(U=o[(l+(_?c:0))%a],f(e,k,U,_,i.stepped)),!!u}function zge(e,n,t,r){const o=n.points,{count:i,start:a,ilen:l}=XW(o,t,r),{move:u=!0,reverse:c}=r||{};let _,I,U,k,Y,J,f=0,M=0;const se=fe=>(a+(c?l-fe:fe))%i,he=()=>{k!==Y&&(e.lineTo(f,Y),e.lineTo(f,k),e.lineTo(f,J))};for(u&&(I=o[se(0)],e.moveTo(I.x,I.y)),_=0;_<=l;++_){if(I=o[se(_)],I.skip)continue;const fe=I.x,Me=I.y,we=0|fe;we===U?(Me<k?k=Me:Me>Y&&(Y=Me),f=(M*f+fe)/++M):(he(),e.lineTo(fe,Me),U=we,M=0,k=Y=Me),J=Me}he()}function a5(e){const n=e.options;return e._decimated||e._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?Kge:zge}const Zge="function"==typeof Path2D;let mM=(()=>class e extends su{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(Lfe(this._points,o,t,o.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Gfe(e,n){const t=e.points,r=e.options.spanGaps,o=t.length;if(!o)return[];const i=!!e._loop,{start:a,end:l}=function zfe(e,n,t,r){let o=0,i=n-1;if(t&&!r)for(;o<n&&!e[o].skip;)o++;for(;o<n&&e[o].skip;)o++;for(o%=n,t&&(i+=o);i>o&&e[i%n].skip;)i--;return i%=n,{start:o,end:i}}(t,o,i,r);return function iW(e,n,t,r){return r&&r.setContext&&t?function Yfe(e,n,t,r){const o=e._chart.getContext(),i=aW(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,u=t.length,c=[];let f=i,M=n[0].start,_=M;function I(U,k,Y,J){const se=l?-1:1;if(U!==k){for(U+=u;t[U%u].skip;)U-=se;for(;t[k%u].skip;)k+=se;U%u!==k%u&&(c.push({start:U%u,end:k%u,loop:Y,style:J}),f=J,M=k%u)}}for(const U of n){M=l?M:U.start;let Y,k=t[M%u];for(_=M+1;_<=U.end;_++){const J=t[_%u];Y=aW(r.setContext(pc(o,{type:"segment",p0:k,p1:J,p0DataIndex:(_-1)%u,p1DataIndex:_%u,datasetIndex:a}))),Zfe(Y,f)&&I(M,_-1,U.loop,f),k=J,f=Y}M<_-1&&I(M,_-1,U.loop,f)}return c}(e,n,t,r):n}(e,!0===r?[{start:a,end:l,loop:i}]:function $fe(e,n,t,r){const o=e.length,i=[];let u,a=n,l=e[n];for(u=n+1;u<=t;++u){const c=e[u%o];c.skip||c.stop?l.skip||(i.push({start:n%o,end:(u-1)%o,loop:r=!1}),n=a=c.stop?u:null):(a=u,l.skip&&(n=u)),l=c}return null!==a&&i.push({start:n%o,end:a%o,loop:r}),i}(t,a,l<a?l+o:l,!!e._fullLoop&&0===a&&l===o-1),t,n)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,o=t.length;return o&&this.points[t[o-1].end]}interpolate(t,r){const o=this.options,i=t[r],a=this.points,l=oW(this,{property:r,start:i,end:i});if(!l.length)return;const u=[],c=function $ge(e){return e.stepped?Wfe:e.tension||"monotone"===e.cubicInterpolationMode?kfe:Kd}(o);let f,M;for(f=0,M=l.length;f<M;++f){const{start:_,end:I}=l[f],U=a[_],k=a[I];if(U===k){u.push(U);continue}const J=c(U,k,Math.abs((i-U[r])/(k[r]-U[r])),o.stepped);J[r]=t[r],u.push(J)}return 1===u.length?u[0]:u}pathSegment(t,r,o){return a5(this)(t,this,r,o)}path(t,r,o){const i=this.segments,a=a5(this);let l=this._loop;r=r||0,o=o||this.points.length-r;for(const u of i)l&=a(t,this,u,{start:r,end:r+o-1});return!!l}draw(t,r,o,i){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Xge(e,n,t,r){Zge&&!n.options.segment?function Gge(e,n,t,r){let o=n._path;o||(o=n._path=new Path2D,n.path(o,t,r)&&o.closePath()),ZW(e,n.options),e.stroke(o)}(e,n,t,r):function Yge(e,n,t,r){const{segments:o,options:i}=n,a=a5(n);for(const l of o)ZW(e,i,l.style),e.beginPath(),a(e,n,l,{start:t,end:t+r-1})&&e.closePath(),e.stroke()}(e,n,t,r)}(t,this,o,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function JW(e,n,t,r){const o=e.options,{[t]:i}=e.getProps([t],r);return Math.abs(n-i)<o.radius+o.hitRadius}let Jge=(()=>class e extends su{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,o){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],o);return Math.pow(t-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,r){return JW(this,t,"x",r)}inYRange(t,r){return JW(this,t,"y",r)}getCenterPoint(t){const{x:r,y:o}=this.getProps(["x","y"],t);return{x:r,y:o}}size(t){let r=(t=t||this.options||{}).radius||0;return r=Math.max(r,r&&t.hoverRadius||0),2*(r+(r&&t.borderWidth||0))}draw(t,r){const o=this.options;this.skip||o.radius<.1||!iu(this,r,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,kP(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}})();function QW(e,n){const{x:t,y:r,base:o,width:i,height:a}=e.getProps(["x","y","base","width","height"],n);let l,u,c,f,M;return e.horizontal?(M=a/2,l=Math.min(t,o),u=Math.max(t,o),c=r-M,f=r+M):(M=i/2,l=t-M,u=t+M,c=Math.min(r,o),f=Math.max(r,o)),{left:l,top:c,right:u,bottom:f}}function Ec(e,n,t,r){return e?0:gi(n,t,r)}function s5(e,n,t,r){const o=null===n,i=null===t,l=e&&!(o&&i)&&QW(e,r);return l&&(o||ru(n,l.left,l.right))&&(i||ru(t,l.top,l.bottom))}function nme(e,n){e.rect(n.x,n.y,n.w,n.h)}function l5(e,n,t={}){const r=e.x!==t.x?-n:0,o=e.y!==t.y?-n:0;return{x:e.x+r,y:e.y+o,w:e.w+((e.x+e.w!==t.x+t.w?n:0)-r),h:e.h+((e.y+e.h!==t.y+t.h?n:0)-o),radius:e.radius}}var ome=Object.freeze({__proto__:null,ArcElement:class kge extends su{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,r){const o=this.getProps(["x","y"],r),{angle:i,distance:a}=I8(o,{x:n,y:t}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:f,circumference:M}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,I=Nn(M,u-l),U=ev(i,l,u)&&l!==u,k=I>=ao||U,Y=ru(a,c+_,f+_);return k&&Y}getCenterPoint(n){const{x:t,y:r,startAngle:o,endAngle:i,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,f=(o+i)/2,M=(a+l+c+u)/2;return{x:t+Math.cos(f)*M,y:r+Math.sin(f)*M}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:t,circumference:r}=this,o=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>ao?Math.floor(r/ao):0,0===r||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*o,Math.sin(l)*o);const c=o*(1-Math.sin(Math.min(vr,r||0)));n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,function Fge(e,n,t,r,o){const{fullCircles:i,startAngle:a,circumference:l}=n;let u=n.endAngle;if(i){gM(e,n,t,r,u,o);for(let c=0;c<i;++c)e.fill();isNaN(l)||(u=a+(l%ao||ao))}gM(e,n,t,r,u,o),e.fill()}(n,this,c,i,a),function Wge(e,n,t,r,o){const{fullCircles:i,startAngle:a,circumference:l,options:u}=n,{borderWidth:c,borderJoinStyle:f,borderDash:M,borderDashOffset:_,borderRadius:I}=u,U="inner"===u.borderAlign;if(!c)return;e.setLineDash(M||[]),e.lineDashOffset=_,U?(e.lineWidth=2*c,e.lineJoin=f||"round"):(e.lineWidth=c,e.lineJoin=f||"bevel");let k=n.endAngle;if(i){gM(e,n,t,r,k,o);for(let Y=0;Y<i;++Y)e.stroke();isNaN(l)||(k=a+(l%ao||ao))}U&&function Nge(e,n,t){const{startAngle:r,pixelMargin:o,x:i,y:a,outerRadius:l,innerRadius:u}=n;let c=o/l;e.beginPath(),e.arc(i,a,l,r-c,t+c),u>o?(c=o/u,e.arc(i,a,u,t+c,r-c,!0)):e.arc(i,a,o,t+Ro,r-Ro),e.closePath(),e.clip()}(e,n,k),u.selfJoin&&k-a>=vr&&0===I&&"miter"!==f&&function jge(e,n,t){const{startAngle:r,x:o,y:i,outerRadius:a,innerRadius:l,options:u}=n,{borderWidth:c,borderJoinStyle:f}=u,M=Math.min(c/a,Wi(r-t));if(e.beginPath(),e.arc(o,i,a-c/2,r+M/2,t-M/2),l>0){const _=Math.min(c/l,Wi(r-t));e.arc(o,i,l+c/2,t-_/2,r+_/2,!0)}else{const _=Math.min(c/2,a*Wi(r-t));if("round"===f)e.arc(o,i,_,t-vr/2,r+vr/2,!0);else if("bevel"===f){const I=2*_*_,U=-I*Math.cos(t+vr/2)+o,k=-I*Math.sin(t+vr/2)+i,Y=I*Math.cos(r+vr/2)+o,J=I*Math.sin(r+vr/2)+i;e.lineTo(U,k),e.lineTo(Y,J)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,n,k),i||(gM(e,n,t,r,k,o),e.stroke())}(n,this,c,i,a),n.restore()}},BarElement:class rme extends su{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:i,outer:a}=function eme(e){const n=QW(e),t=n.right-n.left,r=n.bottom-n.top,o=function Qge(e,n,t){const o=e.borderSkipped,i=H8(e.options.borderWidth);return{t:Ec(o.top,i.top,0,t),r:Ec(o.right,i.right,0,n),b:Ec(o.bottom,i.bottom,0,t),l:Ec(o.left,i.left,0,n)}}(e,t/2,r/2),i=function qge(e,n,t){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,i=kd(o),a=Math.min(n,t),l=e.borderSkipped,u=r||nr(o);return{topLeft:Ec(!u||l.top||l.left,i.topLeft,0,a),topRight:Ec(!u||l.top||l.right,i.topRight,0,a),bottomLeft:Ec(!u||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:Ec(!u||l.bottom||l.right,i.bottomRight,0,a)}}(e,t/2,r/2);return{outer:{x:n.left,y:n.top,w:t,h:r,radius:i},inner:{x:n.left+o.l,y:n.top+o.t,w:t-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}(this),l=function tme(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(a.radius)?ov:nme;n.save(),(a.w!==i.w||a.h!==i.h)&&(n.beginPath(),l(n,l5(a,t,i)),n.clip(),l(n,l5(i,-t,a)),n.fillStyle=r,n.fill("evenodd")),n.beginPath(),l(n,l5(i,t)),n.fillStyle=o,n.fill(),n.restore()}inRange(n,t,r){return s5(this,n,t,r)}inXRange(n,t){return s5(this,n,null,t)}inYRange(n,t){return s5(this,null,n,t)}getCenterPoint(n){const{x:t,y:r,base:o,horizontal:i}=this.getProps(["x","y","base","horizontal"],n);return{x:i?(t+o)/2:t,y:i?r:(r+o)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}},LineElement:mM,PointElement:Jge});const u5=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],qW=u5.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function e6(e){return u5[e%u5.length]}function t6(e){return qW[e%qW.length]}function n6(e){let n;for(n in e)if(e[n].borderColor||e[n].backgroundColor)return!0;return!1}var dme={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,n,t){if(!t.enabled)return;const{data:{datasets:r},options:o}=e.config,{elements:i}=o,a=n6(r)||function ume(e){return e&&(e.borderColor||e.backgroundColor)}(o)||i&&n6(i)||function cme(){return"rgba(0,0,0,0.1)"!==fo.borderColor||"rgba(0,0,0,0.1)"!==fo.backgroundColor}();if(!t.forceOverride&&a)return;const l=function lme(e){let n=0;return(t,r)=>{const o=e.getDatasetMeta(r).controller;o instanceof QP?n=function ame(e,n){return e.backgroundColor=e.data.map(()=>e6(n++)),n}(t,n):o instanceof DW?n=function sme(e,n){return e.backgroundColor=e.data.map(()=>t6(n++)),n}(t,n):o&&(n=function ime(e,n){return e.borderColor=e6(n),e.backgroundColor=t6(n),++n}(t,n))}}(e);r.forEach(l)}};function r6(e){if(e._decimated){const n=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function o6(e){e.data.datasets.forEach(n=>{r6(n)})}var mme={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,n,t)=>{if(!t.enabled)return void o6(e);const r=e.width;e.data.datasets.forEach((o,i)=>{const{_data:a,indexAxis:l}=o,u=e.getDatasetMeta(i),c=a||o.data;if("y"===iv([l,e.options.indexAxis])||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if("linear"!==f.type&&"time"!==f.type||e.options.parsing)return;let U,{start:M,count:_}=function gme(e,n){const t=n.length;let o,r=0;const{iScale:i}=e,{min:a,max:l,minDefined:u,maxDefined:c}=i.getUserBounds();return u&&(r=gi(ou(n,i.axis,a).lo,0,t-1)),o=c?gi(ou(n,i.axis,l).hi+1,r,t)-r:t-r,{start:r,count:o}}(u,c);if(_<=(t.threshold||4*r))r6(o);else{switch(tr(a)&&(o._data=c,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}})),t.algorithm){case"lttb":U=function fme(e,n,t,r,o){const i=o.samples||r;if(i>=t)return e.slice(n,n+t);const a=[],l=(t-2)/(i-2);let u=0;const c=n+t-1;let M,_,I,U,k,f=n;for(a[u++]=e[f],M=0;M<i-2;M++){let se,Y=0,J=0;const he=Math.floor((M+1)*l)+1+n,fe=Math.min(Math.floor((M+2)*l)+1,t)+n,Me=fe-he;for(se=he;se<fe;se++)Y+=e[se].x,J+=e[se].y;Y/=Me,J/=Me;const we=Math.floor(M*l)+1+n,Be=Math.min(Math.floor((M+1)*l)+1,t)+n,{x:Oe,y:be}=e[f];for(I=U=-1,se=we;se<Be;se++)U=.5*Math.abs((Oe-Y)*(e[se].y-be)-(Oe-e[se].x)*(J-be)),U>I&&(I=U,_=e[se],k=se);a[u++]=_,f=k}return a[u++]=e[c],a}(c,M,_,r,t);break;case"min-max":U=function hme(e,n,t,r){let a,l,u,c,f,M,_,I,U,k,o=0,i=0;const Y=[],se=e[n].x,fe=e[n+t-1].x-se;for(a=n;a<n+t;++a){l=e[a],u=(l.x-se)/fe*r,c=l.y;const Me=0|u;if(Me===f)c<U?(U=c,M=a):c>k&&(k=c,_=a),o=(i*o+l.x)/++i;else{const we=a-1;if(!tr(M)&&!tr(_)){const Be=Math.min(M,_),Oe=Math.max(M,_);Be!==I&&Be!==we&&Y.push({...e[Be],x:o}),Oe!==I&&Oe!==we&&Y.push({...e[Oe],x:o})}a>0&&we!==I&&Y.push(e[we]),Y.push(l),f=Me,i=0,U=k=c,M=_=I=a}}return Y}(c,M,_,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}o._decimated=U}})},destroy(e){o6(e)}};function c5(e,n,t,r){if(r)return;let o=n[e],i=t[e];return"angle"===e&&(o=Wi(o),i=Wi(i)),{property:e,start:o,end:i}}function pM(e,n,t){for(;n>e;n--){const r=t[n];if(!isNaN(r.x)&&!isNaN(r.y))break}return n}function i6(e,n,t,r){return e&&n?r(e[t],n[t]):e?e[t]:n?n[t]:0}function a6(e,n){let t=[],r=!1;return io(e)?(r=!0,t=e):t=function vme(e,n){const{x:t=null,y:r=null}=e||{},o=n.points,i=[];return n.segments.forEach(({start:a,end:l})=>{l=pM(a,l,o);const u=o[a],c=o[l];null!==r?(i.push({x:u.x,y:r}),i.push({x:c.x,y:r})):null!==t&&(i.push({x:t,y:u.y}),i.push({x:t,y:c.y}))}),i}(e,n),t.length?new mM({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function s6(e){return e&&!1!==e.fill}function Eme(e,n,t){let o=e[n].fill;const i=[n];let a;if(!t)return o;for(;!1!==o&&-1===i.indexOf(o);){if(!bo(o))return o;if(a=e[o],!a)return!1;if(a.visible)return o;i.push(o),o=a.fill}return!1}function yme(e,n,t){const r=function Cme(e){const n=e.options,t=n.fill;let r=Nn(t&&t.target,t);return void 0===r&&(r=!!n.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(e);if(nr(r))return!isNaN(r.value)&&r;let o=parseFloat(r);return bo(o)&&Math.floor(o)===o?function Dme(e,n,t,r){return("-"===e||"+"===e)&&(t=n+t),!(t===n||t<0||t>=r)&&t}(r[0],n,o,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Pme(e,n,t){const r=[];for(let o=0;o<t.length;o++){const i=t[o],{first:a,last:l,point:u}=Ime(i,n,"x");if(!(!u||a&&l))if(a)r.unshift(u);else if(e.push(u),!l)break}e.push(...r)}function Ime(e,n,t){const r=e.interpolate(n,t);if(!r)return{};const o=r[t],i=e.segments,a=e.points;let l=!1,u=!1;for(let c=0;c<i.length;c++){const f=i[c],M=a[f.start][t],_=a[f.end][t];if(ru(o,M,_)){l=o===M,u=o===_;break}}return{first:l,last:u,point:r}}class l6{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,r){const{x:o,y:i,radius:a}=this;return n.arc(o,i,a,(t=t||{start:0,end:ao}).end,t.start,!0),!r.bounds}interpolate(n){const{x:t,y:r,radius:o}=this,i=n.angle;return{x:t+Math.cos(i)*o,y:r+Math.sin(i)*o,angle:i}}}function d5(e,n,t){const r=function xme(e){const{chart:n,fill:t,line:r}=e;if(bo(t))return function Ame(e,n){const t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}(n,t);if("stack"===t)return function Tme(e){const{scale:n,index:t,line:r}=e,o=[],i=r.segments,a=r.points,l=function Ome(e,n){const t=[],r=e.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const i=r[o];if(i.index===n)break;i.hidden||t.unshift(i.dataset)}return t}(n,t);l.push(a6({x:null,y:n.bottom},r));for(let u=0;u<i.length;u++){const c=i[u];for(let f=c.start;f<=c.end;f++)Pme(o,a[f],l)}return new mM({points:o,options:{}})}(e);if("shape"===t)return!0;const o=function _me(e){return(e.scale||{}).getPointPositionForValue?function Lme(e){const{scale:n,fill:t}=e,r=n.options,o=n.getLabels().length,i=r.reverse?n.max:n.min,a=function bme(e,n,t){let r;return r="start"===e?t:"end"===e?n.options.reverse?n.min:n.max:nr(e)?e.value:n.getBaseValue(),r}(t,n,i),l=[];if(r.grid.circular){const u=n.getPointPositionForValue(0,i);return new l6({x:u.x,y:u.y,radius:n.getDistanceFromCenterForValue(a)})}for(let u=0;u<o;++u)l.push(n.getPointPositionForValue(u,a));return l}(e):function Sme(e){const{scale:n={},fill:t}=e,r=function Mme(e,n){let t=null;return"start"===e?t=n.bottom:"end"===e?t=n.top:nr(e)?t=n.getPixelForValue(e.value):n.getBasePixel&&(t=n.getBasePixel()),t}(t,n);if(bo(r)){const o=n.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}(e)}(e);return o instanceof l6?o:a6(o,r)}(n),{chart:o,index:i,line:a,scale:l,axis:u}=n,c=a.options,f=c.fill,M=c.backgroundColor,{above:_=M,below:I=M}=f||{},U=o.getDatasetMeta(i),k=sW(o,U);r&&a.points.length&&(eM(e,t),function Rme(e,n){const{line:t,target:r,above:o,below:i,area:a,scale:l,clip:u}=n,c=t._loop?"angle":n.axis;e.save();let f=i;i!==o&&("x"===c?(u6(e,r,a.top),f5(e,{line:t,target:r,color:o,scale:l,property:c,clip:u}),e.restore(),e.save(),u6(e,r,a.bottom)):"y"===c&&(c6(e,r,a.left),f5(e,{line:t,target:r,color:i,scale:l,property:c,clip:u}),e.restore(),e.save(),c6(e,r,a.right),f=o)),f5(e,{line:t,target:r,color:f,scale:l,property:c,clip:u}),e.restore()}(e,{line:a,target:r,above:_,below:I,area:t,scale:l,axis:u,clip:k}),tM(e))}function u6(e,n,t){const{segments:r,points:o}=n;let i=!0,a=!1;e.beginPath();for(const l of r){const{start:u,end:c}=l,f=o[u],M=o[pM(u,c,o)];i?(e.moveTo(f.x,f.y),i=!1):(e.lineTo(f.x,t),e.lineTo(f.x,f.y)),a=!!n.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(M.x,t)}e.lineTo(n.first().x,t),e.closePath(),e.clip()}function c6(e,n,t){const{segments:r,points:o}=n;let i=!0,a=!1;e.beginPath();for(const l of r){const{start:u,end:c}=l,f=o[u],M=o[pM(u,c,o)];i?(e.moveTo(f.x,f.y),i=!1):(e.lineTo(t,f.y),e.lineTo(f.x,f.y)),a=!!n.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(t,M.y)}e.lineTo(t,n.first().y),e.closePath(),e.clip()}function f5(e,n){const{line:t,target:r,property:o,color:i,scale:a,clip:l}=n,u=function pme(e,n,t){const r=e.segments,o=e.points,i=n.points,a=[];for(const l of r){let{start:u,end:c}=l;c=pM(u,c,o);const f=c5(t,o[u],o[c],l.loop);if(!n.segments){a.push({source:l,target:f,start:o[u],end:o[c]});continue}const M=oW(n,f);for(const _ of M){const I=c5(t,i[_.start],i[_.end],_.loop),U=rW(l,o,I);for(const k of U)a.push({source:k,target:_,start:{[t]:i6(f,I,"start",Math.max)},end:{[t]:i6(f,I,"end",Math.min)}})}}return a}(t,r,o);for(const{source:c,target:f,start:M,end:_}of u){const{style:{backgroundColor:I=i}={}}=c,U=!0!==r;e.save(),e.fillStyle=I,wme(e,a,l,U&&c5(o,M,_)),e.beginPath();const k=!!t.pathSegment(e,c);let Y;if(U){k?e.closePath():d6(e,r,_,o);const J=!!r.pathSegment(e,f,{move:k,reverse:!0});Y=k&&J,Y||d6(e,r,M,o)}e.closePath(),e.fill(Y?"evenodd":"nonzero"),e.restore()}}function wme(e,n,t,r){const o=n.chart.chartArea,{property:i,start:a,end:l}=r||{};if("x"===i||"y"===i){let u,c,f,M;"x"===i?(u=a,c=o.top,f=l,M=o.bottom):(u=o.left,c=a,f=o.right,M=l),e.beginPath(),t&&(u=Math.max(u,t.left),f=Math.min(f,t.right),c=Math.max(c,t.top),M=Math.min(M,t.bottom)),e.rect(u,c,f-u,M-c),e.clip()}}function d6(e,n,t,r){const o=n.interpolate(t,r);o&&e.lineTo(o.x,o.y)}var jme={id:"filler",afterDatasetsUpdate(e,n,t){const r=(e.data.datasets||[]).length,o=[];let i,a,l,u;for(a=0;a<r;++a)i=e.getDatasetMeta(a),l=i.dataset,u=null,l&&l.options&&l instanceof mM&&(u={visible:e.isDatasetVisible(a),index:a,fill:yme(l,a,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=u,o.push(u);for(a=0;a<r;++a)u=o[a],u&&!1!==u.fill&&(u.fill=Eme(o,a,t.propagate))},beforeDraw(e,n,t){const r="beforeDraw"===t.drawTime,o=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=o.length-1;a>=0;--a){const l=o[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&d5(e.ctx,l,i))}},beforeDatasetsDraw(e,n,t){if("beforeDatasetsDraw"!==t.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const i=r[o].$filler;s6(i)&&d5(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,n,t){const r=n.meta.$filler;!s6(r)||"beforeDatasetDraw"!==t.drawTime||d5(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const f6=(e,n)=>{let{boxHeight:t=n,boxWidth:r=n}=e;return e.usePointStyle&&(t=Math.min(t,n),r=e.pointStyleWidth||Math.min(r,n)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(n,t)}};class h6 extends su{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,r){this.maxWidth=n,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let t=Jr(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(r=>n.filter(r,this.chart.data))),n.sort&&(t=t.sort((r,o)=>n.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:n,ctx:t}=this;if(!n.display)return void(this.width=this.height=0);const r=n.labels,o=Qo(r.font),i=o.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=f6(r,i);let c,f;t.font=o.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(a,i,l,u)+10):(f=this.maxHeight,c=this._fitCols(a,o,l,u)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(f,n.maxHeight||this.maxHeight)}_fitRows(n,t,r,o){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],c=this.lineWidths=[0],f=o+l;let M=n;i.textAlign="left",i.textBaseline="middle";let _=-1,I=-f;return this.legendItems.forEach((U,k)=>{const Y=r+t/2+i.measureText(U.text).width;(0===k||c[c.length-1]+Y+2*l>a)&&(M+=f,c[c.length-(k>0?0:1)]=0,I+=f,_++),u[k]={left:0,top:I,row:_,width:Y,height:o},c[c.length-1]+=Y+l}),M}_fitCols(n,t,r,o){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],c=this.columnSizes=[],f=a-n;let M=l,_=0,I=0,U=0,k=0;return this.legendItems.forEach((Y,J)=>{const{itemWidth:se,itemHeight:he}=function Bme(e,n,t,r,o){const i=function Ume(e,n,t,r){let o=e.text;return o&&"string"!=typeof o&&(o=o.reduce((i,a)=>i.length>a.length?i:a)),n+t.size/2+r.measureText(o).width}(r,e,n,t),a=function Fme(e,n,t){let r=e;return"string"!=typeof n.text&&(r=g6(n,t)),r}(o,r,n.lineHeight);return{itemWidth:i,itemHeight:a}}(r,t,i,Y,o);J>0&&I+he+2*l>f&&(M+=_+l,c.push({width:_,height:I}),U+=_+l,k++,_=I=0),u[J]={left:U,top:I,col:k,width:se,height:he},_=Math.max(_,se),I+=he+l}),M+=_,c.push({width:_,height:I}),M}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:i}}=this,a=fg(i,this.left,this.width);if(this.isHorizontal()){let l=0,u=ki(r,this.left+o,this.right-this.lineWidths[l]);for(const c of t)l!==c.row&&(l=c.row,u=ki(r,this.left+o,this.right-this.lineWidths[l])),c.top+=this.top+n+o,c.left=a.leftForLtr(a.x(u),c.width),u+=c.width+o}else{let l=0,u=ki(r,this.top+n+o,this.bottom-this.columnSizes[l].height);for(const c of t)c.col!==l&&(l=c.col,u=ki(r,this.top+n+o,this.bottom-this.columnSizes[l].height)),c.top=u,c.left+=this.left+o,c.left=a.leftForLtr(a.x(c.left),c.width),u+=c.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;eM(n,this),this._draw(),tM(n)}}_draw(){const{options:n,columnSizes:t,lineWidths:r,ctx:o}=this,{align:i,labels:a}=n,l=fo.color,u=fg(n.rtl,this.left,this.width),c=Qo(a.font),{padding:f}=a,M=c.size,_=M/2;let I;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;const{boxWidth:U,boxHeight:k,itemHeight:Y}=f6(a,M),he=this.isHorizontal(),fe=this._computeTitleHeight();I=he?{x:ki(i,this.left+f,this.right-r[0]),y:this.top+f+fe,line:0}:{x:this.left+f,y:ki(i,this.top+fe+f,this.bottom-t[0].height),line:0},q8(this.ctx,n.textDirection);const Me=Y+f;this.legendItems.forEach((we,Be)=>{o.strokeStyle=we.fontColor,o.fillStyle=we.fontColor;const Oe=o.measureText(we.text).width,be=u.textAlign(we.textAlign||(we.textAlign=a.textAlign)),Ue=U+_+Oe;let ge=I.x,Ce=I.y;u.setWidth(this.width),he?Be>0&&ge+Ue+f>this.right&&(Ce=I.y+=Me,I.line++,ge=I.x=ki(i,this.left+f,this.right-r[I.line])):Be>0&&Ce+Me>this.bottom&&(ge=I.x=ge+t[I.line].width+f,I.line++,Ce=I.y=ki(i,this.top+fe+f,this.bottom-t[I.line].height)),function(we,Be,Oe){if(isNaN(U)||U<=0||isNaN(k)||k<0)return;o.save();const be=Nn(Oe.lineWidth,1);if(o.fillStyle=Nn(Oe.fillStyle,l),o.lineCap=Nn(Oe.lineCap,"butt"),o.lineDashOffset=Nn(Oe.lineDashOffset,0),o.lineJoin=Nn(Oe.lineJoin,"miter"),o.lineWidth=be,o.strokeStyle=Nn(Oe.strokeStyle,l),o.setLineDash(Nn(Oe.lineDash,[])),a.usePointStyle){const Ue={radius:k*Math.SQRT2/2,pointStyle:Oe.pointStyle,rotation:Oe.rotation,borderWidth:be},ge=u.xPlus(we,U/2);k8(o,Ue,ge,Be+_,a.pointStyleWidth&&U)}else{const Ue=Be+Math.max((M-k)/2,0),ge=u.leftForLtr(we,U),Ce=kd(Oe.borderRadius);o.beginPath(),Object.values(Ce).some(Ne=>0!==Ne)?ov(o,{x:ge,y:Ue,w:U,h:k,radius:Ce}):o.rect(ge,Ue,U,k),o.fill(),0!==be&&o.stroke()}o.restore()}(u.x(ge),Ce,we),ge=((e,n,t,r)=>e===(r?"left":"right")?t:"center"===e?(n+t)/2:n)(be,ge+U+_,he?ge+Ue:this.right,n.rtl),function(we,Be,Oe){Wd(o,Oe.text,we,Be+Y/2,c,{strikethrough:Oe.hidden,textAlign:u.textAlign(Oe.textAlign)})}(u.x(ge),Ce,we),he?I.x+=Ue+f:I.y+="string"!=typeof we.text?g6(we,c.lineHeight)+f:Me}),eW(this.ctx,n.textDirection)}drawTitle(){const n=this.options,t=n.title,r=Qo(t.font),o=Hi(t.padding);if(!t.display)return;const i=fg(n.rtl,this.left,this.width),a=this.ctx,l=t.position,c=o.top+r.size/2;let f,M=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),f=this.top+c,M=ki(n.align,M,this.right-_);else{const U=this.columnSizes.reduce((k,Y)=>Math.max(k,Y.height),0);f=c+ki(n.align,this.top,this.bottom-U-n.labels.padding-this._computeTitleHeight())}const I=ki(l,M,M+_);a.textAlign=i.textAlign(NP(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,Wd(a,t.text,I,f,r)}_computeTitleHeight(){const n=this.options.title,t=Qo(n.font),r=Hi(n.padding);return n.display?t.lineHeight+r.height:0}_getLegendItemAt(n,t){let r,o,i;if(ru(n,this.left,this.right)&&ru(t,this.top,this.bottom))for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(o=i[r],ru(n,o.left,o.left+o.width)&&ru(t,o.top,o.top+o.height))return this.legendItems[r];return null}handleEvent(n){const t=this.options;if(!function Wme(e,n){return!(("mousemove"!==e&&"mouseout"!==e||!n.onHover&&!n.onLeave)&&(!n.onClick||"click"!==e&&"mouseup"!==e))}(n.type,t))return;const r=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const o=this._hoveredItem,i=((e,n)=>null!==e&&null!==n&&e.datasetIndex===n.datasetIndex&&e.index===n.index)(o,r);o&&!i&&Jr(t.onLeave,[n,o,this],this),this._hoveredItem=r,r&&!i&&Jr(t.onHover,[n,r,this],this)}else r&&Jr(t.onClick,[n,r,this],this)}}function g6(e,n){return n*(e.text?e.text.length:0)}var kme={id:"legend",_element:h6,start(e,n,t){const r=e.legend=new h6({ctx:e.ctx,options:t,chart:e});Vi.configure(e,r,t),Vi.addBox(e,r)},stop(e){Vi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){const r=e.legend;Vi.configure(e,r,t),r.options=t},afterUpdate(e){const n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){const r=n.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),n.hidden=!0):(o.show(r),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const c=u.controller.getStyle(t?0:void 0),f=Hi(c.borderWidth);return{text:n[u.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:a&&(l||c.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class h5 extends su{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=t;const o=io(r.text)?r.text.length:1;this._padding=Hi(r.padding);const i=o*Qo(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:t,left:r,bottom:o,right:i,options:a}=this,l=a.align;let c,f,M,u=0;return this.isHorizontal()?(f=ki(l,r,i),M=t+n,c=i-r):("left"===a.position?(f=r+n,M=ki(l,o,t),u=-.5*vr):(f=i-n,M=ki(l,t,o),u=.5*vr),c=o-t),{titleX:f,titleY:M,maxWidth:c,rotation:u}}draw(){const n=this.ctx,t=this.options;if(!t.display)return;const r=Qo(t.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:c}=this._drawArgs(i);Wd(n,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:c,textAlign:NP(t.align),textBaseline:"middle",translation:[a,l]})}}var Vme={id:"title",_element:h5,start(e,n,t){!function Hme(e,n){const t=new h5({ctx:e.ctx,options:n,chart:e});Vi.configure(e,t,n),Vi.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){Vi.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,n,t){const r=e.titleBlock;Vi.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vM=new WeakMap;var Kme={id:"subtitle",start(e,n,t){const r=new h5({ctx:e.ctx,options:t,chart:e});Vi.configure(e,r,t),Vi.addBox(e,r),vM.set(e,r)},stop(e){Vi.removeBox(e,vM.get(e)),vM.delete(e)},beforeUpdate(e,n,t){const r=vM.get(e);Vi.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gv={average(e){if(!e.length)return!1;let n,t,r=new Set,o=0,i=0;for(n=0,t=e.length;n<t;++n){const l=e[n].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),o+=u.y,++i}}return 0!==i&&0!==r.size&&{x:[...r].reduce((l,u)=>l+u)/r.size,y:o/i}},nearest(e,n){if(!e.length)return!1;let i,a,l,t=n.x,r=n.y,o=Number.POSITIVE_INFINITY;for(i=0,a=e.length;i<a;++i){const u=e[i].element;if(u&&u.hasValue()){const f=wP(n,u.getCenterPoint());f<o&&(o=f,l=u)}}if(l){const u=l.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function El(e,n){return n&&(io(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function lu(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function zme(e,n){const{element:t,datasetIndex:r,index:o}=n,i=e.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(o);return{chart:e,label:a,parsed:i.getParsed(o),raw:e.data.datasets[r].data[o],formattedValue:l,dataset:i.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function m6(e,n){const t=e.chart.ctx,{body:r,footer:o,title:i}=e,{boxWidth:a,boxHeight:l}=n,u=Qo(n.bodyFont),c=Qo(n.titleFont),f=Qo(n.footerFont),M=i.length,_=o.length,I=r.length,U=Hi(n.padding);let k=U.height,Y=0,J=r.reduce((fe,Me)=>fe+Me.before.length+Me.lines.length+Me.after.length,0);J+=e.beforeBody.length+e.afterBody.length,M&&(k+=M*c.lineHeight+(M-1)*n.titleSpacing+n.titleMarginBottom),J&&(k+=I*(n.displayColors?Math.max(l,u.lineHeight):u.lineHeight)+(J-I)*u.lineHeight+(J-1)*n.bodySpacing),_&&(k+=n.footerMarginTop+_*f.lineHeight+(_-1)*n.footerSpacing);let se=0;const he=function(fe){Y=Math.max(Y,t.measureText(fe).width+se)};return t.save(),t.font=c.string,Sr(e.title,he),t.font=u.string,Sr(e.beforeBody.concat(e.afterBody),he),se=n.displayColors?a+2+n.boxPadding:0,Sr(r,fe=>{Sr(fe.before,he),Sr(fe.lines,he),Sr(fe.after,he)}),se=0,t.font=f.string,Sr(e.footer,he),t.restore(),Y+=U.width,{width:Y,height:k}}function Yme(e,n,t,r){const{x:o,width:i}=t,{width:a,chartArea:{left:l,right:u}}=e;let c="center";return"center"===r?c=o<=(l+u)/2?"left":"right":o<=i/2?c="left":o>=a-i/2&&(c="right"),function Gme(e,n,t,r){const{x:o,width:i}=r,a=t.caretSize+t.caretPadding;if("left"===e&&o+i+a>n.width||"right"===e&&o-i-a<0)return!0}(c,e,n,t)&&(c="center"),c}function p6(e,n,t){const r=t.yAlign||n.yAlign||function $me(e,n){const{y:t,height:r}=n;return t<r/2?"top":t>e.height-r/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||n.xAlign||Yme(e,n,t,r),yAlign:r}}function v6(e,n,t,r){const{caretSize:o,caretPadding:i,cornerRadius:a}=e,{xAlign:l,yAlign:u}=t,c=o+i,{topLeft:f,topRight:M,bottomLeft:_,bottomRight:I}=kd(a);let U=function Zme(e,n){let{x:t,width:r}=e;return"right"===n?t-=r:"center"===n&&(t-=r/2),t}(n,l);const k=function Xme(e,n,t){let{y:r,height:o}=e;return"top"===n?r+=t:r-="bottom"===n?o+t:o/2,r}(n,u,c);return"center"===u?"left"===l?U+=c:"right"===l&&(U-=c):"left"===l?U-=Math.max(f,_)+o:"right"===l&&(U+=Math.max(M,I)+o),{x:gi(U,0,r.width-n.width),y:gi(k,0,r.height-n.height)}}function EM(e,n,t){const r=Hi(t.padding);return"center"===n?e.x+e.width/2:"right"===n?e.x+e.width-r.right:e.x+r.left}function E6(e){return El([],lu(e))}function y6(e,n){const t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}const D6={beforeTitle:nu,title(e){if(e.length>0){const n=e[0],t=n.chart.data.labels,r=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(r>0&&n.dataIndex<r)return t[n.dataIndex]}return""},afterTitle:nu,beforeBody:nu,beforeLabel:nu,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");const t=e.formattedValue;return tr(t)||(n+=t),n},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:nu,afterBody:nu,beforeFooter:nu,footer:nu,afterFooter:nu};function Oa(e,n,t,r){const o=e[n].call(t,r);return typeof o>"u"?D6[n].call(t,r):o}let M6=(()=>class e extends su{static positioners=gv;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,o=this.options.setContext(this.getContext()),i=o.enabled&&r.options.animation&&o.animations,a=new uW(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function Jme(e,n,t){return pc(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:o}=r,i=Oa(o,"beforeTitle",this,t),a=Oa(o,"title",this,t),l=Oa(o,"afterTitle",this,t);let u=[];return u=El(u,lu(i)),u=El(u,lu(a)),u=El(u,lu(l)),u}getBeforeBody(t,r){return E6(Oa(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:o}=r,i=[];return Sr(t,a=>{const l={before:[],lines:[],after:[]},u=y6(o,a);El(l.before,lu(Oa(u,"beforeLabel",this,a))),El(l.lines,Oa(u,"label",this,a)),El(l.after,lu(Oa(u,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(t,r){return E6(Oa(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:o}=r,i=Oa(o,"beforeFooter",this,t),a=Oa(o,"footer",this,t),l=Oa(o,"afterFooter",this,t);let u=[];return u=El(u,lu(i)),u=El(u,lu(a)),u=El(u,lu(l)),u}_createItems(t){const r=this._active,o=this.chart.data,i=[],a=[],l=[];let c,f,u=[];for(c=0,f=r.length;c<f;++c)u.push(zme(this.chart,r[c]));return t.filter&&(u=u.filter((M,_,I)=>t.filter(M,_,I,o))),t.itemSort&&(u=u.sort((M,_)=>t.itemSort(M,_,o))),Sr(u,M=>{const _=y6(t.callbacks,M);i.push(Oa(_,"labelColor",this,M)),a.push(Oa(_,"labelPointStyle",this,M)),l.push(Oa(_,"labelTextColor",this,M))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,r){const o=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(i.length){const u=gv[o.position].call(this,i,this._eventPosition);l=this._createItems(o),this.title=this.getTitle(l,o),this.beforeBody=this.getBeforeBody(l,o),this.body=this.getBody(l,o),this.afterBody=this.getAfterBody(l,o),this.footer=this.getFooter(l,o);const c=this._size=m6(this,o),f=Object.assign({},u,c),M=p6(this.chart,o,f),_=v6(o,f,M,this.chart);this.xAlign=M.xAlign,this.yAlign=M.yAlign,a={opacity:1,x:_.x,y:_.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,o,i){const a=this.getCaretPosition(t,o,i);r.lineTo(a.x1,a.y1),r.lineTo(a.x2,a.y2),r.lineTo(a.x3,a.y3)}getCaretPosition(t,r,o){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:u}=o,{topLeft:c,topRight:f,bottomLeft:M,bottomRight:_}=kd(u),{x:I,y:U}=t,{width:k,height:Y}=r;let J,se,he,fe,Me,we;return"center"===a?(Me=U+Y/2,"left"===i?(J=I,se=J-l,fe=Me+l,we=Me-l):(J=I+k,se=J+l,fe=Me-l,we=Me+l),he=J):(se="left"===i?I+Math.max(c,M)+l:"right"===i?I+k-Math.max(f,_)-l:this.caretX,"top"===a?(fe=U,Me=fe-l,J=se-l,he=se+l):(fe=U+Y,Me=fe+l,J=se+l,he=se-l),we=fe),{x1:J,x2:se,x3:he,y1:fe,y2:Me,y3:we}}drawTitle(t,r,o){const i=this.title,a=i.length;let l,u,c;if(a){const f=fg(o.rtl,this.x,this.width);for(t.x=EM(this,o.titleAlign,o),r.textAlign=f.textAlign(o.titleAlign),r.textBaseline="middle",l=Qo(o.titleFont),u=o.titleSpacing,r.fillStyle=o.titleColor,r.font=l.string,c=0;c<a;++c)r.fillText(i[c],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,c+1===a&&(t.y+=o.titleMarginBottom-u)}}_drawColorBox(t,r,o,i,a){const l=this.labelColors[o],u=this.labelPointStyles[o],{boxHeight:c,boxWidth:f}=a,M=Qo(a.bodyFont),_=EM(this,"left",a),I=i.x(_),k=r.y+(c<M.lineHeight?(M.lineHeight-c)/2:0);if(a.usePointStyle){const Y={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},J=i.leftForLtr(I,f)+f/2,se=k+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,kP(t,Y,J,se),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,kP(t,Y,J,se)}else{t.lineWidth=nr(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const Y=i.leftForLtr(I,f),J=i.leftForLtr(i.xPlus(I,1),f-2),se=kd(l.borderRadius);Object.values(se).some(he=>0!==he)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,ov(t,{x:Y,y:k,w:f,h:c,radius:se}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),ov(t,{x:J,y:k+1,w:f-2,h:c-2,radius:se}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(Y,k,f,c),t.strokeRect(Y,k,f,c),t.fillStyle=l.backgroundColor,t.fillRect(J,k+1,f-2,c-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,r,o){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:M}=o,_=Qo(o.bodyFont);let I=_.lineHeight,U=0;const k=fg(o.rtl,this.x,this.width),Y=function(be){r.fillText(be,k.x(t.x+U),t.y+I/2),t.y+=I+a},J=k.textAlign(l);let se,he,fe,Me,we,Be,Oe;for(r.textAlign=l,r.textBaseline="middle",r.font=_.string,t.x=EM(this,J,o),r.fillStyle=o.bodyColor,Sr(this.beforeBody,Y),U=u&&"right"!==J?"center"===l?f/2+M:f+2+M:0,Me=0,Be=i.length;Me<Be;++Me){for(se=i[Me],he=this.labelTextColors[Me],r.fillStyle=he,Sr(se.before,Y),fe=se.lines,u&&fe.length&&(this._drawColorBox(r,t,Me,k,o),I=Math.max(_.lineHeight,c)),we=0,Oe=fe.length;we<Oe;++we)Y(fe[we]),I=_.lineHeight;Sr(se.after,Y)}U=0,I=_.lineHeight,Sr(this.afterBody,Y),t.y-=a}drawFooter(t,r,o){const i=this.footer,a=i.length;let l,u;if(a){const c=fg(o.rtl,this.x,this.width);for(t.x=EM(this,o.footerAlign,o),t.y+=o.footerMarginTop,r.textAlign=c.textAlign(o.footerAlign),r.textBaseline="middle",l=Qo(o.footerFont),r.fillStyle=o.footerColor,r.font=l.string,u=0;u<a;++u)r.fillText(i[u],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o.footerSpacing}}drawBackground(t,r,o,i){const{xAlign:a,yAlign:l}=this,{x:u,y:c}=t,{width:f,height:M}=o,{topLeft:_,topRight:I,bottomLeft:U,bottomRight:k}=kd(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(u+_,c),"top"===l&&this.drawCaret(t,r,o,i),r.lineTo(u+f-I,c),r.quadraticCurveTo(u+f,c,u+f,c+I),"center"===l&&"right"===a&&this.drawCaret(t,r,o,i),r.lineTo(u+f,c+M-k),r.quadraticCurveTo(u+f,c+M,u+f-k,c+M),"bottom"===l&&this.drawCaret(t,r,o,i),r.lineTo(u+U,c+M),r.quadraticCurveTo(u,c+M,u,c+M-U),"center"===l&&"left"===a&&this.drawCaret(t,r,o,i),r.lineTo(u,c+_),r.quadraticCurveTo(u,c,u+_,c),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,o=this.$animations,i=o&&o.x,a=o&&o.y;if(i||a){const l=gv[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=m6(this,t),c=Object.assign({},l,this._size),f=p6(r,t,c),M=v6(t,c,f,r);(i._to!==M.x||a._to!==M.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,M))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const l=Hi(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=o,this.drawBackground(a,t,i,r),q8(t,r.textDirection),a.y+=l.top,this.drawTitle(a,t,r),this.drawBody(a,t,r),this.drawFooter(a,t,r),eW(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const o=this._active,i=t.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),a=!YD(o,i),l=this._positionChanged(i,r);(a||l)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,o=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(t,a,r,o),u=this._positionChanged(l,t),c=r||!YD(l,a)||u;return c&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,o,i){const a=this.options;if("mouseout"===t.type)return[];if(!i)return r.filter(u=>this.chart.data.datasets[u.datasetIndex]&&void 0!==this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index));const l=this.chart.getElementsAtEventForMode(t,a.mode,a,o);return a.reverse&&l.reverse(),l}_positionChanged(t,r){const{caretX:o,caretY:i,options:a}=this,l=gv[a.position].call(this,t,r);return!1!==l&&(o!==l.x||i!==l.y)}})();var Qme={id:"tooltip",_element:M6,positioners:gv,afterInit(e,n,t){t&&(e.tooltip=new M6({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const n=e.tooltip;if(n&&n._willRender()){const t={tooltip:n};if(!1===e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,n){e.tooltip&&e.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:D6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qme=Object.freeze({__proto__:null,Colors:dme,Decimation:mme,Filler:jme,Legend:kme,SubTitle:Kme,Title:Vme,Tooltip:Qme});function b6(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}let rpe=(()=>class e extends $d{static id="category";static defaults={ticks:{callback:b6}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const o=this.getLabels();for(const{index:i,label:a}of r)o[i]===a&&o.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(tr(t))return null;const o=this.getLabels();return((e,n)=>null===e?null:gi(Math.round(e),0,n))(r=isFinite(r)&&o[r]===t?r:function tpe(e,n,t,r){const o=e.indexOf(n);return-1===o?((e,n,t,r)=>("string"==typeof n?(t=e.push(n)-1,r.unshift({index:t,label:n})):isNaN(n)&&(t=null),t))(e,n,t,r):o!==e.lastIndexOf(n)?t:o}(o,t,Nn(r,t),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(o=0),r||(i=this.getLabels().length-1)),this.min=o,this.max=i}buildTicks(){const t=this.min,r=this.max,o=this.options.offset,i=[];let a=this.getLabels();a=0===t&&r===a.length-1?a:a.slice(t,r+1),this._valueRange=Math.max(a.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let l=t;l<=r;l++)i.push({value:l});return i}getLabelForValue(t){return b6.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}})();function C6(e,n,{horizontal:t,minRotation:r}){const o=Us(r),i=(t?Math.sin(o):Math.cos(o))||.001;return Math.min(n/i,.75*n*(""+e).length)}class yM extends $d{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return tr(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:i}=this;const a=u=>o=t?o:u,l=u=>i=r?i:u;if(n){const u=pl(o),c=pl(i);u<0&&c<0?l(0):u>0&&c>0&&a(0)}if(o===i){let u=0===i?1:Math.abs(.05*i);l(i+u),n||a(o-u)}this.min=o,this.max=i}getTickLimit(){const n=this.options.ticks;let o,{maxTicksLimit:t,stepSize:r}=n;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,t=n.ticks;let r=this.getTickLimit();r=Math.max(2,r);const a=function ope(e,n){const t=[],{bounds:o,step:i,min:a,max:l,precision:u,count:c,maxTicks:f,maxDigits:M,includeBounds:_}=e,I=i||1,U=f-1,{min:k,max:Y}=n,J=!tr(a),se=!tr(l),he=!tr(c),fe=(Y-k)/(M+1);let we,Be,Oe,be,Me=T8((Y-k)/U/I)*I;if(Me<1e-14&&!J&&!se)return[{value:k},{value:Y}];be=Math.ceil(Y/Me)-Math.floor(k/Me),be>U&&(Me=T8(be*Me/U/I)*I),tr(u)||(we=Math.pow(10,u),Me=Math.ceil(Me*we)/we),"ticks"===o?(Be=Math.floor(k/Me)*Me,Oe=Math.ceil(Y/Me)*Me):(Be=k,Oe=Y),J&&se&&i&&function Vde(e,n){const t=Math.round(e);return t-n<=e&&t+n>=e}((l-a)/i,Me/1e3)?(be=Math.round(Math.min((l-a)/Me,f)),Me=(l-a)/be,Be=a,Oe=l):he?(Be=J?a:Be,Oe=se?l:Oe,be=c-1,Me=(Oe-Be)/be):(be=(Oe-Be)/Me,be=qp(be,Math.round(be),Me/1e3)?Math.round(be):Math.ceil(be));const Ue=Math.max(P8(Me),P8(Be));we=Math.pow(10,tr(u)?Ue:u),Be=Math.round(Be*we)/we,Oe=Math.round(Oe*we)/we;let ge=0;for(J&&(_&&Be!==a?(t.push({value:a}),Be<a&&ge++,qp(Math.round((Be+ge*Me)*we)/we,a,C6(a,fe,e))&&ge++):Be<a&&ge++);ge<be;++ge){const Ce=Math.round((Be+ge*Me)*we)/we;if(se&&Ce>l)break;t.push({value:Ce})}return se&&_&&Oe!==l?t.length&&qp(t[t.length-1].value,l,C6(l,fe,e))?t[t.length-1].value=l:t.push({value:l}):(!se||Oe===l)&&t.push({value:Oe}),t}({maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===n.bounds&&O8(a,this,"value"),n.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const n=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&n.length){const o=(r-t)/Math.max(n.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(n){return nv(n,this.chart.options.locale,this.options.ticks.format)}}const mv=e=>Math.floor(mc(e)),Gd=(e,n)=>Math.pow(10,mv(e)+n);function T6(e){return e/Math.pow(10,mv(e))===1}function O6(e,n,t){const r=Math.pow(10,t),o=Math.floor(e/r);return Math.ceil(n/r)-o}function g5(e){const n=e.ticks;if(n.display&&e.display){const t=Hi(n.backdropPadding);return Nn(n.font&&n.font.size,fo.font.size)+t.height}return 0}function upe(e,n,t){return t=io(t)?t:[t],{w:afe(e,n.string,t),h:t.length*n.lineHeight}}function P6(e,n,t,r,o){return e===r||e===o?{start:n-t/2,end:n+t/2}:e<r||e>o?{start:n-t,end:n}:{start:n,end:n+t}}function dpe(e,n,t,r,o){const i=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,u=0;r.start<n.l?(l=(n.l-r.start)/i,e.l=Math.min(e.l,n.l-l)):r.end>n.r&&(l=(r.end-n.r)/i,e.r=Math.max(e.r,n.r+l)),o.start<n.t?(u=(n.t-o.start)/a,e.t=Math.min(e.t,n.t-u)):o.end>n.b&&(u=(o.end-n.b)/a,e.b=Math.max(e.b,n.b+u))}function fpe(e,n,t){const r=e.drawingArea,{extra:o,additionalAngle:i,padding:a,size:l}=t,u=e.getPointPosition(n,r+o+a,i),c=Math.round(RP(Wi(u.angle+Ro))),f=function vpe(e,n,t){return 90===t||270===t?e-=n/2:(t>270||t<90)&&(e-=n),e}(u.y,l.h,c),M=function mpe(e){return 0===e||180===e?"center":e<180?"left":"right"}(c),_=function ppe(e,n,t){return"right"===t?e-=n:"center"===t&&(e-=n/2),e}(u.x,l.w,M);return{visible:!0,x:u.x,y:f,textAlign:M,left:_,top:f,right:_+l.w,bottom:f+l.h}}function hpe(e,n){if(!n)return!0;const{left:t,top:r,right:o,bottom:i}=e;return!(iu({x:t,y:r},n)||iu({x:t,y:i},n)||iu({x:o,y:r},n)||iu({x:o,y:i},n))}function Epe(e,n,t){const{left:r,top:o,right:i,bottom:a}=t,{backdropColor:l}=n;if(!tr(l)){const u=kd(n.borderRadius),c=Hi(n.backdropPadding);e.fillStyle=l;const f=r-c.left,M=o-c.top,_=i-r+c.width,I=a-o+c.height;Object.values(u).some(U=>0!==U)?(e.beginPath(),ov(e,{x:f,y:M,w:_,h:I,radius:u}),e.fill()):e.fillRect(f,M,_,I)}}function I6(e,n,t,r){const{ctx:o}=e;if(t)o.arc(e.xCenter,e.yCenter,n,0,ao);else{let i=e.getPointPosition(0,n);o.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=e.getPointPosition(a,n),o.lineTo(i.x,i.y)}}const DM={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pa=Object.keys(DM);function x6(e,n){return e-n}function A6(e,n){if(tr(n))return null;const t=e._adapter,{parser:r,round:o,isoWeekday:i}=e._parseOpts;let a=n;return"function"==typeof r&&(a=r(a)),bo(a)||(a="string"==typeof r?t.parse(a,r):t.parse(a)),null===a?null:(o&&(a="week"!==o||!ug(i)&&!0!==i?t.startOf(a,o):t.startOf(a,"isoWeek",i)),+a)}function _6(e,n,t,r){const o=Pa.length;for(let i=Pa.indexOf(e);i<o-1;++i){const a=DM[Pa[i]];if(a.common&&Math.ceil((t-n)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=r)return Pa[i]}return Pa[o-1]}function S6(e,n,t){if(t){if(t.length){const{lo:r,hi:o}=jP(t,n);e[t[r]>=n?t[r]:t[o]]=!0}}else e[n]=!0}function L6(e,n,t){const r=[],o={},i=n.length;let a,l;for(a=0;a<i;++a)l=n[a],o[l]=a,r.push({value:l,major:!1});return 0!==i&&t?function Ope(e,n,t,r){const o=e._adapter,i=+o.startOf(n[0].value,r),a=n[n.length-1].value;let l,u;for(l=i;l<=a;l=+o.add(l,1,r))u=t[l],u>=0&&(n[u].major=!0);return n}(e,r,o,t):r}let m5=(()=>class e extends $d{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const o=t.time||(t.time={}),i=this._adapter=new Phe__date(t.adapters.date);i.init(r),Jp(o.displayFormats,i.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return void 0===t?null:A6(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,o=t.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function c(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(c(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&c(this.getMinMax(!1))),i=bo(i)&&!isNaN(i)?i:+r.startOf(Date.now(),o),a=bo(a)&&!isNaN(a)?a:+r.endOf(Date.now(),o)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],o=t[t.length-1]),{min:r,max:o}}buildTicks(){const t=this.options,r=t.time,o=t.ticks,i="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,u=function Gde(e,n,t){let r=0,o=e.length;for(;r<o&&e[r]<n;)r++;for(;o>r&&e[o-1]>t;)o--;return r>0||o<e.length?e.slice(r,o):e}(i,a,this.max);return this._unit=r.unit||(o.autoSkip?_6(r.minUnit,this.min,this.max,this._getLabelCapacity(a)):function Cpe(e,n,t,r,o){for(let i=Pa.length-1;i>=Pa.indexOf(t);i--){const a=Pa[i];if(DM[a].common&&e._adapter.diff(o,r,a)>=n-1)return a}return Pa[t?Pa.indexOf(t):0]}(this,u.length,r.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function Tpe(e){for(let n=Pa.indexOf(e)+1,t=Pa.length;n<t;++n)if(DM[Pa[n]].common)return Pa[n]}(this._unit):void 0,this.initOffsets(i),t.reverse&&u.reverse(),L6(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i,a,r=0,o=0;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),r=1===t.length?1-i:(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),o=1===t.length?a:(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;r=gi(r,0,l),o=gi(o,0,l),this._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const t=this._adapter,r=this.min,o=this.max,i=this.options,a=i.time,l=a.unit||_6(a.minUnit,r,o,this._getLabelCapacity(r)),u=Nn(i.ticks.stepSize,1),c="week"===l&&a.isoWeekday,f=ug(c)||!0===c,M={};let I,U,_=r;if(f&&(_=+t.startOf(_,"isoWeek",c)),_=+t.startOf(_,f?"day":l),t.diff(o,r,l)>1e5*u)throw new Error(r+" and "+o+" are too far apart with stepSize of "+u+" "+l);const k="data"===i.ticks.source&&this.getDataTimestamps();for(I=_,U=0;I<o;I=+t.add(I,u,l),U++)S6(M,I,k);return(I===o||"ticks"===i.bounds||1===U)&&S6(M,I,k),Object.keys(M).sort(x6).map(Y=>+Y)}getLabelForValue(t){const o=this.options.time;return this._adapter.format(t,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(t,r){return this._adapter.format(t,r||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,r,o,i){const a=this.options,l=a.ticks.callback;if(l)return Jr(l,[t,r,o],this);const u=a.time.displayFormats,c=this._unit,f=this._majorUnit,_=f&&u[f],I=o[r];return this._adapter.format(t,i||(f&&_&&I&&I.major?_:c&&u[c]))}generateTickLabels(t){let r,o,i;for(r=0,o=t.length;r<o;++r)i=t[r],i.label=this._tickFormatFunction(i.value,r,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+o)*r.factor)}getValueForPixel(t){const r=this._offsets,o=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,o=this.ctx.measureText(t).width,i=Us(this.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:o*a+u*l,h:o*l+u*a}}_getLabelCapacity(t){const r=this.options.time,o=r.displayFormats,i=o[r.unit]||o.millisecond,a=this._tickFormatFunction(t,0,L6(this,[t],this._majorUnit),i),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let r,o,t=this._cache.data||[];if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,o=i.length;r<o;++r)t=t.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,o;if(t.length)return t;const i=this.getLabels();for(r=0,o=i.length;r<o;++r)t.push(A6(this,i[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _8(t.sort(x6))}})();function MM(e,n,t){let i,a,l,u,r=0,o=e.length-1;t?(n>=e[r].pos&&n<=e[o].pos&&({lo:r,hi:o}=ou(e,"pos",n)),({pos:i,time:l}=e[r]),({pos:a,time:u}=e[o])):(n>=e[r].time&&n<=e[o].time&&({lo:r,hi:o}=ou(e,"time",n)),({time:i,pos:l}=e[r]),({time:a,pos:u}=e[o]));const c=a-i;return c?l+(u-l)*(n-i)/c:l}var Ipe=Object.freeze({__proto__:null,CategoryScale:rpe,LinearScale:class ipe extends yM{static id="linear";static defaults={ticks:{callback:QD.formatters.numeric}};determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=bo(n)?n:0,this.max=bo(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),t=n?this.width:this.height,r=Us(this.options.ticks.minRotation),o=(n?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/o))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},LogarithmicScale:class lpe extends $d{static id="logarithmic";static defaults={ticks:{callback:QD.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){const r=yM.prototype.parse.apply(this,[n,t]);if(0!==r)return bo(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=bo(n)?Math.max(0,n):null,this.max=bo(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!bo(this._userMin)&&(this.min=n===Gd(this.min,0)?Gd(this.min,-1):Gd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let r=this.min,o=this.max;const i=l=>r=n?r:l,a=l=>o=t?o:l;r===o&&(r<=0?(i(1),a(10)):(i(Gd(r,-1)),a(Gd(o,1)))),r<=0&&i(Gd(o,-1)),o<=0&&a(Gd(r,1)),this.min=r,this.max=o}buildTicks(){const n=this.options,r=function spe(e,{min:n,max:t}){n=Wa(e.min,n);const r=[],o=mv(n);let i=function ape(e,n){let r=mv(n-e);for(;O6(e,n,r)>10;)r++;for(;O6(e,n,r)<10;)r--;return Math.min(r,mv(e))}(n,t),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),u=o>i?Math.pow(10,o):0,c=Math.round((n-u)*a)/a,f=Math.floor((n-u)/l/10)*l*10;let M=Math.floor((c-f)/Math.pow(10,i)),_=Wa(e.min,Math.round((u+f+M*Math.pow(10,i))*a)/a);for(;_<t;)r.push({value:_,major:T6(_),significand:M}),M>=10?M=M<15?15:20:M++,M>=20&&(i++,M=2,a=i>=0?1:a),_=Math.round((u+f+M*Math.pow(10,i))*a)/a;const I=Wa(e.max,_);return r.push({value:I,major:T6(I),significand:M}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&O8(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(n){return void 0===n?"0":nv(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=mc(n),this._valueRange=mc(this.max)-mc(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(mc(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}},RadialLinearScale:class bpe extends yM{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:QD.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Hi(g5(this.options)/2),t=this.width=this.maxWidth-n.width,r=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+r/2+n.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!1);this.min=bo(n)&&!isNaN(n)?n:0,this.max=bo(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/g5(this.options))}generateTickLabels(n){yM.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,r)=>{const o=Jr(this.options.pointLabels.callback,[t,r],this);return o||0===o?o:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const n=this.options;n.display&&n.pointLabels.display?function cpe(e){const n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),r=[],o=[],i=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?vr/i:0;for(let u=0;u<i;u++){const c=a.setContext(e.getPointLabelContext(u));o[u]=c.padding;const f=e.getPointPosition(u,e.drawingArea+o[u],l),M=Qo(c.font),_=upe(e.ctx,M,e._pointLabels[u]);r[u]=_;const I=Wi(e.getIndexAngle(u)+l),U=Math.round(RP(I));dpe(t,n,I,P6(U,f.x,_.w,0,180),P6(U,f.y,_.h,90,270))}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=function gpe(e,n,t){const r=[],o=e._pointLabels.length,i=e.options,{centerPointLabels:a,display:l}=i.pointLabels,u={extra:g5(i)/2,additionalAngle:a?vr/o:0};let c;for(let f=0;f<o;f++){u.padding=t[f],u.size=n[f];const M=fpe(e,f,u);r.push(M),"auto"===l&&(M.visible=hpe(M,c),M.visible&&(c=M))}return r}(e,r,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,r,o){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((r-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,r,o))}getIndexAngle(n){return Wi(n*(ao/(this._pointLabels.length||1))+Us(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(tr(n))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(tr(n))return NaN;const t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){const t=this._pointLabels||[];if(n>=0&&n<t.length){const r=t[n];return function Mpe(e,n,t){return pc(e,{label:t,index:n,type:"pointLabel"})}(this.getContext(),n,r)}}getPointPosition(n,t,r=0){const o=this.getIndexAngle(n)-Ro+r;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:t,top:r,right:o,bottom:i}=this._pointLabelItems[n];return{left:t,top:r,right:o,bottom:i}}drawBackground(){const{backgroundColor:n,grid:{circular:t}}=this.options;if(n){const r=this.ctx;r.save(),r.beginPath(),I6(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=n,r.fill(),r.restore()}}drawGrid(){const n=this.ctx,t=this.options,{angleLines:r,grid:o,border:i}=t,a=this._pointLabels.length;let l,u,c;if(t.pointLabels.display&&function ype(e,n){const{ctx:t,options:{pointLabels:r}}=e;for(let o=n-1;o>=0;o--){const i=e._pointLabelItems[o];if(!i.visible)continue;const a=r.setContext(e.getPointLabelContext(o));Epe(t,a,i);const l=Qo(a.font),{x:u,y:c,textAlign:f}=i;Wd(t,e._pointLabels[o],u,c+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}(this,a),o.display&&this.ticks.forEach((f,M)=>{if(0!==M||0===M&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const _=this.getContext(M),I=o.setContext(_),U=i.setContext(_);!function Dpe(e,n,t,r,o){const i=e.ctx,a=n.circular,{color:l,lineWidth:u}=n;!a&&!r||!l||!u||t<0||(i.save(),i.strokeStyle=l,i.lineWidth=u,i.setLineDash(o.dash||[]),i.lineDashOffset=o.dashOffset,i.beginPath(),I6(e,t,a,r),i.closePath(),i.stroke(),i.restore())}(this,I,u,a,U)}}),r.display){for(n.save(),l=a-1;l>=0;l--){const f=r.setContext(this.getPointLabelContext(l)),{color:M,lineWidth:_}=f;!_||!M||(n.lineWidth=_,n.strokeStyle=M,n.setLineDash(f.borderDash),n.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(l,u),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const o=this.getIndexAngle(0);let i,a;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((l,u)=>{if(0===u&&this.min>=0&&!t.reverse)return;const c=r.setContext(this.getContext(u)),f=Qo(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[u].value),c.showLabelBackdrop){n.font=f.string,a=n.measureText(l.label).width,n.fillStyle=c.backdropColor;const M=Hi(c.backdropPadding);n.fillRect(-a/2-M.left,-i-f.size/2-M.top,a+M.width,f.size+M.height)}Wd(n,l.label,0,-i,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},TimeScale:m5,TimeSeriesScale:class Ppe extends m5{static id="timeseries";static defaults=m5.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=MM(t,this.min),this._tableRange=MM(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:t,max:r}=this,o=[],i=[];let a,l,u,c,f;for(a=0,l=n.length;a<l;++a)c=n[a],c>=t&&c<=r&&o.push(c);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,l=o.length;a<l;++a)f=o[a+1],u=o[a-1],c=o[a],Math.round((f+u)/2)!==c&&i.push({time:c,pos:a/(l-1)});return i}_generate(){const n=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(n)||!r.length)&&r.splice(0,0,n),(!r.includes(t)||1===r.length)&&r.push(t),r.sort((o,i)=>o-i)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return n=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,n=this._cache.all=n,n}getDecimalForValue(n){return(MM(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const t=this._offsets,r=this.getDecimalForPixel(n)/t.factor-t.end;return MM(this._table,r*this._tableRange+this._minPos,!0)}}});i5.register(Ohe,ome,qme,Ipe);var qo=d(3633),wo=d(2372),Ape=d(838),pv=d(9484);const _pe=["cornerstoneElement"];function Spe(e,n){if(1&e){const t=Mi();lt(0,"div",10)(1,"div",11)(2,"span",12),It(3),ut(),lt(4,"input",13),Xn("input",function(o){return zn(t),$n(xn().onSliderChange(o))}),ut()()()}if(2&e){const t=xn();Zt(3),Kl(t.contrastValue.toFixed(1)),Zt(),Tn("value",t.contrastValue)}}function Lpe(e,n){if(1&e){const t=Mi();lt(0,"div",14)(1,"div",11)(2,"span",12),It(3),ut(),lt(4,"input",15),Xn("input",function(o){return zn(t),$n(xn().onZoomSliderChange(o))}),ut()()()}if(2&e){const t=xn();Zt(3),Kl(t.zoomValue.toFixed(1)),Zt(),Tn("value",t.zoomValue)}}let Rpe=(()=>{class e{imagenUrl="";vista="";cerrar=new yo;actualizar=new yo;cornerstoneElementRef;element;originalViewport;showSlider=!1;contrastValue=1;showZoomSlider=!1;zoomValue=1;originalScale=1;originalWindowWidth=0;originalWindowCenter=0;ngAfterViewInit(){setTimeout(()=>{this.element=this.cornerstoneElementRef.nativeElement,this.element.style.overflow="auto",wo.external.cornerstone=qo,wo.external.cornerstoneMath=Ape,pv.external.cornerstone=qo,pv.configure({beforeSend:function(o){o.setRequestHeader("Accept","image/*")}}),qo.registerImageLoader("http",pv.loadImage),qo.registerImageLoader("https",pv.loadImage),qo.registerImageLoader("data",pv.loadImage);try{qo.enable(this.element)}catch{}const t=this.imagenUrl;qo.getEnabledElements().some(o=>o.element===this.element)&&qo.loadAndCacheImage(t).then(o=>{qo.displayImage(this.element,o);const i=qo.getDefaultViewportForImage(this.element,o);this.originalViewport={...i},this.originalWindowWidth=i.voi.windowWidth,this.originalWindowCenter=i.voi.windowCenter,qo.setViewport(this.element,i),this.originalScale=i.scale,wo.getToolForElement(this.element,"Zoom")||wo.addTool(wo.ZoomTool),wo.getToolForElement(this.element,"Invert")||wo.addTool(wo.InvertTool),wo.getToolForElement(this.element,"Magnify")||wo.addTool(wo.MagnifyTool),wo.getToolForElement(this.element,"Pan")||wo.addTool(wo.PanTool),wo.setToolActive("Zoom",{mouseButtonMask:2}),wo.setToolActive("Pan",{mouseButtonMask:1})}).catch(o=>{})},0)}aplicarInvertido(){const t=qo.getViewport(this.element);t.invert=!t.invert,qo.setViewport(this.element,t),this.showSlider=!1,this.showZoomSlider=!1}activarLupa(){this.showZoomSlider=!this.showZoomSlider,this.showZoomSlider&&(this.showSlider=!1)}activarZoom(){wo.setToolActive("Zoom",{mouseButtonMask:2}),wo.setToolActive("Pan",{mouseButtonMask:1})}activarContraste(){this.showSlider=!this.showSlider,this.showSlider&&(this.showZoomSlider=!1)}ajustarContraste(t){const r=qo.getViewport(this.element);1===t?(r.voi.windowWidth=this.originalWindowWidth,r.voi.windowCenter=this.originalWindowCenter):(r.voi.windowWidth=this.originalWindowWidth/t,r.voi.windowCenter=this.originalWindowCenter),qo.setViewport(this.element,r)}onSliderChange(t){const o=parseFloat(t.target.value);this.contrastValue=o,this.ajustarContraste(o)}onZoomSliderChange(t){const o=parseFloat(t.target.value);this.zoomValue=o,this.ajustarZoom(o)}ajustarZoom(t){const r=qo.getViewport(this.element);r.scale=this.originalScale*t,qo.setViewport(this.element,r)}cerrarVisor(){if(this.element)try{const r=this.element.querySelector("canvas")?.toDataURL("image/jpeg")||"";this.actualizar.emit({vista:this.vista,dataUrl:r}),this.cerrar.emit({vista:this.vista,dataUrl:r})}catch{}}ngOnDestroy(){if(this.element)try{try{wo.setToolDisabled("Magnify",{})}catch{}try{wo.setToolDisabled("Zoom",{})}catch{}try{wo.setToolDisabled("Pan",{})}catch{}if(qo.getEnabledElements().some(o=>o.element===this.element))try{qo.disable(this.element)}catch{}else console.info("Elemento ya no est\xe1 registrado como habilitado por cornerstone.")}catch{}}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ja({type:e,selectors:[["app-visor-cornerstone"]],viewQuery:function(r,o){if(1&r&&v2(_pe,5),2&r){let i;FE(i=WE())&&(o.cornerstoneElementRef=i.first)}},inputs:{imagenUrl:"imagenUrl",vista:"vista"},outputs:{cerrar:"cerrar",actualizar:"actualizar"},decls:20,vars:2,consts:[["cornerstoneElement",""],[1,"visor-overlay"],[1,"visor-container"],[1,"visor-close-button"],[1,"button-white-small",3,"click"],[1,"material-icons"],[1,"visor-toolbar"],[1,"cornerstone-element"],["class","slider-contraste",4,"ngIf"],["class","slider-zoom",4,"ngIf"],[1,"slider-contraste"],[1,"slider-wrapper"],[1,"slider-value"],["type","range","min","0.1","max","3","step","0.1",3,"input","value"],[1,"slider-zoom"],["type","range","min","1","max","3","step","0.1",3,"input","value"]],template:function(r,o){if(1&r){const i=Mi();lt(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),Xn("click",function(){return zn(i),$n(o.cerrarVisor())}),lt(4,"span",5),It(5,"close"),ut()()(),lt(6,"div",6)(7,"button",4),Xn("click",function(){return zn(i),$n(o.activarContraste())}),lt(8,"span",5),It(9,"contrast"),ut()(),lt(10,"button",4),Xn("click",function(){return zn(i),$n(o.aplicarInvertido())}),lt(11,"span",5),It(12,"invert_colors"),ut()(),lt(13,"button",4),Xn("click",function(){return zn(i),$n(o.activarLupa())}),lt(14,"span",5),It(15,"zoom_in"),ut()()(),ci(16,"div",7,0),xo(18,Spe,5,2,"div",8)(19,Lpe,5,2,"div",9),ut()()}2&r&&(Zt(18),Tn("ngIf",o.showSlider),Zt(),Tn("ngIf",o.showZoomSlider))},dependencies:[Gl,yh],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2000;background-color:#000000d9;display:flex;justify-content:center;align-items:center}.cornerstone-element[_ngcontent-%COMP%]{width:80vw;height:80vh;background-color:#000;margin:auto;display:block}.button-white-small[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:14px 18px;border:1px solid #ccc;border-radius:50%;cursor:pointer;font-size:28px;font-weight:600;transition:background-color .2s ease;display:inline-flex;align-items:center;justify-content:center;width:64px;height:64px}.button-white-small[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:42px;line-height:1}.button-white-small[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.visor-toolbar[_ngcontent-%COMP%]{position:absolute;top:50px;left:50%;transform:translate(-50%);display:flex;gap:12px;justify-content:center;z-index:10}.visor-close-button[_ngcontent-%COMP%]{position:absolute;top:50px;left:65px;z-index:10}.slider-contraste[_ngcontent-%COMP%]{position:absolute;bottom:60px;left:50%;transform:translate(-50%);z-index:20;width:100%;display:flex;justify-content:center;align-items:center}.slider-contraste[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:500px}.slider-contraste[_ngcontent-%COMP%]   .slider-value[_ngcontent-%COMP%]{position:absolute;bottom:32px;font-size:18px;background:#fff;padding:4px 10px;border-radius:25px;box-shadow:0 1px 3px #0003;font-weight:600;color:#000}.slider-contraste[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;width:480px;height:15px;background:#e0e0e0;border-radius:25px;outline:none;cursor:pointer;min:1}.slider-contraste[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:30px;height:30px;border-radius:50%;background:#fff;border:2px solid #000;margin-top:-11.5px;cursor:pointer}.slider-contraste[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:#fff;border:2px solid #000;cursor:pointer}.slider-zoom[_ngcontent-%COMP%]{position:absolute;bottom:60px;left:50%;transform:translate(-50%);z-index:20;width:100%;display:flex;justify-content:center;align-items:center}.slider-zoom[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:480px}.slider-zoom[_ngcontent-%COMP%]   .slider-value[_ngcontent-%COMP%]{position:absolute;bottom:32px;font-size:18px;background:#fff;padding:4px 10px;border-radius:25px;box-shadow:0 1px 3px #0003;font-weight:600;color:#000}.slider-zoom[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;width:480px;height:15px;background:#e0e0e0;border-radius:25px;outline:none;cursor:pointer}.slider-zoom[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:30px;height:30px;border-radius:50%;background:#fff;border:2px solid #000;margin-top:0;cursor:pointer;transform:translate(0)}.slider-zoom[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:#fff;border:2px solid #000;cursor:pointer}.slider-zoom[_ngcontent-%COMP%]   .cornerstone-element[_ngcontent-%COMP%]{width:80vw;height:80vh;background-color:#000;margin:auto;display:block;overflow:auto}"]})}return e})();const wpe=["reporte"];function jpe(e,n){1&e&&(qs(0),lt(1,"i"),It(2,"(Negativo)"),ut(),Ps())}function Npe(e,n){1&e&&(qs(0),lt(1,"i"),It(2,"(Hallazgos benignos)"),ut(),Ps())}function Bpe(e,n){1&e&&(qs(0),lt(1,"i"),It(2,"(Probablemente benigno <2%)"),ut(),Ps())}function Upe(e,n){1&e&&(qs(0),lt(1,"i"),It(2,"(Sospechoso, biopsia recomendada)"),ut(),Ps())}function Fpe(e,n){1&e&&(qs(0),lt(1,"i"),It(2,"(Altamente sugestivo de malignidad)"),ut(),Ps())}function Wpe(e,n){1&e&&d2(0)}function kpe(e,n){if(1&e&&(lt(0,"li")(1,"i"),It(2),ut(),It(3),ut()),2&e){const t=n.$implicit,r=xn(2);Zt(2),Kl(t),Zt(),C2(": BI-RADS ",r.datosReporte.detalles[t].birads," (",r.datosReporte.detalles[t].confidence.toFixed(2).replace(".",","),"%) ")}}function Hpe(e,n){if(1&e&&(lt(0,"div",16)(1,"h3",3),It(2,"Clasificaci\xf3n por Vista"),ut(),lt(3,"ul",17),xo(4,kpe,4,3,"li",18),ut()()),2&e){const t=xn();Zt(4),Tn("ngForOf",t.objectKeys(t.datosReporte.detalles))}}function Vpe(e,n){if(1&e){const t=Mi();lt(0,"div",27)(1,"p",28),It(2),ut(),lt(3,"p",29),It(4),ut(),lt(5,"div",30)(6,"img",31),Xn("click",function(){zn(t);const o=xn().$implicit;return $n(xn(2).toggleZoom(o.nombre))}),ut()(),lt(7,"div",32),ci(8,"canvas",33),ut()()}if(2&e){const t=xn().$implicit,r=xn(2);Zt(2),Kl(t.nombre),Zt(2),Kl(r.mapVistaLabel(t.nombre)),Zt(2),Tn("alt",T2(t.nombre))("src",null==r.datosReporte||null==r.datosReporte.detalles||null==r.datosReporte.detalles[t.nombre]?null:r.datosReporte.detalles[t.nombre].image_url,jb),Zt(2),Tn("id",T2(t.id))}}function Kpe(e,n){if(1&e&&(qs(0),xo(1,Vpe,9,7,"div",26),Ps()),2&e){const t=n.$implicit,r=xn(2);Zt(),Tn("ngIf",null==r.datosReporte.detalles[t.nombre]?null:r.datosReporte.detalles[t.nombre].image_url)}}function zpe(e,n){if(1&e&&(lt(0,"div",16)(1,"h3",3),It(2,"Im\xe1genes Procesadas"),ut(),lt(3,"div",19),xo(4,Kpe,2,1,"ng-container",18),ut(),lt(5,"div",20),ci(6,"div",21),It(7," BI-RADS 1 "),ci(8,"div",22),It(9," BI-RADS 2 "),ci(10,"div",23),It(11," BI-RADS 3 "),ci(12,"div",24),It(13," BI-RADS 4 "),ci(14,"div",25),It(15," BI-RADS 5 "),ut()()),2&e){const t=xn();Zt(4),Tn("ngForOf",t.vistas)}}function $pe(e,n){if(1&e){const t=Mi();lt(0,"app-visor-cornerstone",34),Xn("cerrar",function(o){return zn(t),$n(xn().cerrarVisor(o))}),ut()}if(2&e){const t=xn();Tn("imagenUrl",t.imagenSeleccionada)("vista",t.vistaSeleccionada)}}let Gpe=(()=>{class e{router;observacionesRadiologo="";get observacionesLimitadas(){return this.observacionesRadiologo.length>900?this.observacionesRadiologo.slice(0,900)+"...":this.observacionesRadiologo}reporteElement;datosReporte={birads:"Sin clasificar",resumen:"",detalles:{}};objectKeys=Object.keys;visorActivo=!1;imagenSeleccionada="";vistaSeleccionada="";vistas=[{id:"chart-lcc",nombre:"L-CC",descripcion:"Cr\xe1neo-Caudal Izquierda"},{id:"chart-rcc",nombre:"R-CC",descripcion:"Cr\xe1neo-Caudal Derecha"},{id:"chart-lmlo",nombre:"L-MLO",descripcion:"Oblicua Medio-Lateral Izquierda"},{id:"chart-rmlo",nombre:"R-MLO",descripcion:"Oblicua Medio-Lateral Derecha"}];constructor(t){this.router=t;let r="Sin clasificar",o="Sin resultados disponibles",i={};const a=localStorage.getItem("birads_resultado");if(a){const l=JSON.parse(a);i=l;const u=Object.values(l).map(c=>c.birads).filter(c=>"number"==typeof c);if(u.length>0){const c=Math.max(...u);r=c.toString();const f=u.indexOf(c),M=Object.keys(l)[f];o=`BI-RADS ${r} (${this.mapVistaLabel(M)})`}}this.datosReporte={birads:r,resumen:o,detalles:i}}ngAfterViewInit(){this.datosReporte?.detalles&&this.renderizarGraficas()}renderizarGraficas(){const t=["rgba(117, 251, 216, 1)","rgba(117, 251, 76, 1)","rgba(254, 251, 83, 1)","rgba(255, 102, 0, 1)","rgba(234, 52, 37, 1)"],r=["BI-RADS 1","BI-RADS 2","BI-RADS 3","BI-RADS 4","BI-RADS 5"];for(const o of this.vistas){const a=this.datosReporte?.detalles?.[o.nombre]?.probabilidades;if(!a)continue;const l=document.getElementById(o.id);l&&new i5(l,{type:"doughnut",data:{labels:r,datasets:[{data:a,backgroundColor:t,borderWidth:1}]},options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(u){return`${u.label}: ${u.raw.toFixed(2)}%`}}}}}})}}mapVistaLabel(t){switch(t.toUpperCase()){case"L-CC":return"Cr\xe1neo-Caudal Izquierda";case"R-CC":return"Cr\xe1neo-Caudal Derecha";case"L-MLO":return"Oblicua Medio-Lateral Izquierda";case"R-MLO":return"Oblicua Medio-Lateral Derecha";default:return t}}toggleZoom(t){t&&this.datosReporte?.detalles?.[t]?(this.imagenSeleccionada=this.datosReporte.detalles[t].image_url,this.vistaSeleccionada=t,this.visorActivo=!0):(this.imagenSeleccionada="",this.vistaSeleccionada="",this.visorActivo=!1)}cerrarVisor(t){this.visorActivo=!1,this.imagenSeleccionada="",this.vistaSeleccionada=""}descargarPDF(){var t=this;return(0,Bl.A)(function*(){const r=new on;let o=20;r.setFontSize(30),r.setFont("helvetica","bold"),r.text("Reporte de An\xe1lisis BI-RADS",105,o,{align:"center"}),o+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Categor\xeda",25,o),r.text("Interpretaci\xf3n breve",80,o),o+=7;const i=[["BI-RADS 1","Negativo"],["BI-RADS 2","Hallazgos benignos"],["BI-RADS 3","Probablemente benigno (<2%)"],["BI-RADS 4","Sospechoso, biopsia recomendada"],["BI-RADS 5","Altamente sugestivo de malignidad"]];r.setFont("helvetica","normal");for(let[_,I]of i)r.text(_,25,o),r.text(I,80,o),o+=7;if(o+=10,r.setFontSize(13),r.setFont("helvetica","bold"),r.text(`BI-RADS Dominante: BI-RADS ${t.datosReporte.birads}`,20,o),t.datosReporte.detalles&&Object.keys(t.datosReporte.detalles).length>0){o+=20,r.setFontSize(13),r.setFont("helvetica","bold"),r.text("Clasificaci\xf3n por Vista",105,o,{align:"center"}),o+=8,r.setFontSize(12);for(let _ of Object.keys(t.datosReporte.detalles)){const I=t.datosReporte.detalles[_];if(!I||void 0===I.birads||void 0===I.confidence)continue;const U=t.mapVistaLabel(_);r.setFont("helvetica","italic");const k=`${U}: `;r.text(k,30,o,{baseline:"top"}),r.setFont("helvetica","bold");const Y=I.confidence.toFixed(2).replace(".",",");r.text(`BI-RADS ${I.birads} (${Y}%)`,30+r.getTextWidth(k),o,{baseline:"top"}),o+=8}}o+=10,r.setFont("helvetica","bold"),r.setFontSize(12);const l=r.splitTextToSize(t.observacionesLimitadas||"Sin observaciones a\xf1adidas.",160),u=7*l.length+10,c=285-u-5;if(r.rect(20,c,170,u),r.setFont("helvetica","bold"),r.text("Observaciones del Radi\xf3logo:",25,c+7),r.setFont("helvetica","normal"),r.text(l,25,c+14),r.setFont("helvetica","italic"),r.setFontSize(11),r.text("Las im\xe1genes procesadas junto a su an\xe1lisis se mostrar\xe1n a continuaci\xf3n",105,285,{align:"center"}),r.text("El sistema act\xfaa como herramienta de apoyo para la toma de decisiones cl\xednicas, no como diagn\xf3stico definitivo.",105,292,{align:"center"}),t.datosReporte.detalles&&Object.keys(t.datosReporte.detalles).length>0){o=300;for(const _ of Object.keys(t.datosReporte.detalles)){const I=t.datosReporte.detalles[_];if(!I||!I.image_url)continue;const U=new Image;U.crossOrigin="anonymous",U.src=I.image_url,yield new Promise(k=>{U.onload=()=>{const Y=document.createElement("canvas");Y.width=U.width,Y.height=U.height;const J=Y.getContext("2d");J&&J.drawImage(U,0,0);const se=Y.toDataURL("image/jpeg");r.addPage();let he=30;r.setFontSize(14),r.setFont("helvetica","bold"),r.text(t.mapVistaLabel(_),105,he,{align:"center"}),he+=10,r.addImage(se,"JPEG",55,he,100,120),he+=130;const Be=document.getElementById(`chart-${_.toLowerCase().replace("-","")}`);if(Be){const Oe=Be.toDataURL("image/png"),be=90;r.addImage(Oe,"PNG",(210-be)/2,he,be,90)}k()},U.onerror=()=>k()})}}const f=new Date,M=`${f.getFullYear()}-${(f.getMonth()+1).toString().padStart(2,"0")}-${f.getDate().toString().padStart(2,"0")}_${f.getHours().toString().padStart(2,"0")}-${f.getMinutes().toString().padStart(2,"0")}`;r.save(`Reporte_BI-RADS_${M}.pdf`)})()}volver(){this.router.navigate(["/results"])}static \u0275fac=function(r){return new(r||e)(At(bi))};static \u0275cmp=ja({type:e,selectors:[["app-report"]],viewQuery:function(r,o){if(1&r&&v2(wpe,5),2&r){let i;FE(i=WE())&&(o.reporteElement=i.first)}},decls:38,vars:12,consts:[["reporte",""],[1,"container-centered"],[1,"report-info","mt-2",2,"text-align","center","margin-bottom","1rem"],[2,"text-align","center"],[2,"font-size","3rem","margin","0"],[2,"max-width","600px","margin","0 auto","font-size","1rem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","mt-2",4,"ngIf"],[1,"observaciones-section",2,"margin-top","3rem"],["for","observaciones"],["id","observaciones","placeholder","Escriba aqu\xed las observaciones o pasos a seguir...","rows","5",2,"resize","none",3,"ngModelChange","ngModel"],[1,"mensaje-aviso",2,"max-width","600px","margin","1.5rem auto 0.5rem","font-size","0.95rem","text-align","center","color","#444"],[1,"button-primary","mt-3",3,"click"],[3,"imagenUrl","vista","cerrar",4,"ngIf"],[1,"mt-2"],[2,"text-align","center","list-style","none","padding","0"],[4,"ngFor","ngForOf"],[1,"imagen-grafica-grid"],[1,"leyenda-general"],[1,"leyenda-color",2,"background-color","#75fbd8"],[1,"leyenda-color",2,"background-color","#75fb4c"],[1,"leyenda-color",2,"background-color","#fefb53"],[1,"leyenda-color",2,"background-color","#ff6600"],[1,"leyenda-color",2,"background-color","#ea3425"],["class","imagen-grafica-item",4,"ngIf"],[1,"imagen-grafica-item"],[1,"titulo-vista"],[1,"descripcion-vista"],[1,"image-wrapper"],[3,"click","src","alt"],[1,"grafica-wrapper"],[3,"id"],[3,"cerrar","imagenUrl","vista"]],template:function(r,o){if(1&r){const i=Mi();lt(0,"header"),ci(1,"app-navbar"),ut(),lt(2,"div",1,0)(4,"h1"),It(5,"Reporte de An\xe1lisis BI-RADS"),ut(),lt(6,"div",2)(7,"h3",3),It(8,"BI-RADS Dominante"),ut(),lt(9,"h1",4),It(10),ut(),lt(11,"p",5),It(12),qs(13,6),xo(14,jpe,3,0,"ng-container",7)(15,Npe,3,0,"ng-container",7)(16,Bpe,3,0,"ng-container",7)(17,Upe,3,0,"ng-container",7)(18,Fpe,3,0,"ng-container",7)(19,Wpe,1,0,"ng-container",8),Ps(),It(20,", de acuerdo con la probabilidad asignada por el sistema. "),ut()(),xo(21,Hpe,5,1,"div",9)(22,zpe,16,1,"div",9),lt(23,"div",10)(24,"label",11)(25,"strong"),It(26,"Observaciones del Radi\xf3logo:"),ut()(),lt(27,"textarea",12),qi("ngModelChange",function(l){return zn(i),Da(o.observacionesRadiologo,l)||(o.observacionesRadiologo=l),$n(l)}),ut()(),lt(28,"div",13)(29,"p")(30,"i"),It(31,"Este reporte ha sido generado por un sistema de inteligencia artificial entrenado para clasificar mamograf\xedas seg\xfan la escala BI-RADS."),ut()(),lt(32,"p")(33,"i"),It(34,"Se recomienda validar estos hallazgos con criterios cl\xednicos y experiencia profesional. Este resultado no sustituye la interpretaci\xf3n m\xe9dica."),ut()()(),lt(35,"button",14),Xn("click",function(){return zn(i),$n(o.descargarPDF())}),It(36," Descargar Reporte "),ut()(),xo(37,$pe,1,2,"app-visor-cornerstone",15)}2&r&&(Zt(10),Na("BI-RADS ",o.datosReporte.birads),Zt(2),Na(" El estudio indica que la mamograf\xeda m\xe1s representativa sugiere una categor\xeda BI-RADS ",o.datosReporte.birads," "),Zt(),Tn("ngSwitch",o.datosReporte.birads),Zt(),Tn("ngSwitchCase","1"),Zt(),Tn("ngSwitchCase","2"),Zt(),Tn("ngSwitchCase","3"),Zt(),Tn("ngSwitchCase","4"),Zt(),Tn("ngSwitchCase","5"),Zt(3),Tn("ngIf",o.datosReporte.detalles),Zt(),Tn("ngIf",o.datosReporte.detalles),Zt(5),Qi("ngModel",o.observacionesRadiologo),Zt(10),Tn("ngIf",o.visorActivo))},dependencies:[Gl,hy,yh,gy,fN,hN,Dp,bd,fp,Nh,oD,Rpe],styles:[".imagen-grafica-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-top:1rem}.imagen-grafica-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.titulo-vista[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;margin-bottom:.2rem}.descripcion-vista[_ngcontent-%COMP%]{font-style:italic;font-weight:400;font-size:.9rem;margin-bottom:.8rem}.image-wrapper[_ngcontent-%COMP%]{width:200px;height:280px;background-color:#fff;border:1px solid #ccc;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;padding:0rem}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:4px;cursor:zoom-in}.grafica-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:175px!important;height:175px!important;margin-top:.7rem}.leyenda-general[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;margin-top:1.5rem;gap:1.2rem;font-size:1.2rem;font-weight:500}.leyenda-color[_ngcontent-%COMP%]{width:16px;height:16px;display:inline-block;border-radius:3px;margin-right:6px}.zoomed-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;z-index:1000;display:flex;justify-content:center;align-items:center;cursor:zoom-out}.zoomed-image[_ngcontent-%COMP%]{max-width:75%;max-height:75%;border-radius:12px;transition:transform .3s ease-in-out}"]})}return e})(),Ype=(()=>{class e{router;http;username="";password="";registerDocumento="";registerNombre="";registerPassword="";constructor(t,r){this.router=t,this.http=r}submit(){this.http.post("http://localhost:8000/login",{usuario:this.username,password:this.password}).subscribe({next:r=>{r.access_token&&(localStorage.setItem("token",r.access_token),r.user&&localStorage.setItem("user",JSON.stringify(r.user)),this.router.navigate(["/upload"]))},error:()=>{alert("Usuario o contrase\xf1a incorrectos")}})}register(){this.http.post("http://localhost:8000/register",{documento:this.registerDocumento,nombre:this.registerNombre,password:this.registerPassword}).subscribe({next:()=>{alert("Registro exitoso"),this.showLogin()},error:()=>{alert("Error al registrar")}})}showLogin(){document.getElementById("container")?.classList.remove("right-panel-active")}showRegister(){this.router.navigate(["/register"])}irARegister(){this.showRegister()}static \u0275fac=function(r){return new(r||e)(At(bi),At(Lh))};static \u0275cmp=ja({type:e,selectors:[["app-login"]],decls:11,vars:2,consts:[["loginForm","ngForm"],[1,"container-centered"],[2,"display","flex","flex-direction","column","align-items","center","width","100%","max-width","500px",3,"ngSubmit"],["type","text","placeholder","Documento","name","username","required","",1,"mt-2",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xf1a","name","password","required","",1,"mt-2",3,"ngModelChange","ngModel"],["type","submit",1,"button-primary","mt-3"],["type","button",1,"button-secondary","mt-3",3,"click"]],template:function(r,o){if(1&r){const i=Mi();lt(0,"div",1)(1,"h1"),It(2,"Iniciar Sesi\xf3n"),ut(),lt(3,"form",2,0),Xn("ngSubmit",function(){return zn(i),$n(o.submit())}),lt(5,"input",3),qi("ngModelChange",function(l){return zn(i),Da(o.username,l)||(o.username=l),$n(l)}),ut(),lt(6,"input",4),qi("ngModelChange",function(l){return zn(i),Da(o.password,l)||(o.password=l),$n(l)}),ut(),lt(7,"button",5),It(8," Entrar "),ut(),lt(9,"button",6),Xn("click",function(){return zn(i),$n(o.irARegister())}),It(10," \xbfNo tienes cuenta? Reg\xedstrate "),ut()()()}2&r&&(Zt(5),Qi("ngModel",o.username),Zt(),Qi("ngModel",o.password))},dependencies:[Dp,tD,bd,fp,Vy,yp,Nh,Cd],encapsulation:2})}return e})(),Zpe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ja({type:e,selectors:[["app-info"]],decls:30,vars:0,consts:[[1,"container-centered",2,"max-width","800px","text-align","justify","margin","0 auto"],[2,"text-align","center"],[2,"margin-top","1rem","font-size","1rem"],[2,"margin-top","2rem"]],template:function(r,o){1&r&&(lt(0,"header"),ci(1,"app-navbar"),ut(),lt(2,"div",0)(3,"h1",1),It(4,"Informaci\xf3n del Sistema"),ut(),lt(5,"p",2),It(6," Este sistema est\xe1 dise\xf1ado para asistir a los radi\xf3logos en la clasificaci\xf3n automatizada de mamograf\xedas en escala BI-RADS. "),ut(),lt(7,"h2",3),It(8,"Sobre el Sistema"),ut(),lt(9,"p"),It(10," El sistema procesa im\xe1genes mamogr\xe1ficas subidas por el usuario y genera autom\xe1ticamente una clasificaci\xf3n BI-RADS. "),lt(11,"i"),It(12,"El resultado generado es un apoyo diagn\xf3stico y no reemplaza la interpretaci\xf3n cl\xednica del profesional."),ut()(),lt(13,"h2",3),It(14,"Uso Recomendado"),ut(),lt(15,"ul")(16,"li")(17,"i"),It(18,"Suba im\xe1genes en formato .DCM, .DICOM, .JPG, .PNG, .TIF o .TIFF."),ut()(),lt(19,"li")(20,"i"),It(21,"Verifique la correcta correspondencia de cada vista (L-CC, R-CC, L-MLO, R-MLO) antes del an\xe1lisis."),ut()(),lt(22,"li")(23,"i"),It(24,"Utilice los resultados como apoyo, no como diagn\xf3stico definitivo."),ut()()(),lt(25,"h2",3),It(26,"Aviso Importante"),ut(),lt(27,"p")(28,"i"),It(29,"Los resultados del sistema son orientativos y no constituyen un diagn\xf3stico m\xe9dico. La decisi\xf3n cl\xednica final depende exclusivamente del criterio del radi\xf3logo."),ut()()())},dependencies:[Gl,sie,oD],encapsulation:2})}return e})(),Xpe=(()=>{class e{http;router;nombre="";usuario="";fechaNacimiento="";password="";rol="Radi\xf3logo";constructor(t,r){this.http=t,this.router=r}submit(){this.rol?this.http.post("http://localhost:8000/register",{nombre:this.nombre,usuario:this.usuario,fecha_nacimiento:this.fechaNacimiento,rol:this.rol,password:this.password,observaciones:""}).subscribe({next:()=>{alert("\xa1Registro exitoso!")},error:r=>{console.error("Error completo:",r),alert("Error al registrar: "+(r.error?.detail||r.message||"Error desconocido"))}}):alert("Por favor seleccione un rol antes de continuar.")}showLogin(){document.getElementById("container")?.classList.remove("right-panel-active")}showRegister(){document.getElementById("container")?.classList.add("right-panel-active")}irALogin(){this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||e)(At(Lh),At(bi))};static \u0275cmp=ja({type:e,selectors:[["app-register"]],decls:24,vars:5,consts:[["registerForm","ngForm"],[1,"container-centered"],[1,"register-form",3,"ngSubmit"],[1,"form-row"],["type","text","placeholder","Documento","name","usuario","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Nombre","name","nombre","required","",3,"ngModelChange","ngModel"],["type","date","placeholder","Fecha de nacimiento","name","fechaNacimiento","required","",3,"ngModelChange","ngModel"],["name","rol","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","Radi\xf3logo"],["value","Administrador"],["type","password","placeholder","Contrase\xf1a","name","password","required","",3,"ngModelChange","ngModel"],[1,"button-group","mt-3"],["type","submit",1,"button-primary","mt-3"],["type","button",1,"button-secondary","mt-3",3,"click"]],template:function(r,o){if(1&r){const i=Mi();lt(0,"div",1)(1,"h1"),It(2,"Registrarse"),ut(),lt(3,"form",2,0),Xn("ngSubmit",function(){return zn(i),$n(o.submit())}),lt(5,"div",3)(6,"input",4),qi("ngModelChange",function(l){return zn(i),Da(o.usuario,l)||(o.usuario=l),$n(l)}),ut(),lt(7,"input",5),qi("ngModelChange",function(l){return zn(i),Da(o.nombre,l)||(o.nombre=l),$n(l)}),ut()(),lt(8,"div",3)(9,"input",6),qi("ngModelChange",function(l){return zn(i),Da(o.fechaNacimiento,l)||(o.fechaNacimiento=l),$n(l)}),ut(),lt(10,"select",7),qi("ngModelChange",function(l){return zn(i),Da(o.rol,l)||(o.rol=l),$n(l)}),lt(11,"option",8),It(12,"Seleccione un rol"),ut(),lt(13,"option",9),It(14,"Radi\xf3logo"),ut(),lt(15,"option",10),It(16,"Administrador"),ut()()(),lt(17,"div",3)(18,"input",11),qi("ngModelChange",function(l){return zn(i),Da(o.password,l)||(o.password=l),$n(l)}),ut()(),lt(19,"div",12)(20,"button",13),It(21," Crear cuenta "),ut(),lt(22,"button",14),Xn("click",function(){return zn(i),$n(o.irALogin())}),It(23," \xbfYa tienes cuenta? Inicia sesi\xf3n "),ut()()()()}2&r&&(Zt(6),Qi("ngModel",o.usuario),Zt(),Qi("ngModel",o.nombre),Zt(2),Qi("ngModel",o.fechaNacimiento),Zt(),Qi("ngModel",o.rol),Zt(8),Qi("ngModel",o.password))},dependencies:[Dp,tD,pO,EO,bd,Ep,fp,Vy,yp,Nh,Cd,kie],encapsulation:2})}return e})();function Jpe(e,n){if(1&e&&(lt(0,"div",6)(1,"span"),It(2),ut()()),2&e){const t=xn();Zt(2),Na("Usuario: ",t.usuario.nombre)}}function Qpe(e,n){1&e&&(lt(0,"div",7),ci(1,"div",8),lt(2,"p"),It(3,"Cargando reportes..."),ut()())}function qpe(e,n){if(1&e){const t=Mi();lt(0,"div",12)(1,"h3"),It(2,"No hay reportes disponibles"),ut(),lt(3,"p"),It(4,"Sube y analiza mamograf\xedas para generar tu primer reporte."),ut(),lt(5,"button",13),Xn("click",function(){return zn(t),$n(xn(2).volver())}),It(6,"Ir a An\xe1lisis"),ut()()}}function eve(e,n){if(1&e){const t=Mi();lt(0,"tr",17)(1,"td",18),It(2),ut(),lt(3,"td",19)(4,"span",20),It(5),ut()(),lt(6,"td",21)(7,"button",22),Xn("click",function(){const o=zn(t).$implicit;return $n(xn(3).mostrarDetalles(o))}),It(8," Ver Detalles "),ut()(),lt(9,"td",23)(10,"button",24),Xn("click",function(){const o=zn(t).$implicit;return $n(xn(3).descargarReporte(o.id))}),It(11," \u{1f4c4} Descargar PDF "),ut()()()}if(2&e){const t=n.$implicit,r=xn(3);Zt(2),Na(" ",r.formatearFecha(t.fecha_creacion)," "),Zt(2),M2("background-color",r.getBiradsColor(t.resultado_birads)),Zt(),Na(" ",t.resultado_birads," ")}}function tve(e,n){if(1&e&&(lt(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),It(5,"Fecha y Hora"),ut(),lt(6,"th"),It(7,"BI-RADS Dominante"),ut(),lt(8,"th"),It(9,"Detalles"),ut(),lt(10,"th"),It(11,"Acciones"),ut()()(),lt(12,"tbody"),xo(13,eve,12,4,"tr",16),ut()()()),2&e){const t=xn(2);Zt(13),Tn("ngForOf",t.reportes)}}function nve(e,n){if(1&e&&(lt(0,"div",9),xo(1,qpe,7,0,"div",10)(2,tve,14,1,"div",11),ut()),2&e){const t=xn();Zt(),Tn("ngIf",0===t.reportes.length),Zt(),Tn("ngIf",t.reportes.length>0)}}function rve(e,n){if(1&e){const t=Mi();lt(0,"div",25),Xn("click",function(){return zn(t),$n(xn().cerrarDetalles())}),lt(1,"div",26),Xn("click",function(o){return zn(t),$n(o.stopPropagation())}),lt(2,"div",27)(3,"h3"),It(4,"Detalles del Reporte"),ut(),lt(5,"button",28),Xn("click",function(){return zn(t),$n(xn().cerrarDetalles())}),It(6,"\xd7"),ut()(),lt(7,"div",29)(8,"p")(9,"strong"),It(10,"Fecha:"),ut(),It(11),ut(),lt(12,"p")(13,"strong"),It(14,"BI-RADS:"),ut(),It(15),ut(),lt(16,"div",30)(17,"strong"),It(18,"Resultados detallados:"),ut(),lt(19,"pre"),It(20),ut()()()()()}if(2&e){const t=xn();Zt(11),Na(" ",t.formatearFecha(t.reporteSeleccionado.fecha_creacion)),Zt(4),Na(" ",t.reporteSeleccionado.resultado_birads),Zt(5),Kl(t.reporteSeleccionado.detalles_json)}}let ove=(()=>{class e{http;router;location;reportes=[];loading=!1;usuario=null;reporteSeleccionado=null;constructor(t,r,o){this.http=t,this.router=r,this.location=o}ngOnInit(){this.cargarUsuario(),this.cargarReportes()}cargarUsuario(){const t=localStorage.getItem("user");if(t)try{this.usuario=JSON.parse(t),console.log("Usuario cargado:",this.usuario),this.usuario&&this.usuario.id?this.cargarReportes():(console.error("Usuario sin ID v\xe1lido:",this.usuario),this.router.navigate(["/login"]))}catch(r){console.error("Error parseando datos de usuario:",r),this.router.navigate(["/login"])}else console.log("No hay datos de usuario en localStorage"),this.router.navigate(["/login"])}cargarReportes(){this.usuario&&this.usuario.id?(console.log(`Cargando reportes para usuario ID: ${this.usuario.id}`),this.loading=!0,this.http.get(`http://localhost:8000/reportes/${this.usuario.id}`).subscribe({next:t=>{console.log("Reportes recibidos:",t),this.reportes=t,this.loading=!1},error:t=>{console.error("Error cargando reportes:",t),this.loading=!1}})):console.error("No se puede cargar reportes: usuario inv\xe1lido")}descargarReporte(t){window.open(`http://localhost:8000/reportes/${t}/download`,"_blank")}getBiradsColor(t){switch(t){case"BI-RADS 1":case"BI-RADS 2":return"#28a745";case"BI-RADS 3":return"#ffc107";case"BI-RADS 4":return"#fd7e14";case"BI-RADS 5":return"#dc3545";default:return"#6c757d"}}formatearFecha(t){return new Date(t).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}volver(){this.location.back()}mostrarDetalles(t){this.reporteSeleccionado=t}cerrarDetalles(){this.reporteSeleccionado=null}static \u0275fac=function(r){return new(r||e)(At(Lh),At(bi),At(Lu))};static \u0275cmp=ja({type:e,selectors:[["app-reportes"]],decls:11,vars:4,consts:[[1,"reportes-container"],[1,"header"],["class","usuario-info",4,"ngIf"],["class","loading",4,"ngIf"],["class","reportes-lista",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"usuario-info"],[1,"loading"],[1,"spinner"],[1,"reportes-lista"],["class","sin-reportes",4,"ngIf"],["class","tabla-container",4,"ngIf"],[1,"sin-reportes"],[1,"btn-primary",3,"click"],[1,"tabla-container"],[1,"reportes-tabla"],["class","reporte-fila",4,"ngFor","ngForOf"],[1,"reporte-fila"],[1,"fecha"],[1,"birads"],[1,"birads-badge"],[1,"detalles"],[1,"btn-detalles",3,"click"],[1,"acciones"],["title","Descargar reporte en PDF",1,"btn-descargar",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"btn-cerrar",3,"click"],[1,"modal-body"],[1,"detalles-json"]],template:function(r,o){1&r&&(lt(0,"header"),ci(1,"app-navbar"),ut(),lt(2,"body")(3,"div",0)(4,"div",1)(5,"h1"),It(6,"Historial de Reportes"),ut(),xo(7,Jpe,3,1,"div",2),ut(),xo(8,Qpe,4,0,"div",3)(9,nve,3,2,"div",4)(10,rve,21,3,"div",5),ut()()),2&r&&(Zt(7),Tn("ngIf",o.usuario),Zt(),Tn("ngIf",o.loading),Zt(),Tn("ngIf",!o.loading),Zt(),Tn("ngIf",o.reporteSeleccionado))},dependencies:[Gl,hy,yh,oD],styles:[".reportes-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid #e9ecef}.btn-volver[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-volver[_ngcontent-%COMP%]:hover{background:#545b62}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:28px}.usuario-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:10px 15px;border-radius:5px;color:#495057;font-weight:500}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sin-reportes[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#f8f9fa;border-radius:10px;margin-top:40px}.sin-reportes[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:15px}.sin-reportes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:25px}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:12px 24px;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background:#0056b3}.tabla-container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 10px #0000001a;overflow:hidden;margin-top:20px}.reportes-tabla[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.reportes-tabla[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#343a40;color:#fff}.reportes-tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px 20px;text-align:left;font-weight:600;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.reportes-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid #e9ecef}.reporte-fila[_ngcontent-%COMP%]:hover{background:#f8f9fa}.fecha[_ngcontent-%COMP%]{font-weight:500;color:#495057}.birads-badge[_ngcontent-%COMP%]{color:#fff;padding:5px 12px;border-radius:20px;font-weight:600;font-size:12px;text-transform:uppercase}.btn-detalles[_ngcontent-%COMP%]{background:#17a2b8;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px;transition:background-color .3s}.btn-detalles[_ngcontent-%COMP%]:hover{background:#138496}.btn-descargar[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:12px;transition:background-color .3s;display:flex;align-items:center;gap:5px}.btn-descargar[_ngcontent-%COMP%]:hover{background:#218838}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;width:90%;max-width:600px;max-height:80vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.btn-cerrar[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#6c757d}.modal-body[_ngcontent-%COMP%]{padding:20px}.detalles-json[_ngcontent-%COMP%]{margin-top:15px}.detalles-json[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:5px;overflow-x:auto;font-size:12px;line-height:1.4}@media (max-width: 768px){.reportes-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}.reportes-tabla[_ngcontent-%COMP%]{font-size:12px}.reportes-tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .reportes-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}}"]})}return e})();function ive(e,n){if(1&e){const t=Mi();lt(0,"button",8),Xn("click",function(){return zn(t),$n(xn().activarEdicion())}),It(1," \u270f\ufe0f Editar Datos "),ut()}}function ave(e,n){1&e&&(lt(0,"div",9),ci(1,"div",10),lt(2,"p"),It(3,"Cargando datos..."),ut()())}function sve(e,n){if(1&e&&(lt(0,"div",11),It(1),ut()),2&e){const t=xn();el("mensaje-success","success"===t.tipoMensaje)("mensaje-error","error"===t.tipoMensaje),Zt(),Na(" ",t.mensaje," ")}}function lve(e,n){1&e&&(lt(0,"span"),It(1,"\u{1f4be} Guardar Cambios"),ut())}function uve(e,n){1&e&&(lt(0,"span"),It(1,"Guardando..."),ut())}function cve(e,n){if(1&e){const t=Mi();lt(0,"div",29)(1,"button",30),Xn("click",function(){return zn(t),$n(xn(2).cancelarEdicion())}),It(2," Cancelar "),ut(),lt(3,"button",31),Xn("click",function(){return zn(t),$n(xn(2).guardarCambios())}),xo(4,lve,2,0,"span",32)(5,uve,2,0,"span",32),ut()()}if(2&e){const t=xn(2);Zt(3),Tn("disabled",t.loading),Zt(),Tn("ngIf",!t.loading),Zt(),Tn("ngIf",t.loading)}}function dve(e,n){if(1&e){const t=Mi();lt(0,"div",33)(1,"div",34)(2,"h3"),It(3,"Informaci\xf3n de la Cuenta"),ut(),lt(4,"p")(5,"strong"),It(6,"ID de Usuario:"),ut(),It(7),ut(),lt(8,"p")(9,"strong"),It(10,"\xdaltima actualizaci\xf3n:"),ut(),It(11," Hoy"),ut(),lt(12,"div",35)(13,"button",36),Xn("click",function(){return zn(t),$n(xn(2).cambiarPassword())}),It(14," \u{1f511} Cambiar Contrase\xf1a "),ut()()()()}if(2&e){const t=xn(2);Zt(7),Na(" ",t.usuario.id)}}function fve(e,n){if(1&e){const t=Mi();lt(0,"div",12)(1,"form",13)(2,"div",14)(3,"label",15),It(4,"Usuario"),ut(),lt(5,"input",16),qi("ngModelChange",function(o){zn(t);const i=xn();return Da(i.usuario.usuario,o)||(i.usuario.usuario=o),$n(o)}),ut()(),lt(6,"div",14)(7,"label",17),It(8,"Nombre Completo"),ut(),lt(9,"input",18),qi("ngModelChange",function(o){zn(t);const i=xn();return Da(i.usuario.nombre,o)||(i.usuario.nombre=o),$n(o)}),ut()(),lt(10,"div",14)(11,"label",19),It(12,"Fecha de Nacimiento"),ut(),lt(13,"input",20),qi("ngModelChange",function(o){zn(t);const i=xn();return Da(i.usuario.fecha_nacimiento,o)||(i.usuario.fecha_nacimiento=o),$n(o)}),ut()(),lt(14,"div",14)(15,"label",21),It(16,"Rol"),ut(),lt(17,"select",22),qi("ngModelChange",function(o){zn(t);const i=xn();return Da(i.usuario.rol,o)||(i.usuario.rol=o),$n(o)}),lt(18,"option",23),It(19,"Administrador"),ut(),lt(20,"option",24),It(21,"Radi\xf3logo"),ut()()(),lt(22,"div",14)(23,"label",25),It(24,"Observaciones"),ut(),lt(25,"textarea",26),qi("ngModelChange",function(o){zn(t);const i=xn();return Da(i.usuario.observaciones,o)||(i.usuario.observaciones=o),$n(o)}),ut()(),xo(26,cve,6,3,"div",27),ut(),xo(27,dve,15,1,"div",28),ut()}if(2&e){const t=xn();Zt(5),el("campo-readonly",!t.editMode),Qi("ngModel",t.usuario.usuario),Tn("readonly",!t.editMode),Zt(4),el("campo-readonly",!t.editMode),Qi("ngModel",t.usuario.nombre),Tn("readonly",!t.editMode),Zt(4),el("campo-readonly",!t.editMode),Qi("ngModel",t.usuario.fecha_nacimiento),Tn("readonly",!t.editMode),Zt(4),el("campo-readonly",!t.editMode),Qi("ngModel",t.usuario.rol),Tn("disabled",!t.editMode),Zt(8),el("campo-readonly",!t.editMode),Qi("ngModel",t.usuario.observaciones),Tn("readonly",!t.editMode),Zt(),Tn("ngIf",t.editMode),Zt(),Tn("ngIf",!t.editMode)}}(function ree(e,n,t){return cq({rootComponent:e,platformRef:t?.platformRef,...zj(n)})})((()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ja({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){1&r&&ci(0,"router-outlet")},dependencies:[Gl,wT],encapsulation:2})}return e})(),{providers:[function qoe(e,...n){return Ng([{provide:sp,multi:!0,useValue:e},[],{provide:Ih,useFactory:WB,deps:[bi]},{provide:ZC,multi:!0,useFactory:kB},n.map(t=>t.\u0275providers)])}([{path:"",component:Hie},{path:"upload",component:Gae},{path:"report",component:Gpe},{path:"reportes",component:ove},{path:"perfil",component:(()=>{class e{http;router;location;usuario={id:0,usuario:"",nombre:"",fecha_nacimiento:"",rol:"",observaciones:""};usuarioOriginal={...this.usuario};editMode=!1;loading=!1;mensaje="";tipoMensaje="success";constructor(t,r,o){this.http=t,this.router=r,this.location=o}ngOnInit(){this.cargarDatosUsuario()}cargarDatosUsuario(){const t=localStorage.getItem("user");if(t){const r=JSON.parse(t);this.loading=!0,this.http.get(`http://localhost:8000/usuario/${r.id}`).subscribe({next:o=>{this.usuario=o,this.usuarioOriginal={...o},this.loading=!1},error:o=>{console.error("Error cargando datos:",o),this.usuario={id:r.id,usuario:r.usuario||r.documento||"",nombre:r.nombre,fecha_nacimiento:r.fecha_nacimiento||"",rol:r.rol||"Radi\xf3logo",observaciones:r.observaciones||""},this.usuarioOriginal={...this.usuario},this.loading=!1}})}else this.router.navigate(["/login"])}activarEdicion(){this.editMode=!0,this.mensaje=""}cancelarEdicion(){this.usuario={...this.usuarioOriginal},this.editMode=!1,this.mensaje=""}guardarCambios(){this.validarDatos()&&(this.loading=!0,this.http.put(`http://localhost:8000/usuario/${this.usuario.id}`,this.usuario).subscribe({next:t=>{this.usuarioOriginal={...this.usuario},this.editMode=!1,this.loading=!1,this.mostrarMensaje("Datos actualizados correctamente","success"),localStorage.setItem("user",JSON.stringify(this.usuario))},error:t=>{console.error("Error actualizando datos:",t),this.loading=!1,this.mostrarMensaje("Error al actualizar los datos","error")}}))}validarDatos(){return this.usuario.nombre.trim()?this.usuario.usuario.trim()?!!this.usuario.fecha_nacimiento||(this.mostrarMensaje("La fecha de nacimiento es obligatoria","error"),!1):(this.mostrarMensaje("El usuario es obligatorio","error"),!1):(this.mostrarMensaje("El nombre es obligatorio","error"),!1)}mostrarMensaje(t,r){this.mensaje=t,this.tipoMensaje=r,setTimeout(()=>{this.mensaje=""},5e3)}volver(){this.location.back()}cambiarPassword(){console.log("Cambiar contrase\xf1a - Por implementar")}static \u0275fac=function(r){return new(r||e)(At(Lh),At(bi),At(Lu))};static \u0275cmp=ja({type:e,selectors:[["app-perfil"]],decls:11,vars:4,consts:[[1,"perfil-container"],[1,"header"],[1,"btn-volver",3,"click"],[1,"acciones-header"],["class","btn-editar",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["class","mensaje",3,"mensaje-success","mensaje-error",4,"ngIf"],["class","datos-container",4,"ngIf"],[1,"btn-editar",3,"click"],[1,"loading"],[1,"spinner"],[1,"mensaje"],[1,"datos-container"],[1,"formulario-datos"],[1,"campo-grupo"],["for","usuario"],["type","text","id","usuario","name","usuario","placeholder","Ingrese su usuario",1,"campo-input",3,"ngModelChange","ngModel","readonly"],["for","nombre"],["type","text","id","nombre","name","nombre","placeholder","Ingrese su nombre completo",1,"campo-input",3,"ngModelChange","ngModel","readonly"],["for","fecha_nacimiento"],["type","date","id","fecha_nacimiento","name","fecha_nacimiento",1,"campo-input",3,"ngModelChange","ngModel","readonly"],["for","rol"],["id","rol","name","rol",1,"campo-input","campo-select",3,"ngModelChange","ngModel","disabled"],["value","Administrador"],["value","Radi\xf3logo"],["for","observaciones"],["id","observaciones","name","observaciones","rows","3","placeholder","Observaciones adicionales (opcional)",1,"campo-input","campo-textarea",3,"ngModelChange","ngModel","readonly"],["class","botones-accion",4,"ngIf"],["class","info-adicional",4,"ngIf"],[1,"botones-accion"],["type","button",1,"btn-cancelar",3,"click"],["type","button",1,"btn-guardar",3,"click","disabled"],[4,"ngIf"],[1,"info-adicional"],[1,"info-card"],[1,"acciones-cuenta"],[1,"btn-cambiar-password",3,"click"]],template:function(r,o){1&r&&(lt(0,"div",0)(1,"div",1)(2,"button",2),Xn("click",function(){return o.volver()}),It(3," \u2190 Volver "),ut(),lt(4,"h1"),It(5,"Mi Cuenta"),ut(),lt(6,"div",3),xo(7,ive,2,0,"button",4),ut()(),xo(8,ave,4,0,"div",5)(9,sve,2,5,"div",6)(10,fve,28,22,"div",7),ut()),2&r&&(Zt(7),Tn("ngIf",!o.editMode),Zt(),Tn("ngIf",o.loading),Zt(),Tn("ngIf",o.mensaje),Zt(),Tn("ngIf",!o.loading))},dependencies:[Gl,yh,Dp,tD,pO,EO,bd,Ep,fp,Vy,Nh,Cd],styles:['@charset "UTF-8";.perfil-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:#faf8ed;min-height:100vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding:20px;background:#fff0db;border-radius:10px;box-shadow:0 2px 10px #0000001a}.btn-volver[_ngcontent-%COMP%]{background-color:#958e83;color:#000;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-volver[_ngcontent-%COMP%]:hover{background:#827b70}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:28px}.btn-editar[_ngcontent-%COMP%]{background-color:#d2bd96;color:#000;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-editar[_ngcontent-%COMP%]:hover{background:#c4b08b}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:10px;box-shadow:0 2px 10px #0000001a}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mensaje[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border-radius:5px;font-weight:500;text-align:center}.mensaje-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.mensaje-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.datos-container[_ngcontent-%COMP%]{background:#fff0db;border-radius:10px;padding:30px;box-shadow:0 2px 10px #0000001a}.formulario-datos[_ngcontent-%COMP%]{display:grid;gap:20px}.campo-grupo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.campo-grupo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:8px;font-size:14px}.campo-input[_ngcontent-%COMP%]{padding:12px 15px;border:2px solid #e9ecef;border-radius:5px;font-size:16px;transition:border-color .3s,background-color .3s}.campo-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.campo-readonly[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#6c757d;cursor:not-allowed}.campo-select[_ngcontent-%COMP%]{cursor:pointer}.campo-select[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.campo-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.botones-accion[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:2px solid #e9ecef}.btn-cancelar[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:12px 24px;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.btn-cancelar[_ngcontent-%COMP%]:hover{background:#545b62}.btn-guardar[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:12px 24px;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.btn-guardar[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.btn-guardar[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.info-adicional[_ngcontent-%COMP%]{margin-top:30px}.info-card[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;border-left:4px solid #007bff}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#2c3e50;font-size:18px}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#495057}.acciones-cuenta[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px solid #dee2e6}.btn-cambiar-password[_ngcontent-%COMP%]{background-color:#d2bd96;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-cambiar-password[_ngcontent-%COMP%]:hover{background:#bcb7a7}@media (max-width: 768px){.perfil-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}.botones-accion[_ngcontent-%COMP%]{flex-direction:column}.datos-container[_ngcontent-%COMP%]{padding:20px}}.campo-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.campo-input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#28a745}.datos-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}']})}return e})()},{path:"login",component:Ype},{path:"register",component:Xpe},{path:"info",component:Zpe},{path:"**",redirectTo:""}]),uU()]}).catch(e=>console.error(e))},838:_a=>{window,_a.exports=function(le){var d={};function s(p){if(d[p])return d[p].exports;var y=d[p]={i:p,l:!1,exports:{}};return le[p].call(y.exports,y,y.exports,s),y.l=!0,y.exports}return s.m=le,s.c=d,s.d=function(p,y,C){s.o(p,y)||Object.defineProperty(p,y,{enumerable:!0,get:C})},s.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},s.t=function(p,y){if(1&y&&(p=s(p)),8&y||4&y&&"object"==typeof p&&p&&p.__esModule)return p;var C=Object.create(null);if(s.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:p}),2&y&&"string"!=typeof p)for(var T in p)s.d(C,T,function(D){return p[D]}.bind(null,T));return C},s.n=function(p){var y=p&&p.__esModule?function(){return p.default}:function(){return p};return s.d(y,"a",y),y},s.o=function(p,y){return Object.prototype.hasOwnProperty.call(p,y)},s.p="",s(s.s=4)}([function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var D,p=function(){function D(h,E){for(var O=0;O<E.length;O++){var m=E[O];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,E,O){return E&&D(h.prototype,E),O&&D(h,O),h}}(),y=(D=s(2))&&D.__esModule?D:{default:D},C=s(1),T=function(){function D(h,E,O){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,D),this.x=h||0,this.y=E||0,this.z=O||0}return p(D,[{key:"set",value:function(h,E,O){return this.x=h,this.y=E,this.z=O,this}},{key:"setX",value:function(h){return this.x=h,this}},{key:"setY",value:function(h){return this.y=h,this}},{key:"setZ",value:function(h){return this.z=h,this}},{key:"setComponent",value:function(h,E){switch(h){case 0:this.x=E;break;case 1:this.y=E;break;case 2:this.z=E;break;default:throw new Error("index is out of range: "+h)}}},{key:"getComponent",value:function(h){switch(h){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+h)}}},{key:"copy",value:function(h){return this.x=h.x,this.y=h.y,this.z=h.z,this}},{key:"add",value:function(h,E){return void 0!==E?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(h,E)):(this.x+=h.x,this.y+=h.y,this.z+=h.z,this)}},{key:"addScalar",value:function(h){return this.x+=h,this.y+=h,this.z+=h,this}},{key:"addVectors",value:function(h,E){return this.x=h.x+E.x,this.y=h.y+E.y,this.z=h.z+E.z,this}},{key:"sub",value:function(h,E){return void 0!==E?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(h,E)):(this.x-=h.x,this.y-=h.y,this.z-=h.z,this)}},{key:"subVectors",value:function(h,E){return this.x=h.x-E.x,this.y=h.y-E.y,this.z=h.z-E.z,this}},{key:"multiply",value:function(h,E){return void 0!==E?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(h,E)):(this.x*=h.x,this.y*=h.y,this.z*=h.z,this)}},{key:"multiplyScalar",value:function(h){return this.x*=h,this.y*=h,this.z*=h,this}},{key:"multiplyVectors",value:function(h,E){return this.x=h.x*E.x,this.y=h.y*E.y,this.z=h.z*E.z,this}},{key:"applyMatrix3",value:function(h){var E=this.x,O=this.y,m=this.z,g=h.elements;return this.x=g[0]*E+g[3]*O+g[6]*m,this.y=g[1]*E+g[4]*O+g[7]*m,this.z=g[2]*E+g[5]*O+g[8]*m,this}},{key:"applyMatrix4",value:function(h){var E=this.x,O=this.y,m=this.z,g=h.elements;return this.x=g[0]*E+g[4]*O+g[8]*m+g[12],this.y=g[1]*E+g[5]*O+g[9]*m+g[13],this.z=g[2]*E+g[6]*O+g[10]*m+g[14],this}},{key:"applyProjection",value:function(h){var E=this.x,O=this.y,m=this.z,g=h.elements,v=1/(g[3]*E+g[7]*O+g[11]*m+g[15]);return this.x=(g[0]*E+g[4]*O+g[8]*m+g[12])*v,this.y=(g[1]*E+g[5]*O+g[9]*m+g[13])*v,this.z=(g[2]*E+g[6]*O+g[10]*m+g[14])*v,this}},{key:"applyQuaternion",value:function(h){var E=this.x,O=this.y,m=this.z,g=h.x,v=h.y,P=h.z,b=h.w,x=b*E+v*m-P*O,S=b*O+P*E-g*m,L=b*m+g*O-v*E,w=-g*E-v*O-P*m;return this.x=x*b+w*-g+S*-P-L*-v,this.y=S*b+w*-v+L*-g-x*-P,this.z=L*b+w*-P+x*-v-S*-g,this}},{key:"transformDirection",value:function(h){var E=this.x,O=this.y,m=this.z,g=h.elements;return this.x=g[0]*E+g[4]*O+g[8]*m,this.y=g[1]*E+g[5]*O+g[9]*m,this.z=g[2]*E+g[6]*O+g[10]*m,this.normalize(),this}},{key:"divide",value:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z,this}},{key:"divideScalar",value:function(h){if(0!==h){var E=1/h;this.x*=E,this.y*=E,this.z*=E}else this.x=0,this.y=0,this.z=0;return this}},{key:"min",value:function(h){return this.x>h.x&&(this.x=h.x),this.y>h.y&&(this.y=h.y),this.z>h.z&&(this.z=h.z),this}},{key:"max",value:function(h){return this.x<h.x&&(this.x=h.x),this.y<h.y&&(this.y=h.y),this.z<h.z&&(this.z=h.z),this}},{key:"clamp",value:function(h,E){return this.x<h.x?this.x=h.x:this.x>E.x&&(this.x=E.x),this.y<h.y?this.y=h.y:this.y>E.y&&(this.y=E.y),this.z<h.z?this.z=h.z:this.z>E.z&&(this.z=E.z),this}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(h){return this.x*h.x+this.y*h.y+this.z*h.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lengthManhattan",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"setLength",value:function(h){var E=this.length();return 0!==E&&h!==E&&this.multiplyScalar(h/E),this}},{key:"lerp",value:function(h,E){return this.x+=(h.x-this.x)*E,this.y+=(h.y-this.y)*E,this.z+=(h.z-this.z)*E,this}},{key:"cross",value:function(h,E){if(void 0!==E)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(h,E);var O=this.x,m=this.y,g=this.z;return this.x=m*h.z-g*h.y,this.y=g*h.x-O*h.z,this.z=O*h.y-m*h.x,this}},{key:"crossVectors",value:function(h,E){var O=h.x,m=h.y,g=h.z,v=E.x,P=E.y,b=E.z;return this.x=m*b-g*P,this.y=g*v-O*b,this.z=O*P-m*v,this}},{key:"angleTo",value:function(h){var E=this.dot(h)/(this.length()*h.length());return Math.acos((0,C.clamp)(E,-1,1))}},{key:"distanceTo",value:function(h){return Math.sqrt(this.distanceToSquared(h))}},{key:"distanceToSquared",value:function(h){var E=this.x-h.x,O=this.y-h.y,m=this.z-h.z;return E*E+O*O+m*m}},{key:"setFromMatrixPosition",value:function(h){return this.x=h.elements[12],this.y=h.elements[13],this.z=h.elements[14],this}},{key:"setFromMatrixScale",value:function(h){var E=this.set(h.elements[0],h.elements[1],h.elements[2]).length(),O=this.set(h.elements[4],h.elements[5],h.elements[6]).length(),m=this.set(h.elements[8],h.elements[9],h.elements[10]).length();return this.x=E,this.y=O,this.z=m,this}},{key:"setFromMatrixColumn",value:function(h,E){var O=4*h,m=E.elements;return this.x=m[O],this.y=m[O+1],this.z=m[O+2],this}},{key:"equals",value:function(h){return h.x===this.x&&h.y===this.y&&h.z===this.z}},{key:"fromArray",value:function(h){return this.x=h[0],this.y=h[1],this.z=h[2],this}},{key:"toArray",value:function(){return[this.x,this.y,this.z]}},{key:"clone",value:function(){return new D(this.x,this.y,this.z)}}]),D}();T.prototype.projectOnVector=function(){var D=void 0,h=void 0;return function(E){return void 0===D&&(D=new T),D.copy(E).normalize(),h=this.dot(D),this.copy(D).multiplyScalar(h)}}(),T.prototype.projectOnPlane=function(){var D=void 0;return function(h){return void 0===D&&(D=new T),D.copy(this).projectOnVector(h),this.sub(D)}}(),T.prototype.reflect=function(){var D=void 0;return function(h){return void 0===D&&(D=new T),this.sub(D.copy(h).multiplyScalar(2*this.dot(h)))}}(),T.prototype.clampScalar=function(){var D=void 0,h=void 0;return function(E,O){return void 0===D&&(D=new T,h=new T),D.set(E,E,E),h.set(O,O,O),this.clamp(D,h)}}(),T.prototype.applyAxisAngle=function(){var D=void 0;return function(h,E){return void 0===D&&(D=new y.default),this.applyQuaternion(D.setFromAxisAngle(h.normalize(),E)),this}}(),d.default=T},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.clamp=function(y,C,T){return y<C?C:y>T?T:y},d.degToRad=function(y){return y*(Math.PI/180)},d.approximatelyEquals=function(y,C,T){var D=T||1e-4;return Math.abs(y-C)<=D*Math.max(1,Math.abs(y),Math.abs(C))},d.radToDeg=function(y){return y*(180/Math.PI)},d.sign=function(y){return"number"==typeof y?y?y<0?-1:1:y==y?0:NaN:NaN}},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var p=function(){function C(T,D){for(var h=0;h<D.length;h++){var E=D[h];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}return function(T,D,h){return D&&C(T.prototype,D),h&&C(T,h),T}}(),y=function(){function C(T,D,h,E){(function(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")})(this,C),this.x=T||0,this.y=D||0,this.z=h||0,this.w=void 0!==E?E:1}return p(C,[{key:"setFromAxisAngle",value:function(T,D){var h=D/2,E=Math.sin(h);return this.x=T.x*E,this.y=T.y*E,this.z=T.z*E,this.w=Math.cos(h),this}},{key:"multiplyQuaternions",value:function(T,D){var h=T.x,E=T.y,O=T.z,m=T.w,g=D.x,v=D.y,P=D.z,b=D.w;return this.x=h*b+m*g+E*P-O*v,this.y=E*b+m*v+O*g-h*P,this.z=O*b+m*P+h*v-E*g,this.w=m*b-h*g-E*v-O*P,this}},{key:"setFromRotationMatrix",value:function(T){var D=T.elements,h=D[0],E=D[4],O=D[8],m=D[1],g=D[5],v=D[9],P=D[2],b=D[6],x=D[10],S=h+g+x,L=void 0;return S>0?(L=.5/Math.sqrt(S+1),this.w=.25/L,this.x=(b-v)*L,this.y=(O-P)*L,this.z=(m-E)*L):h>g&&h>x?(L=2*Math.sqrt(1+h-g-x),this.w=(b-v)/L,this.x=.25*L,this.y=(E+m)/L,this.z=(O+P)/L):g>x?(L=2*Math.sqrt(1+g-h-x),this.w=(O-P)/L,this.x=(E+m)/L,this.y=.25*L,this.z=(v+b)/L):(L=2*Math.sqrt(1+x-h-g),this.w=(m-E)/L,this.x=(O+P)/L,this.y=(v+b)/L,this.z=.25*L),this}}]),C}();d.default=y},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var p=s(1);function y(D){return D*D}function C(D,h){return y(D.x-h.x)+y(D.y-h.y)}d.default={distanceToPoint:function(D,h){return Math.sqrt(function(E,O){var m=C(E.start,E.end);if(0===m)return C(O,E.start);var g=((O.x-E.start.x)*(E.end.x-E.start.x)+(O.y-E.start.y)*(E.end.y-E.start.y))/m;return C(O,g<0?E.start:g>1?E.end:{x:E.start.x+g*(E.end.x-E.start.x),y:E.start.y+g*(E.end.y-E.start.y)})}(D,h))},intersectLine:function(D,h){var E,O,m,g,v,P,b,x,S,L,w,N={},j=D.start.x,W=D.start.y,B=D.end.x,G=D.end.y,V=h.start.x,F=h.start.y,z=h.end.x,te=h.end.y,q=void 0;if(L=(E=G-W)*z+(m=j-B)*te+(v=B*W-j*G),(0===(S=E*V+m*F+v)||0===L||(0,p.sign)(S)!==(0,p.sign)(L))&&(x=(O=te-F)*B+(g=V-z)*G+(P=z*F-V*te),0===(b=O*j+g*W+P)||0===x||(0,p.sign)(b)!==(0,p.sign)(x))){w=E*g-O*m,q=m*P-g*v;var ae=parseFloat(q/w);q=O*v-E*P;var ie=parseFloat(q/w);return N.x=ae,N.y=ie,N}}}},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Vector3=d.rect=d.quaternion=d.point=d.Plane=d.Matrix4=d.sign=d.radToDeg=d.degToRad=d.clamp=d.lineSegment=d.Line3=void 0;var p=g(s(5)),y=g(s(3)),C=s(1),T=g(s(6)),D=g(s(7)),h=g(s(8)),E=g(s(2)),O=g(s(9)),m=g(s(0));function g(P){return P&&P.__esModule?P:{default:P}}var v={Line3:p.default,lineSegment:y.default,clamp:C.clamp,degToRad:C.degToRad,radToDeg:C.radToDeg,sign:C.sign,Matrix4:T.default,Plane:D.default,point:h.default,quaternion:E.default,rect:O.default,Vector3:m.default};d.Line3=p.default,d.lineSegment=y.default,d.clamp=C.clamp,d.degToRad=C.degToRad,d.radToDeg=C.radToDeg,d.sign=C.sign,d.Matrix4=T.default,d.Plane=D.default,d.point=h.default,d.quaternion=E.default,d.rect=O.default,d.Vector3=m.default,d.default=v},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var D,p=function(){function D(h,E){for(var O=0;O<E.length;O++){var m=E[O];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,E,O){return E&&D(h.prototype,E),O&&D(h,O),h}}(),y=(D=s(0))&&D.__esModule?D:{default:D},C=s(1),T=function(){function D(h,E){(function(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")})(this,D),this.start=void 0!==h?h:new y.default,this.end=void 0!==E?E:new y.default}return p(D,[{key:"set",value:function(h,E){return this.start.copy(h),this.end.copy(E),this}},{key:"copy",value:function(h){return this.start.copy(h.start),this.end.copy(h.end),this}},{key:"center",value:function(h){return(h||new y.default).addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(h){return(h||new y.default).subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(h,E){var O=E||new y.default;return this.delta(O).multiplyScalar(h).add(this.start)}},{key:"closestPointToPointParameter",value:function(h,E){var O=new y.default,m=new y.default;O.subVectors(h,this.start),m.subVectors(this.end,this.start);var g=m.dot(m),v=m.dot(O)/g;return E&&(v=(0,C.clamp)(v,0,1)),v}},{key:"closestPointToPoint",value:function(h,E,O){var m=this.closestPointToPointParameter(h,E),g=O||new y.default;return this.delta(g).multiplyScalar(m).add(this.start)}},{key:"applyMatrix4",value:function(h){return this.start.applyMatrix4(h),this.end.applyMatrix4(h),this}},{key:"equals",value:function(h){return h.start.equals(this.start)&&h.end.equals(this.end)}},{key:"clone",value:function(){return(new D).copy(this)}},{key:"intersectLine",value:function(h){var E=this.end.clone().sub(this.start),O=h.end.clone().sub(h.start),m=h.start.clone().sub(this.start),g=E.clone().cross(O),v=m.clone().cross(O),P=m.dot(g)/(m.lengthSq()*g.lengthSq());if((0,C.approximatelyEquals)(P,0)){var b=v.dot(g)/g.lengthSq();if(!(b>1||isNaN(b))){var x=this.start.clone().add(E.clone().multiplyScalar(b));return x.clone().sub(h.start).lengthSq()+x.clone().sub(h.end).lengthSq()<=h.distanceSq()?x:void 0}}}}]),D}();d.default=T},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var T,p=function(){function T(D,h){for(var E=0;E<h.length;E++){var O=h[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,O.key,O)}}return function(D,h,E){return h&&T(D.prototype,h),E&&T(D,E),D}}(),y=(T=s(0))&&T.__esModule?T:{default:T},C=function(){function T(D,h,E,O,m,g,v,P,b,x,S,L,w,N,j,W){(function(G,V){if(!(G instanceof V))throw new TypeError("Cannot call a class as a function")})(this,T),this.elements=new Float32Array(16);var B=this.elements;B[0]=void 0!==D?D:1,B[4]=h||0,B[8]=E||0,B[12]=O||0,B[1]=m||0,B[5]=void 0!==g?g:1,B[9]=v||0,B[13]=P||0,B[2]=b||0,B[6]=x||0,B[10]=void 0!==S?S:1,B[14]=L||0,B[3]=w||0,B[7]=N||0,B[11]=j||0,B[15]=void 0!==W?W:1}return p(T,[{key:"makeRotationFromQuaternion",value:function(D){var h=this.elements,E=D.x,O=D.y,m=D.z,g=D.w,v=E+E,P=O+O,b=m+m,x=E*v,S=E*P,L=E*b,w=O*P,N=O*b,j=m*b,W=g*v,B=g*P,G=g*b;return h[0]=1-(w+j),h[4]=S-G,h[8]=L+B,h[1]=S+G,h[5]=1-(x+j),h[9]=N-W,h[2]=L-B,h[6]=N+W,h[10]=1-(x+w),h[3]=0,h[7]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this}},{key:"multiplyMatrices",value:function(D,h){var E=D.elements,O=h.elements,m=this.elements,g=E[0],v=E[4],P=E[8],b=E[12],x=E[1],S=E[5],L=E[9],w=E[13],N=E[2],j=E[6],W=E[10],B=E[14],G=E[3],V=E[7],F=E[11],z=E[15],te=O[0],q=O[4],ae=O[8],ie=O[12],oe=O[1],$=O[5],Z=O[9],K=O[13],Q=O[2],ee=O[6],ne=O[10],ue=O[14],ye=O[3],Ee=O[7],Se=O[11],ke=O[15];return m[0]=g*te+v*oe+P*Q+b*ye,m[4]=g*q+v*$+P*ee+b*Ee,m[8]=g*ae+v*Z+P*ne+b*Se,m[12]=g*ie+v*K+P*ue+b*ke,m[1]=x*te+S*oe+L*Q+w*ye,m[5]=x*q+S*$+L*ee+w*Ee,m[9]=x*ae+S*Z+L*ne+w*Se,m[13]=x*ie+S*K+L*ue+w*ke,m[2]=N*te+j*oe+W*Q+B*ye,m[6]=N*q+j*$+W*ee+B*Ee,m[10]=N*ae+j*Z+W*ne+B*Se,m[14]=N*ie+j*K+W*ue+B*ke,m[3]=G*te+V*oe+F*Q+z*ye,m[7]=G*q+V*$+F*ee+z*Ee,m[11]=G*ae+V*Z+F*ne+z*Se,m[15]=G*ie+V*K+F*ue+z*ke,this}},{key:"multiply",value:function(D,h){return void 0!==h?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(D,h)):this.multiplyMatrices(this,D)}},{key:"getInverse",value:function(D,h){var E=this.elements,O=D.elements,m=O[0],g=O[4],v=O[8],P=O[12],b=O[1],x=O[5],S=O[9],L=O[13],w=O[2],N=O[6],j=O[10],W=O[14],B=O[3],G=O[7],V=O[11],F=O[15];E[0]=S*W*G-L*j*G+L*N*V-x*W*V-S*N*F+x*j*F,E[4]=P*j*G-v*W*G-P*N*V+g*W*V+v*N*F-g*j*F,E[8]=v*L*G-P*S*G+P*x*V-g*L*V-v*x*F+g*S*F,E[12]=P*S*N-v*L*N-P*x*j+g*L*j+v*x*W-g*S*W,E[1]=L*j*B-S*W*B-L*w*V+b*W*V+S*w*F-b*j*F,E[5]=v*W*B-P*j*B+P*w*V-m*W*V-v*w*F+m*j*F,E[9]=P*S*B-v*L*B-P*b*V+m*L*V+v*b*F-m*S*F,E[13]=v*L*w-P*S*w+P*b*j-m*L*j-v*b*W+m*S*W,E[2]=x*W*B-L*N*B+L*w*G-b*W*G-x*w*F+b*N*F,E[6]=P*N*B-g*W*B-P*w*G+m*W*G+g*w*F-m*N*F,E[10]=g*L*B-P*x*B+P*b*G-m*L*G-g*b*F+m*x*F,E[14]=P*x*w-g*L*w-P*b*N+m*L*N+g*b*W-m*x*W,E[3]=S*N*B-x*j*B-S*w*G+b*j*G+x*w*V-b*N*V,E[7]=g*j*B-v*N*B+v*w*G-m*j*G-g*w*V+m*N*V,E[11]=v*x*B-g*S*B-v*b*G+m*S*G+g*b*V-m*x*V,E[15]=g*S*w-v*x*w+v*b*N-m*S*N-g*b*j+m*x*j;var z=m*E[0]+b*E[4]+w*E[8]+B*E[12];if(0===z){var te="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(h)throw new Error(te);return console.warn(te),this.identity(),this}return this.multiplyScalar(1/z),this}},{key:"applyToVector3Array",value:function(){var D=new y.default;return function(h,E,O){void 0===E&&(E=0),void 0===O&&(O=h.length);for(var m=0,g=E;m<O;m+=3,g+=3)D.x=h[g],D.y=h[g+1],D.z=h[g+2],D.applyMatrix4(this),h[g]=D.x,h[g+1]=D.y,h[g+2]=D.z;return h}}},{key:"makeTranslation",value:function(D,h,E){return this.set(1,0,0,D,0,1,0,h,0,0,1,E,0,0,0,1),this}},{key:"multiplyScalar",value:function(D){var h=this.elements;return h[0]*=D,h[4]*=D,h[8]*=D,h[12]*=D,h[1]*=D,h[5]*=D,h[9]*=D,h[13]*=D,h[2]*=D,h[6]*=D,h[10]*=D,h[14]*=D,h[3]*=D,h[7]*=D,h[11]*=D,h[15]*=D,this}},{key:"set",value:function(D,h,E,O,m,g,v,P,b,x,S,L,w,N,j,W){var B=this.elements;return B[0]=D,B[4]=h,B[8]=E,B[12]=O,B[1]=m,B[5]=g,B[9]=v,B[13]=P,B[2]=b,B[6]=x,B[10]=S,B[14]=L,B[3]=w,B[7]=N,B[11]=j,B[15]=W,this}},{key:"makeScale",value:function(D,h,E){return this.set(D,0,0,0,0,h,0,0,0,0,E,0,0,0,0,1),this}}]),T}();d.default=C},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var T,p=function(){function T(D,h){for(var E=0;E<h.length;E++){var O=h[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,O.key,O)}}return function(D,h,E){return h&&T(D.prototype,h),E&&T(D,E),D}}(),y=(T=s(0))&&T.__esModule?T:{default:T},C=function(){function T(D,h){(function(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")})(this,T),this.normal=void 0!==D?D:new y.default(1,0,0),this.constant=void 0!==h?h:0}return p(T,[{key:"set",value:function(D,h){return this.normal.copy(D),this.constant=h,this}},{key:"setComponents",value:function(D,h,E,O){return this.normal.set(D,h,E),this.constant=O,this}},{key:"setFromNormalAndCoplanarPoint",value:function(D,h){return this.normal.copy(D),this.constant=-h.dot(this.normal),this}},{key:"copy",value:function(D){return this.normal.copy(D.normal),this.constant=D.constant,this}},{key:"normalize",value:function(){var D=1/this.normal.length();return this.normal.multiplyScalar(D),this.constant*=D,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(D){return this.normal.dot(D)+this.constant}},{key:"distanceToSphere",value:function(D){return this.distanceToPoint(D.center)-D.radius}},{key:"projectPoint",value:function(D,h){return this.orthoPoint(D,h).sub(D).negate()}},{key:"orthoPoint",value:function(D,h){var E=this.distanceToPoint(D);return(h||new y.default).copy(this.normal).multiplyScalar(E)}},{key:"isIntersectionLine",value:function(D){var h=this.distanceToPoint(D.start),E=this.distanceToPoint(D.end);return h<0&&E>0||E<0&&h>0}},{key:"intersectPlane",value:function(D){var h=this.normal.clone().cross(D.normal),E={origin:new y.default,direction:h};if(this.normal.clone().cross(D.normal).length<1e-10)return E.direction=new y.default,E;var O=this.constant,m=D.constant,g=this.normal.clone().dot(D.normal),v=-(O-m*g)/(1-g*g),P=-(m-O*g)/(1-g*g);return E.origin=this.normal.clone().multiplyScalar(v).add(D.normal.clone().multiplyScalar(P)),E}},{key:"coplanarPoint",value:function(D){return(D||new y.default).copy(this.normal).multiplyScalar(-this.constant)}},{key:"translate",value:function(D){return this.constant=this.constant-D.dot(this.normal),this}},{key:"equals",value:function(D){return D.normal.equals(this.normal)&&D.constant===this.constant}},{key:"clone",value:function(){return(new T).copy(this)}}]),T}();C.prototype.setFromCoplanarPoints=function(){var T=new y.default,D=new y.default;return function(h,E,O){var m=T.subVectors(O,E).cross(D.subVectors(h,E)).normalize();return this.setFromNormalAndCoplanarPoint(m,h),this}}(),C.prototype.intersectLine=function(){var T=new y.default;return function(D,h){var E=h||new y.default,O=D.delta(T),m=this.normal.dot(O);if(0===m)return 0===this.distanceToPoint(D.start)?E.copy(D.start):void 0;var g=-(D.start.dot(this.normal)+this.constant)/m;return g<0||g>1?void 0:E.copy(O).multiplyScalar(g).add(D.start)}}(),d.default=C},function(le,d,s){"use strict";function p(D,h){return{x:D.x-h.x,y:D.y-h.y}}function y(D,h){return Math.sqrt(C(D,h))}function C(D,h){var E=p(D,h);return E.x*E.x+E.y*E.y}Object.defineProperty(d,"__esModule",{value:!0}),d.default={subtract:p,copy:function(D){return{x:D.x,y:D.y}},pageToPoint:function(D){return{x:D.pageX,y:D.pageY}},distance:y,distanceSquared:C,insideRect:function(D,h){return!(D.x<h.left||D.x>h.left+h.width||D.y<h.top||D.y>h.top+h.height)},findClosestPoint:function(D,h){var E=[],O=void 0;return D.forEach(function(m,g){var v=y(m,h);E.push(v),O=0===g?v:Math.min(v,O)}),D[E.indexOf(O)]}}},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var T,p=(T=s(3))&&T.__esModule?T:{default:T};function y(T){return{topLeft:{x:T.left,y:T.top},bottomRight:{x:T.left+T.width,y:T.top+T.height}}}var C={distanceToPoint:function(T,D){var E,h=655535;return(E=T,[{start:{x:E.left,y:E.top},end:{x:E.left+E.width,y:E.top}},{start:{x:E.left+E.width,y:E.top},end:{x:E.left+E.width,y:E.top+E.height}},{start:{x:E.left+E.width,y:E.top+E.height},end:{x:E.left,y:E.top+E.height}},{start:{x:E.left,y:E.top+E.height},end:{x:E.left,y:E.top}}]).forEach(function(E){var O=p.default.distanceToPoint(E,D);O<h&&(h=O)}),h},getIntersectionRect:function(T,D){var m,g,b,x,h={topLeft:{},bottomRight:{}};if(g=D,b=y(m=T),x=y(g),!(m.width>=0?g.width>=0?b.bottomRight.x<=x.topLeft.x||x.bottomRight.x<=b.topLeft.x:b.bottomRight.x<=x.bottomRight.x||x.topLeft.x<=b.topLeft.x:g.width>=0?b.topLeft.x<=x.topLeft.x||x.bottomRight.x<=b.bottomRight.x:b.topLeft.x<=x.bottomRight.x||x.topLeft.x<=b.bottomRight.x)&&!(m.height>=0?g.height>=0?b.bottomRight.y<=x.topLeft.y||x.bottomRight.y<=b.topLeft.y:b.bottomRight.y<=x.bottomRight.y||x.topLeft.y<=b.topLeft.y:g.height>=0?b.topLeft.y<=x.topLeft.y||x.bottomRight.y<=b.bottomRight.y:b.topLeft.y<=x.bottomRight.y||x.top<=b.bottomRight.y)){var E=y(T),O=y(D);return T.width>=0?D.width>=0?(h.topLeft.x=Math.max(E.topLeft.x,O.topLeft.x),h.bottomRight.x=Math.min(E.bottomRight.x,O.bottomRight.x)):(h.topLeft.x=Math.max(E.topLeft.x,O.bottomRight.x),h.bottomRight.x=Math.min(E.bottomRight.x,O.topLeft.x)):D.width>=0?(h.topLeft.x=Math.min(E.topLeft.x,O.bottomRight.x),h.bottomRight.x=Math.max(E.bottomRight.x,O.topLeft.x)):(h.topLeft.x=Math.min(E.topLeft.x,O.topLeft.x),h.bottomRight.x=Math.max(E.bottomRight.x,O.bottomRight.x)),T.height>=0?D.height>=0?(h.topLeft.y=Math.max(E.topLeft.y,O.topLeft.y),h.bottomRight.y=Math.min(E.bottomRight.y,O.bottomRight.y)):(h.topLeft.y=Math.max(E.topLeft.y,O.bottomRight.y),h.bottomRight.y=Math.min(E.bottomRight.y,O.topLeft.y)):D.height>=0?(h.topLeft.y=Math.min(E.topLeft.y,O.bottomRight.y),h.bottomRight.y=Math.max(E.bottomRight.y,O.topLeft.y)):(h.topLeft.y=Math.min(E.topLeft.y,O.topLeft.y),h.bottomRight.y=Math.max(E.bottomRight.y,O.bottomRight.y)),h}}};d.default=C}])},2284:(_a,le,d)=>{"use strict";function s(p){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}d.d(le,{A:()=>s})},2372:_a=>{window,_a.exports=function(le){var s=window.webpackHotUpdate;window.webpackHotUpdate=function(Z,K){(function z($,Z){if(j[$]&&N[$]){for(var K in N[$]=!1,Z)Object.prototype.hasOwnProperty.call(Z,K)&&(B[K]=Z[K]);0===--S&&0===L&&q()}})(Z,K),s&&s(Z,K)};var E,C=!0,T="286e7d820af3fc74f409",D=1e4,h={},O=[],m=[];function g($){var Z=ie[$];if(!Z)return oe;var K=function(ne){return Z.hot.active?(ie[ne]?-1===ie[ne].parents.indexOf($)&&ie[ne].parents.push($):(O=[$],E=ne),-1===Z.children.indexOf(ne)&&Z.children.push(ne)):(console.warn("[HMR] unexpected require("+ne+") from disposed module "+$),O=[]),oe(ne)},Q=function(ue){return{configurable:!0,enumerable:!0,get:function(){return oe[ue]},set:function(ye){oe[ue]=ye}}};for(var ee in oe)Object.prototype.hasOwnProperty.call(oe,ee)&&"e"!==ee&&"t"!==ee&&Object.defineProperty(K,ee,Q(ee));return K.e=function(ne){return"ready"===b&&x("prepare"),L++,oe.e(ne).then(ue,function(ye){throw ue(),ye});function ue(){L--,"prepare"===b&&(w[ne]||te(ne),0===L&&0===S&&q())}},K.t=function(ne,ue){return 1&ue&&(ne=K(ne)),oe.t(ne,-2&ue)},K}function v($){var Z={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:E!==$,active:!0,accept:function(K,Q){if(void 0===K)Z._selfAccepted=!0;else if("function"==typeof K)Z._selfAccepted=K;else if("object"==typeof K)for(var ee=0;ee<K.length;ee++)Z._acceptedDependencies[K[ee]]=Q||function(){};else Z._acceptedDependencies[K]=Q||function(){}},decline:function(K){if(void 0===K)Z._selfDeclined=!0;else if("object"==typeof K)for(var Q=0;Q<K.length;Q++)Z._declinedDependencies[K[Q]]=!0;else Z._declinedDependencies[K]=!0},dispose:function(K){Z._disposeHandlers.push(K)},addDisposeHandler:function(K){Z._disposeHandlers.push(K)},removeDisposeHandler:function(K){var Q=Z._disposeHandlers.indexOf(K);Q>=0&&Z._disposeHandlers.splice(Q,1)},check:F,apply:ae,status:function(K){if(!K)return b;P.push(K)},addStatusHandler:function(K){P.push(K)},removeStatusHandler:function(K){var Q=P.indexOf(K);Q>=0&&P.splice(Q,1)},data:h[$]};return E=void 0,Z}var P=[],b="idle";function x($){b=$;for(var Z=0;Z<P.length;Z++)P[Z].call(null,$)}var W,B,G,S=0,L=0,w={},N={},j={};function V($){return+$+""===$?+$:$}function F($){if("idle"!==b)throw new Error("check() is only allowed in idle status");return C=$,x("check"),function y($){return $=$||1e4,new Promise(function(Z,K){if(typeof XMLHttpRequest>"u")return K(new Error("No browser support"));try{var Q=new XMLHttpRequest,ee=oe.p+""+T+".hot-update.json";Q.open("GET",ee,!0),Q.timeout=$,Q.send(null)}catch(ne){return K(ne)}Q.onreadystatechange=function(){if(4===Q.readyState)if(0===Q.status)K(new Error("Manifest request to "+ee+" timed out."));else if(404===Q.status)Z();else if(200!==Q.status&&304!==Q.status)K(new Error("Manifest request to "+ee+" failed."));else{try{var ne=JSON.parse(Q.responseText)}catch(ue){return void K(ue)}Z(ne)}}})}(D).then(function(Z){if(!Z)return x("idle"),null;N={},w={},j=Z.c,G=Z.h,x("prepare");var K=new Promise(function(ee,ne){W={resolve:ee,reject:ne}});return B={},te("cornerstoneTools"),"prepare"===b&&0===L&&0===S&&q(),K})}function te($){j[$]?(N[$]=!0,S++,function p($){var Z=document.createElement("script");Z.charset="utf-8",Z.src=oe.p+""+$+"."+T+".hot-update.js",document.head.appendChild(Z)}($)):w[$]=!0}function q(){x("ready");var $=W;if(W=null,$)if(C)Promise.resolve().then(function(){return ae(C)}).then(function(Q){$.resolve(Q)},function(Q){$.reject(Q)});else{var Z=[];for(var K in B)Object.prototype.hasOwnProperty.call(B,K)&&Z.push(V(K));$.resolve(Z)}}function ae($){if("ready"!==b)throw new Error("apply() is only allowed in ready status");var Z,K,Q,ee,ne;function ue(yt){for(var Ht=[yt],ln={},$t=Ht.map(function(wr){return{chain:[wr],id:wr}});$t.length>0;){var or=$t.pop(),_n=or.id,er=or.chain;if((ee=ie[_n])&&!ee.hot._selfAccepted){if(ee.hot._selfDeclined)return{type:"self-declined",chain:er,moduleId:_n};if(ee.hot._main)return{type:"unaccepted",chain:er,moduleId:_n};for(var Xt=0;Xt<ee.parents.length;Xt++){var cn=ee.parents[Xt],ir=ie[cn];if(ir){if(ir.hot._declinedDependencies[_n])return{type:"declined",chain:er.concat([cn]),moduleId:_n,parentId:cn};if(-1===Ht.indexOf(cn)){if(ir.hot._acceptedDependencies[_n]){ln[cn]||(ln[cn]=[]),ye(ln[cn],[_n]);continue}delete ln[cn],Ht.push(cn),$t.push({chain:er.concat([cn]),id:cn})}}}}}return{type:"accepted",moduleId:yt,outdatedModules:Ht,outdatedDependencies:ln}}function ye(yt,Ht){for(var ln=0;ln<Ht.length;ln++){var $t=Ht[ln];-1===yt.indexOf($t)&&yt.push($t)}}$=$||{};var Ee={},Se=[],ke={},Xe=function(){console.warn("[HMR] unexpected require("+st.moduleId+") to disposed module")};for(var mt in B)if(Object.prototype.hasOwnProperty.call(B,mt)){var st;ne=V(mt);var Rt=!1,Ge=!1,Pe=!1,He="";switch((st=B[mt]?ue(ne):{type:"disposed",moduleId:mt}).chain&&(He="\nUpdate propagation: "+st.chain.join(" -> ")),st.type){case"self-declined":$.onDeclined&&$.onDeclined(st),$.ignoreDeclined||(Rt=new Error("Aborted because of self decline: "+st.moduleId+He));break;case"declined":$.onDeclined&&$.onDeclined(st),$.ignoreDeclined||(Rt=new Error("Aborted because of declined dependency: "+st.moduleId+" in "+st.parentId+He));break;case"unaccepted":$.onUnaccepted&&$.onUnaccepted(st),$.ignoreUnaccepted||(Rt=new Error("Aborted because "+ne+" is not accepted"+He));break;case"accepted":$.onAccepted&&$.onAccepted(st),Ge=!0;break;case"disposed":$.onDisposed&&$.onDisposed(st),Pe=!0;break;default:throw new Error("Unexception type "+st.type)}if(Rt)return x("abort"),Promise.reject(Rt);if(Ge)for(ne in ke[ne]=B[ne],ye(Se,st.outdatedModules),st.outdatedDependencies)Object.prototype.hasOwnProperty.call(st.outdatedDependencies,ne)&&(Ee[ne]||(Ee[ne]=[]),ye(Ee[ne],st.outdatedDependencies[ne]));Pe&&(ye(Se,[st.moduleId]),ke[ne]=Xe)}var jt,Ke=[];for(K=0;K<Se.length;K++)ie[ne=Se[K]]&&ie[ne].hot._selfAccepted&&ke[ne]!==Xe&&Ke.push({module:ne,errorHandler:ie[ne].hot._selfAccepted});x("dispose"),Object.keys(j).forEach(function(yt){!1===j[yt]&&function d($){delete installedChunks[$]}(yt)});for(var Ye,ct=Se.slice();ct.length>0;)if(ne=ct.pop(),ee=ie[ne]){var ft={},pt=ee.hot._disposeHandlers;for(Q=0;Q<pt.length;Q++)(Z=pt[Q])(ft);for(h[ne]=ft,ee.hot.active=!1,delete ie[ne],delete Ee[ne],Q=0;Q<ee.children.length;Q++){var St=ie[ee.children[Q]];St&&(Ye=St.parents.indexOf(ne))>=0&&St.parents.splice(Ye,1)}}for(ne in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ne)&&(ee=ie[ne]))for(jt=Ee[ne],Q=0;Q<jt.length;Q++)(Ye=ee.children.indexOf(jt[Q]))>=0&&ee.children.splice(Ye,1);for(ne in x("apply"),T=G,ke)Object.prototype.hasOwnProperty.call(ke,ne)&&(le[ne]=ke[ne]);var Tt=null;for(ne in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ne)&&(ee=ie[ne])){jt=Ee[ne];var Vt=[];for(K=0;K<jt.length;K++)if(Z=ee.hot._acceptedDependencies[jt[K]]){if(-1!==Vt.indexOf(Z))continue;Vt.push(Z)}for(K=0;K<Vt.length;K++){Z=Vt[K];try{Z(jt)}catch(yt){$.onErrored&&$.onErrored({type:"accept-errored",moduleId:ne,dependencyId:jt[K],error:yt}),$.ignoreErrored||Tt||(Tt=yt)}}}for(K=0;K<Ke.length;K++){var kt=Ke[K];O=[ne=kt.module];try{oe(ne)}catch(yt){if("function"==typeof kt.errorHandler)try{kt.errorHandler(yt)}catch(Ht){$.onErrored&&$.onErrored({type:"self-accept-error-handler-errored",moduleId:ne,error:Ht,originalError:yt}),$.ignoreErrored||Tt||(Tt=Ht),Tt||(Tt=yt)}else $.onErrored&&$.onErrored({type:"self-accept-errored",moduleId:ne,error:yt}),$.ignoreErrored||Tt||(Tt=yt)}}return Tt?(x("fail"),Promise.reject(Tt)):(x("idle"),new Promise(function(yt){yt(Se)}))}var ie={};function oe($){if(ie[$])return ie[$].exports;var Z=ie[$]={i:$,l:!1,exports:{},hot:v($),parents:(m=O,O=[],m),children:[]};return le[$].call(Z.exports,Z,Z.exports,g($)),Z.l=!0,Z.exports}return oe.m=le,oe.c=ie,oe.d=function($,Z,K){oe.o($,Z)||Object.defineProperty($,Z,{enumerable:!0,get:K})},oe.r=function($){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})},oe.t=function($,Z){if(1&Z&&($=oe($)),8&Z||4&Z&&"object"==typeof $&&$&&$.__esModule)return $;var K=Object.create(null);if(oe.r(K),Object.defineProperty(K,"default",{enumerable:!0,value:$}),2&Z&&"string"!=typeof $)for(var Q in $)oe.d(K,Q,function(ee){return $[ee]}.bind(null,Q));return K},oe.n=function($){var Z=$&&$.__esModule?function(){return $.default}:function(){return $};return oe.d(Z,"a",Z),Z},oe.o=function($,Z){return Object.prototype.hasOwnProperty.call($,Z)},oe.p="",oe.h=function(){return T},g("./index.js")(oe.s="./index.js")}({"../node_modules/@babel/runtime/helpers/arrayWithHoles.js":
/*!****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
                  \****************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p){if(Array.isArray(p))return p}},"../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!*******************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
                  \*******************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p){if(Array.isArray(p)){for(var y=0,C=new Array(p.length);y<p.length;y++)C[y]=p[y];return C}}},"../node_modules/@babel/runtime/helpers/assertThisInitialized.js":
/*!***********************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
                  \***********************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}},"../node_modules/@babel/runtime/helpers/asyncToGenerator.js":
/*!******************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
                  \******************************************************************/
/*! no static exports found */function(le,d){function s(y,C,T,D,h,E,O){try{var m=y[E](O),g=m.value}catch(v){return void T(v)}m.done?C(g):Promise.resolve(g).then(D,h)}le.exports=function p(y){return function(){var C=this,T=arguments;return new Promise(function(D,h){var E=y.apply(C,T);function O(g){s(E,D,h,O,m,"next",g)}function m(g){s(E,D,h,O,m,"throw",g)}O(void 0)})}}},"../node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/classCallCheck.js ***!
                  \****************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}},"../node_modules/@babel/runtime/helpers/createClass.js":
/*!*************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/createClass.js ***!
                  \*************************************************************/
/*! no static exports found */function(le,d){function s(y,C){for(var T=0;T<C.length;T++){var D=C[T];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(y,D.key,D)}}le.exports=function p(y,C,T){return C&&s(y.prototype,C),T&&s(y,T),y}},"../node_modules/@babel/runtime/helpers/defineProperty.js":
/*!****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/defineProperty.js ***!
                  \****************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p,y,C){return y in p?Object.defineProperty(p,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[y]=C,p}},"../node_modules/@babel/runtime/helpers/getPrototypeOf.js":
/*!****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
                  \****************************************************************/
/*! no static exports found */function(le,d){function s(p){return le.exports=s=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},s(p)}le.exports=s},"../node_modules/@babel/runtime/helpers/inherits.js":
/*!**********************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/inherits.js ***!
                  \**********************************************************/
/*! no static exports found */function(le,d,s){var p=s(
/*! ./setPrototypeOf */
"../node_modules/@babel/runtime/helpers/setPrototypeOf.js");le.exports=function y(C,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&p(C,T)}},"../node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!*****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/iterableToArray.js ***!
                  \*****************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}},"../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":
/*!**********************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
                  \**********************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(p,y){var C=[],T=!0,D=!1,h=void 0;try{for(var O,E=p[Symbol.iterator]();!(T=(O=E.next()).done)&&(C.push(O.value),!y||C.length!==y);T=!0);}catch(m){D=!0,h=m}finally{try{!T&&null!=E.return&&E.return()}finally{if(D)throw h}}return C}},"../node_modules/@babel/runtime/helpers/nonIterableRest.js":
/*!*****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
                  \*****************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"../node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!*******************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
                  \*******************************************************************/
/*! no static exports found */function(le,d){le.exports=function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":
/*!***************************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
                  \***************************************************************************/
/*! no static exports found */function(le,d,s){var p=s(
/*! ../helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s(
/*! ./assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js");le.exports=function C(T,D){return!D||"object"!==p(D)&&"function"!=typeof D?y(T):D}},"../node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!****************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
                  \****************************************************************/
/*! no static exports found */function(le,d){function s(p,y){return le.exports=s=Object.setPrototypeOf||function(T,D){return T.__proto__=D,T},s(p,y)}le.exports=s},"../node_modules/@babel/runtime/helpers/slicedToArray.js":
/*!***************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/slicedToArray.js ***!
                  \***************************************************************/
/*! no static exports found */function(le,d,s){var p=s(
/*! ./arrayWithHoles */
"../node_modules/@babel/runtime/helpers/arrayWithHoles.js"),y=s(
/*! ./iterableToArrayLimit */
"../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),C=s(
/*! ./nonIterableRest */
"../node_modules/@babel/runtime/helpers/nonIterableRest.js");le.exports=function T(D,h){return p(D)||y(D,h)||C()}},"../node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!*******************************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
                  \*******************************************************************/
/*! no static exports found */function(le,d,s){var p=s(
/*! ./arrayWithoutHoles */
"../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),y=s(
/*! ./iterableToArray */
"../node_modules/@babel/runtime/helpers/iterableToArray.js"),C=s(
/*! ./nonIterableSpread */
"../node_modules/@babel/runtime/helpers/nonIterableSpread.js");le.exports=function T(D){return p(D)||y(D)||C()}},"../node_modules/@babel/runtime/helpers/typeof.js":
/*!********************************************************!*\
                  !*** ../node_modules/@babel/runtime/helpers/typeof.js ***!
                  \********************************************************/
/*! no static exports found */function(le,d){function s(y){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(y)}function p(y){return le.exports=p="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(T){return s(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":s(T)},p(y)}le.exports=p},"../node_modules/@babel/runtime/regenerator/index.js":
/*!***********************************************************!*\
                  !*** ../node_modules/@babel/runtime/regenerator/index.js ***!
                  \***********************************************************/
/*! no static exports found */function(le,d,s){le.exports=s(
/*! regenerator-runtime */
"../node_modules/regenerator-runtime/runtime-module.js")},"../node_modules/ms/index.js":
/*!***********************************!*\
                  !*** ../node_modules/ms/index.js ***!
                  \***********************************/
/*! no static exports found */function(le,d){var s=1e3,p=60*s,y=60*p,C=24*y,T=7*C;function m(g,v,P,b){var x=v>=1.5*P;return Math.round(g/P)+" "+b+(x?"s":"")}le.exports=function(g,v){v=v||{};var P=typeof g;if("string"===P&&g.length>0)return function h(g){if(!((g=String(g)).length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(v){var P=parseFloat(v[1]);switch((v[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*P;case"weeks":case"week":case"w":return P*T;case"days":case"day":case"d":return P*C;case"hours":case"hour":case"hrs":case"hr":case"h":return P*y;case"minutes":case"minute":case"mins":case"min":case"m":return P*p;case"seconds":case"second":case"secs":case"sec":case"s":return P*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}(g);if("number"===P&&isFinite(g))return v.long?function O(g){var v=Math.abs(g);return v>=C?m(g,v,C,"day"):v>=y?m(g,v,y,"hour"):v>=p?m(g,v,p,"minute"):v>=s?m(g,v,s,"second"):g+" ms"}(g):function E(g){var v=Math.abs(g);return v>=C?Math.round(g/C)+"d":v>=y?Math.round(g/y)+"h":v>=p?Math.round(g/p)+"m":v>=s?Math.round(g/s)+"s":g+"ms"}(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))}},"../node_modules/process/browser.js":
/*!******************************************!*\
                  !*** ../node_modules/process/browser.js ***!
                  \******************************************/
/*! no static exports found */function(le,d){var p,y,s=le.exports={};function C(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function D(S){if(p===setTimeout)return setTimeout(S,0);if((p===C||!p)&&setTimeout)return p=setTimeout,setTimeout(S,0);try{return p(S,0)}catch{try{return p.call(null,S,0)}catch{return p.call(this,S,0)}}}!function(){try{p="function"==typeof setTimeout?setTimeout:C}catch{p=C}try{y="function"==typeof clearTimeout?clearTimeout:T}catch{y=T}}();var m,E=[],O=!1,g=-1;function v(){!O||!m||(O=!1,m.length?E=m.concat(E):g=-1,E.length&&P())}function P(){if(!O){var S=D(v);O=!0;for(var L=E.length;L;){for(m=E,E=[];++g<L;)m&&m[g].run();g=-1,L=E.length}m=null,O=!1,function h(S){if(y===clearTimeout)return clearTimeout(S);if((y===T||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(S);try{return y(S)}catch{try{return y.call(null,S)}catch{return y.call(this,S)}}}(S)}}function b(S,L){this.fun=S,this.array=L}function x(){}s.nextTick=function(S){var L=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)L[w-1]=arguments[w];E.push(new b(S,L)),1===E.length&&!O&&D(P)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(S){return[]},s.binding=function(S){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(S){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},"../node_modules/regenerator-runtime/runtime-module.js":
/*!*************************************************************!*\
                  !*** ../node_modules/regenerator-runtime/runtime-module.js ***!
                  \*************************************************************/
/*! no static exports found */function(le,d,s){var p=function(){return this||"object"==typeof self&&self}()||Function("return this")(),y=p.regeneratorRuntime&&Object.getOwnPropertyNames(p).indexOf("regeneratorRuntime")>=0,C=y&&p.regeneratorRuntime;if(p.regeneratorRuntime=void 0,le.exports=s(
/*! ./runtime */
"../node_modules/regenerator-runtime/runtime.js"),y)p.regeneratorRuntime=C;else try{delete p.regeneratorRuntime}catch{p.regeneratorRuntime=void 0}},"../node_modules/regenerator-runtime/runtime.js":
/*!******************************************************!*\
                  !*** ../node_modules/regenerator-runtime/runtime.js ***!
                  \******************************************************/
/*! no static exports found */function(le,d){!function(s){"use strict";var C,p=Object.prototype,y=p.hasOwnProperty,T="function"==typeof Symbol?Symbol:{},D=T.iterator||"@@iterator",h=T.asyncIterator||"@@asyncIterator",E=T.toStringTag||"@@toStringTag",O="object"==typeof le,m=s.regeneratorRuntime;if(m)O&&(le.exports=m);else{(m=s.regeneratorRuntime=O?le.exports:{}).wrap=g;var P="suspendedStart",b="suspendedYield",x="executing",S="completed",L={},W={};W[D]=function(){return this};var B=Object.getPrototypeOf,G=B&&B(B($([])));G&&G!==p&&y.call(G,D)&&(W=G);var V=j.prototype=w.prototype=Object.create(W);N.prototype=V.constructor=j,j.constructor=N,j[E]=N.displayName="GeneratorFunction",m.isGeneratorFunction=function(K){var Q="function"==typeof K&&K.constructor;return!!Q&&(Q===N||"GeneratorFunction"===(Q.displayName||Q.name))},m.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,j):(K.__proto__=j,E in K||(K[E]="GeneratorFunction")),K.prototype=Object.create(V),K},m.awrap=function(K){return{__await:K}},F(z.prototype),z.prototype[h]=function(){return this},m.AsyncIterator=z,m.async=function(K,Q,ee,ne){var ue=new z(g(K,Q,ee,ne));return m.isGeneratorFunction(Q)?ue:ue.next().then(function(ye){return ye.done?ye.value:ue.next()})},F(V),V[E]="Generator",V[D]=function(){return this},V.toString=function(){return"[object Generator]"},m.keys=function(K){var Q=[];for(var ee in K)Q.push(ee);return Q.reverse(),function ne(){for(;Q.length;){var ue=Q.pop();if(ue in K)return ne.value=ue,ne.done=!1,ne}return ne.done=!0,ne}},m.values=$,oe.prototype={constructor:oe,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,this.tryEntries.forEach(ie),!K)for(var Q in this)"t"===Q.charAt(0)&&y.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=C)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if("throw"===Q.type)throw Q.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var Q=this;function ee(ke,Xe){return ye.type="throw",ye.arg=K,Q.next=ke,Xe&&(Q.method="next",Q.arg=C),!!Xe}for(var ne=this.tryEntries.length-1;ne>=0;--ne){var ue=this.tryEntries[ne],ye=ue.completion;if("root"===ue.tryLoc)return ee("end");if(ue.tryLoc<=this.prev){var Ee=y.call(ue,"catchLoc"),Se=y.call(ue,"finallyLoc");if(Ee&&Se){if(this.prev<ue.catchLoc)return ee(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return ee(ue.finallyLoc)}else if(Ee){if(this.prev<ue.catchLoc)return ee(ue.catchLoc,!0)}else{if(!Se)throw new Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return ee(ue.finallyLoc)}}}},abrupt:function(K,Q){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ne=this.tryEntries[ee];if(ne.tryLoc<=this.prev&&y.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var ue=ne;break}}ue&&("break"===K||"continue"===K)&&ue.tryLoc<=Q&&Q<=ue.finallyLoc&&(ue=null);var ye=ue?ue.completion:{};return ye.type=K,ye.arg=Q,ue?(this.method="next",this.next=ue.finallyLoc,L):this.complete(ye)},complete:function(K,Q){if("throw"===K.type)throw K.arg;return"break"===K.type||"continue"===K.type?this.next=K.arg:"return"===K.type?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):"normal"===K.type&&Q&&(this.next=Q),L},finish:function(K){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ee=this.tryEntries[Q];if(ee.finallyLoc===K)return this.complete(ee.completion,ee.afterLoc),ie(ee),L}},catch:function(K){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ee=this.tryEntries[Q];if(ee.tryLoc===K){var ne=ee.completion;if("throw"===ne.type){var ue=ne.arg;ie(ee)}return ue}}throw new Error("illegal catch attempt")},delegateYield:function(K,Q,ee){return this.delegate={iterator:$(K),resultName:Q,nextLoc:ee},"next"===this.method&&(this.arg=C),L}}}function g(K,Q,ee,ne){var ye=Object.create((Q&&Q.prototype instanceof w?Q:w).prototype),Ee=new oe(ne||[]);return ye._invoke=function te(K,Q,ee){var ne=P;return function(ye,Ee){if(ne===x)throw new Error("Generator is already running");if(ne===S){if("throw"===ye)throw Ee;return Z()}for(ee.method=ye,ee.arg=Ee;;){var Se=ee.delegate;if(Se){var ke=q(Se,ee);if(ke){if(ke===L)continue;return ke}}if("next"===ee.method)ee.sent=ee._sent=ee.arg;else if("throw"===ee.method){if(ne===P)throw ne=S,ee.arg;ee.dispatchException(ee.arg)}else"return"===ee.method&&ee.abrupt("return",ee.arg);ne=x;var Xe=v(K,Q,ee);if("normal"===Xe.type){if(ne=ee.done?S:b,Xe.arg===L)continue;return{value:Xe.arg,done:ee.done}}"throw"===Xe.type&&(ne=S,ee.method="throw",ee.arg=Xe.arg)}}}(K,ee,Ee),ye}function v(K,Q,ee){try{return{type:"normal",arg:K.call(Q,ee)}}catch(ne){return{type:"throw",arg:ne}}}function w(){}function N(){}function j(){}function F(K){["next","throw","return"].forEach(function(Q){K[Q]=function(ee){return this._invoke(Q,ee)}})}function z(K){function Q(ue,ye,Ee,Se){var ke=v(K[ue],K,ye);if("throw"!==ke.type){var Xe=ke.arg,mt=Xe.value;return mt&&"object"==typeof mt&&y.call(mt,"__await")?Promise.resolve(mt.__await).then(function(st){Q("next",st,Ee,Se)},function(st){Q("throw",st,Ee,Se)}):Promise.resolve(mt).then(function(st){Xe.value=st,Ee(Xe)},function(st){return Q("throw",st,Ee,Se)})}Se(ke.arg)}var ee;this._invoke=function ne(ue,ye){function Ee(){return new Promise(function(Se,ke){Q(ue,ye,Se,ke)})}return ee=ee?ee.then(Ee,Ee):Ee()}}function q(K,Q){var ee=K.iterator[Q.method];if(ee===C){if(Q.delegate=null,"throw"===Q.method){if(K.iterator.return&&(Q.method="return",Q.arg=C,q(K,Q),"throw"===Q.method))return L;Q.method="throw",Q.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var ne=v(ee,K.iterator,Q.arg);if("throw"===ne.type)return Q.method="throw",Q.arg=ne.arg,Q.delegate=null,L;var ue=ne.arg;return ue?ue.done?(Q[K.resultName]=ue.value,Q.next=K.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=C),Q.delegate=null,L):ue:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,L)}function ae(K){var Q={tryLoc:K[0]};1 in K&&(Q.catchLoc=K[1]),2 in K&&(Q.finallyLoc=K[2],Q.afterLoc=K[3]),this.tryEntries.push(Q)}function ie(K){var Q=K.completion||{};Q.type="normal",delete Q.arg,K.completion=Q}function oe(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(ae,this),this.reset(!0)}function $(K){if(K){var Q=K[D];if(Q)return Q.call(K);if("function"==typeof K.next)return K;if(!isNaN(K.length)){var ee=-1,ne=function ue(){for(;++ee<K.length;)if(y.call(K,ee))return ue.value=K[ee],ue.done=!1,ue;return ue.value=C,ue.done=!0,ue};return ne.next=ne}}return{next:Z}}function Z(){return{value:C,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},"./drawing/draw.js":
/*!*************************!*\
                  !*** ./drawing/draw.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){p.save(),y(p),p.restore()}},"./drawing/drawArrow.js":
/*!******************************!*\
                  !*** ./drawing/drawArrow.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./drawLine.js */
"./drawing/drawLine.js"),y=s(
/*! ./drawJoinedLines.js */
"./drawing/drawJoinedLines.js");d.default=function(C,T,D,h,E,O){var g=Math.atan2(D.y-T.y,D.x-T.x),v={color:h,lineWidth:E};O&&(v.lineDash=O),Object(p.default)(C,void 0,T,D,v,"canvas"),v={color:h,lineWidth:E,fillStyle:h};var P=[{x:D.x-10*Math.cos(g-Math.PI/7),y:D.y-10*Math.sin(g-Math.PI/7)},{x:D.x-10*Math.cos(g+Math.PI/7),y:D.y-10*Math.sin(g+Math.PI/7)},D];Object(y.default)(C,void 0,D,P,v,"canvas")}},"./drawing/drawCircle.js":
/*!*******************************!*\
                  !*** ./drawing/drawCircle.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js");d.default=function(C,T,D,h,E){"pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")&&(D=p.default.cornerstone.pixelToCanvas(T,D)),Object(y.default)(C,E,function(m){m.arc(D.x,D.y,h,0,2*Math.PI)})}},"./drawing/drawEllipse.js":
/*!********************************!*\
                  !*** ./drawing/drawEllipse.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js"),C=s(
/*! ../util/pointProjector.js */
"./util/pointProjector.js");d.default=function(T,D,h,E,O){var g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;"pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")&&(h=p.default.cornerstone.pixelToCanvas(D,h),E=p.default.cornerstone.pixelToCanvas(D,E));var v=p.default.cornerstone.getViewport(D),x=v.scale,S=v.translation,L=v.rotation-g,w={x:D.clientWidth/2+S.x*x,y:D.clientHeight/2+S.y*x};Math.abs(L)>.05&&(h=Object(C.rotatePoint)(h,w,-L),E=Object(C.rotatePoint)(E,w,-L));var N=Math.abs(h.x-E.x),j=Math.abs(h.y-E.y),W=Math.min(h.x,E.x),B=Math.min(h.y,E.y),G={x:W+N/2,y:B+j/2};Math.abs(L)>.05&&(G=Object(C.rotatePoint)(G,w,L));var V=L*Math.PI/180;Object(y.default)(T,O,function(F){F.ellipse(G.x,G.y,N/2,j/2,V,0,2*Math.PI),F.closePath()})}},"./drawing/drawHandles.js":
/*!********************************!*\
                  !*** ./drawing/drawHandles.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),C=s(
/*! ./../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),T=s(
/*! ./path.js */
"./drawing/path.js"),D=s(
/*! ./../store/index.js */
"./store/index.js");d.default=function(h,E,O){var m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=E.element,v=C.default.getToolColor();h.strokeStyle=m.color||v;for(var P=Object.keys(O),b=function(w){var j=O[P[w]];if(!0===j.drawnIndependently||!0===m.drawHandlesIfActive&&!j.active||m.hideHandlesIfMoving&&j.moving)return"continue";var G={lineWidth:j.active?y.default.getActiveWidth():y.default.getToolWidth(),fillStyle:m.fill};m.lineDash&&(G.lineDash=m.lineDash),Object(T.default)(h,G,function(V){var F=p.default.cornerstone.pixelToCanvas(g,j);V.arc(F.x,F.y,j.radius||m.handleRadius||D.state.handleRadius,0,2*Math.PI)})},x=0;x<P.length;x++)b(x)}},"./drawing/drawJoinedLines.js":
/*!************************************!*\
                  !*** ./drawing/drawJoinedLines.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js");d.default=function(C,T,D,h,E){var O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel";Object(y.default)(C,E,function(m){"pixel"===O&&(D=p.default.cornerstone.pixelToCanvas(T,D),h=h.map(function(g){return p.default.cornerstone.pixelToCanvas(T,g)})),m.moveTo(D.x,D.y),h.forEach(function(g){m.lineTo(g.x,g.y)})})}},"./drawing/drawLine.js":
/*!*****************************!*\
                  !*** ./drawing/drawLine.js ***!
                  \*****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js");function C(T,D,h,E,O){var m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel";Object(y.default)(T,O,function(g){"pixel"===m&&(h=p.default.cornerstone.pixelToCanvas(D,h),E=p.default.cornerstone.pixelToCanvas(D,E)),g.moveTo(h.x,h.y),g.lineTo(E.x,E.y)})}},"./drawing/drawLines.js":
/*!******************************!*\
                  !*** ./drawing/drawLines.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js");d.default=function(C,T,D,h){var E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"pixel";Object(y.default)(C,h,function(O){D.forEach(function(m){var g=m.start,v=m.end;if("pixel"===E){var P=p.default.cornerstone;g=P.pixelToCanvas(T,g),v=P.pixelToCanvas(T,v)}O.moveTo(g.x,g.y),O.lineTo(v.x,v.y)})})}},"./drawing/drawLink.js":
/*!*****************************!*\
                  !*** ./drawing/drawLink.js ***!
                  \*****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ./drawLine.js */
"./drawing/drawLine.js");d.default=function(C,T,D,h,E,O){var m=C.length>0?p.default.cornerstoneMath.point.findClosestPoint(C,T):T,v=p.default.cornerstoneMath.point.findClosestPoint([{x:D.left+D.width/2,y:D.top},{x:D.left,y:D.top+D.height/2},{x:D.left+D.width/2,y:D.top+D.height},{x:D.left+D.width,y:D.top+D.height/2}],m),P={color:E,lineWidth:O,lineDash:[2,3]};Object(y.default)(h,void 0,m,v,P,"canvas")}},"./drawing/drawLinkedTextBox.js":
/*!**************************************!*\
                  !*** ./drawing/drawLinkedTextBox.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ./drawTextBox.js */
"./drawing/drawTextBox.js"),C=s(
/*! ./drawLink.js */
"./drawing/drawLink.js"),T=s(
/*! ./../store/index.js */
"./store/index.js"),D=s(
/*! ../util/clip.js */
"./util/clip.js");d.default=function(h,E,O,m,g,v,P,b,x,S){var L=p.default.cornerstone.pixelToCanvas,w=L(E,O);x&&(w.x+=x);var N={centering:{x:!1,y:S}};if(T.state.preventTextBoxOutsideDisplayedArea&&(N.displacer=function(W){return Object(D.clipBoxToDisplayedArea)(E,W)}),O.boundingBox=Object(y.default)(h,m,w.x,w.y,P,N),O.hasMoved){var j=v(g).map(function(W){return L(E,W)});Object(C.default)(j,w,O.boundingBox,h,P,b)}}},"./drawing/drawRect.js":
/*!*****************************!*\
                  !*** ./drawing/drawRect.js ***!
                  \*****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js"),C=s(
/*! ../util/pointProjector.js */
"./util/pointProjector.js");d.default=function(T,D,h,E,O){var g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if("pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")){var v=p.default.cornerstone;h=v.pixelToCanvas(D,h),E=v.pixelToCanvas(D,E)}var P=p.default.cornerstone.getViewport(D),S=P.scale,L=P.translation,w=P.rotation-g,N={x:D.clientWidth/2+L.x*S,y:D.clientHeight/2+L.y*S};Math.abs(w)>.05&&(h=Object(C.rotatePoint)(h,N,-w),E=Object(C.rotatePoint)(E,N,-w));var j=Math.abs(h.x-E.x),W=Math.abs(h.y-E.y);h={x:Math.min(h.x,E.x),y:Math.min(h.y,E.y)},E={x:h.x+j,y:h.y+W};var B={x:h.x+j,y:h.y},G={x:h.x,y:h.y+W};Math.abs(w)>.05&&(h=Object(C.rotatePoint)(h,N,w),E=Object(C.rotatePoint)(E,N,w),B=Object(C.rotatePoint)(B,N,w),G=Object(C.rotatePoint)(G,N,w)),Object(y.default)(T,O,function(V){V.moveTo(h.x,h.y),V.lineTo(B.x,B.y),V.lineTo(E.x,E.y),V.lineTo(G.x,G.y),V.lineTo(h.x,h.y)})}},"./drawing/drawTextBox.js":
/*!********************************!*\
                  !*** ./drawing/drawTextBox.js ***!
                  \********************************/
/*! exports provided: textBoxWidth, default */function(le,d,s){"use strict";s.r(d),s.d(d,"textBoxWidth",function(){return D});var p=s(
/*! ../stateManagement/textStyle.js */
"./stateManagement/textStyle.js"),y=s(
/*! ./draw.js */
"./drawing/draw.js"),C=s(
/*! ./fillTextLines.js */
"./drawing/fillTextLines.js"),T=s(
/*! ./fillBox.js */
"./drawing/fillBox.js");function D(h,E,O){var m=p.default.getFont(),g=h.font;m&&m!==g&&(h.font=m);var v=h.measureText(E).width;return m&&m!==g&&(h.font=g),v+2*O}d.default=function(h,E,O,m,g){var v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};"[object Array]"!==Object.prototype.toString.call(E)&&(E=[E]);var b=p.default.getFontSize(),x=p.default.getBackgroundColor(),S=0;E.forEach(function(w){var N=D(h,w,5);S=Math.max(S,N)});var L={width:S,height:5+E.length*(b+5)};return Object(y.default)(h,function(w){w.strokeStyle=g,v.centering&&(!0===v.centering.x&&(O-=L.width/2),!0===v.centering.y&&(m-=L.height/2)),L.left=O,L.top=m,"function"==typeof v.displacer&&v.displacer(L),Object(T.default)(w,L,x),Object(C.default)(w,L,E,g,5)}),L}},"./drawing/fillBox.js":
/*!****************************!*\
                  !*** ./drawing/fillBox.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y,C){p.fillStyle=C,p.fillRect(y.left,y.top,y.width,y.height)}},"./drawing/fillOutsideRect.js":
/*!************************************!*\
                  !*** ./drawing/fillOutsideRect.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ./path.js */
"./drawing/path.js");d.default=function(C,T,D,h,E){if("pixel"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel")){var m=p.default.cornerstone;D=m.pixelToCanvas(T,D),h=m.pixelToCanvas(T,h)}var g=Math.min(D.x,h.x),v=Math.min(D.y,h.y),P=Math.abs(D.x-h.x),b=Math.abs(D.y-h.y);Object(y.default)(C,E,function(x){x.rect(0,0,x.canvas.clientWidth,x.canvas.clientHeight),x.rect(g+P,v,-P,b)})}},"./drawing/fillTextLines.js":
/*!**********************************!*\
                  !*** ./drawing/fillTextLines.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../stateManagement/textStyle.js */
"./stateManagement/textStyle.js");d.default=function(y,C,T,D,h){var E=p.default.getFontSize();y.font=p.default.getFont(),y.textBaseline="top",y.fillStyle=D,T.forEach(function(O,m){y.fillText(O,C.left+h,C.top+h+m*(E+h))})}},"./drawing/getNewContext.js":
/*!**********************************!*\
                  !*** ./drawing/getNewContext.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var y=p.getContext("2d");return y.setTransform(1,0,0,1,0,0),y}},"./drawing/index.js":
/*!**************************!*\
                  !*** ./drawing/index.js ***!
                  \**************************/
/*! exports provided: draw, drawArrow, drawCircle, drawEllipse, drawHandles, drawJoinedLines, drawLine, drawLines, drawLink, drawLinkedTextBox, drawRect, drawTextBox, fillBox, fillOutsideRect, fillTextLines, getNewContext, path, setShadow, transformCanvasContext, resetCanvasContextTransform */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./draw.js */
"./drawing/draw.js");s.d(d,"draw",function(){return p.default});var y=s(
/*! ./drawArrow.js */
"./drawing/drawArrow.js");s.d(d,"drawArrow",function(){return y.default});var C=s(
/*! ./drawCircle.js */
"./drawing/drawCircle.js");s.d(d,"drawCircle",function(){return C.default});var T=s(
/*! ./drawEllipse.js */
"./drawing/drawEllipse.js");s.d(d,"drawEllipse",function(){return T.default});var D=s(
/*! ./drawHandles.js */
"./drawing/drawHandles.js");s.d(d,"drawHandles",function(){return D.default});var h=s(
/*! ./drawJoinedLines.js */
"./drawing/drawJoinedLines.js");s.d(d,"drawJoinedLines",function(){return h.default});var E=s(
/*! ./drawLine.js */
"./drawing/drawLine.js");s.d(d,"drawLine",function(){return E.default});var O=s(
/*! ./drawLines.js */
"./drawing/drawLines.js");s.d(d,"drawLines",function(){return O.default});var m=s(
/*! ./drawLink.js */
"./drawing/drawLink.js");s.d(d,"drawLink",function(){return m.default});var g=s(
/*! ./drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js");s.d(d,"drawLinkedTextBox",function(){return g.default});var v=s(
/*! ./drawRect.js */
"./drawing/drawRect.js");s.d(d,"drawRect",function(){return v.default});var P=s(
/*! ./drawTextBox.js */
"./drawing/drawTextBox.js");s.d(d,"drawTextBox",function(){return P.default});var b=s(
/*! ./fillBox.js */
"./drawing/fillBox.js");s.d(d,"fillBox",function(){return b.default});var x=s(
/*! ./fillOutsideRect.js */
"./drawing/fillOutsideRect.js");s.d(d,"fillOutsideRect",function(){return x.default});var S=s(
/*! ./fillTextLines.js */
"./drawing/fillTextLines.js");s.d(d,"fillTextLines",function(){return S.default});var L=s(
/*! ./getNewContext.js */
"./drawing/getNewContext.js");s.d(d,"getNewContext",function(){return L.default});var w=s(
/*! ./path.js */
"./drawing/path.js");s.d(d,"path",function(){return w.default});var N=s(
/*! ./setShadow.js */
"./drawing/setShadow.js");s.d(d,"setShadow",function(){return N.default});var j=s(
/*! ./transformCanvasContext.js */
"./drawing/transformCanvasContext.js");s.d(d,"transformCanvasContext",function(){return j.default});var W=s(
/*! ./resetCanvasContextTransform.js */
"./drawing/resetCanvasContextTransform.js");s.d(d,"resetCanvasContextTransform",function(){return W.default})},"./drawing/path.js":
/*!*************************!*\
                  !*** ./drawing/path.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js");d.default=function(y){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2?arguments[2]:void 0,D=C.color,h=C.lineWidth,E=C.fillStyle,O=C.lineDash,m=C.shouldDrawLines,g=void 0===m||m;y.beginPath(),y.strokeStyle=D||y.strokeStyle,y.lineWidth=h||void 0===h&&p.default.getToolWidth()||y.lineWidth,O&&y.setLineDash(O),T(y),E&&(y.fillStyle=E,y.fill()),g&&y.stroke(),O&&y.setLineDash([])}},"./drawing/resetCanvasContextTransform.js":
/*!************************************************!*\
                  !*** ./drawing/resetCanvasContextTransform.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){p.setTransform(1,0,0,1,0,0)}},"./drawing/setShadow.js":
/*!******************************!*\
                  !*** ./drawing/setShadow.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../util/getDefault.js */
"./util/getDefault.js");d.default=function(y){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C.shadow&&(y.shadowColor=Object(p.default)(C.shadowColor,"#000000"),y.shadowBlur=Object(p.default)(C.shadowBlur,0),y.shadowOffsetX=Object(p.default)(C.shadowOffsetX,1),y.shadowOffsetY=Object(p.default)(C.shadowOffsetY,1))}},"./drawing/transformCanvasContext.js":
/*!*******************************************!*\
                  !*** ./drawing/transformCanvasContext.js ***!
                  \*******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y,C){if(C.hflip||C.vflip||C.rotation){var T={x:y.width/2+C.translation.x*C.scale,y:y.height/2+C.translation.y*C.scale};p.translate(T.x,T.y),C.rotation&&p.rotate(C.rotation*Math.PI/180),C.vflip&&p.scale(1,-1),C.hflip&&p.scale(-1,1),p.translate(-T.x,-T.y)}}},"./eventDispatchers/imageRenderedEventDispatcher.js":
/*!**********************************************************!*\
                  !*** ./eventDispatchers/imageRenderedEventDispatcher.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../store/index.js */
"./store/index.js"),y=s(
/*! ../stateManagement/toolState */
"./stateManagement/toolState.js"),C=s(
/*! ../eventListeners/onImageRenderedBrushEventHandler.js */
"./eventListeners/onImageRenderedBrushEventHandler.js"),T=s(
/*! ./../externalModules.js */
"./externalModules.js"),D=Object(p.getModule)("segmentation"),h=function(g){var v=g.detail,P=v.element,b=p.state.tools.filter(function(w){return w.element===P&&("active"===w.mode||"passive"===w.mode||"enabled"===w.mode)}),x=Object(y.getToolState)(P,"stack"),S=D.configuration;x&&(S.renderFill||S.renderOutline)&&Object(C.default)(g);var L=v.canvasContext.canvas.getContext("2d");b.forEach(function(w){w.renderToolData&&(L.save(),w.renderToolData(g),L.restore())})};d.default={enable:function(g){g.addEventListener(T.default.cornerstone.EVENTS.IMAGE_RENDERED,h)},disable:function(g){g.removeEventListener(T.default.cornerstone.EVENTS.IMAGE_RENDERED,h)}}},"./eventDispatchers/index.js":
/*!***********************************!*\
                  !*** ./eventDispatchers/index.js ***!
                  \***********************************/
/*! exports provided: imageRenderedEventDispatcher, mouseToolEventDispatcher, newImageEventDispatcher, touchToolEventDispatcher */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./imageRenderedEventDispatcher.js */
"./eventDispatchers/imageRenderedEventDispatcher.js");s.d(d,"imageRenderedEventDispatcher",function(){return p.default});var y=s(
/*! ./mouseToolEventDispatcher.js */
"./eventDispatchers/mouseToolEventDispatcher.js");s.d(d,"mouseToolEventDispatcher",function(){return y.default});var C=s(
/*! ./newImageEventDispatcher.js */
"./eventDispatchers/newImageEventDispatcher.js");s.d(d,"newImageEventDispatcher",function(){return C.default});var T=s(
/*! ./touchToolEventDispatcher.js */
"./eventDispatchers/touchToolEventDispatcher.js");s.d(d,"touchToolEventDispatcher",function(){return T.default})},"./eventDispatchers/mouseEventHandlers/addNewMeasurement.js":
/*!******************************************************************!*\
                  !*** ./eventDispatchers/mouseEventHandlers/addNewMeasurement.js ***!
                  \******************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../events.js */
"./events.js"),y=s(
/*! ../../externalModules.js */
"./externalModules.js"),C=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),T=s(
/*! ../../manipulators/index.js */
"./manipulators/index.js"),D=s(
/*! ../../util/logger.js */
"./util/logger.js"),h=s(
/*! ../../util/triggerEvent.js */
"./util/triggerEvent.js"),E=Object(D.getLogger)("eventDispatchers:mouseEventHandlers");d.default=function(O,m){E.log("addNewMeasurement"),O.preventDefault(),O.stopPropagation();var g=O.detail,v=g.element,P=m.createNewMeasurement(g);if(P){Object(C.addToolState)(v,m.name,P),y.default.cornerstone.updateImage(v);var b=1===Object.keys(P.handles).length?T.moveHandle:T.moveNewHandle,x=(new Date).getTime();b(g,m.name,P,P.handles.end,m.options,"mouse",function(S){if(!P.cancelled){var w=!(!m.configuration||!Object(m.configuration).hasOwnProperty("measurementCreationThreshold"))&&(new Date).getTime()-x<m.configuration.measurementCreationThreshold;if(S&&!1===w){var N=p.default.MEASUREMENT_COMPLETED,j={toolName:m.name,toolType:m.name,element:v,measurementData:P};Object(h.default)(v,N,j)}else Object(C.removeToolState)(v,m.name,P)}})}}},"./eventDispatchers/mouseEventHandlers/index.js":
/*!******************************************************!*\
                  !*** ./eventDispatchers/mouseEventHandlers/index.js ***!
                  \******************************************************/
/*! exports provided: mouseClick, mouseDown, mouseDownActivate, mouseDoubleClick, mouseDrag, mouseMove, mouseUp, mouseWheel */function(le,d,s){"use strict";s.r(d),s.d(d,"mouseClick",function(){return h}),s.d(d,"mouseDoubleClick",function(){return E}),s.d(d,"mouseUp",function(){return O}),s.d(d,"mouseWheel",function(){return m});var p=s(
/*! ./../shared/customCallbackHandler.js */
"./eventDispatchers/shared/customCallbackHandler.js"),y=s(
/*! ./mouseDown.js */
"./eventDispatchers/mouseEventHandlers/mouseDown.js");s.d(d,"mouseDown",function(){return y.default});var C=s(
/*! ./mouseDownActivate.js */
"./eventDispatchers/mouseEventHandlers/mouseDownActivate.js");s.d(d,"mouseDownActivate",function(){return C.default});var T=s(
/*! ./mouseDrag.js */
"./eventDispatchers/mouseEventHandlers/mouseDrag.js");s.d(d,"mouseDrag",function(){return T.default});var D=s(
/*! ./mouseMove.js */
"./eventDispatchers/mouseEventHandlers/mouseMove.js");s.d(d,"mouseMove",function(){return D.default});var h=p.default.bind(null,"Mouse","mouseClickCallback"),E=p.default.bind(null,"Mouse","doubleClickCallback"),O=p.default.bind(null,"Mouse","mouseUpCallback"),m=p.default.bind(null,"MouseWheel","mouseWheelCallback")},"./eventDispatchers/mouseEventHandlers/mouseDown.js":
/*!**********************************************************!*\
                  !*** ./eventDispatchers/mouseEventHandlers/mouseDown.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../store/index.js */
"./store/index.js"),y=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ../../store/getToolsWithMoveableHandles.js */
"./store/getToolsWithMoveableHandles.js"),T=s(
/*! ../../util/findAndMoveHelpers.js */
"./util/findAndMoveHelpers.js"),D=s(
/*! ./../../store/getInteractiveToolsForElement.js */
"./store/getInteractiveToolsForElement.js"),h=s(
/*! ./../../store/getToolsWithDataForElement.js */
"./store/getToolsWithDataForElement.js"),E=s(
/*! ./../../store/filterToolsUsableWithMultiPartTools.js */
"./store/filterToolsUsableWithMultiPartTools.js");d.default=function(O){if(!p.state.isToolLocked){var m=O.detail,g=O.detail.element,v=O.detail.currentPoints.canvas,P=Object(D.default)(g,p.getters.mouseTools()),b=P.filter(function(ie){return"active"===ie.mode&&Array.isArray(ie.options.mouseButtonMask)&&ie.options.mouseButtonMask.includes(m.buttons)&&ie.options.isMouseActive});if(p.state.isMultiPartToolActive&&(b=Object(E.default)(b)),b.length>0){var x=b.find(function(ie){return"function"==typeof ie.preMouseDownCallback});if(x&&x.preMouseDownCallback(O))return}if(!p.state.isMultiPartToolActive){var L=Object(h.default)(g,P),w=Object(C.default)(g,L,v,"mouse");if(w.length>0){var N=w[0],j=Object(y.getToolState)(g,N.name),W=Object(T.findHandleDataNearImagePoint)(g,j,N.name,v);return void N.handleSelectedCallback(O,W.data,W.handle,"mouse")}var V=P.filter(function(ie){var oe=Object(y.getToolState)(g,ie.name);return oe&&oe.data&&ie.pointNearTool&&oe.data.some(function(Z){return ie.pointNearTool(g,Z,v,"mouse")})});if(V.length>0){var F=V[0],te=Object(y.getToolState)(g,F.name).data.find(function(ie){return F.pointNearTool(g,ie,v)});return void F.toolSelectedCallback(O,te,"mouse")}if(b.length>0){var q=b.find(function(ie){return"function"==typeof ie.postMouseDownCallback});if(q&&q.postMouseDownCallback(O))return}}}}},"./eventDispatchers/mouseEventHandlers/mouseDownActivate.js":
/*!******************************************************************!*\
                  !*** ./eventDispatchers/mouseEventHandlers/mouseDownActivate.js ***!
                  \******************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./addNewMeasurement.js */
"./eventDispatchers/mouseEventHandlers/addNewMeasurement.js"),y=s(
/*! ./../../store/index.js */
"./store/index.js"),C=s(
/*! ./../../tools/base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),T=s(
/*! ../../util/getActiveTool */
"./util/getActiveTool.js");d.default=function(D){if(!y.state.isToolLocked){var h=D.detail,E=h.element,O=h.buttons,m=Object(T.default)(E,O,"mouse");if(m){if("function"==typeof m.preMouseDownActivateCallback&&m.preMouseDownActivateCallback(D))return;y.state.isMultiPartToolActive||(m.addNewMeasurement?m.addNewMeasurement(D,"mouse"):m instanceof C.default&&Object(p.default)(D,m))}}}},"./eventDispatchers/mouseEventHandlers/mouseDrag.js":
/*!**********************************************************!*\
                  !*** ./eventDispatchers/mouseEventHandlers/mouseDrag.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../store/index.js */
"./store/index.js"),y=s(
/*! ./../../store/getActiveToolsForElement.js */
"./store/getActiveToolsForElement.js"),C=s(
/*! ./../../store/filterToolsUsableWithMultiPartTools.js */
"./store/filterToolsUsableWithMultiPartTools.js");d.default=function(T){if(!p.state.isToolLocked){var D,h=T.detail,E=h.element;D=(D=(D=Object(y.default)(E,p.getters.mouseTools())).filter(function(m){return Array.isArray(m.options.mouseButtonMask)&&m.options.mouseButtonMask.includes(h.buttons)&&m.options.isMouseActive})).filter(function(m){return"function"==typeof m.mouseDragCallback}),p.state.isMultiPartToolActive&&(D=Object(C.default)(D)),0!==D.length&&D[0].mouseDragCallback(T)}}},"./eventDispatchers/mouseEventHandlers/mouseMove.js":
/*!**********************************************************!*\
                  !*** ./eventDispatchers/mouseEventHandlers/mouseMove.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./../../store/index.js */
"./store/index.js"),C=s(
/*! ./../../store/getInteractiveToolsForElement.js */
"./store/getInteractiveToolsForElement.js"),T=s(
/*! ./../../store/getToolsWithDataForElement.js */
"./store/getToolsWithDataForElement.js");d.default=function(D){if(!y.state.isToolLocked&&!y.state.isMultiPartToolActive){var h,E=D.detail,O=E.element;y.state.mousePositionImage=E.currentPoints.image;var g=(h=Object(C.default)(O,y.getters.mouseTools())).filter(function(x){return"active"===x.mode&&x.options.isMouseActive}),v=!1;g.length>0&&(v=g.some(function(x){return x.updateOnMouseMove})),h=Object(T.default)(O,h);for(var P=0;P<h.length;P++){var b=h[P];"function"==typeof b.mouseMoveCallback&&(v=b.mouseMoveCallback(D)||v)}!0===v&&p.default.cornerstone.updateImage(O)}}},"./eventDispatchers/mouseToolEventDispatcher.js":
/*!******************************************************!*\
                  !*** ./eventDispatchers/mouseToolEventDispatcher.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../events.js */
"./events.js"),y=s(
/*! ./mouseEventHandlers/index.js */
"./eventDispatchers/mouseEventHandlers/index.js");d.default={enable:function(h){h.addEventListener(p.default.MOUSE_CLICK,y.mouseClick),h.addEventListener(p.default.MOUSE_DOWN,y.mouseDown),h.addEventListener(p.default.MOUSE_DOWN_ACTIVATE,y.mouseDownActivate),h.addEventListener(p.default.MOUSE_DOUBLE_CLICK,y.mouseDoubleClick),h.addEventListener(p.default.MOUSE_DRAG,y.mouseDrag),h.addEventListener(p.default.MOUSE_MOVE,y.mouseMove),h.addEventListener(p.default.MOUSE_UP,y.mouseUp),h.addEventListener(p.default.MOUSE_WHEEL,y.mouseWheel)},disable:function(h){h.removeEventListener(p.default.MOUSE_CLICK,y.mouseClick),h.removeEventListener(p.default.MOUSE_DOWN,y.mouseDown),h.removeEventListener(p.default.MOUSE_DOWN_ACTIVATE,y.mouseDownActivate),h.removeEventListener(p.default.MOUSE_DOUBLE_CLICK,y.mouseDoubleClick),h.removeEventListener(p.default.MOUSE_DRAG,y.mouseDrag),h.removeEventListener(p.default.MOUSE_MOVE,y.mouseMove),h.removeEventListener(p.default.MOUSE_UP,y.mouseUp),h.removeEventListener(p.default.MOUSE_WHEEL,y.mouseWheel)}}},"./eventDispatchers/newImageEventDispatcher.js":
/*!*****************************************************!*\
                  !*** ./eventDispatchers/newImageEventDispatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../store/index.js */
"./store/index.js"),y=s(
/*! ./../externalModules.js */
"./externalModules.js"),C=function(E){if(p.state.isToolLocked)return!1;var O=E.detail.element,m=p.state.tools.filter(function(g){return g.element===O&&("active"===g.mode||"passive"===g.mode||"enabled"===g.mode)});if(0===m.length)return!1;m.forEach(function(g){g.newImageCallback&&g.newImageCallback(E)})};d.default={enable:function(E){E.addEventListener(y.default.cornerstone.EVENTS.NEW_IMAGE,C)},disable:function(E){E.removeEventListener(y.default.cornerstone.EVENTS.NEW_IMAGE,C)}}},"./eventDispatchers/shared/customCallbackHandler.js":
/*!**********************************************************!*\
                  !*** ./eventDispatchers/shared/customCallbackHandler.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../store/index.js */
"./store/index.js"),y=s(
/*! ./../../store/getActiveToolsForElement.js */
"./store/getActiveToolsForElement.js"),C=s(
/*! ./../../store/filterToolsUsableWithMultiPartTools.js */
"./store/filterToolsUsableWithMultiPartTools.js");d.default=function(T,D,h){if(p.state.isToolLocked)return!1;var E=h.detail.element,O=p.state.tools.filter(function(m){return m.supportedInteractionTypes.includes(T)});if(O=(O=Object(y.default)(E,O,T)).filter(function(m){return"function"==typeof m[D]}),p.state.isMultiPartToolActive&&(O=Object(C.default)(O)),0===O.length)return!1;O[0][D](h)}},"./eventDispatchers/touchEventHandlers/addNewMeasurement.js":
/*!******************************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/addNewMeasurement.js ***!
                  \******************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../events.js */
"./events.js"),y=s(
/*! ../../externalModules.js */
"./externalModules.js"),C=s(
/*! ../../store/index.js */
"./store/index.js"),T=s(
/*! ./../../manipulators/anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),D=s(
/*! ../../manipulators/index.js */
"./manipulators/index.js"),h=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),E=s(
/*! ../../util/triggerEvent.js */
"./util/triggerEvent.js"),O=s(
/*! ../../util/logger.js */
"./util/logger.js"),m=Object(O.getLogger)("eventDispatchers:touchEventHandlers");d.default=function(g,v){m.log("addNewMeasurement"),g.preventDefault(),g.stopPropagation();var P=g.detail,b=P.element,x=v.createNewMeasurement(P);if(x){if(Object(h.addToolState)(b,v.name,x),1===Object.keys(x.handles).length&&P.type===p.default.TAP)return x.active=!1,x.handles.end.active=!1,x.handles.end.highlight=!1,x.invalidated=!0,(C.state.deleteIfHandleOutsideImage||v.options.deleteIfHandleOutsideImage)&&Object(T.default)(P,x.handles)&&Object(h.removeToolState)(b,v.name,x),void y.default.cornerstone.updateImage(b);y.default.cornerstone.updateImage(b),Object(D.moveNewHandle)(P,v.name,x,x.handles.end,v.options,"touch",function(){var L=p.default.MEASUREMENT_COMPLETED,w={toolName:v.name,toolType:v.name,element:b,measurementData:x};Object(E.default)(b,L,w)})}}},"./eventDispatchers/touchEventHandlers/index.js":
/*!******************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/index.js ***!
                  \******************************************************/
/*! exports provided: doubleTap, multiTouchDrag, tap, touchDrag, touchEnd, touchPinch, touchPress, touchRotate, touchStart, touchStartActive */function(le,d,s){"use strict";s.r(d),s.d(d,"doubleTap",function(){return h}),s.d(d,"touchDrag",function(){return E}),s.d(d,"touchEnd",function(){return O}),s.d(d,"touchPinch",function(){return m}),s.d(d,"touchPress",function(){return g}),s.d(d,"touchRotate",function(){return v});var p=s(
/*! ./../shared/customCallbackHandler.js */
"./eventDispatchers/shared/customCallbackHandler.js"),y=s(
/*! ./multiTouchDrag.js */
"./eventDispatchers/touchEventHandlers/multiTouchDrag.js");s.d(d,"multiTouchDrag",function(){return y.default});var C=s(
/*! ./tap.js */
"./eventDispatchers/touchEventHandlers/tap.js");s.d(d,"tap",function(){return C.default});var T=s(
/*! ./touchStart.js */
"./eventDispatchers/touchEventHandlers/touchStart.js");s.d(d,"touchStart",function(){return T.default});var D=s(
/*! ./touchStartActive.js */
"./eventDispatchers/touchEventHandlers/touchStartActive.js");s.d(d,"touchStartActive",function(){return D.default});var h=p.default.bind(null,"DoubleTap","doubleTapCallback"),E=p.default.bind(null,"Touch","touchDragCallback"),O=p.default.bind(null,"Touch","touchEndCallback"),m=p.default.bind(null,"TouchPinch","touchPinchCallback"),g=p.default.bind(null,"Touch","touchPressCallback"),v=p.default.bind(null,"TouchRotate","touchRotateCallback")},"./eventDispatchers/touchEventHandlers/multiTouchDrag.js":
/*!***************************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/multiTouchDrag.js ***!
                  \***************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../store/index.js */
"./store/index.js"),y=s(
/*! ../../store/getActiveToolsForElement.js */
"./store/getActiveToolsForElement.js"),C=s(
/*! ./../../store/filterToolsUsableWithMultiPartTools.js */
"./store/filterToolsUsableWithMultiPartTools.js");d.default=function(T){if(p.state.isToolLocked)return!1;var D=T.detail,h=D.element,E=D.numPointers,O=p.state.tools.filter(function(g){return g.supportedInteractionTypes.includes("MultiTouch")});if(O=(O=Object(y.default)(h,O,"MultiTouch")).filter(function(g){return"function"==typeof g.multiTouchDragCallback&&E===g.configuration.touchPointers}),p.state.isMultiPartToolActive&&(O=Object(C.default)(O)),0===O.length)return!1;O[0].multiTouchDragCallback(T)}},"./eventDispatchers/touchEventHandlers/shared/deactivateAllToolInstances.js":
/*!**********************************************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/shared/deactivateAllToolInstances.js ***!
                  \**********************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y){Object.keys(y).forEach(function(C){y[C].active=!1})}s.r(d),d.default=function(y){if(y)for(var C=0;C<y.data.length;C++){var T=y.data[C];T.active=!1,T.handles&&p(T.handles)}}},"./eventDispatchers/touchEventHandlers/tap.js":
/*!****************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/tap.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./touchStartActive.js */
"./eventDispatchers/touchEventHandlers/touchStartActive.js"),C=s(
/*! ../../store/index.js */
"./store/index.js"),T=s(
/*! ../../store/getActiveToolsForElement.js */
"./store/getActiveToolsForElement.js"),D=s(
/*! ../../store/getToolsWithDataForElement.js */
"./store/getToolsWithDataForElement.js"),h=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),E=s(
/*! ../../manipulators/getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js"),O=s(
/*! ../../manipulators/index.js */
"./manipulators/index.js"),m=s(
/*! ./shared/deactivateAllToolInstances.js */
"./eventDispatchers/touchEventHandlers/shared/deactivateAllToolInstances.js");d.default=function(g){if(!C.state.isToolLocked&&!C.state.isMultiPartToolActive){var v,b=g.detail.element,x=g.detail.currentPoints.canvas;v=Object(T.default)(b,C.getters.touchTools());var S=(v=Object(D.default)(b,v)).filter(function(F){for(var z=Object(h.getToolState)(b,F.name),te=0;te<z.data.length;te++)if(void 0!==Object(E.default)(b,z.data[te].handles,x,28))return!0;return!1});if(S.length>0){var L=S[0],w=Object(h.getToolState)(b,L.name),N=w.data.find(function(F){return void 0!==Object(E.default)(b,F.handles,x,28)});return w.data.active=!0,N.active=!0,p.default.cornerstone.updateImage(b),Object(O.moveHandle)(g.detail,L.name,w.data,N,L.options,"touch",function(){return Object(m.default)(w)}),g.stopImmediatePropagation(),void g.preventDefault()}var j=v.filter(function(F){var z=Object(h.getToolState)(b,F.name);return z&&z.data&&F.pointNearTool&&z.data.some(function(q){return F.pointNearTool(b,q,x)})});if(j.length>0){var W=j[0],B=Object(h.getToolState)(b,W.name),G=B.data.find(function(F){return W.pointNearTool(b,F,x)});return G.active=!0,p.default.cornerstone.updateImage(b),Object(O.moveAllHandles)(g.detail,W.name,G,null,W.options,"touch",function(){return Object(m.default)(B)}),g.stopImmediatePropagation(),void g.preventDefault()}var V=Object(T.default)(b,C.getters.touchTools());return V.length>0&&V[0].touchStartActiveCallback?V[0].touchStartActiveCallback(g):Object(y.default)(g),!1}}},"./eventDispatchers/touchEventHandlers/touchStart.js":
/*!***********************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/touchStart.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../store/index.js */
"./store/index.js"),y=s(
/*! ../../util/findAndMoveHelpers.js */
"./util/findAndMoveHelpers.js"),C=s(
/*! ../../store/getToolsWithMoveableHandles.js */
"./store/getToolsWithMoveableHandles.js"),T=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),D=s(
/*! ./../../store/getInteractiveToolsForElement.js */
"./store/getInteractiveToolsForElement.js"),h=s(
/*! ./../../store/getToolsWithDataForElement.js */
"./store/getToolsWithDataForElement.js"),E=s(
/*! ./../../store/filterToolsUsableWithMultiPartTools.js */
"./store/filterToolsUsableWithMultiPartTools.js");d.default=function(O){if(!p.state.isToolLocked){var m=O.detail,g=m.element,v=m.startPoints.canvas,P=Object(D.default)(g,p.getters.touchTools()),b=P.filter(function(ie){return"active"===ie.mode&&ie.options.isTouchActive});if(p.state.isMultiPartToolActive&&(b=Object(E.default)(b)),b.length>0){var x=b.find(function(ie){return"function"==typeof ie.preTouchStartCallback});if(x&&x.preTouchStartCallback(O))return}if(!p.state.isMultiPartToolActive){var L=Object(h.default)(g,P),w=Object(C.default)(g,L,v,"touch");if(w.length>0){var N=w[0],j=Object(T.getToolState)(g,N.name),W=Object(y.findHandleDataNearImagePoint)(g,j,N.name,v,"touch");return void N.handleSelectedCallback(O,W.data,W.handle,"touch")}var V=L.filter(function(ie){var oe=Object(T.getToolState)(g,ie.name);return oe&&oe.data&&ie.pointNearTool&&oe.data.some(function(Z){return ie.pointNearTool(g,Z,v,"touch")})});if(V.length>0){var F=V[0],te=Object(T.getToolState)(g,F.name).data.find(function(ie){return F.pointNearTool(g,ie,v)});return void F.toolSelectedCallback(O,te,"touch")}if(b.length>0){var q=b.find(function(ie){return"function"==typeof ie.postTouchStartCallback});if(q&&q.postTouchStartCallback(O))return}}}}},"./eventDispatchers/touchEventHandlers/touchStartActive.js":
/*!*****************************************************************!*\
                  !*** ./eventDispatchers/touchEventHandlers/touchStartActive.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../store/index.js */
"./store/index.js"),y=s(
/*! ./addNewMeasurement.js */
"./eventDispatchers/touchEventHandlers/addNewMeasurement.js"),C=s(
/*! ./../../tools/base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),T=s(
/*! ../../util/getActiveTool */
"./util/getActiveTool.js");d.default=function(D){if(!p.state.isToolLocked&&!p.state.isMultiPartToolActive){var h=D.detail.element,E=Object(T.default)(h,null,"touch");E&&E.addNewMeasurement?E.addNewMeasurement(D,"touch"):E instanceof C.default&&Object(y.default)(D,E)}}},"./eventDispatchers/touchToolEventDispatcher.js":
/*!******************************************************!*\
                  !*** ./eventDispatchers/touchToolEventDispatcher.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ./touchEventHandlers/index.js */
"./eventDispatchers/touchEventHandlers/index.js");d.default={enable:function(h){h.addEventListener(p.default.TAP,y.tap),h.addEventListener(p.default.TOUCH_START,y.touchStart,{passive:!1}),h.addEventListener(p.default.TOUCH_DRAG,y.touchDrag,{passive:!1}),h.addEventListener(p.default.TOUCH_END,y.touchEnd),h.addEventListener(p.default.TOUCH_START_ACTIVE,y.touchStartActive),h.addEventListener(p.default.TOUCH_PRESS,y.touchPress),h.addEventListener(p.default.DOUBLE_TAP,y.doubleTap),h.addEventListener(p.default.TOUCH_PINCH,y.touchPinch),h.addEventListener(p.default.TOUCH_ROTATE,y.touchRotate),h.addEventListener(p.default.MULTI_TOUCH_DRAG,y.multiTouchDrag)},disable:function(h){h.removeEventListener(p.default.TAP,y.tap),h.removeEventListener(p.default.TOUCH_START,y.touchStart),h.removeEventListener(p.default.TOUCH_DRAG,y.touchDrag),h.removeEventListener(p.default.TOUCH_END,y.touchEnd),h.removeEventListener(p.default.TOUCH_START_ACTIVE,y.touchStartActive),h.removeEventListener(p.default.TOUCH_PRESS,y.touchPress),h.removeEventListener(p.default.DOUBLE_TAP,y.doubleTap),h.removeEventListener(p.default.TOUCH_PINCH,y.touchPinch),h.removeEventListener(p.default.TOUCH_ROTATE,y.touchRotate),h.removeEventListener(p.default.MULTI_TOUCH_DRAG,y.multiTouchDrag)}}},"./eventListeners/index.js":
/*!*********************************!*\
                  !*** ./eventListeners/index.js ***!
                  \*********************************/
/*! exports provided: mouseEventListeners, wheelEventListener, touchEventListeners */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./mouseEventListeners.js */
"./eventListeners/mouseEventListeners.js");s.d(d,"mouseEventListeners",function(){return p.default});var y=s(
/*! ./wheelEventListener.js */
"./eventListeners/wheelEventListener.js");s.d(d,"wheelEventListener",function(){return y.default});var C=s(
/*! ./touchEventListeners.js */
"./eventListeners/touchEventListeners.js");s.d(d,"touchEventListeners",function(){return C.default})},"./eventListeners/internals/normalizeWheel.js":
/*!****************************************************!*\
                  !*** ./eventListeners/internals/normalizeWheel.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);d.default=function(T){var D=0,h=0,E=0,O=0;return"detail"in T&&(h=T.detail),"wheelDelta"in T&&(h=-T.wheelDelta/120),"wheelDeltaY"in T&&(h=-T.wheelDeltaY/120),"wheelDeltaX"in T&&(D=-T.wheelDeltaX/120),E=10*D,O=10*h,"deltaY"in T&&(O=T.deltaY),"deltaX"in T&&(E=T.deltaX),(E||O)&&T.deltaMode&&(1===T.deltaMode?(E*=40,O*=40):(E*=800,O*=800)),E&&!D&&(D=E<1?-1:1),O&&!h&&(h=O<1?-1:1),{spinX:D,spinY:h,pixelX:E,pixelY:O}}},"./eventListeners/internals/renderSegmentation.js":
/*!********************************************************!*\
                  !*** ./eventListeners/internals/renderSegmentation.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return D});var p=s(
/*! ../../store/index.js */
"./store/index.js"),y=s(
/*! ./renderSegmentationFill */
"./eventListeners/internals/renderSegmentationFill.js"),C=s(
/*! ./renderSegmentationOutline */
"./eventListeners/internals/renderSegmentationOutline.js"),T=Object(p.getModule)("segmentation");function D(O,m,g,v,P){(function h(O){var m=T.configuration;return m.renderFill&&(O&&0!==m.fillAlpha||!O&&0!==m.fillAlphaInactive)})(P)&&Object(y.default)(O,m,v,g,P),function E(O){var m=T.configuration;return m.renderOutline&&(O&&0!==m.outlineAlpha||!O&&0!==m.outlineAlphaInactive)}(P)&&Object(C.default)(O,m,v,g,P)}},"./eventListeners/internals/renderSegmentationFill.js":
/*!************************************************************!*\
                  !*** ./eventListeners/internals/renderSegmentationFill.js ***!
                  \************************************************************/
/*! exports provided: default, getLabelmapCanvas, renderFill */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return D}),s.d(d,"getLabelmapCanvas",function(){return h}),s.d(d,"renderFill",function(){return E});var p=s(
/*! ../../store/index.js */
"./store/index.js"),y=s(
/*! ../../drawing/index.js */
"./drawing/index.js"),C=s(
/*! ../../externalModules */
"./externalModules.js"),T=Object(p.getModule)("segmentation");function D(m,g,v,P,b){E(m,h(m,g,v),b)}function h(m,g,v){var x=m.detail.image,S=x.width,L=x.height,w=g.segmentsHidden,N=v.pixelData,j=T.state.colorLutTables[g.colorLUTIndex],W=document.createElement("canvas");W.width=S,W.height=L;for(var B=Object(y.getNewContext)(W),G=new ImageData(S,L),V=G.data,F=0;F<N.length;F++){var z=N[F];if(0!==z&&!w[z]){var te=j[N[F]];V[4*F]=te[0],V[4*F+1]=te[1],V[4*F+2]=te[2],V[4*F+3]=te[3]}}return B.putImageData(G,0,0),W}function E(m,g,v){var P=T.configuration,b=m.detail,x=b.canvasContext,S=b.element,L=b.image,w=b.viewport,N=x.getTransform(),j=Object(y.getNewContext)(x.canvas),W=C.default.cornerstone.pixelToCanvas(S,{x:0,y:0}),B=C.default.cornerstone.pixelToCanvas(S,{x:L.width,y:0}),G=C.default.cornerstone.pixelToCanvas(S,{x:L.width,y:L.height}),V=C.default.cornerstoneMath.point.distance(W,B),F=C.default.cornerstoneMath.point.distance(B,G),z=x.canvas,te=j.imageSmoothingEnabled,q=j.globalAlpha;j.imageSmoothingEnabled=!1,j.globalAlpha=v?P.fillAlpha:P.fillAlphaInactive,Object(y.transformCanvasContext)(j,z,w);var ae=function O(m){var g=m.viewport,v=m.image,P=g.scale,b=g.scale;return v.rowPixelSpacing<v.columnPixelSpacing?P*=v.columnPixelSpacing/v.rowPixelSpacing:v.columnPixelSpacing<v.rowPixelSpacing&&(b*=v.rowPixelSpacing/v.columnPixelSpacing),{x:g.translation.x*P,y:g.translation.y*b}}(b);j.drawImage(g,z.width/2-V/2+ae.x,z.height/2-F/2+ae.y,V,F),j.globalAlpha=q,j.imageSmoothingEnabled=te,j.setTransform(N)}},"./eventListeners/internals/renderSegmentationOutline.js":
/*!***************************************************************!*\
                  !*** ./eventListeners/internals/renderSegmentationOutline.js ***!
                  \***************************************************************/
/*! exports provided: default, renderOutline, getOutline, _addTopRightCorner */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return h}),s.d(d,"renderOutline",function(){return E}),s.d(d,"getOutline",function(){return O}),s.d(d,"_addTopRightCorner",function(){return P});var p=s(
/*! ../../store/index.js */
"./store/index.js"),y=s(
/*! ../../externalModules.js */
"./externalModules.js"),C=s(
/*! ../../drawing/index.js */
"./drawing/index.js"),D=(s(
/*! ../../index.js */
"./index.js"),Object(p.getModule)("segmentation"));function h(j,W,B,G,V){E(j,O(j,W,B,D.configuration.outlineWidth),W.colorLUTIndex,V)}function E(j,W,B){var G=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],V=D.configuration,F=D.state,z=j.detail,te=z.element,q=z.canvasContext,ae=V.outlineWidth||1,ie=q.getTransform(),oe=Object(C.getNewContext)(q.canvas),$=F.colorLutTables[B],Z=oe.globalAlpha;oe.globalAlpha=G?V.outlineAlpha:V.outlineAlphaInactive,Object(C.draw)(oe,function(K){for(var Q=1;Q<W.length;Q++)if(W[Q]){var ee=$[Q];Object(C.drawLines)(K,te,W[Q],{color:"rgba(".concat(ee[0],", ").concat(ee[1],", ").concat(ee[2],", 1.0 )"),lineWidth:ae},"canvas")}}),oe.globalAlpha=Z,oe.setTransform(ie)}function O(j,W,B,G){var V=j.detail,F=V.element,z=V.image,te=V.viewport,q=z.width,ae=z.height;G=G||1;var ie=W.segmentsHidden,oe=B.pixelData,$=W.activeSegmentIndex,Z=[];B.segmentsOnLabelmap.forEach(function(Se){!ie[Se]&&(Z[Se]=[])}),Z[$]||(Z[$]=[]);for(var K=function(ke){return{x:ke%q,y:Math.floor(ke/q)}},Q=function m(j,W){var B=W/2,G=j.rotation;G*=Math.PI/180;var V=Math.cos(G),F=Math.sin(G),z=[V,F],te=[-F,V],q={x:B*z[0],y:B*z[1]},ae={x:B*te[0],y:B*te[1]};return j.hflip&&(q.x*=-1,q.y*=-1),j.vflip&&(ae.x*=-1,ae.y*=-1),{i:q,j:ae}}(te,G),ee=0;ee<oe.length;ee++){var ne=oe[ee];if(0!==ne&&!ie[ne]){var ye=K(ee),Ee=g(ye,ae,q);(void 0===Ee.top||oe[Ee.top]!==ne)&&S(Z[ne],F,ye,Q),(void 0===Ee.bottom||oe[Ee.bottom]!==ne)&&L(Z[ne],F,ye,Q),(void 0===Ee.left||oe[Ee.left]!==ne)&&w(Z[ne],F,ye,Q),(void 0===Ee.right||oe[Ee.right]!==ne)&&N(Z[ne],F,ye,Q),void 0!==Ee.topLeft&&oe[Ee.topLeft]!==ne&&oe[Ee.top]===ne&&oe[Ee.left]===ne&&v(Z[ne],F,ye,Q),void 0!==Ee.topRight&&oe[Ee.topRight]!==ne&&oe[Ee.top]===ne&&oe[Ee.right]===ne&&P(Z[ne],F,ye,Q),void 0!==Ee.bottomLeft&&oe[Ee.bottomLeft]!==ne&&oe[Ee.bottom]===ne&&oe[Ee.left]===ne&&b(Z[ne],F,ye,Q),void 0!==Ee.bottomRight&&oe[Ee.bottomRight]!==ne&&oe[Ee.bottom]===ne&&oe[Ee.right]===ne&&x(Z[ne],F,ye,Q)}}return Z}function g(j,W,B){var G=j.y*B+j.x,V={},z=j.y+1<W,te=j.x-1>=0,q=j.x+1<B;return j.y-1>=0&&(V.top=G-B,q&&(V.topRight=V.top+1),te&&(V.topLeft=V.top-1)),z&&(V.bottom=G+B,q&&(V.bottomRight=V.bottom+1),te&&(V.bottomLeft=V.bottom-1)),te&&(V.left=G-1),q&&(V.right=G+1),V}function v(j,W,B,G){var F=(0,y.default.cornerstone.pixelToCanvas)(W,B);F.x+=G.j.x,F.y+=G.j.y;var z={x:F.x,y:F.y};z.x+=2*G.i.x,z.y+=2*G.i.y,j.push({start:F,end:z})}function P(j,W,B,G){var F=(0,y.default.cornerstone.pixelToCanvas)(W,{x:B.x+1,y:B.y});F.x+=G.j.x,F.y+=G.j.y;var z={x:F.x,y:F.y};z.x-=2*G.i.x,z.y-=2*G.i.y,j.push({start:F,end:z})}function b(j,W,B,G){var F=(0,y.default.cornerstone.pixelToCanvas)(W,{x:B.x,y:B.y+1});F.x-=G.j.x,F.y-=G.j.y;var z={x:F.x,y:F.y};z.x+=2*G.i.x,z.y+=2*G.i.y,j.push({start:F,end:z})}function x(j,W,B,G){var F=(0,y.default.cornerstone.pixelToCanvas)(W,{x:B.x+1,y:B.y+1});F.x-=G.j.x,F.y-=G.j.y;var z={x:F.x,y:F.y};z.x-=2*G.i.x,z.y-=2*G.i.y,j.push({start:F,end:z})}function S(j,W,B,G){var V=y.default.cornerstone.pixelToCanvas,F=V(W,B),z=V(W,{x:B.x+1,y:B.y});F.x+=G.j.x,F.y+=G.j.y,z.x+=G.j.x,z.y+=G.j.y,j.push({start:F,end:z})}function L(j,W,B,G){var V=y.default.cornerstone.pixelToCanvas,F=V(W,{x:B.x,y:B.y+1}),z=V(W,{x:B.x+1,y:B.y+1});F.x-=G.j.x,F.y-=G.j.y,z.x-=G.j.x,z.y-=G.j.y,j.push({start:F,end:z})}function w(j,W,B,G){var V=y.default.cornerstone.pixelToCanvas,F=V(W,B),z=V(W,{x:B.x,y:B.y+1});F.x+=G.i.x,F.y+=G.i.y,z.x+=G.i.x,z.y+=G.i.y,j.push({start:F,end:z})}function N(j,W,B,G){var V=y.default.cornerstone.pixelToCanvas,F=V(W,{x:B.x+1,y:B.y}),z=V(W,{x:B.x+1,y:B.y+1});F.x-=G.i.x,F.y-=G.i.y,z.x-=G.i.x,z.y-=G.i.y,j.push({start:F,end:z})}},"./eventListeners/mouseEventListeners.js":
/*!***********************************************!*\
                  !*** ./eventListeners/mouseEventListeners.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var O,p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ../util/copyPoints.js */
"./util/copyPoints.js"),T=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),D=s(
/*! ../util/logger.js */
"./util/logger.js"),h=Object(D.getLogger)("eventListeners:mouseEventListeners"),E=!0,g=new Map;function v(N){if("number"==typeof N.buttons)return N.buttons;switch(N.which){case 0:return 0;case 1:return 1;case 2:return 4;case 3:return 2}return 0}function P(){E=!1}function b(N){var j=N.currentTarget,W=y.default.cornerstone.getEnabledElement(j);if(W.image){var B=p.default.MOUSE_DOUBLE_CLICK,G={page:y.default.cornerstoneMath.point.pageToPoint(N),image:y.default.cornerstone.pageToPixel(j,N.pageX,N.pageY),client:{x:N.clientX,y:N.clientY}};G.canvas=y.default.cornerstone.pixelToCanvas(j,G.image);var V=Object(C.default)(G);h.log("double-click: %o",v(N));var F={event:N,buttons:v(N),viewport:y.default.cornerstone.getViewport(j),image:W.image,element:j,startPoints:G,lastPoints:V,currentPoints:G,deltaPoints:{x:0,y:0},type:B};Object(T.default)(j,B,F)}}function x(N){var j=N.currentTarget,W=y.default.cornerstone.getEnabledElement(j);if(W.image){O=setTimeout(P,200),j.removeEventListener("mousemove",S);var B={page:y.default.cornerstoneMath.point.pageToPoint(N),image:y.default.cornerstone.pageToPixel(j,N.pageX,N.pageY),client:{x:N.clientX,y:N.clientY}};B.canvas=y.default.cornerstone.pixelToCanvas(j,B.image);var G=Object(C.default)(B),V={event:N,buttons:v(N),viewport:y.default.cornerstone.getViewport(j),image:W.image,element:j,startPoints:B,lastPoints:G,currentPoints:B,deltaPoints:{x:0,y:0},type:p.default.MOUSE_DOWN};Object(T.default)(V.element,p.default.MOUSE_DOWN,V)&&(V.type=p.default.MOUSE_DOWN_ACTIVATE,Object(T.default)(V.element,p.default.MOUSE_DOWN_ACTIVATE,V)),document.addEventListener("mousemove",z),document.addEventListener("mouseup",te),g.set(z,"mousemove"),g.set(te,"mouseup")}function z(q){var ae=p.default.MOUSE_DRAG,ie={page:y.default.cornerstoneMath.point.pageToPoint(q),image:y.default.cornerstone.pageToPixel(j,q.pageX,q.pageY),client:{x:q.clientX,y:q.clientY}};ie.canvas=y.default.cornerstone.pixelToCanvas(j,ie.image);var oe={page:y.default.cornerstoneMath.point.subtract(ie.page,G.page),image:y.default.cornerstoneMath.point.subtract(ie.image,G.image),client:y.default.cornerstoneMath.point.subtract(ie.client,G.client),canvas:y.default.cornerstoneMath.point.subtract(ie.canvas,G.canvas)};h.log("mousemove: %o",v(q));var $={buttons:v(q),viewport:y.default.cornerstone.getViewport(j),image:W.image,element:j,startPoints:B,lastPoints:G,currentPoints:ie,deltaPoints:oe,type:ae,ctrlKey:q.ctrlKey,metaKey:q.metaKey,shiftKey:q.shiftKey};Object(T.default)($.element,ae,$),G=Object(C.default)(ie)}function te(q){clearTimeout(O);var ae=p.default.MOUSE_UP;E&&(ae=p.default.MOUSE_CLICK);var ie={page:y.default.cornerstoneMath.point.pageToPoint(q),image:y.default.cornerstone.pageToPixel(j,q.pageX,q.pageY),client:{x:q.clientX,y:q.clientY}};ie.canvas=y.default.cornerstone.pixelToCanvas(j,ie.image);var oe={page:y.default.cornerstoneMath.point.subtract(ie.page,G.page),image:y.default.cornerstoneMath.point.subtract(ie.image,G.image),client:y.default.cornerstoneMath.point.subtract(ie.client,G.client),canvas:y.default.cornerstoneMath.point.subtract(ie.canvas,G.canvas)};h.log("mouseup: %o",v(q));var $={event:q,buttons:v(q),viewport:y.default.cornerstone.getViewport(j),image:W.image,element:j,startPoints:B,lastPoints:G,currentPoints:ie,deltaPoints:oe,type:ae};Object(T.default)($.element,ae,$),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",te),g.delete(z),g.delete(te),j.addEventListener("mousemove",S),E=!0}}function S(N){var j=N.currentTarget,W=y.default.cornerstone.getEnabledElement(j);if(W.image){var B=p.default.MOUSE_MOVE,G={page:y.default.cornerstoneMath.point.pageToPoint(N),image:y.default.cornerstone.pageToPixel(j,N.pageX,N.pageY),client:{x:N.clientX,y:N.clientY}};G.canvas=y.default.cornerstone.pixelToCanvas(j,G.image);var V=Object(C.default)(G),F={page:y.default.cornerstoneMath.point.pageToPoint(N),image:y.default.cornerstone.pageToPixel(j,N.pageX,N.pageY),client:{x:N.clientX,y:N.clientY}};F.canvas=y.default.cornerstone.pixelToCanvas(j,F.image);var z={page:y.default.cornerstoneMath.point.subtract(F.page,V.page),image:y.default.cornerstoneMath.point.subtract(F.image,V.image),client:y.default.cornerstoneMath.point.subtract(F.client,V.client),canvas:y.default.cornerstoneMath.point.subtract(F.canvas,V.canvas)},te={viewport:y.default.cornerstone.getViewport(j),image:W.image,element:j,startPoints:G,lastPoints:V,currentPoints:F,deltaPoints:z,type:B};Object(T.default)(j,B,te),V=Object(C.default)(F)}}function L(N){N.removeEventListener("mousedown",x),N.removeEventListener("mousemove",S),N.removeEventListener("dblclick",b),g.forEach(function(j,W){document.removeEventListener(j,W)}),g.clear()}d.default={enable:function w(N){L(N),N.addEventListener("mousedown",x),N.addEventListener("mousemove",S),N.addEventListener("dblclick",b)},disable:L}},"./eventListeners/onImageRenderedBrushEventHandler.js":
/*!************************************************************!*\
                  !*** ./eventListeners/onImageRenderedBrushEventHandler.js ***!
                  \************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../store/index.js */
"./store/index.js"),y=s(
/*! ./internals/renderSegmentation.js */
"./eventListeners/internals/renderSegmentation.js"),C=Object(p.getModule)("segmentation");d.default=function(h){var m=C.configuration,v=C.getters.labelmaps3D(h.detail.element),P=v.activeLabelmapIndex,b=v.labelmaps3D,x=v.currentImageIdIndex;b&&(m.shouldRenderInactiveLabelmaps&&function D(h,E,O,m){for(var g=0;g<E.length;g++){var v=E[g];if(g!==O&&v){var P=v.labelmaps2D[m];P&&Object(y.default)(h,v,g,P,!1)}}}(h,b,P,x),function T(h,E,O,m){var g=E[O];if(g){var v=g.labelmaps2D[m];v&&Object(y.default)(h,g,O,v,!0)}}(h,b,P,x))}},"./eventListeners/preventGhostClick.js":
/*!*********************************************!*\
                  !*** ./eventListeners/preventGhostClick.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var C,T,y_mouse=0,y_touch=1;function D(x,S){var L=Date.now();if(x!==C){if(L-T<=2e3)return S.preventDefault(),S.stopPropagation(),S.stopImmediatePropagation(),!1;C=x}T=L}var h=D.bind(null,y_mouse),E=D.bind(null,y_touch);function O(x,S,L){var w=L?h:E;S.forEach(function(N){x.addEventListener(N,w,{passive:!1})})}function m(x,S,L){var w=L?h:E;S.forEach(function(N){x.removeEventListener(N,w)})}var g=["mousedown","mouseup"],v=["touchstart","touchend"];function P(x){m(x,g,y_mouse),m(x,v,y_touch)}d.default={enable:function b(x){P(x),O(x,g,y_mouse),O(x,v,y_touch)},disable:P}},"./eventListeners/touchEventListeners.js":
/*!***********************************************!*\
                  !*** ./eventListeners/touchEventListeners.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var E,O,m,g,v,P,b,x,j,p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ../util/copyPoints.js */
"./util/copyPoints.js"),T=s(
/*! ./preventGhostClick.js */
"./eventListeners/preventGhostClick.js"),D=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),h=s(
/*! ../toolOptions.js */
"./toolOptions.js"),S=1,L=0,w=!1,N=!1,G="touchInput";function V(q){var ae=q.currentTarget||q.srcEvent.currentTarget,ie=y.default.cornerstone.getEnabledElement(ae);if(ie.image){var oe,$,Z,Q;switch(q.preventDefault(),(q.pointers&&q.pointers.length>1||q.touches&&q.touches.length>1)&&(N=!1,clearTimeout(b)),q.type){case"tap":N=!1,clearTimeout(b),(O={page:y.default.cornerstoneMath.point.pageToPoint(q.pointers[0]),image:y.default.cornerstone.pageToPixel(ae,q.pointers[0].pageX,q.pointers[0].pageY),client:{x:q.pointers[0].clientX,y:q.pointers[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,O.image),oe=p.default.TAP,v={event:q,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,currentPoints:O,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v);break;case"doubletap":N=!1,clearTimeout(b),(O={page:y.default.cornerstoneMath.point.pageToPoint(q.pointers[0]),image:y.default.cornerstone.pageToPixel(ae,q.pointers[0].pageX,q.pointers[0].pageY),client:{x:q.pointers[0].clientX,y:q.pointers[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,O.image),oe=p.default.DOUBLE_TAP,v={event:q,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,currentPoints:O,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v);break;case"pinchstart":N=!1,clearTimeout(b),S=1;break;case"pinchmove":if(N=!1,clearTimeout(b),!0===w){S=q.scale,w=!1;break}$=(q.scale-S)/S,(E={page:q.center,image:y.default.cornerstone.pageToPixel(ae,q.center.x,q.center.y)}).canvas=y.default.cornerstone.pixelToCanvas(ae,E.image),oe=p.default.TOUCH_PINCH,v={event:q,startPoints:E,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,direction:q.scale<1?1:-1,scaleChange:$,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v),S=q.scale;break;case"touchstart":S=1,clearTimeout(b),clearTimeout(P),P=setTimeout(function(){(E={page:y.default.cornerstoneMath.point.pageToPoint(q.touches[0]),image:y.default.cornerstone.pageToPixel(ae,q.touches[0].pageX,q.touches[0].pageY),client:{x:q.touches[0].clientX,y:q.touches[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,E.image),oe=p.default.TOUCH_START,q.touches.length>1&&(oe=p.default.MULTI_TOUCH_START),v={event:q,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,startPoints:E,currentPoints:E,type:oe,isTouchEvent:!0},!0===Object(D.default)(ae,oe,v)&&(oe=p.default.TOUCH_START_ACTIVE,q.touches.length>1&&(oe=p.default.MULTI_TOUCH_START_ACTIVE),v.type=oe,Object(D.default)(ae,oe,v)),m=Object(C.default)(E)},50),N=!0,x=0,b=setTimeout(function(){N&&((O={page:y.default.cornerstoneMath.point.pageToPoint(q.touches[0]),image:y.default.cornerstone.pageToPixel(ae,q.touches[0].pageX,q.touches[0].pageY),client:{x:q.touches[0].clientX,y:q.touches[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,E.image),oe=p.default.TOUCH_PRESS,v={event:q,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,currentPoints:O,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v))},700);break;case"touchend":S=1,N=!1,clearTimeout(b),setTimeout(function(){(E={page:y.default.cornerstoneMath.point.pageToPoint(q.changedTouches[0]),image:y.default.cornerstone.pageToPixel(ae,q.changedTouches[0].pageX,q.changedTouches[0].pageY),client:{x:q.changedTouches[0].clientX,y:q.changedTouches[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,E.image),oe=p.default.TOUCH_END,v={event:q,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,startPoints:E,currentPoints:E,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v)},50);break;case"panmove":Z={x:q.deltaX-j.x,y:q.deltaY-j.y},j={x:q.deltaX,y:q.deltaY},(O={page:{x:m.page.x+Z.x,y:m.page.y+Z.y},image:y.default.cornerstone.pageToPixel(ae,m.page.x+Z.x,m.page.y+Z.y),client:{x:m.client.x+Z.x,y:m.client.y+Z.y}}).canvas=y.default.cornerstone.pixelToCanvas(ae,O.image),g={page:y.default.cornerstoneMath.point.subtract(O.page,m.page),image:y.default.cornerstoneMath.point.subtract(O.image,m.image),client:y.default.cornerstoneMath.point.subtract(O.client,m.client),canvas:y.default.cornerstoneMath.point.subtract(O.canvas,m.canvas)},(x+=Math.sqrt(g.page.x*g.page.x+g.page.y*g.page.y))>5&&(N=!1,clearTimeout(b)),oe=p.default.TOUCH_DRAG,q.pointers.length>1&&(oe=p.default.MULTI_TOUCH_DRAG),v={viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,startPoints:E,lastPoints:m,currentPoints:O,deltaPoints:g,numPointers:q.pointers.length,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v),m=Object(C.default)(O);break;case"panstart":j={x:q.deltaX,y:q.deltaY},(O={page:y.default.cornerstoneMath.point.pageToPoint(q.pointers[0]),image:y.default.cornerstone.pageToPixel(ae,q.pointers[0].pageX,q.pointers[0].pageY),client:{x:q.pointers[0].clientX,y:q.pointers[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,O.image),m=Object(C.default)(O);break;case"panend":if(N=!1,clearTimeout(b),!m)return!1;(O={page:y.default.cornerstoneMath.point.pageToPoint(q.pointers[0]),image:y.default.cornerstone.pageToPixel(ae,q.pointers[0].pageX,q.pointers[0].pageY),client:{x:q.pointers[0].clientX,y:q.pointers[0].clientY}}).canvas=y.default.cornerstone.pixelToCanvas(ae,O.image),g={page:y.default.cornerstoneMath.point.subtract(O.page,m.page),image:y.default.cornerstoneMath.point.subtract(O.image,m.image),client:y.default.cornerstoneMath.point.subtract(O.client,m.client),canvas:y.default.cornerstoneMath.point.subtract(O.canvas,m.canvas)},oe=p.default.TOUCH_DRAG_END,v={event:q.srcEvent,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,startPoints:E,lastPoints:m,currentPoints:O,deltaPoints:g,type:oe,isTouchEvent:!0},Object(D.default)(ae,oe,v),2===q.pointers.length-q.changedPointers.length&&(w=!0);break;case"rotatemove":N=!1,clearTimeout(b),Q=q.rotation-L,L=q.rotation,oe=p.default.TOUCH_ROTATE,v={event:q.srcEvent,viewport:y.default.cornerstone.getViewport(ae),image:ie.image,element:ae,rotation:Q,type:oe},Object(D.default)(ae,oe,v)}return!1}}function z(q){T.default.disable(q),["touchstart","touchend"].forEach(function($){q.removeEventListener($,V)});var ie=Object(h.getToolOptions)(G,q),oe=ie.hammer;oe&&(oe.off("tap doubletap panstart panmove panend pinchstart pinchmove rotatemove",V),oe.input.destroy()),ie.hammer=null,Object(h.clearToolOptions)(G,q)}d.default={enable:function F(q){z(q);var ae=y.default.Hammer,oe=new ae.Manager(q,{inputClass:ae.SUPPORT_POINTER_EVENTS?ae.PointerEventInput:ae.TouchInput}),Z=new ae.Pan({pointers:0,direction:ae.DIRECTION_ALL,threshold:0}),K=new ae.Pinch({threshold:0}),Q=new ae.Rotate({threshold:0});K.recognizeWith(Z),K.recognizeWith(Q),Q.recognizeWith(Z);var ee=new ae.Tap({event:"doubletap",taps:2,interval:1500,threshold:50,posThreshold:50});ee.recognizeWith(Z),oe.add([ee,Z,Q,K]),oe.on("tap doubletap panstart panmove panend pinchstart pinchmove rotatemove",V),T.default.enable(q),["touchstart","touchend"].forEach(function(ye){q.addEventListener(ye,V,{passive:!1})});var ue=Object(h.getToolOptions)(G,q);ue.hammer=oe,Object(h.setToolOptions)(G,q,ue)},disable:z}},"./eventListeners/wheelEventListener.js":
/*!**********************************************!*\
                  !*** ./eventListeners/wheelEventListener.js ***!
                  \**********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),T=s(
/*! ./internals/normalizeWheel.js */
"./eventListeners/internals/normalizeWheel.js");function D(O){var m=O.currentTarget,g=y.default.cornerstone.getEnabledElement(m);if(g.image&&!(O.deltaY>-1&&O.deltaY<1)){O.preventDefault();var v=O.pageX,P=O.pageY,b=y.default.cornerstone.pageToPixel(m,v,P),x=Object(T.default)(O),S=x.spinX,L=x.spinY,w=x.pixelX,N=x.pixelY,j=L<0?-1:1,W={element:m,viewport:y.default.cornerstone.getViewport(m),detail:O,image:g.image,direction:j,spinX:S,spinY:L,pixelX:w,pixelY:N,pageX:v,pageY:P,imageX:b.x,imageY:b.y};Object(C.default)(m,p.default.MOUSE_WHEEL,W)}}function E(O){O.removeEventListener("wheel",D,{passive:!1})}d.default={enable:function h(O){E(O),O.addEventListener("wheel",D,{passive:!1})},disable:E}},"./eventListeners/windowResizeHandler.js":
/*!***********************************************!*\
                  !*** ./eventListeners/windowResizeHandler.js ***!
                  \***********************************************/
/*! exports provided: forceEnabledElementResize, default */function(le,d,s){"use strict";s.r(d),s.d(d,"forceEnabledElementResize",function(){return E});var D,p=s(
/*! ./../store/index.js */
"./store/index.js"),y=s(
/*! ./../externalModules.js */
"./externalModules.js"),T=function(){window.removeEventListener("resize",h,!1)};function h(){D||(D=setTimeout(function(){D=null,E()},66))}var E=function(){p.state.enabledElements.forEach(function(m){y.default.cornerstone.resize(m)})};d.default={enable:function(){T(),window.addEventListener("resize",h,!1)},disable:T}},"./events.js":
/*!*******************!*\
                  !*** ./events.js ***!
                  \*******************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default={MOUSE_DOWN:"cornerstonetoolsmousedown",MOUSE_UP:"cornerstonetoolsmouseup",MOUSE_DOWN_ACTIVATE:"cornerstonetoolsmousedownactivate",MOUSE_DRAG:"cornerstonetoolsmousedrag",MOUSE_MOVE:"cornerstonetoolsmousemove",MOUSE_CLICK:"cornerstonetoolsmouseclick",MOUSE_DOUBLE_CLICK:"cornerstonetoolsmousedoubleclick",MOUSE_WHEEL:"cornerstonetoolsmousewheel",TOUCH_START:"cornerstonetoolstouchstart",TOUCH_START_ACTIVE:"cornerstonetoolstouchstartactive",TOUCH_END:"cornerstonetoolstouchend",TOUCH_DRAG:"cornerstonetoolstouchdrag",TOUCH_DRAG_END:"cornerstonetoolstouchdragend",TOUCH_PINCH:"cornerstonetoolstouchpinch",TOUCH_ROTATE:"cornerstonetoolstouchrotate",TOUCH_PRESS:"cornerstonetoolstouchpress",TAP:"cornerstonetoolstap",DOUBLE_TAP:"cornerstonetoolsdoubletap",MULTI_TOUCH_START:"cornerstonetoolsmultitouchstart",MULTI_TOUCH_START_ACTIVE:"cornerstonetoolsmultitouchstartactive",MULTI_TOUCH_DRAG:"cornerstonetoolsmultitouchdrag",KEY_DOWN:"cornerstonetoolskeydown",KEY_UP:"cornerstonetoolskeyup",KEY_PRESS:"cornerstonetoolskeypress",MEASUREMENT_ADDED:"cornerstonetoolsmeasurementadded",MEASUREMENT_MODIFIED:"cornerstonetoolsmeasurementmodified",MEASUREMENT_COMPLETED:"cornerstonetoolsmeasurementcompleted",MEASUREMENT_REMOVED:"cornerstonetoolsmeasurementremoved",TOOL_DEACTIVATED:"cornerstonetoolstooldeactivated",CLIP_STOPPED:"cornerstonetoolsclipstopped",STACK_SCROLL:"cornerstonetoolsstackscroll",STACK_PREFETCH_IMAGE_LOADED:"cornerstonetoolsstackprefetchimageloaded",STACK_PREFETCH_DONE:"cornerstonetoolsstackprefetchdone",LABELMAP_MODIFIED:"cornersontetoolslabelmapmodified"}},"./externalModules.js":
/*!****************************!*\
                  !*** ./externalModules.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=window.cornerstone,y=window.cornerstoneMath,C=window.Hammer;d.default={set cornerstone(T){p=T},get cornerstone(){return p},set cornerstoneMath(T){y=T},get cornerstoneMath(){return y},set Hammer(T){C=T},get Hammer(){return C}}},"./importInternal.js":
/*!***************************!*\
                  !*** ./importInternal.js ***!
                  \***************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./lib.js */
"./lib.js");d.default=function(y){return p.lib[y]}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: AngleTool, ArrowAnnotateTool, BidirectionalTool, CircleRoiTool, CobbAngleTool, EllipticalRoiTool, FreehandRoiTool, LengthTool, ProbeTool, RectangleRoiTool, TextMarkerTool, BrushTool, SphericalBrushTool, RectangleScissorsTool, FreehandScissorsTool, CircleScissorsTool, CorrectionScissorsTool, CrosshairsTool, DoubleTapFitToWindowTool, DragProbeTool, EraserTool, FreehandRoiSculptorTool, MagnifyTool, OverlayTool, OrientationMarkersTool, PanMultiTouchTool, PanTool, ReferenceLinesTool, RotateTool, RotateTouchTool, ScaleOverlayTool, StackScrollMouseWheelTool, StackScrollMultiTouchTool, StackScrollTool, WwwcRegionTool, WwwcTool, ZoomMouseWheelTool, ZoomTool, ZoomTouchPinchTool, init, stackPrefetch, stackRenderers, playClip, stopClip, store, getModule, getToolForElement, addTool, addToolForElement, removeTool, removeToolForElement, setToolOptions, setToolOptionsForElement, isToolActiveForElement, setToolActive, setToolActiveForElement, setToolEnabled, setToolEnabledForElement, setToolDisabled, setToolDisabledForElement, setToolPassive, setToolPassiveForElement, addToolState, getToolState, removeToolState, clearToolState, setElementToolStateManager, getElementToolStateManager, textStyle, toolStyle, toolColors, toolCoordinates, stackSpecificStateManager, newStackSpecificToolStateManager, addStackStateManager, loadHandlerManager, newImageIdSpecificToolStateManager, globalImageIdSpecificToolStateManager, newFrameOfReferenceSpecificToolStateManager, globalFrameOfReferenceSpecificToolStateManager, forceEnabledElementResize, orientation, SaveAs, enableLogger, disableLogger, register, registerSome, wwwcSynchronizer, updateImageSynchronizer, Synchronizer, stackScrollSynchronizer, stackImagePositionSynchronizer, stackImagePositionOffsetSynchronizer, stackImageIndexSynchronizer, panZoomSynchronizer, importInternal, external, EVENTS, version, import, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./tools/annotation/index.js */
"./tools/annotation/index.js");s.d(d,"AngleTool",function(){return p.AngleTool}),s.d(d,"ArrowAnnotateTool",function(){return p.ArrowAnnotateTool}),s.d(d,"BidirectionalTool",function(){return p.BidirectionalTool}),s.d(d,"CircleRoiTool",function(){return p.CircleRoiTool}),s.d(d,"CobbAngleTool",function(){return p.CobbAngleTool}),s.d(d,"EllipticalRoiTool",function(){return p.EllipticalRoiTool}),s.d(d,"FreehandRoiTool",function(){return p.FreehandRoiTool}),s.d(d,"LengthTool",function(){return p.LengthTool}),s.d(d,"ProbeTool",function(){return p.ProbeTool}),s.d(d,"RectangleRoiTool",function(){return p.RectangleRoiTool}),s.d(d,"TextMarkerTool",function(){return p.TextMarkerTool});var y=s(
/*! ./tools/segmentation/index.js */
"./tools/segmentation/index.js");s.d(d,"BrushTool",function(){return y.BrushTool}),s.d(d,"SphericalBrushTool",function(){return y.SphericalBrushTool}),s.d(d,"RectangleScissorsTool",function(){return y.RectangleScissorsTool}),s.d(d,"FreehandScissorsTool",function(){return y.FreehandScissorsTool}),s.d(d,"CircleScissorsTool",function(){return y.CircleScissorsTool}),s.d(d,"CorrectionScissorsTool",function(){return y.CorrectionScissorsTool});var C=s(
/*! ./tools/index.js */
"./tools/index.js");s.d(d,"CrosshairsTool",function(){return C.CrosshairsTool}),s.d(d,"DoubleTapFitToWindowTool",function(){return C.DoubleTapFitToWindowTool}),s.d(d,"DragProbeTool",function(){return C.DragProbeTool}),s.d(d,"EraserTool",function(){return C.EraserTool}),s.d(d,"FreehandRoiSculptorTool",function(){return C.FreehandRoiSculptorTool}),s.d(d,"MagnifyTool",function(){return C.MagnifyTool}),s.d(d,"OverlayTool",function(){return C.OverlayTool}),s.d(d,"OrientationMarkersTool",function(){return C.OrientationMarkersTool}),s.d(d,"PanMultiTouchTool",function(){return C.PanMultiTouchTool}),s.d(d,"PanTool",function(){return C.PanTool}),s.d(d,"ReferenceLinesTool",function(){return C.ReferenceLinesTool}),s.d(d,"RotateTool",function(){return C.RotateTool}),s.d(d,"RotateTouchTool",function(){return C.RotateTouchTool}),s.d(d,"ScaleOverlayTool",function(){return C.ScaleOverlayTool}),s.d(d,"StackScrollMouseWheelTool",function(){return C.StackScrollMouseWheelTool}),s.d(d,"StackScrollMultiTouchTool",function(){return C.StackScrollMultiTouchTool}),s.d(d,"StackScrollTool",function(){return C.StackScrollTool}),s.d(d,"WwwcRegionTool",function(){return C.WwwcRegionTool}),s.d(d,"WwwcTool",function(){return C.WwwcTool}),s.d(d,"ZoomMouseWheelTool",function(){return C.ZoomMouseWheelTool}),s.d(d,"ZoomTool",function(){return C.ZoomTool}),s.d(d,"ZoomTouchPinchTool",function(){return C.ZoomTouchPinchTool});var T=s(
/*! ./init.js */
"./init.js");s.d(d,"init",function(){return T.default});var D=s(
/*! ./stackTools/stackPrefetch.js */
"./stackTools/stackPrefetch.js");s.d(d,"stackPrefetch",function(){return D.default});var h=s(
/*! ./stackTools/stackRenderers.js */
"./stackTools/stackRenderers.js");s.d(d,"stackRenderers",function(){return h.default});var E=s(
/*! ./stackTools/playClip.js */
"./stackTools/playClip.js");s.d(d,"playClip",function(){return E.playClip}),s.d(d,"stopClip",function(){return E.stopClip});var O=s(
/*! ./store/index.js */
"./store/index.js");s.d(d,"store",function(){return O.default}),s.d(d,"getModule",function(){return O.getModule});var m=s(
/*! ./store/getToolForElement.js */
"./store/getToolForElement.js");s.d(d,"getToolForElement",function(){return m.default});var g=s(
/*! ./store/addTool.js */
"./store/addTool.js");s.d(d,"addTool",function(){return g.addTool}),s.d(d,"addToolForElement",function(){return g.addToolForElement});var v=s(
/*! ./store/removeTool.js */
"./store/removeTool.js");s.d(d,"removeTool",function(){return v.removeTool}),s.d(d,"removeToolForElement",function(){return v.removeToolForElement});var P=s(
/*! ./store/setToolOptions.js */
"./store/setToolOptions.js");s.d(d,"setToolOptions",function(){return P.setToolOptions}),s.d(d,"setToolOptionsForElement",function(){return P.setToolOptionsForElement});var b=s(
/*! ./store/setToolMode.js */
"./store/setToolMode.js");s.d(d,"setToolActive",function(){return b.setToolActive}),s.d(d,"setToolActiveForElement",function(){return b.setToolActiveForElement}),s.d(d,"setToolEnabled",function(){return b.setToolEnabled}),s.d(d,"setToolEnabledForElement",function(){return b.setToolEnabledForElement}),s.d(d,"setToolDisabled",function(){return b.setToolDisabled}),s.d(d,"setToolDisabledForElement",function(){return b.setToolDisabledForElement}),s.d(d,"setToolPassive",function(){return b.setToolPassive}),s.d(d,"setToolPassiveForElement",function(){return b.setToolPassiveForElement});var x=s(
/*! ./store/isToolActiveForElement */
"./store/isToolActiveForElement.js");s.d(d,"isToolActiveForElement",function(){return x.default});var S=s(
/*! ./stateManagement/toolState.js */
"./stateManagement/toolState.js");s.d(d,"addToolState",function(){return S.addToolState}),s.d(d,"getToolState",function(){return S.getToolState}),s.d(d,"removeToolState",function(){return S.removeToolState}),s.d(d,"clearToolState",function(){return S.clearToolState}),s.d(d,"setElementToolStateManager",function(){return S.setElementToolStateManager}),s.d(d,"getElementToolStateManager",function(){return S.getElementToolStateManager});var L=s(
/*! ./stateManagement/textStyle.js */
"./stateManagement/textStyle.js");s.d(d,"textStyle",function(){return L.default});var w=s(
/*! ./stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js");s.d(d,"toolStyle",function(){return w.default});var N=s(
/*! ./stateManagement/toolColors.js */
"./stateManagement/toolColors.js");s.d(d,"toolColors",function(){return N.default});var j=s(
/*! ./stateManagement/toolCoordinates.js */
"./stateManagement/toolCoordinates.js");s.d(d,"toolCoordinates",function(){return j.default});var W=s(
/*! ./stateManagement/stackSpecificStateManager.js */
"./stateManagement/stackSpecificStateManager.js");s.d(d,"stackSpecificStateManager",function(){return W.stackSpecificStateManager}),s.d(d,"newStackSpecificToolStateManager",function(){return W.newStackSpecificToolStateManager}),s.d(d,"addStackStateManager",function(){return W.addStackStateManager});var B=s(
/*! ./stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js");s.d(d,"loadHandlerManager",function(){return B.default});var G=s(
/*! ./stateManagement/imageIdSpecificStateManager.js */
"./stateManagement/imageIdSpecificStateManager.js");s.d(d,"newImageIdSpecificToolStateManager",function(){return G.newImageIdSpecificToolStateManager}),s.d(d,"globalImageIdSpecificToolStateManager",function(){return G.globalImageIdSpecificToolStateManager});var V=s(
/*! ./stateManagement/frameOfReferenceStateManager.js */
"./stateManagement/frameOfReferenceStateManager.js");s.d(d,"newFrameOfReferenceSpecificToolStateManager",function(){return V.newFrameOfReferenceSpecificToolStateManager}),s.d(d,"globalFrameOfReferenceSpecificToolStateManager",function(){return V.globalFrameOfReferenceSpecificToolStateManager});var F=s(
/*! ./eventListeners/windowResizeHandler.js */
"./eventListeners/windowResizeHandler.js");s.d(d,"forceEnabledElementResize",function(){return F.forceEnabledElementResize});var z=s(
/*! ./orientation/index.js */
"./orientation/index.js");s.d(d,"orientation",function(){return z.default});var te=s(
/*! ./util/SaveAs.js */
"./util/SaveAs.js");s.d(d,"SaveAs",function(){return te.default});var q=s(
/*! ./util/logger.js */
"./util/logger.js");s.d(d,"enableLogger",function(){return q.enable}),s.d(d,"disableLogger",function(){return q.disable});var ae=s(
/*! ./thirdParty/register.js */
"./thirdParty/register.js");s.d(d,"register",function(){return ae.default});var ie=s(
/*! ./thirdParty/registerSome.js */
"./thirdParty/registerSome.js");s.d(d,"registerSome",function(){return ie.default});var oe=s(
/*! ./synchronization/wwwcSynchronizer.js */
"./synchronization/wwwcSynchronizer.js");s.d(d,"wwwcSynchronizer",function(){return oe.default});var $=s(
/*! ./synchronization/updateImageSynchronizer.js */
"./synchronization/updateImageSynchronizer.js");s.d(d,"updateImageSynchronizer",function(){return $.default});var Z=s(
/*! ./synchronization/Synchronizer.js */
"./synchronization/Synchronizer.js");s.d(d,"Synchronizer",function(){return Z.default});var K=s(
/*! ./synchronization/stackScrollSynchronizer.js */
"./synchronization/stackScrollSynchronizer.js");s.d(d,"stackScrollSynchronizer",function(){return K.default});var Q=s(
/*! ./synchronization/stackImagePositionSynchronizer.js */
"./synchronization/stackImagePositionSynchronizer.js");s.d(d,"stackImagePositionSynchronizer",function(){return Q.default});var ee=s(
/*! ./synchronization/stackImagePositionOffsetSynchronizer.js */
"./synchronization/stackImagePositionOffsetSynchronizer.js");s.d(d,"stackImagePositionOffsetSynchronizer",function(){return ee.default});var ne=s(
/*! ./synchronization/stackImageIndexSynchronizer.js */
"./synchronization/stackImageIndexSynchronizer.js");s.d(d,"stackImageIndexSynchronizer",function(){return ne.default});var ue=s(
/*! ./synchronization/panZoomSynchronizer.js */
"./synchronization/panZoomSynchronizer.js");s.d(d,"panZoomSynchronizer",function(){return ue.default});var ye=s(
/*! ./externalModules.js */
"./externalModules.js");s.d(d,"external",function(){return ye.default});var Ee=s(
/*! ./events.js */
"./events.js");s.d(d,"EVENTS",function(){return Ee.default});var Se=s(
/*! ./version.js */
"./version.js");s.d(d,"version",function(){return Se.default});var ke=s(
/*! ./importInternal.js */
"./importInternal.js");s.d(d,"importInternal",function(){return ke.default}),s.d(d,"import",function(){return ke.default}),d.default={AngleTool:p.AngleTool,ArrowAnnotateTool:p.ArrowAnnotateTool,BidirectionalTool:p.BidirectionalTool,CircleRoiTool:p.CircleRoiTool,CobbAngleTool:p.CobbAngleTool,EllipticalRoiTool:p.EllipticalRoiTool,FreehandRoiTool:p.FreehandRoiTool,LengthTool:p.LengthTool,ProbeTool:p.ProbeTool,RectangleRoiTool:p.RectangleRoiTool,TextMarkerTool:p.TextMarkerTool,BrushTool:y.BrushTool,SphericalBrushTool:y.SphericalBrushTool,RectangleScissorsTool:y.RectangleScissorsTool,FreehandScissorsTool:y.FreehandScissorsTool,CircleScissorsTool:y.CircleScissorsTool,CorrectionScissorsTool:y.CorrectionScissorsTool,CrosshairsTool:C.CrosshairsTool,DoubleTapFitToWindowTool:C.DoubleTapFitToWindowTool,DragProbeTool:C.DragProbeTool,EraserTool:C.EraserTool,FreehandRoiSculptorTool:C.FreehandRoiSculptorTool,MagnifyTool:C.MagnifyTool,OverlayTool:C.OverlayTool,OrientationMarkersTool:C.OrientationMarkersTool,PanMultiTouchTool:C.PanMultiTouchTool,PanTool:C.PanTool,ReferenceLinesTool:C.ReferenceLinesTool,RotateTool:C.RotateTool,RotateTouchTool:C.RotateTouchTool,ScaleOverlayTool:C.ScaleOverlayTool,StackScrollMouseWheelTool:C.StackScrollMouseWheelTool,StackScrollMultiTouchTool:C.StackScrollMultiTouchTool,StackScrollTool:C.StackScrollTool,WwwcRegionTool:C.WwwcRegionTool,WwwcTool:C.WwwcTool,ZoomMouseWheelTool:C.ZoomMouseWheelTool,ZoomTool:C.ZoomTool,ZoomTouchPinchTool:C.ZoomTouchPinchTool,init:T.default,stackPrefetch:D.default,stackRenderers:h.default,playClip:E.playClip,stopClip:E.stopClip,store:O.default,getModule:O.getModule,getToolForElement:m.default,addTool:g.addTool,addToolForElement:g.addToolForElement,removeTool:v.removeTool,removeToolForElement:v.removeToolForElement,setToolOptions:P.setToolOptions,setToolOptionsForElement:P.setToolOptionsForElement,isToolActiveForElement:x.default,setToolActive:b.setToolActive,setToolActiveForElement:b.setToolActiveForElement,setToolEnabled:b.setToolEnabled,setToolEnabledForElement:b.setToolEnabledForElement,setToolDisabled:b.setToolDisabled,setToolDisabledForElement:b.setToolDisabledForElement,setToolPassive:b.setToolPassive,setToolPassiveForElement:b.setToolPassiveForElement,addToolState:S.addToolState,getToolState:S.getToolState,removeToolState:S.removeToolState,clearToolState:S.clearToolState,setElementToolStateManager:S.setElementToolStateManager,getElementToolStateManager:S.getElementToolStateManager,textStyle:L.default,toolStyle:w.default,toolColors:N.default,toolCoordinates:j.default,stackSpecificStateManager:W.stackSpecificStateManager,newStackSpecificToolStateManager:W.newStackSpecificToolStateManager,addStackStateManager:W.addStackStateManager,loadHandlerManager:B.default,newImageIdSpecificToolStateManager:G.newImageIdSpecificToolStateManager,globalImageIdSpecificToolStateManager:G.globalImageIdSpecificToolStateManager,newFrameOfReferenceSpecificToolStateManager:V.newFrameOfReferenceSpecificToolStateManager,globalFrameOfReferenceSpecificToolStateManager:V.globalFrameOfReferenceSpecificToolStateManager,forceEnabledElementResize:F.forceEnabledElementResize,orientation:z.default,SaveAs:te.default,enableLogger:q.enable,disableLogger:q.disable,importInternal:ke.default,import:ke.default,register:ae.default,registerSome:ie.default,wwwcSynchronizer:oe.default,updateImageSynchronizer:$.default,Synchronizer:Z.default,stackScrollSynchronizer:K.default,stackImagePositionSynchronizer:Q.default,stackImagePositionOffsetSynchronizer:ee.default,stackImageIndexSynchronizer:ne.default,panZoomSynchronizer:ue.default,external:ye.default,EVENTS:Ee.default,version:Se.default}},"./init.js":
/*!*****************!*\
                  !*** ./init.js ***!
                  \*****************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./externalModules.js */
"./externalModules.js"),y=s(
/*! ./store/index.js */
"./store/index.js"),C=s(
/*! ./store/internals/addEnabledElement.js */
"./store/internals/addEnabledElement.js"),T=s(
/*! ./store/internals/removeEnabledElement.js */
"./store/internals/removeEnabledElement.js"),D=s(
/*! ./eventListeners/windowResizeHandler.js */
"./eventListeners/windowResizeHandler.js");function h(){!function E(){var m=p.default.cornerstone,v=m.EVENTS.ELEMENT_DISABLED;m.events.removeEventListener(m.EVENTS.ELEMENT_ENABLED,C.default),m.events.removeEventListener(v,T.default)}();var m=p.default.cornerstone,v=m.EVENTS.ELEMENT_DISABLED;m.events.addEventListener(m.EVENTS.ELEMENT_ENABLED,C.default),m.events.addEventListener(v,T.default)}d.default=function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(),function O(){var m=y.default.modules;Object.keys(m).forEach(function(g){"function"==typeof m[g].onRegisterCallback&&m[g].onRegisterCallback()})}();var g=Object(y.getModule)("globalConfiguration");Array.isArray(m)?m.forEach(function(v){var P=v.moduleName,b=v.configuration,x=Object(y.getModule)(P);x&&(x.configuration=Object.assign({},x.configuration,b))}):g.configuration=Object.assign({},g.configuration,m),g.configuration.autoResizeViewports&&D.default.enable()}},"./lib.js":
/*!****************!*\
                  !*** ./lib.js ***!
                  \****************/
/*! exports provided: lib */function(le,d,s){"use strict";s.r(d),s.d(d,"lib",function(){return ft});var p=s(
/*! ./tools/base/BaseTool.js */
"./tools/base/BaseTool.js"),y=s(
/*! ./tools/base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),C=s(
/*! ./tools/base/BaseBrushTool.js */
"./tools/base/BaseBrushTool.js"),T=s(
/*! ./manipulators/index.js */
"./manipulators/index.js"),D=s(
/*! ./util/findAndMoveHelpers.js */
"./util/findAndMoveHelpers.js"),h=s(
/*! ./mixins/index.js */
"./mixins/index.js"),E=s(
/*! ./tools/cursors/index.js */
"./tools/cursors/index.js"),O=s(
/*! ./drawing/index.js */
"./drawing/index.js"),m=s(
/*! ./util/clip.js */
"./util/clip.js"),g=s(
/*! ./util/debounce */
"./util/debounce.js"),v=s(
/*! ./util/deepmerge */
"./util/deepmerge.js"),P=s(
/*! ./util/getDefault */
"./util/getDefault.js"),b=s(
/*! ./util/getPixelSpacing */
"./util/getPixelSpacing.js"),x=s(
/*! ./util/isEmptyObject */
"./util/isEmptyObject.js"),S=s(
/*! ./util/isObject */
"./util/isObject.js"),L=s(
/*! ./util/isPointInImage */
"./util/isPointInImage.js"),w=s(
/*! ./util/isPointInPolygon */
"./util/isPointInPolygon.js"),N=s(
/*! ./util/throttle */
"./util/throttle.js"),j=s(
/*! ./util/wait */
"./util/wait.js"),W=s(
/*! ./util/getKeyPressData */
"./util/getKeyPressData.js"),B=s(
/*! ./util/getProximityThreshold.js */
"./util/getProximityThreshold.js"),G=s(
/*! ./drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),V=s(
/*! ./drawing/drawArrow.js */
"./drawing/drawArrow.js"),F=s(
/*! ./drawing/drawLink.js */
"./drawing/drawLink.js"),z=s(
/*! ./drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),te=s(
/*! ./drawing/drawHandles.js */
"./drawing/drawHandles.js"),q=s(
/*! ./util/getActiveTool */
"./util/getActiveTool.js"),ae=s(
/*! ./util/getLuminance.js */
"./util/getLuminance.js"),ie=s(
/*! ./util/getROITextBoxCoords */
"./util/getROITextBoxCoords.js"),oe=s(
/*! ./util/copyPoints.js */
"./util/copyPoints.js"),$=s(
/*! ./util/calculateSUV.js */
"./util/calculateSUV.js"),Z=s(
/*! ./util/setContextToDisplayFontSize.js */
"./util/setContextToDisplayFontSize.js"),K=s(
/*! ./util/scrollToIndex.js */
"./util/scrollToIndex.js"),Q=s(
/*! ./util/scroll.js */
"./util/scroll.js"),ee=s(
/*! ./util/roundToDecimal.js */
"./util/roundToDecimal.js"),ne=s(
/*! ./util/pointProjector.js */
"./util/pointProjector.js"),ue=s(
/*! ./util/lineSegDistance.js */
"./util/lineSegDistance.js"),ye=s(
/*! ./util/logger */
"./util/logger.js"),Ee=s(
/*! ./util/pointInsideBoundingBox.js */
"./util/pointInsideBoundingBox.js"),Se=s(
/*! ./util/makeUnselectable.js */
"./util/makeUnselectable.js"),ke=s(
/*! ./util/getRGBPixels.js */
"./util/getRGBPixels.js"),Xe=s(
/*! ./util/getMaxSimultaneousRequests.js */
"./util/getMaxSimultaneousRequests.js"),mt=s(
/*! ./util/angleBetweenPoints.js */
"./util/angleBetweenPoints.js"),st=s(
/*! ./util/numbersWithCommas.js */
"./util/numbersWithCommas.js"),Rt=s(
/*! ./tools/cursors/MouseCursor.js */
"./tools/cursors/MouseCursor.js"),Ge=s(
/*! ./util/ellipse/index.js */
"./util/ellipse/index.js"),Pe=s(
/*! ./util/freehand/index.js */
"./util/freehand/index.js"),He=s(
/*! ./util/segmentation */
"./util/segmentation/index.js"),Ke=s(
/*! ./util/zoom/index.js */
"./util/zoom/index.js"),Ye=s(
/*! ./util/triggerEvent.js */
"./util/triggerEvent.js"),ct=s(
/*! ./util/convertToVector3.js */
"./util/convertToVector3.js"),ft={"base/BaseTool":p.default,"base/BaseAnnotationTool":y.default,"base/BaseBrushTool":C.default,"tools/cursors/MouseCursor":Rt.default,"tools/cursors":E,"manipulators/anyHandlesOutsideImage":T.anyHandlesOutsideImage,"manipulators/getHandleNearImagePoint":T.getHandleNearImagePoint,"manipulators/getHandlePixelPosition":T.getHandlePixelPosition,"manipulators/handleActivator":T.handleActivator,"manipulators/moveAllHandles":T.moveAllHandles,"manipulators/moveHandle":T.moveHandle,"manipulators/moveNewHandle":T.moveNewHandle,"manipulators/moveHandleNearImagePoint":D.moveHandleNearImagePoint,"manipulators/findHandleDataNearImagePoint":D.findHandleDataNearImagePoint,"manipulators/moveAnnotation":D.moveAnnotation,"mixins/activeOrDisabledBinaryTool":h.default.activeOrDisabledBinaryTool,"mixins/enabledOrDisabledBinaryTool":h.default.enabledOrDisabledBinaryTool,"drawing/getNewContext":O.getNewContext,"drawing/draw":O.draw,"drawing/path":O.path,"drawing/setShadow":O.setShadow,"drawing/drawLine":O.drawLine,"drawing/drawLines":O.drawLines,"drawing/drawJoinedLines":O.drawJoinedLines,"drawing/drawCircle":O.drawCircle,"drawing/drawEllipse":O.drawEllipse,"drawing/drawRect":O.drawRect,"drawing/fillOutsideRect":O.fillOutsideRect,"drawing/drawTextBox":G.default,"drawing/drawArrow":V.default,"drawing/fillBox":O.fillBox,"drawing/fillTextLines":O.fillTextLines,"drawing/drawLink":F.default,"drawing/drawLinkedTextBox":z.default,"drawing/drawHandles":te.default,"drawing/textBoxWidth":G.textBoxWidth,"util/getActiveTool":q.default,"util/getLuminance":ae.default,"util/getROITextBoxCoords":ie.default,"util/copyPoints":oe.default,"util/calculateSUV":$.default,"util/setContextToDisplayFontSize":Z.default,"util/scrollToIndex":K.default,"util/scroll":Q.default,"util/roundToDecimal":ee.default,"util/projectPatientPointToImagePlane":ne.projectPatientPointToImagePlane,"util/imagePointToPatientPoint":ne.imagePointToPatientPoint,"util/planePlaneIntersection":ne.planePlaneIntersection,"util/pointInsideBoundingBox":Ee.default,"util/makeUnselectable":Se.default,"util/getRGBPixels":ke.default,"util/getBrowserInfo":Xe.getBrowserInfo,"util/isMobileDevice":Xe.isMobileDevice,"util/angleBetweenPoints":mt.default,"util/numbersWithCommas":st.default,"util/lineSegDistance":ue.default,"util/triggerEvent":Ye.default,"util/convertToVector3":ct.default,"util/clip":m.clip,"util/clipToBox":m.clipToBox,"util/clipBoxToDisplayedArea":m.clipBoxToDisplayedArea,"util/debounce":g.default,"util/deepmerge":v.default,"util/getDefault":P.default,"util/getProximityThreshold":B.default,"util/getPixelSpacing":b.default,"util/isEmptyObject":x.default,"util/isObject":S.default,"util/isPointInImage":L.default,"util/isPointInPolygon":w.default,"util/getLogger":ye.getLogger,"util/throttle":N.default,"util/wait":j.wait,"util/waitForEnabledElementImageToLoad":j.waitForEnabledElementImageToLoad,"util/getKeyPressData":W.default,"util/ellipseUtils":Ge.default,"util/freehandUtils":Pe.default,"util/segmentationUtils":He,"util/zoomUtils":Ke.default}},"./manipulators/anyHandlesOutsideImage.js":
/*!************************************************!*\
                  !*** ./manipulators/anyHandlesOutsideImage.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C){var T=y.image,D={left:0,top:0,width:T.width,height:T.height},h=!1;return Object.keys(C).forEach(function(E){var O=C[E];!0!==O.allowedOutsideImage&&!1===p.default.cornerstoneMath.point.insideRect(O,D)&&(h=!0)}),h}},"./manipulators/getHandleNearImagePoint.js":
/*!*************************************************!*\
                  !*** ./manipulators/getHandleNearImagePoint.js ***!
                  \*************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p),C=s(
/*! ../externalModules.js */
"./externalModules.js"),T=s(
/*! ../util/pointInsideBoundingBox.js */
"./util/pointInsideBoundingBox.js"),h=function(O,m,g,v){if(O.hasOwnProperty("pointNearHandle")){if(O.pointNearHandle(m,O,g))return!0}else if(!0===O.hasBoundingBox){if(Object(T.default)(O,g))return!0}else{var P=C.default.cornerstone.pixelToCanvas(m,O);if(C.default.cornerstoneMath.point.distance(P,g)<=v)return!0}return!1};d.default=function E(O,m,g,v){var P;if(m){if(Array.isArray(m))for(var b=Object.keys(m),x=0;x<b.length;x++){var L=m[b[x]];if(L.hasOwnProperty("x")&&L.hasOwnProperty("y")&&h(L,O,g,v)){P=L;break}}else if("object"===y()(m))for(var w=Object.keys(m),N=0;N<w.length;N++){var j=w[N];if(Array.isArray(m[j])){if(P=E(O,m[j],g,v))break}else{var W=m[j];if(h(W,O,g,v)){P=W;break}}}return P}}},"./manipulators/getHandlePixelPosition.js":
/*!************************************************!*\
                  !*** ./manipulators/getHandlePixelPosition.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ./../store/index.js */
"./store/index.js");d.default=function(C,T){var E=C.currentPoints.page,O=y.state.handleTouchOffset,m=0,g=0;return"touch"===T&&(m=O.x,g=O.y),p.default.cornerstone.pageToPixel(C.element,E.x+m,E.y+g)}},"./manipulators/handleActivator.js":
/*!*****************************************!*\
                  !*** ./manipulators/handleActivator.js ***!
                  \*****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js");d.default=function(C,T,D,h){h||(h=6);var E=function y(C){var T;return Object.keys(C).forEach(function(D){var h=C[D];!0!==h.active||(T=h)}),T}(T),O=Object(p.default)(C,T,D,h);return E!==O&&(void 0!==O&&(O.active=!0),void 0!==E&&(E.active=!1),!0)}},"./manipulators/index.js":
/*!*******************************!*\
                  !*** ./manipulators/index.js ***!
                  \*******************************/
/*! exports provided: anyHandlesOutsideImage, getHandleNearImagePoint, getHandlePixelPosition, handleActivator, moveAllHandles, moveHandle, moveNewHandle */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js");s.d(d,"anyHandlesOutsideImage",function(){return p.default});var y=s(
/*! ./getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js");s.d(d,"getHandleNearImagePoint",function(){return y.default});var C=s(
/*! ./getHandlePixelPosition.js */
"./manipulators/getHandlePixelPosition.js");s.d(d,"getHandlePixelPosition",function(){return C.default});var T=s(
/*! ./handleActivator.js */
"./manipulators/handleActivator.js");s.d(d,"handleActivator",function(){return T.default});var D=s(
/*! ./moveAllHandles.js */
"./manipulators/moveAllHandles.js");s.d(d,"moveAllHandles",function(){return D.default});var h=s(
/*! ./moveHandle.js */
"./manipulators/moveHandle.js");s.d(d,"moveHandle",function(){return h.default});var E=s(
/*! ./moveNewHandle.js */
"./manipulators/moveNewHandle.js");s.d(d,"moveNewHandle",function(){return E.default})},"./manipulators/moveAllHandles.js":
/*!****************************************!*\
                  !*** ./manipulators/moveAllHandles.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ./anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),T=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),D=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),h=s(
/*! ../util/clip.js */
"./util/clip.js"),E=s(
/*! ./../store/index.js */
"./store/index.js"),O=s(
/*! ../util/getActiveTool */
"./util/getActiveTool.js"),m=s(
/*! ../tools/base/BaseAnnotationTool */
"./tools/base/BaseAnnotationTool.js"),g=s(
/*! ../util/logger.js */
"./util/logger.js"),v=Object(g.getLogger)("manipulators:moveAllHandles"),P=Object(E.getModule)("manipulatorState"),b={mouse:[p.default.MOUSE_DRAG],touch:[p.default.TOUCH_DRAG]},x={mouse:[p.default.MOUSE_UP,p.default.MOUSE_CLICK],touch:[p.default.TOUCH_END,p.default.TOUCH_DRAG_END,p.default.TOUCH_PINCH,p.default.TOUCH_PRESS,p.default.TAP]};function S(j,W){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},G=arguments.length>3?arguments[3]:void 0,V=arguments.length>4?arguments[4]:void 0,F=V.detail,z=F.element,te=F.image,q=F.buttons,ae=V.detail.deltaPoints.image,ie=ae.x,oe=ae.y;W.active=!0,W.invalidated=!0;for(var $=Object.keys(W.handles),Z=0;Z<$.length;Z++){var Q=W.handles[$[Z]];!0===Q.movesIndependently||!Q.hasOwnProperty("x")||!Q.hasOwnProperty("y")||(Q.x+=ie,Q.y+=oe,B.preventHandleOutsideImage&&Object(h.clipToBox)(Q,te))}y.default.cornerstone.updateImage(z);var ee=Object(O.default)(z,q,G);ee instanceof m.default&&ee.updateCachedStats(te,z,W);var ne=p.default.MEASUREMENT_MODIFIED,ue={toolName:j,toolType:j,element:z,measurementData:W};Object(D.default)(z,ne,ue),V.preventDefault(),V.stopPropagation()}function L(j){var G=arguments.length>3?arguments[3]:void 0;N(j,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,{dragHandler:G.dragHandler,upOrEndHandler:G.upOrEndHandler},arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,!1)}function N(j){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=arguments.length>2?arguments[2]:void 0,G=arguments.length>3?arguments[3]:void 0,V=G.dragHandler,F=G.upOrEndHandler,z=arguments.length>4?arguments[4]:void 0,te=arguments.length>5?arguments[5]:void 0,q=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];j.active=!1,j.invalidated=!0,E.state.isToolLocked=!1,b[B].forEach(function(ae){z.removeEventListener(ae,V)}),x[B].forEach(function(ae){z.removeEventListener(ae,F)}),"function"==typeof W.doneMovingCallback&&(v.warn("`options.doneMovingCallback` has been depricated. See https://github.com/cornerstonejs/cornerstoneTools/pull/915 for details."),W.doneMovingCallback(q)),"function"==typeof te&&te(q),y.default.cornerstone.updateImage(z)}d.default=function(j,W,B,G){var V=j.element,F=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"mouse",te=arguments.length>6?arguments[6]:void 0;F=Object.assign({deleteIfHandleOutsideImage:E.state.deleteIfHandleOutsideImage,preventHandleOutsideImage:E.state.preventHandleOutsideImage},F);var q=S.bind(this,W,B,F,z),ae=function ie(oe){!function w(j,W){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},G=arguments.length>3?arguments[3]:void 0,V=arguments.length>4?arguments[4]:void 0,F=V.dragHandler,z=V.upOrEndHandler,q=arguments.length>6?arguments[6]:void 0,ae=(arguments.length>5?arguments[5]:void 0).detail,ie=ae.element;P.setters.removeActiveManipulatorForElement(ie),B.deleteIfHandleOutsideImage&&Object(C.default)(ae,W.handles)&&Object(T.removeToolState)(ie,j,W),N(W,B,G,{dragHandler:F,upOrEndHandler:z},ie,q,!0)}(W,B,F,z,{dragHandler:q,upOrEndHandler:ie},oe,te)};P.setters.addActiveManipulatorForElement(V,L.bind(null,B,F,z,{dragHandler:q,upOrEndHandler:ae},V,te)),B.active=!0,E.state.isToolLocked=!0,b[z].forEach(function(ie){V.addEventListener(ie,q)}),x[z].forEach(function(ie){V.addEventListener(ie,ae)})}},"./manipulators/moveHandle.js":
/*!************************************!*\
                  !*** ./manipulators/moveHandle.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ./anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),T=s(
/*! ./getHandlePixelPosition.js */
"./manipulators/getHandlePixelPosition.js"),D=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),h=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),E=s(
/*! ../util/clip.js */
"./util/clip.js"),O=s(
/*! ./../store/index.js */
"./store/index.js"),m=s(
/*! ../util/getActiveTool */
"./util/getActiveTool.js"),g=s(
/*! ../tools/base/BaseAnnotationTool */
"./tools/base/BaseAnnotationTool.js"),v=s(
/*! ../util/logger.js */
"./util/logger.js"),P=Object(v.getLogger)("manipulators:moveHandle"),b=Object(O.getModule)("manipulatorState"),x={value:!1},S={mouse:[p.default.MOUSE_DRAG],touch:[p.default.TOUCH_DRAG]},L={mouse:[p.default.MOUSE_UP,p.default.MOUSE_CLICK],touch:[p.default.TOUCH_END,p.default.TOUCH_DRAG_END,p.default.TOUCH_PINCH,p.default.TOUCH_PRESS,p.default.TAP]};function w(G,V,F,z,te,q){var ae=q.detail,ie=ae.image,oe=ae.element,$=ae.buttons,Z=Object(T.default)(q.detail,te);x.value=!1,F.active=!0,F.hasMoved=!0,F.x=Z.x,F.y=Z.y,V.invalidated=!0,z.preventHandleOutsideImage&&Object(E.clipToBox)(F,ie),y.default.cornerstone.updateImage(oe);var K=Object(m.default)(oe,$,te);K instanceof g.default&&K.updateCachedStats(ie,oe,V);var Q=p.default.MEASUREMENT_MODIFIED,ee={toolName:G,toolType:G,element:oe,measurementData:V};Object(h.default)(oe,Q,ee)}function N(G,V,F,z){var ae=arguments.length>6?arguments[6]:void 0;W(G,V,F,z,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},arguments.length>5?arguments[5]:void 0,{dragHandler:ae.dragHandler,upOrEndHandler:ae.upOrEndHandler},arguments.length>7?arguments[7]:void 0,!1)}function W(G,V,F,z){var te=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},q=arguments.length>5?arguments[5]:void 0,ae=arguments.length>6?arguments[6]:void 0,ie=ae.dragHandler,oe=ae.upOrEndHandler,$=arguments.length>7?arguments[7]:void 0,Z=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],K=V.element;z.active=!1,z.moving=!1,F.active=!1,F.invalidated=!0,x.value=!1,O.state.isToolLocked=!1,S[q].forEach(function(Q){K.removeEventListener(Q,ie)}),L[q].forEach(function(Q){K.removeEventListener(Q,oe)}),te.deleteIfHandleOutsideImage&&Object(C.default)(V,F.handles)&&Object(D.removeToolState)(K,G,F),"function"==typeof te.doneMovingCallback&&(P.warn("`options.doneMovingCallback` has been depricated. See https://github.com/cornerstonejs/cornerstoneTools/pull/915 for details."),te.doneMovingCallback(Z)),"function"==typeof $&&$(Z),y.default.cornerstone.updateImage(K)}function B(G,V,F,z){if(V.value){var te=Math.abs(G.y-z.y),q=te/10;if(te<1)return G.y=z.y,void(V.value=!1);G.y>z.y?G.y-=q:G.y<z.y&&(G.y+=q),y.default.cornerstone.updateImage(F.element),y.default.cornerstone.requestAnimationFrame(function(){B(G,V,F,z)})}}d.default=function(G,V,F,z){var te=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"mouse",ae=arguments.length>6?arguments[6]:void 0;te=Object.assign({deleteIfHandleOutsideImage:O.state.deleteIfHandleOutsideImage,preventHandleOutsideImage:O.state.preventHandleOutsideImage},te);var ie=G.element,oe=w.bind(this,V,F,z,te,q),$=function Q(){!function j(G,V,F,z){var te=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},q=arguments.length>5?arguments[5]:void 0,ae=arguments.length>6?arguments[6]:void 0,ie=ae.dragHandler,oe=ae.upOrEndHandler,$=arguments.length>7?arguments[7]:void 0;b.setters.removeActiveManipulatorForElement(V.element),W(G,V,F,z,te,q,{dragHandler:ie,upOrEndHandler:oe},$,!0)}(V,G,F,z,te,q,{dragHandler:oe,upOrEndHandler:Q},ae)};if(b.setters.addActiveManipulatorForElement(ie,N.bind(null,V,G,F,z,te,q,{dragHandler:oe,upOrEndHandler:$},ae)),z.active=!0,z.moving=!0,F.active=!0,O.state.isToolLocked=!0,S[q].forEach(function(Q){ie.addEventListener(Q,oe)}),L[q].forEach(function(Q){ie.addEventListener(Q,$)}),"touch"===q){x.value=!0;var Z=y.default.cornerstone.getEnabledElement(ie),K=Object(T.default)(G,q);B(z,x,Z,K)}}},"./manipulators/moveNewHandle.js":
/*!***************************************!*\
                  !*** ./manipulators/moveNewHandle.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ./anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),T=s(
/*! ./getHandlePixelPosition.js */
"./manipulators/getHandlePixelPosition.js"),D=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),h=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),E=s(
/*! ../util/clip.js */
"./util/clip.js"),O=s(
/*! ./../store/index.js */
"./store/index.js"),m=s(
/*! ../util/getActiveTool */
"./util/getActiveTool.js"),g=s(
/*! ../tools/base/BaseAnnotationTool */
"./tools/base/BaseAnnotationTool.js"),v=s(
/*! ../util/logger.js */
"./util/logger.js"),P=Object(v.getLogger)("manipulators:moveNewHandle"),b=Object(O.getModule)("manipulatorState"),x={mouse:[p.default.MOUSE_MOVE,p.default.MOUSE_DRAG],touch:[p.default.TOUCH_DRAG]},S={mouse:[p.default.MOUSE_UP,p.default.MOUSE_CLICK],touch:[p.default.TOUCH_END,p.default.TOUCH_PINCH,p.default.TAP]};function w(B,G,V,F,z){var te=F.moveHandler,q=F.moveEndHandler,ae=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];x[B].forEach(function(ie){V.removeEventListener(ie,te)}),S[B].forEach(function(ie){V.removeEventListener(ie,q)}),V.removeEventListener(p.default.TOUCH_START,W),O.state.isToolLocked=!1,"function"==typeof z&&z(ae),"function"==typeof G.doneMovingCallback&&(P.warn("`options.doneMovingCallback` has been depricated. See https://github.com/cornerstonejs/cornerstoneTools/pull/915 for details."),G.doneMovingCallback(ae)),y.default.cornerstone.updateImage(V)}function j(B,G,V,F,z,te,q){var ae=z.moveHandler,ie=z.moveEndHandler;B.active=!1,B.invalidated=!0,G.active=!1,w(F,V,te,{moveHandler:ae,moveEndHandler:ie},q,!1)}function W(B){return B.stopImmediatePropagation(),!1}d.default=function(B,G,V,F,z){var te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"mouse",q=arguments.length>6?arguments[6]:void 0;(z=Object.assign({deleteIfHandleOutsideImage:O.state.deleteIfHandleOutsideImage,preventHandleOutsideImage:O.state.preventHandleOutsideImage},z)).hasMoved=!1;var ae=B.element;function ie($){!function L(B,G,V,F,z,te){var q=te.detail,ae=q.image,ie=q.element,oe=q.buttons,$=Object(T.default)(te.detail,z);F.hasMoved=!0,G.invalidated=!0,V.active=!0,V.x=$.x,V.y=$.y,F&&F.preventHandleOutsideImage&&Object(E.clipToBox)(V,ae),y.default.cornerstone.updateImage(ie);var Z=Object(m.default)(ie,oe,z);Z instanceof g.default&&Z.updateCachedStats(ae,ie,G);var K=p.default.MEASUREMENT_MODIFIED,Q={toolName:B,toolType:B,element:ie,measurementData:G};Object(h.default)(ie,K,Q)}(G,V,F,z,te,$)}function oe($){!function N(B,G,V,F,z,te,q,ae){var ie=te.moveHandler,oe=te.moveEndHandler,$=q.detail,Z=$.element,K=!0;if(!1!==F.hasMoved){var Q=Object(T.default)($,z);G.active=!1,G.invalidated=!0,V.active=!1,V.moving=!1,V.x=Q.x,V.y=Q.y,b.setters.removeActiveManipulatorForElement(Z),F.preventHandleOutsideImage&&Object(E.clipToBox)(V,q.detail.image),F.deleteIfHandleOutsideImage&&Object(C.default)(q.detail,G.handles)&&(G.cancelled=!0,K=!1,Object(D.removeToolState)(Z,B,G)),w(z,F,Z,{moveHandler:ie,moveEndHandler:oe},ae,K)}}(G,V,F,z,te,{moveHandler:ie,moveEndHandler:oe},$,q)}V.active=!0,F.moving=!0,F.active=!0,O.state.isToolLocked=!0,x[te].forEach(function($){ae.addEventListener($,ie)}),ae.addEventListener(p.default.TOUCH_START,W),S[te].forEach(function($){ae.addEventListener($,oe)}),b.setters.addActiveManipulatorForElement(ae,j.bind(null,V,F,z,te,{moveHandler:ie,moveEndHandler:oe},ae,q))}},"./mixins/activeOrDisabledBinaryTool.js":
/*!**********************************************!*\
                  !*** ./mixins/activeOrDisabledBinaryTool.js ***!
                  \**********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../store/setToolMode.js */
"./store/setToolMode.js");d.default={passiveCallback:function y(T){Object(p.setToolDisabledForElement)(T,this.name)},enabledCallback:function C(T){Object(p.setToolActiveForElement)(T,this.name)}}},"./mixins/enabledOrDisabledBinaryTool.js":
/*!***********************************************!*\
                  !*** ./mixins/enabledOrDisabledBinaryTool.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../store/setToolMode.js */
"./store/setToolMode.js");d.default={passiveCallback:function y(T){Object(p.setToolDisabledForElement)(T,this.name)},activeCallback:function C(T){Object(p.setToolEnabledForElement)(T,this.name)}}},"./mixins/index.js":
/*!*************************!*\
                  !*** ./mixins/index.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./activeOrDisabledBinaryTool.js */
"./mixins/activeOrDisabledBinaryTool.js"),y=s(
/*! ./enabledOrDisabledBinaryTool.js */
"./mixins/enabledOrDisabledBinaryTool.js"),C=s(
/*! ./segmentation/circleSegmentationMixin.js */
"./mixins/segmentation/circleSegmentationMixin.js"),T=s(
/*! ./segmentation/polylineSegmentationMixin.js */
"./mixins/segmentation/polylineSegmentationMixin.js"),D=s(
/*! ./segmentation/freehandSegmentationMixin.js */
"./mixins/segmentation/freehandSegmentationMixin.js"),h=s(
/*! ./segmentation/rectangleSegmentationMixin.js */
"./mixins/segmentation/rectangleSegmentationMixin.js"),E=s(
/*! ./segmentation/renderBrushMixin.js */
"./mixins/segmentation/renderBrushMixin.js");d.default={activeOrDisabledBinaryTool:p.default,enabledOrDisabledBinaryTool:y.default,circleSegmentationMixin:C.default,polylineSegmentationMixin:T.default,freehandSegmentationMixin:D.default,rectangleSegmentationMixin:h.default,renderBrushMixin:E.default}},"./mixins/segmentation/circleSegmentationMixin.js":
/*!********************************************************!*\
                  !*** ./mixins/segmentation/circleSegmentationMixin.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../drawing */
"./drawing/index.js"),y=s(
/*! ../../externalModules */
"./externalModules.js"),C=s(
/*! ../../util/isEmptyObject */
"./util/isEmptyObject.js"),T=s(
/*! ../../store */
"./store/index.js"),D=s(
/*! ../../util/segmentation */
"./util/segmentation/index.js"),h=Object(T.getModule)("segmentation"),E=h.getters,O=h.setters;function m(){this.handles={start:{},end:{}}}function v(x){var L=x.detail.element,w=x.detail.currentPoints.image;return Object(C.default)(this.handles.start)?this.handles.start=w:(this.handles.end=w,this._applyStrategy(x)),y.default.cornerstone.updateImage(L),!0}function P(x){var S=x.detail,L=S.element;this.handles.end=S.currentPoints.image,y.default.cornerstone.updateImage(L)}function b(x){x.detail.handles=this.handles;var S=x.detail.element,L=E.labelmap2D(S),w=L.labelmap2D,N=L.labelmap3D,j=L.currentImageIdIndex,W=w.pixelData,B=W.slice();this.applyActiveStrategy(x,{points:{start:{x:this.handles.start.x,y:this.handles.start.y},end:{x:this.handles.end.x,y:this.handles.end.y}},pixelData:W,segmentIndex:N.activeSegmentIndex,segmentationMixinType:"circleSegmentationMixin"});var F={imageIdIndex:j,diff:Object(D.getDiffBetweenPixelData)(B,W)};O.pushState(this.element,[F]),O.updateSegmentsOnLabelmap2D(w),y.default.cornerstone.updateImage(S),this._resetHandles()}d.default={postTouchStartCallback:v,postMouseDownCallback:v,mouseClickCallback:v,touchDragCallback:P,mouseDragCallback:P,mouseMoveCallback:P,touchEndCallback:b,mouseUpCallback:b,initializeMixin:m,renderToolData:function g(x){var S=this,L=x.detail,w=L.element,N=E.brushColor(w,!0),j=Object(p.getNewContext)(L.canvasContext.canvas),W=y.default.cornerstoneMath.point.distance;Object(p.draw)(j,function(B){if(!S.handles)return null;var G=y.default.cornerstone.pixelToCanvas(w,S.handles.start),V=y.default.cornerstone.pixelToCanvas(w,S.handles.end),F=W(G,V);Object(p.drawCircle)(B,w,S.handles.start,F,{color:N})})},_resetHandles:m,_applyStrategy:b}},"./mixins/segmentation/freehandSegmentationMixin.js":
/*!**********************************************************!*\
                  !*** ./mixins/segmentation/freehandSegmentationMixin.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ../../externalModules.js */
"./externalModules.js"),T=s(
/*! ../../store */
"./store/index.js"),D=s(
/*! ../../util/logger.js */
"./util/logger.js"),h=s(
/*! ../../drawing */
"./drawing/index.js"),E=s(
/*! ../../util/segmentation */
"./util/segmentation/index.js"),O=Object(D.getLogger)("tools:ScissorsTool"),m=Object(T.getModule)("segmentation"),g=m.getters,v=m.setters;function b(N){var j=N.detail.element,W=N.detail.currentPoints.image,B=this.handles.points;if(!B.length)return O.warn("Something went wrong, empty handles detected."),null;B.push({x:W.x,y:W.y,lines:[]}),this.currentHandle+=1,C.default.cornerstone.updateImage(j)}function x(N){var W=N.detail.element;this._addPoint(N.detail),C.default.cornerstone.updateImage(W)}function S(N){var j=this.handles.points,W=N.detail.element,B=g.labelmap2D(W),G=B.labelmap2D,V=B.labelmap3D,F=B.currentImageIdIndex,z=G.pixelData,te=z.slice();this.applyActiveStrategy(N,{points:j,pixelData:z,segmentIndex:V.activeSegmentIndex,segmentationMixinType:"freehandSegmentationMixin"});var ae={imageIdIndex:F,diff:Object(E.getDiffBetweenPixelData)(te,z)};v.pushState(this.element,[ae]),v.updateSegmentsOnLabelmap2D(G),C.default.cornerstone.updateImage(W),this._resetHandles()}function L(){this.handles={points:[]},this.currentHandle=0}d.default={postTouchStartCallback:b,postMouseDownCallback:b,mouseClickCallback:b,touchDragCallback:x,mouseDragCallback:x,mouseMoveCallback:x,touchEndCallback:S,mouseUpCallback:S,initializeMixin:L,renderToolData:function P(N){var j=N.detail,W=j.element,B=g.brushColor(W,!0),G=Object(h.getNewContext)(j.canvasContext.canvas),V=this.handles.points;V.length<2||Object(h.draw)(G,function(F){for(var z=0;z<V.length;z++){var te=y()(V[z].lines);z===V.length-1&&te.push(V[0]),Object(h.drawJoinedLines)(F,W,V[z],te,{color:B})}})},_resetHandles:L,_addPoint:function w(N){var j=this.handles.points;j.length&&j[this.currentHandle-1].lines.push({x:N.currentPoints.image.x,y:N.currentPoints.image.y,lines:[]}),j.push({x:N.currentPoints.image.x,y:N.currentPoints.image.y,lines:[]}),this.currentHandle+=1,C.default.cornerstone.updateImage(N.element)},_applyStrategy:S}},"./mixins/segmentation/polylineSegmentationMixin.js":
/*!**********************************************************!*\
                  !*** ./mixins/segmentation/polylineSegmentationMixin.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ../../drawing */
"./drawing/index.js"),T=s(
/*! ../../store */
"./store/index.js"),D=s(
/*! ./freehandSegmentationMixin */
"./mixins/segmentation/freehandSegmentationMixin.js"),E=Object(T.getModule)("segmentation").getters;var m=Object.assign({},D.default,{renderToolData:function O(g){var v=this,P=g.detail,b=P.element,x=E.brushColor(b,!0),S=Object(C.getNewContext)(P.canvasContext.canvas),L=this.handles;Object(C.draw)(S,function(w){if(L.points.length>1)for(var j=0;j<L.points.length;j++){var W=y()(L.points[j].lines);Object(C.drawJoinedLines)(w,b,v.handles.points[j],W,{color:x})}})}});d.default=m},"./mixins/segmentation/rectangleSegmentationMixin.js":
/*!***********************************************************!*\
                  !*** ./mixins/segmentation/rectangleSegmentationMixin.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../drawing */
"./drawing/index.js"),y=s(
/*! ../../externalModules */
"./externalModules.js"),C=s(
/*! ../../util/isEmptyObject */
"./util/isEmptyObject.js"),T=s(
/*! ../../store */
"./store/index.js"),D=s(
/*! ../../util/segmentation */
"./util/segmentation/index.js"),h=Object(T.getModule)("segmentation"),E=h.getters,O=h.setters;function g(x){var L=x.detail.element,w=x.detail.currentPoints.image;return Object(C.default)(this.handles.start)?this.handles.start=w:(this.handles.end=w,this._applyStrategy(x)),y.default.cornerstone.updateImage(L),!0}function v(x){var S=x.detail,L=S.element;this.handles.end=S.currentPoints.image,y.default.cornerstone.updateImage(L)}function P(x){x.detail.handles=this.handles;var S=x.detail.element,L=E.labelmap2D(S),w=L.labelmap2D,N=L.labelmap3D,j=L.currentImageIdIndex,W=w.pixelData,B=W.slice();this.applyActiveStrategy(x,{points:[{x:this.handles.start.x,y:this.handles.start.y},{x:this.handles.end.x,y:this.handles.end.y}],pixelData:W,segmentIndex:N.activeSegmentIndex,segmentationMixinType:"rectangleSegmentationMixin"});var F={imageIdIndex:j,diff:Object(D.getDiffBetweenPixelData)(B,W)};O.pushState(this.element,[F]),O.updateSegmentsOnLabelmap2D(w),y.default.cornerstone.updateImage(S),this._resetHandles()}function b(){this.handles={start:{},end:{}}}d.default={postTouchStartCallback:g,postMouseDownCallback:g,mouseClickCallback:g,touchDragCallback:v,mouseDragCallback:v,mouseMoveCallback:v,touchEndCallback:P,mouseUpCallback:P,initializeMixin:b,renderToolData:function m(x){var S=this,L=x.detail,w=L.element,N=E.brushColor(w,!0),j=Object(p.getNewContext)(L.canvasContext.canvas);Object(p.draw)(j,function(W){Object(p.drawRect)(W,w,S.handles.start,S.handles.end,{color:N})})},_resetHandles:b,_applyStrategy:P}},"./mixins/segmentation/renderBrushMixin.js":
/*!*************************************************!*\
                  !*** ./mixins/segmentation/renderBrushMixin.js ***!
                  \*************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./../../store/index.js */
"./store/index.js");d.default={renderBrush:function C(T){var v,D=p.default.cornerstone,h=Object(y.getModule)("segmentation"),E=h.getters,O=h.configuration,m=T.detail,g=m.viewport;if(this._drawing?v=this._lastImageCoords:this._mouseUpRender?(v=this._lastImageCoords,this._mouseUpRender=!1):v=y.default.state.mousePositionImage,v){var P=m.image,L=v.x,w=v.y;if(!(L<0||L>P.columns||w<0||w>P.rows)){var N=O.radius,j=m.canvasContext,W=m.element,B=E.brushColor(W,this._drawing);j.setTransform(1,0,0,1,0,0);var G=N*g.scale,V=D.pixelToCanvas(W,v);j.beginPath(),j.strokeStyle=B,j.ellipse(V.x,V.y,G,G,0,0,2*Math.PI),j.stroke()}}}}},"./orientation/getOrientationString.js":
/*!*********************************************!*\
                  !*** ./orientation/getOrientationString.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../util/convertToVector3.js */
"./util/convertToVector3.js");d.default=function(C){for(var T=Object(y.default)(C),D="",h=T.x<0?"R":"L",E=T.y<0?"A":"P",O=T.z<0?"F":"H",m=new p.default.cornerstoneMath.Vector3(Math.abs(T.x),Math.abs(T.y),Math.abs(T.z)),g=1e-4,v=0;v<3;v++)if(m.x>g&&m.x>m.y&&m.x>m.z)D+=h,m.x=0;else if(m.y>g&&m.y>m.x&&m.y>m.z)D+=E,m.y=0;else if(m.z>g&&m.z>m.x&&m.z>m.y)D+=O,m.z=0;else if(m.x>g&&m.y>g&&m.x===m.y)D+=h+E,m.x=0,m.y=0;else if(m.x>g&&m.z>g&&m.x===m.z)D+=h+O,m.x=0,m.z=0;else{if(!(m.y>g&&m.z>g&&m.y===m.z))break;D+=E+O,m.y=0,m.z=0}return D}},"./orientation/index.js":
/*!******************************!*\
                  !*** ./orientation/index.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./getOrientationString.js */
"./orientation/getOrientationString.js"),y=s(
/*! ./invertOrientationString.js */
"./orientation/invertOrientationString.js");d.default={getOrientationString:p.default,invertOrientationString:y.default}},"./orientation/invertOrientationString.js":
/*!************************************************!*\
                  !*** ./orientation/invertOrientationString.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var y=p.replace("H","f");return(y=(y=(y=(y=(y=y.replace("F","h")).replace("R","l")).replace("L","r")).replace("A","p")).replace("P","a")).toUpperCase()}},"./stackTools/fusionRenderer.js":
/*!**************************************!*\
                  !*** ./stackTools/fusionRenderer.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return E});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! ../externalModules.js */
"./externalModules.js"),h=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),E=function(){function O(){y()(this,O),this.currentImageIdIndex=0,this.layerIds=[],this.findImageFn=void 0}return T()(O,[{key:"render",value:function(g,v){var P=this;if(!Number.isInteger(this.currentImageIdIndex))throw new Error("FusionRenderer: render - Image ID Index is not an integer");if(!this.findImageFn)throw new Error("No findImage function has been defined");v||(v=Object(h.getToolState)(g,"stack").data);var x=D.default.cornerstone,S=v[0],L=S.imageIds[this.currentImageIdIndex],w=v.slice(1,v.length);x.loadAndCacheImage(L).then(function(N){var j=P.layerIds[0];j?x.setLayerImage(g,N,j):(j=x.addLayer(g,N,S.options),P.layerIds.push(j)),x.displayImage(g,N),w.forEach(function(W,B){var G=P.findImageFn(W.imageIds,L),F=P.layerIds[B+1];F||(F=x.addLayer(g,void 0,W.options),P.layerIds.push(F)),G?x.loadAndCacheImage(G).then(function(z){x.setLayerImage(g,z,F),x.updateImage(g)}):(x.setLayerImage(g,void 0,F),x.setActiveLayer(g,j),x.updateImage(g))})})}}]),O}()},"./stackTools/playClip.js":
/*!********************************!*\
                  !*** ./stackTools/playClip.js ***!
                  \********************************/
/*! exports provided: playClip, stopClip */function(le,d,s){"use strict";s.r(d),s.d(d,"playClip",function(){return g}),s.d(d,"stopClip",function(){return v});var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),T=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),D=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),h="playClip";function O(P){var b=P.intervalId;typeof b<"u"&&(P.intervalId=void 0,P.usingFrameTimeVector?clearTimeout(b):clearInterval(b))}function g(P,b){var x,S;if(void 0===P)throw new Error("playClip: element must not be undefined");var L=Object(T.getToolState)(P,"stack");if(L&&L.data&&L.data.length){var N,w=y.default.cornerstone;if(L.data.length>1){var j=Object(T.getToolState)(P,"stackRenderer");j&&j.data&&j.data.length&&(N=j.data[0])}var W=L.data[0],B=Object(T.getToolState)(P,h);B&&B.data&&B.data.length?O(x=B.data[0]):(x={intervalId:void 0,framesPerSecond:30,lastFrameTimeStamp:void 0,frameRate:0,frameTimeVector:void 0,ignoreFrameTimeVector:!1,usingFrameTimeVector:!1,speed:1,reverse:!1,loop:!0},Object(T.addToolState)(P,h,x)),(b<0||b>0)&&(x.framesPerSecond=Number(b),x.reverse=x.framesPerSecond<0,x.ignoreFrameTimeVector=!0),!0!==x.ignoreFrameTimeVector&&x.frameTimeVector&&x.frameTimeVector.length===W.imageIds.length&&(S=function E(P,b){var x,S,L,w=0,N=P.length,j=[];for(j.isTimeVarying=!1,("number"!=typeof b||b<=0)&&(b=1),x=1;x<N;x++)L=Number(P[x])/b|0,j.push(L),1===x?S=L:L!==S&&(j.isTimeVarying=!0),w+=L;return j.length>0&&j.push(L=j.isTimeVarying?w/j.length|0:j[0]),j}(x.frameTimeVector,x.speed));var G=function(){var z,te,q,ae=W.currentImageIdIndex,ie=W.imageIds.length;if(x.reverse?ae--:ae++,!x.loop&&(ae<0||ae>=ie))return O(x),void function m(P){var b={element:P};Object(D.default)(P,p.default.CLIP_STOPPED,b)}(P);ae>=ie&&(ae=0),ae<0&&(ae=ie-1),ae!==W.currentImageIdIndex&&(z=C.default.getStartLoadHandler(P),te=C.default.getEndLoadHandler(P),q=C.default.getErrorLoadingHandler(P),z&&z(P),(!0===W.preventCache?w.loadImage(W.imageIds[ae]):w.loadAndCacheImage(W.imageIds[ae])).then(function(oe){try{W.currentImageIdIndex=ae,N?(N.currentImageIdIndex=ae,N.render(P,L.data)):w.displayImage(P,oe),te&&te(P,oe)}catch{return}},function(oe){q&&q(P,W.imageIds[ae],oe)}))};S&&S.length>0&&S.isTimeVarying?(x.usingFrameTimeVector=!0,x.intervalId=setTimeout(function V(){x.intervalId=setTimeout(V,S[W.currentImageIdIndex]),G()},0)):(x.usingFrameTimeVector=!1,x.intervalId=setInterval(G,1e3/Math.abs(x.framesPerSecond)))}}function v(P){var b=Object(T.getToolState)(P,h);!b||!b.data||!b.data.length||O(b.data[0])}},"./stackTools/stackPrefetch.js":
/*!*************************************!*\
                  !*** ./stackTools/stackPrefetch.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var b,p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),C=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),T=s(
/*! ../util/logger.js */
"./util/logger.js"),E=(s(
/*! ../util/triggerEvent */
"./util/triggerEvent.js"),s(
/*! ../events.js */
"./events.js"),Object(T.getLogger)("stackTools:stackPrefetch")),O="stackPrefetch",m="prefetch",v=!0,P={maxImagesToPrefetch:1/0,preserveExistingPool:!1};function S(z,te){z=Math.round(z)||0;var q=[],ae=(te=Math.round(te)||0)-z+1;if(ae<=0)return q;for(;ae--;)q[ae]=te--;return q}function w(z){var te=Object(C.getToolState)(z,"stack");if(te&&te.data&&te.data.length){var q=te.data[0],ae=Object(C.getToolState)(z,O);if(ae){var ie=ae.data[0]||{};if((!ie.indicesToRequest||!ie.indicesToRequest.length)&&(ie.enabled=!1),!1!==ie.enabled&&(ae.data[0].indicesToRequest.sort(function(Ke,Ye){return Ke-Ye}),ie.indicesToRequest.slice().forEach(function(Ke){var Ye=q.imageIds[Ke];Ye&&p.default.cornerstone.imageCache.getImageLoadObject(Ye)&&function oe(Ke){var Ye=ie.indicesToRequest.indexOf(Ke);Ye>-1&&ie.indicesToRequest.splice(Ye,1)}(Ke)}),ie.indicesToRequest.length)){P.preserveExistingPool||p.default.cornerstone.imageLoadPoolManager.clearRequestStack(m);for(var Q,Z=function L(z,te){var q=0,ae=z.length-1;return z.forEach(function(ie,oe){ie<te?q=Math.max(oe,q):ie>te&&(ae=Math.min(oe,ae))}),{low:q,high:ae}}(ie.indicesToRequest,q.currentImageIdIndex),Ee=(y.default.getErrorLoadingHandler(z),Z.low),Se=Z.high,ke=[];Ee>=0||Se<ie.indicesToRequest.length;){var Xe=q.currentImageIdIndex,Rt=!(Xe-ie.indicesToRequest[Ee]>P.maxImagesToPrefetch)&&Ee>=0,Ge=!(ie.indicesToRequest[Se]-Xe>P.maxImagesToPrefetch)&&Se<ie.indicesToRequest.length;if(!Ge&&!Rt)break;Rt&&(Q=ie.indicesToRequest[Ee--],ke.push(q.imageIds[Q])),Ge&&(Q=ie.indicesToRequest[Se++],ke.push(q.imageIds[Q]))}var Pe,He={addToBeginning:v,priority:0,requestType:m};Pe=function(Ye){return p.default.cornerstone.loadAndCacheImage(Ye,He)},ke.reverse().forEach(function(Ke){p.default.cornerstone.imageLoadPoolManager.addRequest(Pe.bind(null,Ke),m,{imageId:Ke},0,v)})}}}}function N(z){return function(te){var ae,q=te.detail;try{ae=Object(C.getToolState)(z,"stack")}catch{return}if(ae&&ae.data&&ae.data.length){var oe=ae.data[0].imageIds.indexOf(q.imageId);if(!(oe<0)){var $=Object(C.getToolState)(z,O);!$||!$.data||!$.data.length||$.data[0].indicesToRequest.push(oe)}}}}function j(z){clearTimeout(b),b=setTimeout(function(){var te=z.target;try{w(te)}catch{return}},10)}d.default={enable:function W(z){Object(C.getToolState)(z,O).data=[];var q=Object(C.getToolState)(z,"stack");if(q&&q.data&&q.data.length){var ae=q.data[0];if(!0===ae.preventCache)return void E.warn("A stack that should not be cached was given the stackPrefetch");var ie={indicesToRequest:S(0,ae.imageIds.length-1),enabled:!0,direction:1},oe=ie.indicesToRequest.indexOf(ae.currentImageIdIndex);ie.indicesToRequest.splice(oe,1),Object(C.addToolState)(z,O,ie),w(z),z.removeEventListener(p.default.cornerstone.EVENTS.NEW_IMAGE,j),z.addEventListener(p.default.cornerstone.EVENTS.NEW_IMAGE,j);var $=N(z);p.default.cornerstone.events.removeEventListener(p.default.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,$),p.default.cornerstone.events.addEventListener(p.default.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,$)}},disable:function B(z){clearTimeout(b),z.removeEventListener(p.default.cornerstone.EVENTS.NEW_IMAGE,j);var te=N(z);p.default.cornerstone.events.removeEventListener(p.default.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,te);var q=Object(C.getToolState)(z,O);q&&q.data.length&&(q.data[0].enabled=!1,p.default.cornerstone.imageLoadPoolManager.clearRequestStack(m))},getConfiguration:function G(){return P},setConfiguration:function V(z){P=z}}},"./stackTools/stackRenderers.js":
/*!**************************************!*\
                  !*** ./stackTools/stackRenderers.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./fusionRenderer.js */
"./stackTools/fusionRenderer.js"),y={};y.FusionRenderer=p.default,d.default=y},"./stateManagement/frameOfReferenceStateManager.js":
/*!*********************************************************!*\
                  !*** ./stateManagement/frameOfReferenceStateManager.js ***!
                  \*********************************************************/
/*! exports provided: newFrameOfReferenceSpecificToolStateManager, globalFrameOfReferenceSpecificToolStateManager */function(le,d,s){"use strict";function p(){var C={};return{get:function D(E,O){if(!1!==C.hasOwnProperty(E)){var m=C[E];if(!1!==m.hasOwnProperty(O))return m[O]}},add:function T(E,O,m){!1===C.hasOwnProperty(E)&&(C[E]={});var g=C[E];!1===g.hasOwnProperty(O)&&(g[O]={data:[]}),g[O].data.push(m)},remove:function h(E,O,m){if(!1!==C.hasOwnProperty(E)){var g=C[E];if(!1!==g.hasOwnProperty(O)){for(var v=g[O],P=-1,b=0;b<v.data.length;b++)v.data[b]===m&&(P=b);-1!==P&&v.data.splice(P,1)}}}}}s.r(d),s.d(d,"newFrameOfReferenceSpecificToolStateManager",function(){return p}),s.d(d,"globalFrameOfReferenceSpecificToolStateManager",function(){return y});var y=p()},"./stateManagement/imageIdSpecificStateManager.js":
/*!********************************************************!*\
                  !*** ./stateManagement/imageIdSpecificStateManager.js ***!
                  \********************************************************/
/*! exports provided: newImageIdSpecificToolStateManager, globalImageIdSpecificToolStateManager */function(le,d,s){"use strict";s.r(d),s.d(d,"newImageIdSpecificToolStateManager",function(){return y}),s.d(d,"globalImageIdSpecificToolStateManager",function(){return C});var p=s(
/*! ../externalModules.js */
"./externalModules.js");function y(){var T={};function g(w,N,j){!1===T.hasOwnProperty(w)&&(T[w]={});var W=T[w];!1===W.hasOwnProperty(N)&&(W[N]={data:[]}),W[N].data.push(j)}function P(w,N){if(!1!==T.hasOwnProperty(w)){var j=T[w];if(!1!==j.hasOwnProperty(N))return j[N]}}function x(w,N,j){T[w][N]=j}function L(w){!1!==T.hasOwnProperty(w)&&delete T[w]}return{get:function v(w,N){var j=p.default.cornerstone.getEnabledElement(w);if(j.image)return P(j.image.imageId,N)},add:function m(w,N,j){var W=p.default.cornerstone.getEnabledElement(w);W.image&&g(W.image.imageId,N,j)},set:function b(w,N,j){var W=p.default.cornerstone.getEnabledElement(w);W.image&&x(W.image.imageId,N,j)},clear:function S(w){var N=p.default.cornerstone.getEnabledElement(w);N.image&&L(N.image.imageId)},getImageIdToolState:P,addImageIdToolState:g,setImageIdToolState:x,clearImageIdToolState:L,saveImageIdToolState:function D(w){return T[w]},restoreImageIdToolState:function h(w,N){T[w]=N},saveToolState:function E(){return T},restoreToolState:function O(w){T=w},toolState:T}}var C=y()},"./stateManagement/loadHandlerManager.js":
/*!***********************************************!*\
                  !*** ./stateManagement/loadHandlerManager.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y="DEFAULT",C={},T={},D={};function h(S){if(!S)return y;var L=p.default.cornerstone.getEnabledElement(S).uuid;if(!L)throw new Error("Something went wrong when getting uuid from element");return L}d.default={setStartLoadHandler:function E(S){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!S)throw new Error("The Handler function must be defined");var w=h(L);C[w]=S},getStartLoadHandler:function O(S){var L=h(S);return C[L]||C[y]},setEndLoadHandler:function m(S){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!S)throw new Error("The Handler function must be defined");var w=h(L);T[w]=S},getEndLoadHandler:function g(S){var L=h(S);return T[L]||T[y]},setErrorLoadingHandler:function v(S){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!S)throw new Error("The Handler function must be defined");var w=h(L);D[w]=S},getErrorLoadingHandler:function P(S){var L=h(S);return D[L]||D[y]},removeHandlers:function b(S){var L=h(S);delete C[L],delete T[L],delete D[L]}}},"./stateManagement/stackSpecificStateManager.js":
/*!******************************************************!*\
                  !*** ./stateManagement/stackSpecificStateManager.js ***!
                  \******************************************************/
/*! exports provided: stackSpecificStateManager, newStackSpecificToolStateManager, addStackStateManager */function(le,d,s){"use strict";s.r(d),s.d(d,"stackSpecificStateManager",function(){return h}),s.d(d,"newStackSpecificToolStateManager",function(){return C}),s.d(d,"addStackStateManager",function(){return D});var p=s(
/*! ./imageIdSpecificStateManager.js */
"./stateManagement/imageIdSpecificStateManager.js"),y=s(
/*! ./toolState.js */
"./stateManagement/toolState.js");function C(E,O){var m={};return{get:function b(S,L){return E.indexOf(L)>=0?(!1===m.hasOwnProperty(L)&&(m[L]={data:[]}),m[L]):O.get(S,L)},add:function P(S,L,w){if(!(E.indexOf(L)>=0))return O.add(S,L,w);!1===m.hasOwnProperty(L)&&(m[L]={data:[]}),m[L].data.push(w)},saveToolState:function g(){return m},restoreToolState:function v(S){m=S},toolState:m}}var T=[];function D(E,O){var m=Object(y.getElementToolStateManager)(E);m||(m=p.globalImageIdSpecificToolStateManager);var g=["stack","stackPrefetch","playClip","volume","slab","referenceLines","crosshairs","stackRenderer"];O&&(g=g.concat(O));var v=C(g,m);T.push(v),Object(y.setElementToolStateManager)(E,v)}var h={newStackSpecificToolStateManager:C,addStackStateManager:D}},"./stateManagement/textStyle.js":
/*!**************************************!*\
                  !*** ./stateManagement/textStyle.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p={fontSize:15,fontFamily:"Arial",backgroundColor:"transparent"};function T(v){if("string"!=typeof v)throw new Error("Font family must be a valid string");p.fontFamily=v}function h(v){if("number"!=typeof v||isNaN(v)||!isFinite(v))throw new Error("Font size must be a valid number");p.fontSize=parseFloat(v)}d.default={setFont:function y(v){var P=v.split("px ");2===P.length&&(h(parseFloat(P[0])),T(P[1]))},getFont:function C(){return"".concat(p.fontSize,"px ").concat(p.fontFamily)},setFontSize:h,getFontSize:function E(){return p.fontSize},setFontFamily:T,getFontFamily:function D(){return p.fontFamily},setBackgroundColor:function O(v){p.backgroundColor=v},getBackgroundColor:function m(){return p.backgroundColor}}},"./stateManagement/toolColors.js":
/*!***************************************!*\
                  !*** ./stateManagement/toolColors.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p="white",y="greenyellow",C="transparent";d.default={setFillColor:function T(P){C=P},getFillColor:function D(){return C},setToolColor:function h(P){p=P},getToolColor:function E(){return p},setActiveColor:function O(P){y=P},getActiveColor:function m(){return y},getColorIfActive:function g(P){return P.color?P.color:P.active?y:p}}},"./stateManagement/toolCoordinates.js":
/*!********************************************!*\
                  !*** ./stateManagement/toolCoordinates.js ***!
                  \********************************************/
/*! exports provided: default */function(le,d,s){"use strict";var p;s.r(d),d.default={setCoords:function y(D){p=D.currentPoints.canvas},getCoords:function C(){return p}}},"./stateManagement/toolState.js":
/*!**************************************!*\
                  !*** ./stateManagement/toolState.js ***!
                  \**************************************/
/*! exports provided: addToolState, getToolState, removeToolState, clearToolState, setElementToolStateManager, getElementToolStateManager */function(le,d,s){"use strict";s.r(d),s.d(d,"addToolState",function(){return E}),s.d(d,"getToolState",function(){return O}),s.d(d,"removeToolState",function(){return m}),s.d(d,"clearToolState",function(){return g}),s.d(d,"setElementToolStateManager",function(){return v}),s.d(d,"getElementToolStateManager",function(){return h});var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ./imageIdSpecificStateManager.js */
"./stateManagement/imageIdSpecificStateManager.js"),T=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js"),D=s(
/*! ../util/uuidv4.js */
"./util/uuidv4.js");function h(P){var b=y.default.cornerstone.getEnabledElement(P);return void 0===b.toolStateManager&&(b.toolStateManager=C.globalImageIdSpecificToolStateManager),b.toolStateManager}function E(P,b,x){var S=h(P);x.uuid=x.uuid||Object(D.default)(),S.add(P,b,x);var L=p.default.MEASUREMENT_ADDED,w={toolName:b,toolType:b,element:P,measurementData:x};Object(T.default)(P,L,w)}function O(P,b){return h(P).get(P,b)}function m(P,b,x){var L=h(P).get(P,b);if(L&&L.data&&L.data.length){for(var w=-1,N=0;N<L.data.length;N++)L.data[N]===x&&(w=N);if(-1!==w){L.data.splice(w,1);var j=p.default.MEASUREMENT_REMOVED,W={toolName:b,toolType:b,element:P,measurementData:x};Object(T.default)(P,j,W)}}}function g(P,b){var S=h(P).get(P,b);void 0!==S&&(S.data=[])}function v(P,b){y.default.cornerstone.getEnabledElement(P).toolStateManager=b}},"./stateManagement/toolStyle.js":
/*!**************************************!*\
                  !*** ./stateManagement/toolStyle.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=1,y=2;d.default={setToolWidth:function C(O){p=O},getToolWidth:function T(){return p},setActiveWidth:function D(O){y=O},getActiveWidth:function h(){return y}}},"./store/addTool.js":
/*!**************************!*\
                  !*** ./store/addTool.js ***!
                  \**************************/
/*! exports provided: addTool, addToolForElement */function(le,d,s){"use strict";s.r(d),s.d(d,"addTool",function(){return h}),s.d(d,"addToolForElement",function(){return D});var p=s(
/*! ./index.js */
"./store/index.js"),y=s(
/*! ./getToolForElement.js */
"./store/getToolForElement.js"),C=s(
/*! ../util/logger.js */
"./util/logger.js"),T=Object(C.getLogger)("addTool"),D=function(m,g,v){var P=new g(v);Object(y.default)(m,P.name)?T.warn("%s has already been added to the target element",P.name):(P.element=m,p.default.state.tools.push(P))},h=function(m,g){E(m,g),p.default.state.enabledElements.forEach(function(v){D(v,m,g)})},E=function(m,g){if(Object(p.getModule)("globalConfiguration").configuration.globalToolSyncEnabled){var b=new m(g);if(void 0!==p.default.state.globalTools[b.name])return void T.warn("%s has already been added globally",b.name);p.default.state.globalTools[b.name]={tool:m,props:g,activeBindings:[]}}}},"./store/filterToolsUsableWithMultiPartTools.js":
/*!******************************************************!*\
                  !*** ./store/filterToolsUsableWithMultiPartTools.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../tools/base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),y=s(
/*! ../tools/base/BaseBrushTool.js */
"./tools/base/BaseBrushTool.js");d.default=function(C){return C.filter(function(T){return!(T.isMultiPartTool||T instanceof p.default||T instanceof y.default)})}},"./store/getActiveToolsForElement.js":
/*!*******************************************!*\
                  !*** ./store/getActiveToolsForElement.js ***!
                  \*******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y,C){return y.filter(function(T){return T.element===p&&"active"===T.mode&&(void 0===C||T.options["is".concat(C,"Active")])})}},"./store/getInteractiveToolsForElement.js":
/*!************************************************!*\
                  !*** ./store/getInteractiveToolsForElement.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){return y.filter(function(C){return C.element===p&&("active"===C.mode||"passive"===C.mode)})}},"./store/getToolForElement.js":
/*!************************************!*\
                  !*** ./store/getToolForElement.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./index.js */
"./store/index.js");d.default=function(y,C){return p.state.tools.find(function(T){return T.element===y&&T.name===C})}},"./store/getToolsWithDataForElement.js":
/*!*********************************************!*\
                  !*** ./store/getToolsWithDataForElement.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../stateManagement/toolState.js */
"./stateManagement/toolState.js");d.default=function(y,C){return C.filter(function(T){var D=Object(p.getToolState)(y,T.name);return D&&D.data.length>0})}},"./store/getToolsWithMoveableHandles.js":
/*!**********************************************!*\
                  !*** ./store/getToolsWithMoveableHandles.js ***!
                  \**********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),y=s(
/*! ../manipulators/getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js"),C=s(
/*! ../util/getProximityThreshold.js */
"./util/getProximityThreshold.js");d.default=function(T,D,h){var E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse";return D.filter(function(O){for(var m=Object(C.default)(E,O.name),g=Object(p.getToolState)(T,O.name),v=0;v<g.data.length;v++)if(void 0!==Object(y.default)(T,g.data[v].handles,h,m))return!0;return!1})}},"./store/index.js":
/*!************************!*\
                  !*** ./store/index.js ***!
                  \************************/
/*! exports provided: state, getters, modules, getModule, default */function(le,d,s){"use strict";s.r(d),s.d(d,"state",function(){return O}),s.d(d,"getters",function(){return m}),s.d(d,"modules",function(){return g}),s.d(d,"getModule",function(){return v});var p=s(
/*! ./modules/segmentationModule */
"./store/modules/segmentationModule/index.js"),y=s(
/*! ./modules/manipulatorStateModule */
"./store/modules/manipulatorStateModule.js"),C=s(
/*! ./modules/cursorModule.js */
"./store/modules/cursorModule.js"),T=s(
/*! ./modules/globalConfigurationModule.js */
"./store/modules/globalConfigurationModule.js"),D=s(
/*! ../externalModules.js */
"./externalModules.js"),h=s(
/*! ../util/logger.js */
"./util/logger.js"),O=(Object(h.getLogger)("store:modules:storeLogger"),{globalTools:{},globalToolChangeHistory:[],enabledElements:[],tools:[],isToolLocked:!1,activeMultiPartTool:null,mousePositionImage:{},clickProximity:6,touchProximity:10,handleRadius:6,deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1,preventTextBoxOutsideDisplayedArea:!1,handleTouchOffset:{x:0,y:-57},svgCursorUrl:null}),m={mouseTools:function(){return O.tools.filter(function(b){return b.supportedInteractionTypes.includes("Mouse")})},touchTools:function(){return O.tools.filter(function(b){return b.supportedInteractionTypes.includes("Touch")})},enabledElementByUID:function(b){return O.enabledElements.find(function(x){return D.default.cornerstone.getEnabledElement(x).uuid===b})}},g={segmentation:p.default,cursor:C.default,globalConfiguration:T.default,manipulatorState:y.default};function v(P){return g[P]}d.default={modules:g,state:O,getters:m}},"./store/internals/addEnabledElement.js":
/*!**********************************************!*\
                  !*** ./store/internals/addEnabledElement.js ***!
                  \**********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../eventListeners/index.js */
"./eventListeners/index.js"),y=s(
/*! ../../eventDispatchers/index.js */
"./eventDispatchers/index.js"),C=s(
/*! ./../addTool.js */
"./store/addTool.js"),T=s(
/*! ./../setToolMode.js */
"./store/setToolMode.js"),D=s(
/*! ../index.js */
"./store/index.js"),h=s(
/*! ../../util/logger.js */
"./util/logger.js"),E=Object(h.getLogger)("internals:addEnabledElement");d.default=function(P){E.log("EVENT:ELEMENT_ENABLED");var b=P.detail.element;y.imageRenderedEventDispatcher.enable(b),y.newImageEventDispatcher.enable(b);var S=Object(D.getModule)("globalConfiguration").configuration;S.mouseEnabled&&(p.mouseEventListeners.enable(b),p.wheelEventListener.enable(b),y.mouseToolEventDispatcher.enable(b)),S.touchEnabled&&(p.touchEventListeners.enable(b),y.touchToolEventDispatcher.enable(b)),O(b)};var O=function(b){D.default.state.enabledElements.push(b),D.default.modules&&function m(P){var b=D.default.modules;Object.keys(b).forEach(function(x){"function"==typeof b[x].enabledElementCallback&&b[x].enabledElementCallback(P)})}(b),function g(P){Object(D.getModule)("globalConfiguration").configuration.globalToolSyncEnabled&&Object.keys(D.default.state.globalTools).forEach(function(S){var L=D.default.state.globalTools[S],w=L.tool,N=L.props;Object(C.addToolForElement)(P,w,N)})}(b),function v(P){if(Object(D.getModule)("globalConfiguration").configuration.globalToolSyncEnabled){var S={active:T.setToolActiveForElement,passive:T.setToolPassiveForElement,enabled:T.setToolEnabledForElement,disabled:T.setToolDisabledForElement};D.default.state.globalToolChangeHistory.forEach(function(L){var w=L.args.slice(0);w.unshift(P),S[L.mode].apply(null,w)})}}(b)}},"./store/internals/removeEnabledElement.js":
/*!*************************************************!*\
                  !*** ./store/internals/removeEnabledElement.js ***!
                  \*************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../eventListeners/index.js */
"./eventListeners/index.js"),y=s(
/*! ../../eventDispatchers/index.js */
"./eventDispatchers/index.js"),C=s(
/*! ../index.js */
"./store/index.js"),T=s(
/*! ../../util/logger.js */
"./util/logger.js"),D=s(
/*! ../../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),h=s(
/*! ../setToolMode */
"./store/setToolMode.js"),E=Object(T.getLogger)("internals:removeEnabledElement");d.default=function(P){E.log("EVENT:ELEMENT_DISABLED");var b=P.detail.element,S=Object(C.getModule)("globalConfiguration").configuration;y.imageRenderedEventDispatcher.disable(b),y.newImageEventDispatcher.disable(b),S.mouseEnabled&&(p.mouseEventListeners.disable(b),p.wheelEventListener.disable(b),y.mouseToolEventDispatcher.disable(b)),S.touchEnabled&&(p.touchEventListeners.disable(b),y.touchToolEventDispatcher.disable(b)),O(b),m(b),g(b)};var O=function(b){C.default.state.tools.forEach(function(x){x.element===b&&Object(h.setToolDisabledForElement)(x.element,x.name)}),C.default.state.tools=C.default.state.tools.filter(function(x){return x.element!==b})},m=function(b){C.default.modules&&function v(P){var b=C.default.modules;Object.keys(b).forEach(function(x){"function"==typeof b[x].removeEnabledElementCallback&&b[x].removeEnabledElementCallback(P)})}(b);var x=C.default.state.enabledElements.findIndex(function(S){return S===b});x>-1?C.default.state.enabledElements.splice(x,1):E.warn("unable to remove element")},g=function(b){D.default.removeHandlers(b)}},"./store/isToolActiveForElement.js":
/*!*****************************************!*\
                  !*** ./store/isToolActiveForElement.js ***!
                  \*****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./getToolForElement.js */
"./store/getToolForElement.js");d.default=function(y,C){return"active"===Object(p.default)(y,C).mode}},"./store/modules/cursorModule.js":
/*!***************************************!*\
                  !*** ./store/modules/cursorModule.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s(
/*! ../../externalModules */
"./externalModules.js");var y={iconSize:16,viewBox:{x:16,y:16},mousePoint:{x:8,y:8},mousePointerGroupString:'\n    <path stroke="ACTIVE_COLOR" d="M8 16L8 0"></path>\n    <path stroke="ACTIVE_COLOR" d="M16 8L0 8"></path>\n  '};d.default={configuration:y,getters:{defaultOptions:function(){return y}},setters:{defaultOptions:function(h){Object.assign(y,h)}}}},"./store/modules/globalConfigurationModule.js":
/*!****************************************************!*\
                  !*** ./store/modules/globalConfigurationModule.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default={configuration:{mouseEnabled:!0,touchEnabled:!0,globalToolSyncEnabled:!1,showSVGCursors:!1,autoResizeViewports:!0,lineDash:[4,4]}}},"./store/modules/manipulatorStateModule.js":
/*!*************************************************!*\
                  !*** ./store/modules/manipulatorStateModule.js ***!
                  \*************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../externalModules */
"./externalModules.js"),y={activeManipulators:{}};function T(v){var P=p.default.cornerstone.getEnabledElement(v);delete y.activeManipulators[P.uuid]}function h(v){var P=y.activeManipulators,b=P[v];"function"==typeof b&&b(),delete P[v]}function O(v){T(v.detail.element)}d.default={setters:{addActiveManipulatorForElement:function C(v,P){var b=p.default.cornerstone.getEnabledElement(v);y.activeManipulators[b.uuid]=P},removeActiveManipulatorForElement:T,cancelActiveManipulatorsForElement:function D(v){h(p.default.cornerstone.getEnabledElement(v).uuid)},cancelActiveManipulators:function E(){Object.keys(y.activeManipulators).forEach(function(P){return h(P)})}},state:y,enabledElementCallback:function g(v){var P=p.default.cornerstone.EVENTS.NEW_IMAGE;v.removeEventListener(P,O),v.addEventListener(P,O)},removeEnabledElementCallback:function m(v){v.removeEventListener(p.default.cornerstone.EVENTS.NEW_IMAGE,O),T(v)}}},"./store/modules/segmentationModule/activeLabelmapIndex.js":
/*!*****************************************************************!*\
                  !*** ./store/modules/segmentationModule/activeLabelmapIndex.js ***!
                  \*****************************************************************/
/*! exports provided: getActiveLabelmapIndex, setActiveLabelmapIndex */function(le,d,s){"use strict";s.r(d),s.d(d,"getActiveLabelmapIndex",function(){return h}),s.d(d,"setActiveLabelmapIndex",function(){return E});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./addLabelmap3D */
"./store/modules/segmentationModule/addLabelmap3D.js"),T=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),D=s(
/*! ../../../externalModules */
"./externalModules.js");function h(O){var m=Object(p.default)(O);if(m){var g=Object(y.getToolState)(m,"stack"),b=T.default.series[g.data[0].imageIds[0]];if(b)return b.activeLabelmapIndex}}function E(O){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=Object(p.default)(O);if(g){var v=D.default.cornerstone,b=Object(y.getToolState)(g,"stack").data[0],S=v.getEnabledElement(g).image,j=S.rows*S.columns*b.imageIds.length,W=b.imageIds[0],B=T.default.series[W];B?(B.activeLabelmapIndex=m,B.labelmaps3D[m]||Object(C.default)(B,m,j)):(T.default.series[W]={activeLabelmapIndex:m,labelmaps3D:[]},B=T.default.series[W],Object(C.default)(B,m,j)),v.updateImage(g)}}},"./store/modules/segmentationModule/activeSegmentIndex.js":
/*!****************************************************************!*\
                  !*** ./store/modules/segmentationModule/activeSegmentIndex.js ***!
                  \****************************************************************/
/*! exports provided: getActiveSegmentIndex, setActiveSegmentIndex, incrementActiveSegmentIndex, decrementActiveSegmentIndex */function(le,d,s){"use strict";s.r(d),s.d(d,"getActiveSegmentIndex",function(){return D}),s.d(d,"setActiveSegmentIndex",function(){return h}),s.d(d,"incrementActiveSegmentIndex",function(){return E}),s.d(d,"decrementActiveSegmentIndex",function(){return O});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),T=s(
/*! ../../index.js */
"./store/index.js");function D(g,v){var P=Object(p.default)(g);if(P){var b=Object(y.getToolState)(P,"stack"),L=C.default.series[b.data[0].imageIds[0]];if(L){var w=L.labelmaps3D[v=void 0===v?L.activeLabelmapIndex:v];if(w)return w.activeSegmentIndex}return 1}}function h(g,v){var P=Object(p.default)(g);if(P){var b=Object(y.getToolState)(P,"stack"),L=C.default.series[b.data[0].imageIds[0]];if(L){var N=L.labelmaps3D[L.activeLabelmapIndex],W=Object(T.getModule)("segmentation").configuration;v<=0?v=1:v>W.segmentsPerLabelmap&&(v=W.segmentsPerLabelmap),N.activeSegmentIndex=v}}}function E(g){var v=Object(p.default)(g);v&&m(v,"increase")}function O(g){var v=Object(p.default)(g);v&&m(v,"decrease")}function m(g){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"increase",b=Object(T.getModule)("segmentation").configuration,x=Object(y.getToolState)(g,"stack"),w=C.default.series[x.data[0].imageIds[0]];if(w){var j=w.labelmaps3D[w.activeLabelmapIndex];switch(v){case"increase":j.activeSegmentIndex++,j.activeSegmentIndex>b.segmentsPerLabelmap&&(j.activeSegmentIndex=1);break;case"decrease":j.activeSegmentIndex--,j.activeSegmentIndex<=0&&(j.activeSegmentIndex=b.segmentsPerLabelmap)}}}},"./store/modules/segmentationModule/addLabelmap2D.js":
/*!***********************************************************!*\
                  !*** ./store/modules/segmentationModule/addLabelmap2D.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return D});var p=s(
/*! ./arrayTypes */
"./store/modules/segmentationModule/arrayTypes.js"),y=s(
/*! ../../index.js */
"./store/index.js"),C=p.default.UINT_16_ARRAY,T=p.default.FLOAT_32_ARRAY;function D(h,E,O,m,g){var S,P=Object(y.getModule)("segmentation").configuration,b=m*g,x=b*O;switch(P.arrayType){case C:S=new Uint16Array(h.labelmaps3D[E].buffer,2*x,b);break;case T:S=new Float32Array(h.labelmaps3D[E].buffer,4*x,b);break;default:throw new Error("Unsupported Array Type ".concat(P.arrayType))}h.labelmaps3D[E].labelmaps2D[O]={pixelData:S,segmentsOnLabelmap:[]}}},"./store/modules/segmentationModule/addLabelmap3D.js":
/*!***********************************************************!*\
                  !*** ./store/modules/segmentationModule/addLabelmap3D.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return D});var p=s(
/*! ./arrayTypes */
"./store/modules/segmentationModule/arrayTypes.js"),y=s(
/*! ../../index.js */
"./store/index.js"),C=p.default.UINT_16_ARRAY,T=p.default.FLOAT_32_ARRAY;function D(h,E,O){var v,g=Object(y.getModule)("segmentation").configuration;switch(g.arrayType){case C:v=2;break;case T:v=4;break;default:throw new Error("Unsupported Array Type ".concat(g.arrayType))}h.labelmaps3D[E]={buffer:new ArrayBuffer(O*v),labelmaps2D:[],metadata:[],activeSegmentIndex:1,colorLUTIndex:0,segmentsHidden:[],undo:[],redo:[]}}},"./store/modules/segmentationModule/arrayTypes.js":
/*!********************************************************!*\
                  !*** ./store/modules/segmentationModule/arrayTypes.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default={UINT_16_ARRAY:0,FLOAT_32_ARRAY:1}},"./store/modules/segmentationModule/colorLUT.js":
/*!******************************************************!*\
                  !*** ./store/modules/segmentationModule/colorLUT.js ***!
                  \******************************************************/
/*! exports provided: default, setColorLUTIndexForLabelmap3D, getColorForSegmentIndexColorLUT, setColorForSegmentIndexOfColorLUT, getColorLUT */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return E}),s.d(d,"setColorLUTIndexForLabelmap3D",function(){return O}),s.d(d,"getColorForSegmentIndexColorLUT",function(){return m}),s.d(d,"setColorForSegmentIndexOfColorLUT",function(){return g}),s.d(d,"getColorLUT",function(){return v});var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ../../../util/logger */
"./util/logger.js"),T=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),D=s(
/*! ../../index.js */
"./store/index.js"),h=Object(C.getLogger)("store:modules:segmentationModule:setColorLUT");function E(V){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],q=Object(D.getModule)("segmentation").configuration.segmentsPerLabelmap;F?(function P(V,F){V.length<F?h.warn("The provided colorLUT only provides ".concat(V.length," labels, whereas segmentsPerLabelmap is set to ").concat(F,". Autogenerating the rest.")):V.length>F&&h.warn("segmentsPerLabelmap is set to ".concat(F,", and the provided colorLUT provides ").concat(V.length,". Using the first ").concat(F," colors from the LUT."))}(F,q),F.length<q&&(F=[].concat(y()(F),y()(b(q-F.length))))):F=F||b(q),F.unshift([0,0,0,0]),T.default.colorLutTables[V]=F}function O(V,F){V.colorLUTIndex=F}function m(V,F){return v(V)[F]}function g(V,F,z){v(V)[F]=z}function v(V){return"number"==typeof V?T.default.colorLutTables[V]:T.default.colorLutTables[V.colorLUTIndex]}function b(){for(var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:255,F=[],z=0;z<V;z++)F.push(G(L(),B()));return F}var x=137.5,S=222.5;function L(){return(S+=x)>=360&&(S-=360),S}var w=.6,N=.82,j=.3,W=.07;function B(){return(w+=W)>N&&(w=j+(w-N)),w}function G(V){var oe,$,Z,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,q=(1-Math.abs(2*z-1))*F,ae=q*(1-Math.abs(V/60%2-1)),ie=z-q/2;return V<60?(oe=q,$=ae,Z=0):V<120?(oe=ae,$=q,Z=0):V<180?(oe=0,$=q,Z=ae):V<240?(oe=0,$=ae,Z=q):V<300?(oe=ae,$=0,Z=q):V<360&&(oe=q,$=0,Z=ae),[255*(oe+ie),255*($+ie),255*(Z+ie),te]}},"./store/modules/segmentationModule/defaultConfiguration.js":
/*!******************************************************************!*\
                  !*** ./store/modules/segmentationModule/defaultConfiguration.js ***!
                  \******************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./arrayTypes */
"./store/modules/segmentationModule/arrayTypes.js");d.default={renderOutline:!0,renderFill:!0,shouldRenderInactiveLabelmaps:!0,radius:10,minRadius:1,maxRadius:50,fillAlpha:.2,fillAlphaInactive:.1,outlineAlpha:.7,outlineAlphaInactive:.35,outlineWidth:3,storeHistory:!0,segmentsPerLabelmap:65535,arrayType:p.default.UINT_16_ARRAY}},"./store/modules/segmentationModule/deleteSegment.js":
/*!***********************************************************!*\
                  !*** ./store/modules/segmentationModule/deleteSegment.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return D});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),T=s(
/*! ../../../externalModules */
"./externalModules.js");function D(h,E,O){if(E){var m=Object(p.default)(h);if(m){var g=Object(y.getToolState)(m,"stack"),b=C.default.series[g.data[0].imageIds[0]];if(b){var x=b.labelmaps3D[O=void 0===O?b.activeLabelmapIndex:O];if(x){delete x.metadata[E];for(var S=x.labelmaps2D,L=0;L<S.length;L++){var w=S[L];if(w&&w.segmentsOnLabelmap.includes(E)){var N=w.pixelData,j=w.segmentsOnLabelmap.indexOf(E);w.segmentsOnLabelmap.splice(j,1);for(var W=0;W<N.length;W++)N[W]===E&&(N[W]=0)}}T.default.cornerstone.updateImage(m)}}}}}},"./store/modules/segmentationModule/getBrushColor.js":
/*!***********************************************************!*\
                  !*** ./store/modules/segmentationModule/getBrushColor.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return h});var p=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),y=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),C=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),T=s(
/*! ../../../util/logger */
"./util/logger.js"),D=Object(T.getLogger)("store:modules:segmentationModule:getBrushColor");function h(E){var O=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=Object(C.default)(E);if(m){var g=Object(p.getToolState)(m,"stack");if(!g)return void D.error("Consumers must define stacks in their application if using segmentations in cornerstoneTools.");var x,b=y.default.series[g.data[0].imageIds[0]];if(b){var L=b.labelmaps3D[b.activeLabelmapIndex];x=y.default.colorLutTables[L.colorLUTIndex][L.activeSegmentIndex]}else x=y.default.colorLutTables[0][1];return O?"rgba(".concat(x[0],", ").concat(x[1],", ").concat(x[2],", 1.0 )"):"rgba(".concat(x[0],", ").concat(x[1],", ").concat(x[2],", 0.8 )")}}},"./store/modules/segmentationModule/getElement.js":
/*!********************************************************!*\
                  !*** ./store/modules/segmentationModule/getElement.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../../index.js */
"./store/index.js");function y(C){return C instanceof HTMLElement?C:p.getters.enabledElementByUID(C)}},"./store/modules/segmentationModule/getLabelmap2D.js":
/*!***********************************************************!*\
                  !*** ./store/modules/segmentationModule/getLabelmap2D.js ***!
                  \***********************************************************/
/*! exports provided: default, getLabelmap2DByImageIdIndex */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return x}),s.d(d,"getLabelmap2DByImageIdIndex",function(){return S});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./getSegmentsOnPixeldata */
"./store/modules/segmentationModule/getSegmentsOnPixeldata.js"),T=s(
/*! ./addLabelmap3D */
"./store/modules/segmentationModule/addLabelmap3D.js"),D=s(
/*! ./addLabelmap2D */
"./store/modules/segmentationModule/addLabelmap2D.js"),h=s(
/*! ../../../externalModules */
"./externalModules.js"),E=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),O=s(
/*! ./arrayTypes */
"./store/modules/segmentationModule/arrayTypes.js"),m=s(
/*! ../../index.js */
"./store/index.js"),g=s(
/*! ../../../util/logger */
"./util/logger.js"),v=O.default.UINT_16_ARRAY,P=O.default.FLOAT_32_ARRAY,b=Object(g.getLogger)("store:modules:segmentationModule:getLabelmap2D");function x(L){var w=Object(p.default)(L);if(w){var N=h.default.cornerstone,j=Object(y.getToolState)(w,"stack");if(!j)return void b.error("Consumers must define stacks in their application if using segmentations in cornerstoneTools.");var ie,W=j.data[0],B=N.getEnabledElement(w),G=W.currentImageIdIndex,V=B.image,F=V.rows,z=V.columns,te=W.imageIds.length,q=W.imageIds[0],ae=E.default.series[q];if(ae){if(!ae.labelmaps3D[ie=ae.activeLabelmapIndex]){var oe=F*z*te;Object(T.default)(ae,ie,oe)}ae.labelmaps3D[ie].labelmaps2D[G]||Object(D.default)(ae,ie,G,F,z)}else{E.default.series[q]={activeLabelmapIndex:ie=0,labelmaps3D:[]},ae=E.default.series[q];var $=F*z*te;Object(T.default)(ae,ie,$),Object(D.default)(ae,ie,G,F,z)}var Z=ae.labelmaps3D[ie];return{labelmap2D:Z.labelmaps2D[G],labelmap3D:Z,currentImageIdIndex:G,activeLabelmapIndex:ie}}}function S(L,w,N,j){if(!L.labelmaps2D[w]){var F,B=Object(m.getModule)("segmentation").configuration,G=N*j,V=G*w;switch(B.arrayType){case v:F=new Uint16Array(L.buffer,2*V,G);break;case P:F=new Float32Array(L.buffer,4*V,G);break;default:throw new Error("Unsupported Array Type ".concat(B.arrayType))}L.labelmaps2D[w]={pixelData:F,segmentsOnLabelmap:Object(C.default)(F)}}return L.labelmaps2D[w]}},"./store/modules/segmentationModule/getLabelmapBuffers.js":
/*!****************************************************************!*\
                  !*** ./store/modules/segmentationModule/getLabelmapBuffers.js ***!
                  \****************************************************************/
/*! exports provided: getLabelmapBuffers, getActiveLabelmapBuffer */function(le,d,s){"use strict";s.r(d),s.d(d,"getLabelmapBuffers",function(){return m}),s.d(d,"getActiveLabelmapBuffer",function(){return g});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./getLabelmaps3D */
"./store/modules/segmentationModule/getLabelmaps3D.js"),T=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),D=s(
/*! ./arrayTypes */
"./store/modules/segmentationModule/arrayTypes.js"),h=s(
/*! ../../index.js */
"./store/index.js"),E=D.default.UINT_16_ARRAY,O=D.default.FLOAT_32_ARRAY;function m(v,P){var b=Object(p.default)(v);if(b){var S=Object(C.default)(b).labelmaps3D;if(!S)return[];var N,j,w=Object(h.getModule)("segmentation").configuration;switch(w.arrayType){case E:N="Uint16Array",j="2";break;case O:N="Float32Array",j="4";break;default:throw new Error("Unsupported Array Type ".concat(w.arrayType))}var W=T.default.colorLutTables;if(void 0!==P){var B=S[P];return B?{labelmapIndex:P,bytesPerVoxel:j,type:N,buffer:B.buffer,colorLUT:W[B.colorLUTIndex]}:void 0}for(var G=[],V=0;V<S.length;V++){var F=S[V];F&&G.push({labelmapIndex:V,bytesPerVoxel:2,buffer:F.buffer,colorLUT:W[F.colorLUTIndex]})}return G}}function g(v){var P=Object(p.default)(v);if(P){var b=Object(y.getToolState)(P,"stack"),L=T.default.series[b.data[0].imageIds[0]];if(L)return m(P,L.activeLabelmapIndex)}}},"./store/modules/segmentationModule/getLabelmapStats.js":
/*!**************************************************************!*\
                  !*** ./store/modules/segmentationModule/getLabelmapStats.js ***!
                  \**************************************************************/
/*! exports provided: default, _calculateLabelmapStats */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return E}),s.d(d,"_calculateLabelmapStats",function(){return m});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),T=s(
/*! ../../../externalModules */
"./externalModules.js"),D=s(
/*! ../../../util/logger */
"./util/logger.js"),h=Object(D.getLogger)("store:modules:segmentationModule:getLabelmapStats");function E(b,x,S){var L=T.default.cornerstone,w=Object(p.default)(b);if(!w)return null;var j=Object(y.getToolState)(w,"stack").data[0].imageIds,W=j[0];return new Promise(function(B){var G=C.default.series[W];G||B(null);var V=function O(b){for(var x=[],L=T.default.cornerstone.metaData,w=!0,N=0;N<b.length;N++){var j=L.get("imagePlaneModule",b[N]);if(!j){w=!1;break}x.push(j)}return{sufficientMetadata:w,imagePlanes:x}}(j),z=V.imagePlanes;V.sufficientMetadata||(h.warn("Insufficient imagePlaneModule information to calculate volume statistics."),B(null));for(var te=G.labelmaps3D[S=void 0===S?G.activeLabelmapIndex:S],q=[],ae=0;ae<j.length;ae++)q.push(L.loadAndCacheImage(j[ae]));Promise.all(q).then(function(ie){var oe=m(te,ie,z,x);B(oe)})})}function m(b,x,S,L){for(var w=function g(b,x,S,L){for(var w=x[0],N=w.rowPixelSpacing,j=w.columnPixelSpacing,W=b.labelmaps2D,B=[],G=0;G<W.length;G++){var V=W[G];if(V&&V.segmentsOnLabelmap.includes(L)){for(var z=v(x,S,G)*N*j,te=V.pixelData,q=x[G].getPixelData(),ae=[],ie=0;ie<te.length;ie++)te[ie]===L&&ae.push(q[ie]);B.push({voxelInMM3:z,values:ae})}}return B}(b,x,S,L),N=0,j=w[0].values[0],W=j,B=0,G=0;G<w.length;G++){var V=w[G];B+=(z=V.voxelInMM3)*(F=V.values).length;var te=0;F.forEach(function($){$>j?j=$:$<W&&(W=$),te+=$}),N+=te*z}N/=B;for(var q=0,ae=0;ae<w.length;ae++){var F,ie=w[ae],z=ie.voxelInMM3,oe=0;(F=ie.values).forEach(function(K){oe+=Math.pow(K-N,2)}),q+=oe*z}return q/=B,q=Math.sqrt(q),{volume:B,mean:N,stdDev:q,max:j,min:W}}function v(b,x,S){var L=b.length,w=x[S].imagePositionPatient;if(0===S)return P(w,x[S+1].imagePositionPatient);if(S===L-1)return P(w,x[S-1].imagePositionPatient);var B=x[S+1].imagePositionPatient;return(P(w,x[S-1].imagePositionPatient)+P(w,B))/2}function P(b,x){return Math.sqrt(Math.pow(b[0]-x[0],2)+Math.pow(b[1]-x[1],2)+Math.pow(b[2]-x[2],2))}},"./store/modules/segmentationModule/getLabelmaps3D.js":
/*!************************************************************!*\
                  !*** ./store/modules/segmentationModule/getLabelmaps3D.js ***!
                  \************************************************************/
/*! exports provided: default, getLabelmap3D */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return h}),s.d(d,"getLabelmap3D",function(){return E});var p=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),y=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),C=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),T=s(
/*! ../../../util/logger */
"./util/logger.js"),D=Object(T.getLogger)("store:modules:segmentationModule:getLabelmaps3D");function h(O){var m=Object(y.default)(O);if(m){var g=Object(p.getToolState)(m,"stack");if(!g)return void D.error("Consumers must define stacks in their application if using segmentations in cornerstoneTools.");var x,S,v=g.data[0],b=C.default.series[v.imageIds[0]];return b&&(x=b.labelmaps3D,S=b.activeLabelmapIndex),{labelmaps3D:x,activeLabelmapIndex:S,currentImageIdIndex:v.currentImageIdIndex}}}function E(O,m){var g=h(O);return g.labelmaps3D[m=void 0!==m?m:g.activeLabelmapIndex]}},"./store/modules/segmentationModule/getSegmentOfActiveLabelmapAtEvent.js":
/*!*******************************************************************************!*\
                  !*** ./store/modules/segmentationModule/getSegmentOfActiveLabelmapAtEvent.js ***!
                  \*******************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return h});var p=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),y=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),C=s(
/*! ../../../util/isPointInImage */
"./util/isPointInImage.js"),T=s(
/*! ../../../util/logger */
"./util/logger.js"),D=Object(T.getLogger)("store:modules:segmentationModule:getSegmentOfActiveLabelmapAtEvent");function h(E){var O=E.detail,m=O.element,g=O.image,v=O.currentPoints;if(v){var P=g.width,b=g.height;if(m){var S=Object(p.getToolState)(m,"stack").data[0],N=y.default.series[S.imageIds[0]],W=N.labelmaps3D[N.activeLabelmapIndex];if(W){var B=W.labelmaps2D[S.currentImageIdIndex];if(B){var G=B.pixelData,V=v.image,F=V.x,z=V.y;if(F=Math.floor(F),z=Math.floor(z),Object(C.default)({x:F,y:z},b,P)){var te=G[z*P+F];return 0===te?void 0:{segmentIndex:te,metadata:W.metadata[te]}}}}}}else D.warn("Not a cornerstone input event.")}},"./store/modules/segmentationModule/getSegmentsOnPixeldata.js":
/*!********************************************************************!*\
                  !*** ./store/modules/segmentationModule/getSegmentsOnPixeldata.js ***!
                  \********************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p);function C(T){return y()(new Set(T))}},"./store/modules/segmentationModule/history.js":
/*!*****************************************************!*\
                  !*** ./store/modules/segmentationModule/history.js ***!
                  \*****************************************************/
/*! exports provided: pushState, undo, redo */function(le,d,s){"use strict";s.r(d),s.d(d,"pushState",function(){return D}),s.d(d,"undo",function(){return h}),s.d(d,"redo",function(){return E});var p=s(
/*! ./getLabelmaps3D */
"./store/modules/segmentationModule/getLabelmaps3D.js"),y=s(
/*! ../../../util/logger */
"./util/logger.js"),C=s(
/*! ../../../externalModules */
"./externalModules.js"),T=Object(y.getLogger)("util:segmentation:labelmap3DHistory");function D(m,g,v){var P=Object(p.getLabelmap3D)(m,v);P.undo.push(g),P.redo=[]}function h(m,g){var v=Object(p.getLabelmap3D)(m,g),P=v.undo,b=v.redo;if(P.length){var x=P.pop();O(v,x,1),b.push(x),C.default.cornerstone.updateImage(m)}else T.warn("No undos left.")}function E(m,g){var v=Object(p.getLabelmap3D)(m,g),P=v.undo,b=v.redo;if(b.length){var x=b.pop();O(v,x,2),P.push(x),C.default.cornerstone.updateImage(m)}else T.warn("No redos left.")}function O(m,g,v){var P=m.labelmaps2D;g.forEach(function(b){for(var S=b.diff,w=P[b.imageIdIndex].pixelData,N=0;N<S.length;N++){var j=S[N];w[j[0]]=j[v]}})}},"./store/modules/segmentationModule/index.js":
/*!***************************************************!*\
                  !*** ./store/modules/segmentationModule/index.js ***!
                  \***************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./metadata */
"./store/modules/segmentationModule/metadata.js"),y=s(
/*! ./activeLabelmapIndex */
"./store/modules/segmentationModule/activeLabelmapIndex.js"),C=s(
/*! ./activeSegmentIndex */
"./store/modules/segmentationModule/activeSegmentIndex.js"),T=s(
/*! ./segmentVisibility.js */
"./store/modules/segmentationModule/segmentVisibility.js"),D=s(
/*! ./getLabelmapBuffers */
"./store/modules/segmentationModule/getLabelmapBuffers.js"),h=s(
/*! ./setLabelmap3D.js */
"./store/modules/segmentationModule/setLabelmap3D.js"),E=s(
/*! ./getLabelmapStats */
"./store/modules/segmentationModule/getLabelmapStats.js"),O=s(
/*! ./getLabelmaps3D */
"./store/modules/segmentationModule/getLabelmaps3D.js"),m=s(
/*! ./getLabelmap2D */
"./store/modules/segmentationModule/getLabelmap2D.js"),g=s(
/*! ./getSegmentOfActiveLabelmapAtEvent */
"./store/modules/segmentationModule/getSegmentOfActiveLabelmapAtEvent.js"),v=s(
/*! ./colorLUT */
"./store/modules/segmentationModule/colorLUT.js"),P=s(
/*! ./getBrushColor */
"./store/modules/segmentationModule/getBrushColor.js"),b=s(
/*! ./getSegmentsOnPixeldata */
"./store/modules/segmentationModule/getSegmentsOnPixeldata.js"),x=s(
/*! ./deleteSegment */
"./store/modules/segmentationModule/deleteSegment.js"),S=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),L=s(
/*! ./defaultConfiguration */
"./store/modules/segmentationModule/defaultConfiguration.js"),w=s(
/*! ./history */
"./store/modules/segmentationModule/history.js"),N=s(
/*! ./setRadius */
"./store/modules/segmentationModule/setRadius.js");d.default={state:S.default,configuration:L.default,onRegisterCallback:function j(){Object(v.default)(0)},getters:{metadata:p.getMetadata,labelmap3D:O.getLabelmap3D,labelmaps3D:O.default,activeLabelmapIndex:y.getActiveLabelmapIndex,activeSegmentIndex:C.getActiveSegmentIndex,isSegmentVisible:T.isSegmentVisible,labelmap2D:m.default,labelmap2DByImageIdIndex:m.getLabelmap2DByImageIdIndex,labelmapStats:E.default,segmentOfActiveLabelmapAtEvent:g.default,brushColor:P.default,labelmapBuffers:D.getLabelmapBuffers,activeLabelmapBuffer:D.getActiveLabelmapBuffer,colorLUT:v.getColorLUT,colorForSegmentIndexColorLUT:v.getColorForSegmentIndexColorLUT},setters:{metadata:p.setMetadata,labelmap3DForElement:h.setLabelmap3DForElement,labelmap3DByFirstImageId:h.setLabelmap3DByFirstImageId,incrementActiveSegmentIndex:C.incrementActiveSegmentIndex,decrementActiveSegmentIndex:C.decrementActiveSegmentIndex,activeSegmentIndex:C.setActiveSegmentIndex,toggleSegmentVisibility:T.toggleSegmentVisibility,updateSegmentsOnLabelmap2D:function(B){B.segmentsOnLabelmap=Object(b.default)(B.pixelData)},deleteSegment:x.default,colorLUT:v.default,colorLUTIndexForLabelmap3D:v.setColorLUTIndexForLabelmap3D,colorForSegmentIndexOfColorLUT:v.setColorForSegmentIndexOfColorLUT,activeLabelmapIndex:y.setActiveLabelmapIndex,radius:N.default,pushState:w.pushState,undo:w.undo,redo:w.redo}}},"./store/modules/segmentationModule/metadata.js":
/*!******************************************************!*\
                  !*** ./store/modules/segmentationModule/metadata.js ***!
                  \******************************************************/
/*! exports provided: getMetadata, setMetadata */function(le,d,s){"use strict";s.r(d),s.d(d,"getMetadata",function(){return O}),s.d(d,"setMetadata",function(){return m});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ./addLabelmap3D */
"./store/modules/segmentationModule/addLabelmap3D.js"),C=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),T=s(
/*! ../../../externalModules */
"./externalModules.js"),D=s(
/*! ../../../util/logger */
"./util/logger.js"),h=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),E=Object(D.getLogger)("store:modules:segmentationModule:metadata");function O(g,v,P){var b=Object(p.default)(g);if(b){var x=Object(C.getToolState)(b,"stack"),w=h.default.series[x.data[0].imageIds[0]];if(!w)return void E.warn("brushStackState is undefined");if(!w.labelmaps3D[v=void 0===v?w.activeLabelmapIndex:v])return void E.warn("No labelmap3D of labelmap index ".concat(v," on stack."));var N=w.labelmaps3D[v];return void 0===P?N.metadata:N.metadata[P]}}function m(g){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2?arguments[2]:void 0,b=arguments.length>3?arguments[3]:void 0,x=Object(p.default)(g);if(x){var S=T.default.cornerstone,w=Object(C.getToolState)(x,"stack").data[0],N=w.imageIds[0],j=h.default.series[N];if(j||(h.default.series[N]={labelmapIndex:v,labelmaps3D:[]},j=h.default.series[N]),!j.labelmaps3D[v]){var B=S.getEnabledElement(x).image,z=B.rows*B.columns*w.imageIds.length;Object(y.default)(j,v,z)}j.labelmaps3D[v].metadata[P]=b}}},"./store/modules/segmentationModule/segmentVisibility.js":
/*!***************************************************************!*\
                  !*** ./store/modules/segmentationModule/segmentVisibility.js ***!
                  \***************************************************************/
/*! exports provided: isSegmentVisible, toggleSegmentVisibility */function(le,d,s){"use strict";s.r(d),s.d(d,"isSegmentVisible",function(){return h}),s.d(d,"toggleSegmentVisibility",function(){return E});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),T=s(
/*! ../../../util/logger */
"./util/logger.js"),D=Object(T.getLogger)("store:modules:segmentationModule:segmentVisibility");function h(O,m,g){if(m){var v=Object(p.default)(O);if(v){var P=Object(y.getToolState)(v,"stack"),S=C.default.series[P.data[0].imageIds[0]];return S?S.labelmaps3D[g=void 0===g?S.activeLabelmapIndex:g]?!S.labelmaps3D[g].segmentsHidden[m]:void D.warn("No labelmap3D of labelmap index ".concat(g," on stack.")):void D.warn("brushStackState is undefined")}}}function E(O,m,g){if(m){var v=Object(p.default)(O);if(v){var P=Object(y.getToolState)(v,"stack"),S=C.default.series[P.data[0].imageIds[0]];if(!S)return void D.warn("brushStackState is undefined");if(!S.labelmaps3D[g=void 0===g?S.activeLabelmapIndex:g])return void D.warn("No labelmap3D of labelmap index ".concat(g," on stack."));var w=S.labelmaps3D[g].segmentsHidden;return w[m]=!w[m],!w[m]}}}},"./store/modules/segmentationModule/setLabelmap3D.js":
/*!***********************************************************!*\
                  !*** ./store/modules/segmentationModule/setLabelmap3D.js ***!
                  \***********************************************************/
/*! exports provided: setLabelmap3DByFirstImageId, setLabelmap3DForElement */function(le,d,s){"use strict";s.r(d),s.d(d,"setLabelmap3DByFirstImageId",function(){return v}),s.d(d,"setLabelmap3DForElement",function(){return g});var p=s(
/*! ./getElement */
"./store/modules/segmentationModule/getElement.js"),y=s(
/*! ../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./state */
"./store/modules/segmentationModule/state.js"),T=s(
/*! ./getSegmentsOnPixeldata */
"./store/modules/segmentationModule/getSegmentsOnPixeldata.js"),D=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),h=s(
/*! ./arrayTypes */
"./store/modules/segmentationModule/arrayTypes.js"),E=s(
/*! ../../index.js */
"./store/index.js"),O=h.default.UINT_16_ARRAY,m=h.default.FLOAT_32_ARRAY;function g(P,b,x){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],L=arguments.length>4?arguments[4]:void 0,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,N=Object(p.default)(P);if(N){var j=Object(y.getToolState)(N,"stack");v(j.data[0].imageIds[0],b,x,S,j.data[0].imageIds.length,L,w),Object(D.triggerLabelmapModifiedEvent)(N,x)}}function v(P,b,x){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],L=arguments.length>4?arguments[4]:void 0,w=arguments.length>5?arguments[5]:void 0,N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,W=Object(E.getModule)("segmentation").configuration,B=C.default.series[P];B||(C.default.series[P]={activeLabelmapIndex:x,labelmaps3D:[]},B=C.default.series[P]),B.labelmaps3D[x]={buffer:b,labelmaps2D:[],metadata:S,activeSegmentIndex:1,colorLUTIndex:N,segmentsHidden:[],undo:[],redo:[]};for(var G=B.labelmaps3D[x].labelmaps2D,V=b.byteLength/L,F=0;F<L;F++){var z=void 0;switch(W.arrayType){case O:z=new Uint16Array(b,V*F,V/2);break;case m:z=new Float32Array(b,V*F,V/4);break;default:throw new Error("Unsupported Array Type ".concat(W.arrayType))}var te=w?w[F]:Object(T.default)(z);te&&te.some(function(q){return q})&&(G[F]={pixelData:z,segmentsOnLabelmap:te})}}},"./store/modules/segmentationModule/setRadius.js":
/*!*******************************************************!*\
                  !*** ./store/modules/segmentationModule/setRadius.js ***!
                  \*******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../../index */
"./store/index.js");function y(C){var D=Object(p.getModule)("segmentation").configuration;D.radius=Math.min(Math.max(C,D.minRadius),D.maxRadius)}},"./store/modules/segmentationModule/state.js":
/*!***************************************************!*\
                  !*** ./store/modules/segmentationModule/state.js ***!
                  \***************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default={series:{},colorLutTables:[]}},"./store/removeTool.js":
/*!*****************************!*\
                  !*** ./store/removeTool.js ***!
                  \*****************************/
/*! exports provided: removeTool, removeToolForElement */function(le,d,s){"use strict";s.r(d),s.d(d,"removeTool",function(){return C}),s.d(d,"removeToolForElement",function(){return y});var p=s(
/*! ./index.js */
"./store/index.js"),y=function(h,E){var O=p.default.state.tools.findIndex(function(m){return m.element===h&&m.name===E});O>=0&&p.default.state.tools.splice(O,1)},C=function(h){T(h),p.default.state.enabledElements.forEach(function(E){y(E,h)})},T=function(h){Object(p.getModule)("globalConfiguration").configuration.globalToolSyncEnabled&&p.default.state.globalTools[h]&&delete p.default.state.globalTools[h]}},"./store/setToolCursor.js":
/*!********************************!*\
                  !*** ./store/setToolCursor.js ***!
                  \********************************/
/*! exports provided: setToolCursor, resetToolCursor, hideToolCursor */function(le,d,s){"use strict";s.r(d),s.d(d,"setToolCursor",function(){return C}),s.d(d,"resetToolCursor",function(){return T}),s.d(d,"hideToolCursor",function(){return D});var p=s(
/*! ./index.js */
"./store/index.js"),y=p.modules.globalConfiguration;function C(E,O){if(y.configuration.showSVGCursors){var m=O.getIconWithPointerSVG(),g=O.mousePoint,v=window.URL.createObjectURL(m);E.style.cursor="url('".concat(v,"') ").concat(g,", auto"),p.state.svgCursorUrl=v}}function T(E){h(E,"initial")}function D(E){y.configuration.showSVGCursors&&h(E,"none")}function h(E,O){p.state.svgCursorUrl&&window.URL.revokeObjectURL(p.state.svgCursorUrl),p.state.svgCursorUrl=null,E.style.cursor=O}},"./store/setToolMode.js":
/*!******************************!*\
                  !*** ./store/setToolMode.js ***!
                  \******************************/
/*! exports provided: setToolActive, setToolActiveForElement, setToolDisabled, setToolDisabledForElement, setToolEnabled, setToolEnabledForElement, setToolPassive, setToolPassiveForElement, setToolMode, setToolModeForElement, _getNormalizedOptions, _mergeMouseButtonMask */function(le,d,s){"use strict";s.r(d),s.d(d,"setToolActive",function(){return v}),s.d(d,"setToolActiveForElement",function(){return m}),s.d(d,"setToolDisabled",function(){return b}),s.d(d,"setToolDisabledForElement",function(){return P}),s.d(d,"setToolEnabled",function(){return S}),s.d(d,"setToolEnabledForElement",function(){return x}),s.d(d,"setToolPassive",function(){return w}),s.d(d,"setToolPassiveForElement",function(){return L}),s.d(d,"setToolMode",function(){return j}),s.d(d,"setToolModeForElement",function(){return N}),s.d(d,"_getNormalizedOptions",function(){return ae}),s.d(d,"_mergeMouseButtonMask",function(){return ie});var p=s(
/*! ./../events.js */
"./events.js"),y=s(
/*! ./../util/triggerEvent.js */
"./util/triggerEvent.js"),C=s(
/*! ./getToolForElement.js */
"./store/getToolForElement.js"),T=s(
/*! ./setToolCursor.js */
"./store/setToolCursor.js"),D=s(
/*! ../util/logger.js */
"./util/logger.js"),h=s(
/*! ./index.js */
"./store/index.js"),E=Object(h.getModule)("globalConfiguration"),O=Object(D.getLogger)("store:setToolMode"),m=function($,Z,K,Q){void 0===Q&&Array.isArray(K)&&(Q=K,K=null);var ee=Object(C.default)($,Z);ee&&(function W(oe,$,Z,K){$.supportedInteractionTypes.forEach(function(ee){if(void 0===K||K.includes(ee)){var ne=q[ee];ne?ne($,oe,Z):O.warn("Unable to resolve input conflicts for type %s",ee)}}),h.default.state.tools.filter(function(ee){return ee.element===oe&&"active"===ee.mode&&ee.supportedInteractionTypes.length>0}).forEach(function(ee){var ne=!1;ee.supportedInteractionTypes.forEach(function(ue){ee.options["is".concat(ue,"Active")]&&(ne=!0)}),ne||(O.log("Setting tool %s's to PASSIVE",ee.name),L(oe,ee.name))})}($,ee,K,Q),ee.supportedInteractionTypes.forEach(function(ne){void 0===Q||Q.includes(ne)?K["is".concat(ne,"Active")]=!0:K["is".concat(ne,"Active")]=!1}),E.configuration.showSVGCursors&&ee.supportedInteractionTypes.includes("Mouse")&&function g(oe,$,Z){("number"==typeof $?[$]:$.mouseButtonMask).includes(1)&&(Z.svgCursor?Object(T.setToolCursor)(Z.element,Z.svgCursor):Z.hideDefaultCursor?Object(T.hideToolCursor)(oe):Object(T.resetToolCursor)(oe))}($,K,ee)),N("active",null,$,Z,K)};var v=function($,Z,K){z("active",$,Z,K),h.default.state.enabledElements.forEach(function(Q){m(Q,$,Z,K)})},P=N.bind(null,"disabled",null),b=j.bind(null,"disabled",null),x=N.bind(null,"enabled",null),S=j.bind(null,"enabled",null),L=N.bind(null,"passive",p.default.TOOL_DEACTIVATED),w=j.bind(null,"passive",p.default.TOOL_DEACTIVATED);function N(oe,$,Z,K,Q){var ee=Object(C.default)(Z,K);if(ee){if(Q=ae(Q),Array.isArray(Q.mouseButtonMask)&&0!==Q.mouseButtonMask.length&&Array.isArray(ee.options.mouseButtonMask)&&(Q.mouseButtonMask=ie(Q.mouseButtonMask,ee.options.mouseButtonMask)),ee.mode=oe,ee.mergeOptions(Q),ee["".concat(oe,"Callback")]&&ee["".concat(oe,"Callback")](Z,Q),$){var ne={options:Q,toolName:K,toolType:K,type:$};Object(y.default)(Z,$,ne)}}else O.warn('Unable to find tool "%s" for enabledElement',K)}function j(oe,$,Z,K){z(oe,Z,K),h.default.state.enabledElements.forEach(function(Q){N(oe,$,Q,Z,K)})}function F(oe,$,Z){var K="is".concat(oe,"Active"),Q=h.default.state.tools.find(function(ee){return ee.element===Z&&"active"===ee.mode&&!0===ee.options[K]});Q&&(O.log("Setting tool %s's %s to false",Q.name,K),Q.options[K]=!1)}function z(oe,$,Z,K){if(E.configuration.globalToolSyncEnabled){var Q={mode:oe,args:[$,Z]};K&&Q.push(K),h.default.state.globalToolChangeHistory.push(Q),h.default.state.globalToolChangeHistory.length>50&&h.default.state.globalToolChangeHistory.shift();var ne=h.default.state.globalTools[$];if(!ne)return void O.warn("setToolMode call for tool not available globally: ".concat($));if("active"===oe){var ue=function te(oe,$,Z){void 0===Z&&Array.isArray($)&&(Z=$,$=null);var K=[],Q=h.default.state.globalTools[oe];if(Q){var ee=new Q.tool(Q.props);ee.supportedInteractionTypes.forEach(function(ne){if(void 0===Z||Z.includes(ne))if("Mouse"===ne){var ue=ae($).mouseButtonMask;Array.isArray(ue)&&ue.length>0?ue.forEach(function(ye){return K.push("".concat(ne,"-").concat(ye))}):Array.isArray(ue)&&0===ue.length&&K.push("".concat(ne,"-DELETE"))}else K.push("MultiTouch"===ne?"".concat(ne,"-").concat(ee.configuration.touchPointers):ne)})}return K}($,Z,K);Object.keys(h.default.state.globalTools).forEach(function(ye){var Ee=h.default.state.globalTools[ye];Ee.activeBindings=Ee.activeBindings.filter(function(Se){return!ue.includes(Se)})}),ue.some(function(ye){return ye.includes("Mouse-DELETE")})&&(ne.activeBindings=ne.activeBindings.filter(function(ye){return!ye.includes("Mouse")}),ue=ue.filter(function(ye){return!ye.includes("Mouse")})),ne.activeBindings=ne.activeBindings.concat(ue)}else ne.activeBindings=[]}}var q={Mouse:function B(oe,$,Z){var K=ae(Z).mouseButtonMask;if(Array.isArray(K)&&K.length>0){var ee=h.default.state.tools.find(function(ne){return ne.element===$&&"active"===ne.mode&&!0===ne.options.isMouseActive&&Array.isArray(ne.options.mouseButtonMask)&&ne.options.mouseButtonMask.some(function(ue){return K.includes(ue)})});ee&&(ee.options.mouseButtonMask=ee.options.mouseButtonMask.filter(function(ne){return!K.includes(ne)}),0===ee.options.mouseButtonMask.length&&(ee.options.isMouseActive=!1))}},MouseWheel:F.bind(void 0,"MouseWheel"),Touch:function G(oe,$){var Z=h.default.state.tools.find(function(Q){return Q.element===$&&"active"===Q.mode&&!0===Q.options.isTouchActive}),K=h.default.state.tools.find(function(Q){return Q.element===$&&"active"===Q.mode&&!0===Q.options.isMultiTouchActive&&1===Q.configuration.touchPointers});Z&&(O.log("Setting tool %s's isTouchActive to false",Z.name),Z.options.isTouchActive=!1),K&&(O.log("Setting tool %s's isTouchActive to false",K.name),K.options.isMultiTouchActive=!1)},TouchPinch:F.bind(void 0,"TouchPinch"),TouchRotate:F.bind(void 0,"TouchRotate"),DoubleTap:F.bind(void 0,"DoubleTap"),MultiTouch:function V(oe,$){var K,Z=h.default.state.tools.find(function(Q){return Q.element===$&&"active"===Q.mode&&!0===Q.options.isMultiTouchActive&&Q.configuration.touchPointers===oe.configuration.touchPointers});1===oe.configuration.touchPointers&&(K=h.default.state.tools.find(function(Q){return Q.element===$&&"active"===Q.mode&&!0===Q.options.isTouchActive})),Z&&(O.log("Setting tool %s's isMultiTouchActive to false",Z.name),Z.options.isMultiTouchActive=!1),K&&(O.log("Setting tool %s's isTouchActive to false",K.name),K.options.isTouchActive=!1)}};function ae(oe){return Array.isArray(oe)?oe={mouseButtonMask:oe}:oe!==Object(oe)&&(oe={mouseButtonMask:[oe]}),oe.hasOwnProperty("mouseButtonMask")||(oe.mouseButtonMask=[]),Array.isArray(oe.mouseButtonMask)||(oe.mouseButtonMask=[oe.mouseButtonMask]),oe.mouseButtonMask=oe.mouseButtonMask.filter(function($){return"number"==typeof $&&0!==$}),oe}function ie(oe,$){return oe.concat($).reduce(function(Z,K){return-1===Z.indexOf(K)&&Z.push(K),Z},[])}},"./store/setToolOptions.js":
/*!*********************************!*\
                  !*** ./store/setToolOptions.js ***!
                  \*********************************/
/*! exports provided: setToolOptions, setToolOptionsForElement */function(le,d,s){"use strict";s.r(d),s.d(d,"setToolOptions",function(){return T}),s.d(d,"setToolOptionsForElement",function(){return C});var p=s(
/*! ./getToolForElement.js */
"./store/getToolForElement.js"),y=s(
/*! ./index.js */
"./store/index.js"),C=function(h,E,O){var m=Object(p.default)(h,E);m&&m.mergeOptions(O)},T=function(h,E){y.state.enabledElements.forEach(function(O){C(O,h,E)})}},"./synchronization/Synchronizer.js":
/*!*****************************************!*\
                  !*** ./synchronization/Synchronizer.js ***!
                  \*****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../util/convertToVector3.js */
"./util/convertToVector3.js"),C=s(
/*! ../toolOptions.js */
"./toolOptions.js");function T(h){return h.filter(function(E,O,m){return m.indexOf(E)===O})}d.default=function D(h,E){var m=this,g=[],v=[],P=!1,b={},x=E;function S(L){var w=L.detail.element;m.remove(w),Object(C.clearToolOptionsByElement)(w)}this.enabled=!0,this.setHandler=function(L){x=L},this.getHandler=function(){return x},this.getDistances=function(){if(g.length&&v.length){var L=p.default.cornerstone;b.distances={},b.imageIds={sourceElements:[],targetElements:[]},g.forEach(function(w){var N=L.getEnabledElement(w);if(N&&N.image){var j=N.image.imageId,W=L.metaData.get("imagePlaneModule",j);if(W&&W.imagePositionPatient){var B=Object(y.default)(W.imagePositionPatient);b.hasOwnProperty(N)||(b.distances[j]={},b.imageIds.sourceElements.push(j),v.forEach(function(G){var V=L.getEnabledElement(G);if(V&&V.image){var F=V.image.imageId;if(b.imageIds.targetElements.push(F),w!==G&&j!==F&&!b.distances[j].hasOwnProperty(F)){var z=L.metaData.get("imagePlaneModule",F);if(z&&z.imagePositionPatient){var te=Object(y.default)(z.imagePositionPatient);b.distances[j][F]=te.clone().sub(B)}}}}),Object.keys(b.distances[j]).length||delete b.distances[j])}}})}},this.fireEvent=function(L,w){!m.enabled||!g.length||!v.length||(P=!0,v.forEach(function(W){var B=v.indexOf(W);if(-1!==B){var G=b.imageIds.targetElements[B],V=g.indexOf(L);if(-1!==V){var z,F=b.imageIds.sourceElements[V];F===G?z=0:void 0!==b.distances[F]&&(z=b.distances[F][G]),x(m,L,W,w,z)}}}),P=!1)},this.onEvent=function(L){!0!==P&&m.fireEvent(L.currentTarget,L.detail)},this.addSource=function(L){-1===g.indexOf(L)&&(g.push(L),h.split(" ").forEach(function(N){L.addEventListener(N,m.onEvent)}),m.getDistances(),m.updateDisableHandlers())},this.addTarget=function(L){-1===v.indexOf(L)&&(v.push(L),m.getDistances(),x(m,L,L,0),m.updateDisableHandlers())},this.add=function(L){m.addSource(L),m.addTarget(L)},this.removeSource=function(L){var w=g.indexOf(L);-1!==w&&(g.splice(w,1),h.split(" ").forEach(function(N){L.removeEventListener(N,m.onEvent)}),m.getDistances(),m.fireEvent(L),m.updateDisableHandlers())},this.removeTarget=function(L){var w=v.indexOf(L);-1!==w&&(v.splice(w,1),m.getDistances(),x(m,L,L,0),m.updateDisableHandlers())},this.remove=function(L){m.removeTarget(L),m.removeSource(L)},this.getSourceElements=function(){return g},this.getTargetElements=function(){return v},this.displayImage=function(L,w,N){P=!0,p.default.cornerstone.displayImage(L,w,N),P=!1},this.setViewport=function(L,w){P=!0,p.default.cornerstone.setViewport(L,w),P=!1},this.updateDisableHandlers=function(){T(g.concat(v)).forEach(function(w){w.removeEventListener(p.default.cornerstone.EVENTS.ELEMENT_DISABLED,S),w.addEventListener(p.default.cornerstone.EVENTS.ELEMENT_DISABLED,S)})},this.destroy=function(){T(g.concat(v)).forEach(function(w){m.remove(w)})}}},"./synchronization/panZoomSynchronizer.js":
/*!************************************************!*\
                  !*** ./synchronization/panZoomSynchronizer.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T){if(T!==C){var D=p.default.cornerstone,h=D.getViewport(C),E=D.getViewport(T);E.scale===h.scale&&E.translation.x===h.translation.x&&E.translation.y===h.translation.y||(E.scale=h.scale,E.translation.x=h.translation.x,E.translation.y=h.translation.y,y.setViewport(T,E))}}},"./synchronization/stackImageIndexSynchronizer.js":
/*!********************************************************!*\
                  !*** ./synchronization/stackImageIndexSynchronizer.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),T=s(
/*! ../util/clip.js */
"./util/clip.js");d.default=function(D,h,E){if(E!==h){var O=p.default.cornerstone,g=Object(y.getToolState)(h,"stack").data[0],P=Object(y.getToolState)(E,"stack").data[0],b=g.currentImageIdIndex;if((b=Object(T.default)(b,0,P.imageIds.length-1))!==P.currentImageIdIndex){var x=C.default.getStartLoadHandler(E),S=C.default.getEndLoadHandler(E),L=C.default.getErrorLoadingHandler(E);x&&x(E),(!0===P.preventCache?O.loadImage(P.imageIds[b]):O.loadAndCacheImage(P.imageIds[b])).then(function(N){var j=O.getViewport(E);P.currentImageIdIndex=b,D.displayImage(E,N,j),S&&S(E,N)},function(N){L&&L(E,P.imageIds[b],N)})}}}},"./synchronization/stackImagePositionOffsetSynchronizer.js":
/*!*****************************************************************!*\
                  !*** ./synchronization/stackImagePositionOffsetSynchronizer.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),T=s(
/*! ../util/convertToVector3.js */
"./util/convertToVector3.js");d.default=function(D,h,E,O,m){if(E!==h){var g=p.default.cornerstone,v=Object(y.getToolState)(h,"stack").data[0],b=g.metaData.get("imagePlaneModule",v.imageIds[v.currentImageIdIndex]);if(void 0!==b&&void 0!==b.imagePositionPatient){var x=Object(T.default)(b.imagePositionPatient),L=Object(y.getToolState)(E,"stack").data[0],w=Number.MAX_VALUE,N=-1;if(m){var j=x.clone().add(m);if(L.imageIds.forEach(function(z,te){var q=g.metaData.get("imagePlaneModule",z);if(void 0!==q&&void 0!==q.imagePositionPatient){var ae=Object(T.default)(q.imagePositionPatient),ie=j.distanceToSquared(ae);ie<w&&(w=ie,N=te)}}),N!==L.currentImageIdIndex&&-1!==N){var W=C.default.getStartLoadHandler(E),B=C.default.getEndLoadHandler(E),G=C.default.getErrorLoadingHandler(E);L.currentImageIdIndex=N;var V=L.imageIds[N];W&&W(E),(!0===L.preventCache?g.loadImage(V):g.loadAndCacheImage(V)).then(function(z){var te=g.getViewport(E);L.currentImageIdIndex===N&&(D.displayImage(E,z,te),B&&B(E,z))},function(z){G&&G(E,L.imageIds[N],z)})}}}}}},"./synchronization/stackImagePositionSynchronizer.js":
/*!***********************************************************!*\
                  !*** ./synchronization/stackImagePositionSynchronizer.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),T=s(
/*! ../util/convertToVector3.js */
"./util/convertToVector3.js");d.default=function(D,h,E){if(E!==h){var O=p.default.cornerstone,m=Object(y.getToolState)(h,"stack").data[0],v=O.metaData.get("imagePlaneModule",m.imageIds[m.currentImageIdIndex]);if(void 0!==v&&void 0!==v.imagePositionPatient){var P=Object(T.default)(v.imagePositionPatient),x=Object(y.getToolState)(E,"stack").data[0],S=Number.MAX_VALUE,L=-1;if(x.imageIds.forEach(function(G,V){var F=O.metaData.get("imagePlaneModule",G);if(void 0!==F&&void 0!==F.imagePositionPatient){var te=Object(T.default)(F.imagePositionPatient).distanceToSquared(P);te<S&&(S=te,L=V)}}),L!==x.currentImageIdIndex){var w=C.default.getStartLoadHandler(E),N=C.default.getEndLoadHandler(E),j=C.default.getErrorLoadingHandler(E);x.currentImageIdIndex=L;var W=x.imageIds[L];w&&w(E),-1!==L&&(!0===x.preventCache?O.loadImage(W):O.loadAndCacheImage(W)).then(function(G){var V=O.getViewport(E);x.currentImageIdIndex===L&&(D.displayImage(E,G,V),N&&N(E,G))},function(G){j&&j(E,x.imageIds[L],G)})}}}}},"./synchronization/stackScrollSynchronizer.js":
/*!****************************************************!*\
                  !*** ./synchronization/stackScrollSynchronizer.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),T=s(
/*! ../util/clip.js */
"./util/clip.js");d.default=function(D,h,E,O){if(h!==E&&O&&O.direction){var m=p.default.cornerstone,v=Object(y.getToolState)(E,"stack").data[0],P=v.currentImageIdIndex+O.direction;if(P=Object(T.default)(P,0,v.imageIds.length-1),v.currentImageIdIndex!==P){var b=C.default.getStartLoadHandler(E),x=C.default.getEndLoadHandler(E),S=C.default.getErrorLoadingHandler(E);v.currentImageIdIndex=P;var L=v.imageIds[P];b&&b(E),(!0===v.preventCache?m.loadImage(L):m.loadAndCacheImage(L)).then(function(N){var j=m.getViewport(E);v.currentImageIdIndex===P&&(D.displayImage(E,N,j),x&&x(E,N))},function(N){S&&S(E,v.imageIds[P],N)})}}}},"./synchronization/updateImageSynchronizer.js":
/*!****************************************************!*\
                  !*** ./synchronization/updateImageSynchronizer.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T){T!==C&&p.default.cornerstone.updateImage(T)}},"./synchronization/wwwcSynchronizer.js":
/*!*********************************************!*\
                  !*** ./synchronization/wwwcSynchronizer.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T){if(T!==C){var D=p.default.cornerstone,h=D.getViewport(C),E=D.getViewport(T);E.voi.windowWidth===h.voi.windowWidth&&E.voi.windowCenter===h.voi.windowCenter&&E.invert===h.invert||(E.voi.windowWidth=h.voi.windowWidth,E.voi.windowCenter=h.voi.windowCenter,E.invert=h.invert,y.setViewport(T,E))}}},"./thirdParty/register.js":
/*!********************************!*\
                  !*** ./thirdParty/register.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p),C=s(
/*! ./registerModule.js */
"./thirdParty/registerModule.js"),T=s(
/*! ./registerMixin.js */
"./thirdParty/registerMixin.js"),D=s(
/*! ./registerItem.js */
"./thirdParty/registerItem.js"),h=s(
/*! ../util/logger.js */
"./util/logger.js"),E=Object(h.getLogger)("thirdParty:register");d.default=function(m,g,v){var P=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(function O(m,g,v){return m?g?"object"===y()(v)||"function"==typeof v||(E.warn("The %s is a %s, it should be an Object or a function.",v,y()(v)),!1):(E.warn("The %s must have a name in order to register.",m),!1):(E.warn("The type must be given in order to register."),!1)}(m,g,v))switch(m){case"module":Object(C.default)(g,v,P);break;case"mixin":Object(T.default)(g,v,P);break;default:Object(D.default)(m,g,v,P)}}},"./thirdParty/registerItem.js":
/*!************************************!*\
                  !*** ./thirdParty/registerItem.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../lib.js */
"./lib.js"),y=s(
/*! ../util/logger.js */
"./util/logger.js"),C=Object(y.getLogger)("thirdParty:registerType");d.default=function(D,h,E){var O=arguments.length>3&&void 0!==arguments[3]&&arguments[3],m="".concat(D,"/").concat(h),g=function T(D){return void 0!==p.lib[D]}(m);!g||O?(g&&C.warn("Overwriting %s",m),p.lib[m]=E):C.warn("%s is already registered",m)}},"./thirdParty/registerMixin.js":
/*!*************************************!*\
                  !*** ./thirdParty/registerMixin.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../lib.js */
"./lib.js"),y=s(
/*! ../mixins/index.js */
"./mixins/index.js"),C=s(
/*! ../util/logger.js */
"./util/logger.js"),T=Object(C.getLogger)("thirdParty:registerMixin");d.default=function(h,E){var O=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=function D(h){return void 0!==y.default[h]}(h);!m||O?(m&&T.warn("Overwriting mixins/%s",h),y.default[h]=E,p.lib["mixins/".concat(h)]=y.default[h]):T.warn("mixins/%s is already registered",h)}},"./thirdParty/registerModule.js":
/*!**************************************!*\
                  !*** ./thirdParty/registerModule.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../store/index.js */
"./store/index.js"),y=s(
/*! ../util/logger.js */
"./util/logger.js"),C=Object(y.getLogger)("thirdParty:registerModule");d.default=function(D,h){var E=arguments.length>2&&void 0!==arguments[2]&&arguments[2],O=function T(D){return void 0!==p.modules[D]}(D);!O||E?(O&&C.warn("Overwriting module %s",D),p.modules[D]=h,"function"==typeof p.modules[D].onRegisterCallback&&p.modules[D].onRegisterCallback()):C.warn("A module with the name %s is already registered",D)}},"./thirdParty/registerSome.js":
/*!************************************!*\
                  !*** ./thirdParty/registerSome.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./register.js */
"./thirdParty/register.js");d.default=function(y){var C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y.forEach(function(T){var D=T.type,h=T.name,E=T.item;Object(p.default)(D,h,E,C)})}},"./toolOptions.js":
/*!************************!*\
                  !*** ./toolOptions.js ***!
                  \************************/
/*! exports provided: getToolOptions, setToolOptions, clearToolOptions, clearToolOptionsByToolType, clearToolOptionsByToolName, clearToolOptionsByElement */function(le,d,s){"use strict";s.r(d),s.d(d,"getToolOptions",function(){return y}),s.d(d,"setToolOptions",function(){return C}),s.d(d,"clearToolOptions",function(){return T}),s.d(d,"clearToolOptionsByToolType",function(){return D}),s.d(d,"clearToolOptionsByToolName",function(){return h}),s.d(d,"clearToolOptionsByElement",function(){return E});var p={};function y(O,m){if(!p[O])return{};var v=p[O].find(function(P){return P.element===m});return v?v.options:{}}function C(O,m,g){if(p[O]){var P=p[O].findIndex(function(x){return x.element===m});-1===P?p[O].push({element:m,options:g}):p[O][P].options=Object.assign(p[O][P].options||{},g)}else p[O]=[{element:m,options:g}]}function T(O,m){var g=p[O];g&&(p[O]=g.filter(function(v){return v.element!==m}))}function D(O){return h(O)}function h(O){delete p[O]}function E(O){for(var m in p)p[m]=p[m].filter(function(g){return g.element!==O})}},"./tools/CrosshairsTool.js":
/*!*********************************!*\
                  !*** ./tools/CrosshairsTool.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return B});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),x=s(
/*! ./../externalModules.js */
"./externalModules.js"),S=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),L=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),w=s(
/*! ../util/pointProjector.js */
"./util/pointProjector.js"),N=s(
/*! ../util/convertToVector3.js */
"./util/convertToVector3.js"),j=s(
/*! ../toolOptions.js */
"./toolOptions.js"),W=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),B=function(G){function V(){var F,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,V);var te={name:"Crosshairs",supportedInteractionTypes:["Mouse","Touch"],svgCursor:W.crosshairsCursor};return(F=h()(this,O()(V).call(this,z,te))).preMouseDownCallback=F._chooseLocation.bind(g()(F)),F.mouseDragCallback=F._chooseLocation.bind(g()(F)),F.touchDragCallback=F._chooseLocation.bind(g()(F)),F}return P()(V,G),T()(V,[{key:"_chooseLocation",value:function(z){var te=z.detail,q=te.element;z.stopImmediatePropagation();var ae=Object(L.getToolState)(q,this.name);if(ae){var ie=q,oe=x.default.cornerstone.getEnabledElement(ie),Z=x.default.cornerstone.metaData.get("imagePlaneModule",oe.image.imageId);if(Z){var K=te.currentPoints.image,Q=Object(w.imagePointToPatientPoint)(K,Z);ae.data[0].synchronizationContext.getSourceElements().forEach(function(ue){if(ue!==ie){var ye=Number.MAX_VALUE,Ee=-1,Se=Object(L.getToolState)(ue,"stack");if(void 0!==Se){var ke=Se.data[0];if(ke.imageIds.forEach(function(Ge,Pe){var He=x.default.cornerstone.metaData.get("imagePlaneModule",Ge);if(He&&He.imagePositionPatient&&He.rowCosines&&He.columnCosines){var Ke=Object(N.default)(He.imagePositionPatient),Ye=Object(N.default)(He.rowCosines),ft=Object(N.default)(He.columnCosines).clone().cross(Ye.clone()),pt=Math.abs(ft.clone().dot(Ke)-ft.clone().dot(Q));pt<ye&&(ye=pt,Ee=Pe)}}),Ee!==ke.currentImageIdIndex&&-1!==Ee&&void 0!==ke.imageIds[Ee]){var Xe=S.default.getStartLoadHandler(ue),mt=S.default.getEndLoadHandler(ue),st=S.default.getErrorLoadingHandler(ue);Xe&&Xe(ue),(!0===ke.preventCache?x.default.cornerstone.loadImage(ke.imageIds[Ee]):x.default.cornerstone.loadAndCacheImage(ke.imageIds[Ee])).then(function(Ge){var Pe=x.default.cornerstone.getViewport(ue);ke.currentImageIdIndex=Ee,x.default.cornerstone.displayImage(ue,Ge,Pe),mt&&mt(ue,Ge)},function(Ge){st&&st(ue,ke.imageIds[Ee],Ge)})}}}})}}}},{key:"activeCallback",value:function(z,te){var q=te.mouseButtonMask,ae=te.synchronizationContext;Object(j.setToolOptions)(this.name,z,{mouseButtonMask:q}),Object(L.clearToolState)(z,this.name),Object(L.addToolState)(z,this.name,{synchronizationContext:ae})}}]),V}(b.default)},"./tools/DoubleTapFitToWindowTool.js":
/*!*******************************************!*\
                  !*** ./tools/DoubleTapFitToWindowTool.js ***!
                  \*******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return b});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../externalModules.js */
"./externalModules.js"),b=function(x){function S(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,S);return h()(this,O()(S).call(this,L,{name:"DoubleTapFitToWindow",supportedInteractionTypes:["DoubleTap"]}))}return g()(S,x),T()(S,[{key:"doubleTapCallback",value:function(w){v.default.cornerstone.fitToWindow(w.detail.element)}}]),S}(s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js").default)},"./tools/DragProbeTool.js":
/*!********************************!*\
                  !*** ./tools/DragProbeTool.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return G});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../externalModules.js */
"./externalModules.js"),x=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),S=s(
/*! ../stateManagement/textStyle.js */
"./stateManagement/textStyle.js"),L=s(
/*! ../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),w=s(
/*! ../util/getRGBPixels.js */
"./util/getRGBPixels.js"),N=s(
/*! ../util/calculateSUV.js */
"./util/calculateSUV.js"),j=s(
/*! ../drawing/index.js */
"./drawing/index.js"),W=s(
/*! ../drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),B=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),G=function(z){function te(){var q,ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,te);var ie={name:"DragProbe",strategies:{default:V,minimal:F},defaultStrategy:"default",supportedInteractionTypes:["Mouse","Touch"],svgCursor:B.probeCursor};return(q=h()(this,O()(te).call(this,ae,ie))).touchDragCallback=q._movingEventCallback.bind(g()(q)),q.touchEndCallback=q._endMovingEventCallback.bind(g()(q)),q.mouseDragCallback=q._movingEventCallback.bind(g()(q)),q.mouseUpCallback=q._endMovingEventCallback.bind(g()(q)),q.dragEventData={},q}return P()(te,z),T()(te,[{key:"_movingEventCallback",value:function(ae){var ie=ae.detail,oe=ie.element;this.dragEventData=ie,b.default.cornerstone.updateImage(oe)}},{key:"_endMovingEventCallback",value:function(ae){var oe=ae.detail.element;this.dragEventData={},b.default.cornerstone.updateImage(oe)}},{key:"renderToolData",value:function(ae){this.dragEventData.currentPoints&&ae&&ae.detail&&Object.keys(this.dragEventData.currentPoints).length&&(ae.detail.currentPoints=this.dragEventData.currentPoints,this.applyActiveStrategy(ae))}}]),te}(x.default);function V(z){var te=this.configuration,q=b.default.cornerstone,ae=z.detail,ie=ae.element,oe=ae.image,$=ae.currentPoints,Z=ae.canvasContext,K=Object(j.getNewContext)(Z.canvas),Q=L.default.getActiveColor(),ee=S.default.getFontSize(),ne=Math.round($.image.x),ue=Math.round($.image.y);ne<0||ue<0||ne>=oe.columns||ue>=oe.rows||Object(j.draw)(K,function(ye){Object(j.setShadow)(ye,te);var Se,ke,Ee="".concat(ne,", ").concat(ue);if(oe.color)Se=Object(w.default)(ie,ne,ue,1,1),ke="R: ".concat(Se[0]," G: ").concat(Se[1]," B: ").concat(Se[2]," A: ").concat(Se[3]);else{var Xe=(Se=q.getStoredPixels(ie,ne,ue,1,1))[0],mt=Xe*oe.slope+oe.intercept,st=Object(N.default)(oe,Xe);ke="SP: ".concat(Xe," MO: ").concat(parseFloat(mt.toFixed(3))),st&&(ke+=" SUV: ".concat(parseFloat(st.toFixed(3))))}var Rt={x:$.canvas.x+5,y:$.canvas.y-5};Object(W.default)(ye,ke,Rt.x,Rt.y+ee+5,Q),Object(W.default)(ye,Ee,Rt.x,Rt.y,Q)})}function F(z){var te=this.configuration,q=b.default.cornerstone,ae=z.detail,ie=ae.element,oe=ae.image,$=ae.currentPoints,Z=ae.canvasContext,K=ae.isTouchEvent,Q=Object(j.getNewContext)(Z.canvas),ee=L.default.getActiveColor(),ne=$.page.y-S.default.getFontSize()/2;K&&(ne=$.page.y-4*S.default.getFontSize());var ue=q.pageToPixel(ie,$.page.x,ne);ue.x<0||ue.y<0||ue.x>=oe.columns||ue.y>=oe.rows||Object(j.draw)(Q,function(ye){Object(j.setShadow)(ye,te);var ke,Ee=q.metaData.get("generalSeriesModule",oe.imageId),Se=Ee&&Ee.modality,Xe="";if(oe.color)ke=Object(w.default)(ie,ue.x,ue.y,1,1),Xe="R: ".concat(ke[0]," G: ").concat(ke[1]," B: ").concat(ke[2]);else{var mt=(ke=q.getStoredPixels(ie,ue.x,ue.y,1,1))[0],Rt=parseFloat((mt*oe.slope+oe.intercept).toFixed(2));if("CT"===Se)Xe+="HU: ".concat(Rt);else if("PT"===Se){Xe+=Rt;var Ge=Object(N.default)(oe,mt);Ge&&(Xe+=" SUV: ".concat(parseFloat(Ge.toFixed(2))))}else Xe+=Rt}var Pe=q.pixelToCanvas(ie,ue),He={x:12,y:-(S.default.getFontSize()+10)/2},ct=Object(W.textBoxWidth)(ye,Xe,5);K&&(He={x:-ct/2,y:-S.default.getFontSize()-10-12}),Object(j.drawCircle)(ye,ie,Pe,6,{color:ee},"canvas"),Object(W.default)(ye,Xe,Pe.x+He.x,Pe.y+He.y,ee)})}},"./tools/EraserTool.js":
/*!*****************************!*\
                  !*** ./tools/EraserTool.js ***!
                  \*****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return N});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../externalModules.js */
"./externalModules.js"),x=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),S=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),L=s(
/*! ../store/index.js */
"./store/index.js"),w=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),N=function(j){function W(){var B,G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,W);var V={name:"Eraser",supportedInteractionTypes:["Mouse","Touch"],svgCursor:w.eraserCursor};return(B=h()(this,O()(W).call(this,G,V))).preMouseDownCallback=B._deleteAllNearbyTools.bind(g()(B)),B.preTouchStartCallback=B._deleteAllNearbyTools.bind(g()(B)),B}return P()(W,j),T()(W,[{key:"_deleteAllNearbyTools",value:function(G){var V=G.detail.currentPoints.canvas,F=G.detail.element;return L.state.tools.forEach(function(te){var q=Object(S.getToolState)(F,te.name);q&&q.data.forEach(function(ae){"function"==typeof te.pointNearTool&&te.pointNearTool(F,ae,V)&&(Object(S.removeToolState)(F,te.name,ae),b.default.cornerstone.updateImage(F))})}),!0}}]),W}(x.default)},"./tools/FreehandRoiSculptorTool.js":
/*!******************************************!*\
                  !*** ./tools/FreehandRoiSculptorTool.js ***!
                  \******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return te});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../events.js */
"./events.js"),x=s(
/*! ../externalModules.js */
"./externalModules.js"),S=s(
/*! ../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ../drawing/drawHandles.js */
"./drawing/drawHandles.js"),w=s(
/*! ../store/index.js */
"./store/index.js"),N=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),j=s(
/*! ../util/clip.js */
"./util/clip.js"),W=s(
/*! ../store/getToolForElement.js */
"./store/getToolForElement.js"),B=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),G=s(
/*! ../store/setToolCursor.js */
"./store/setToolCursor.js"),V=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),F=s(
/*! ../util/freehand/index.js */
"./util/freehand/index.js"),z=F.default.FreehandHandleData,te=function(ie){function oe(){var $,Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,oe);var K={name:"FreehandRoiSculptor",referencedToolName:"FreehandRoi",supportedInteractionTypes:["Mouse","Touch","DoubleTap"],mixins:["activeOrDisabledBinaryTool"],configuration:{mouseLocation:{handles:{start:{highlight:!0,active:!0}}},minSpacing:1,currentTool:null,dragColor:S.default.getActiveColor(),hoverColor:S.default.getToolColor(),showCursorOnHover:!0,limitRadiusOutsideRegion:!0,hoverCursorFadeAlpha:.5,hoverCursorFadeDistance:1.2},svgCursor:V.freehandRoiSculptorCursor};return($=h()(this,O()(oe).call(this,Z,K))).updateOnMouseMove=!0,$.isMultiPartTool=!0,$.referencedToolName=$.initialConfiguration.referencedToolName,$._active=!1,$.activeMouseUpCallback=$.activeMouseUpCallback.bind(g()($)),$.activeTouchEndCallback=$.activeTouchEndCallback.bind(g()($)),$.activeMouseDragCallback=$.activeMouseDragCallback.bind(g()($)),$}return P()(oe,ie),T()(oe,[{key:"renderToolData",value:function(Z){var K=Z.detail;if(null===this.configuration.currentTool)return!1;var Q=K.element,ee=this.configuration;if(!Object(N.getToolState)(Q,this.referencedToolName).data[ee.currentTool])return!1;if(this._active){var ye=K.canvasContext.canvas.getContext("2d"),Ee={color:this.configuration.dragColor,fill:null,handleRadius:this._toolSizeCanvas};Object(L.default)(ye,K,this.configuration.mouseLocation.handles,Ee)}else this.configuration.showCursorOnHover&&!this._recentTouchEnd&&this._renderHoverCursor(Z)}},{key:"doubleClickCallback",value:function(Z){var K=Z.detail;this._selectFreehandTool(K),x.default.cornerstone.updateImage(K.element)}},{key:"doubleTapCallback",value:function(Z){var K=Z.detail;this._selectFreehandTool(K),x.default.cornerstone.updateImage(K.element)}},{key:"preTouchStartCallback",value:function(Z){return this._initialiseSculpting(Z),!0}},{key:"preMouseDownCallback",value:function(Z){if(this.options.mouseButtonMask.includes(Z.detail.buttons))return this._initialiseSculpting(Z),!0}},{key:"activeMouseDragCallback",value:function(Z){var K=this.configuration;if(this._active){var Q=Z.detail,ee=Object(N.getToolState)(Q.element,this.referencedToolName);if(ee){var ne=ee.data[K.currentTool].handles.points;this._getMouseLocation(Q),this._sculpt(Q,ne),x.default.cornerstone.updateImage(Q.element)}}}},{key:"activeMouseUpCallback",value:function(Z){this._activeEnd(Z)}},{key:"activeTouchEndCallback",value:function(Z){this._activeEnd(Z),this._deselectAllTools(Z),this._recentTouchEnd=!0}},{key:"_activeEnd",value:function(Z){var K=Z.detail,Q=K.element,ee=this.configuration;this._active=!1,w.state.isMultiPartToolActive=!1,this._getMouseLocation(K),this._invalidateToolData(K),ee.mouseUpRender=!0,this._deactivateSculpt(Q),x.default.cornerstone.updateImage(K.element),function ae(ie){ie.stopImmediatePropagation(),ie.stopPropagation(),ie.preventDefault()}(Z)}},{key:"_renderHoverCursor",value:function(Z){var ye,K=Z.detail,Q=K.element,ee=K.canvasContext.canvas.getContext("2d"),ue=Object(N.getToolState)(Q,this.referencedToolName).data[this.configuration.currentTool];this._recentTouchEnd=!1,this.configuration.mouseUpRender?(ye=this.configuration.mouseLocation.handles.start,this.configuration.mouseUpRender=!1):ye=w.state.mousePositionImage;var Se=Object(W.default)(Q,this.referencedToolName).distanceFromPointCanvas(Q,ue,ye);if(this.configuration.mouseLocation.handles.start.x=ye.x,this.configuration.mouseLocation.handles.start.y=ye.y,this.configuration.limitRadiusOutsideRegion){var ke=Se;Se=this._limitCursorRadiusCanvas(K,Se),ke>this.configuration.hoverCursorFadeDistance*Se&&(ee.globalAlpha=this.configuration.hoverCursorFadeAlpha)}var Xe={fill:null,color:this.configuration.hoverColor,handleRadius:Se};Object(L.default)(ee,K,this.configuration.mouseLocation.handles,Xe),this.configuration.limitRadiusOutsideRegion&&(ee.globalAlpha=1)}},{key:"newImageCallback",value:function(Z){this._deselectAllTools(Z)}},{key:"enabledCallback",value:function(Z){this._deselectAllTools(Z)}},{key:"passiveCallback",value:function(Z){this._deselectAllTools(Z)}},{key:"disabledCallback",value:function(Z){this._deselectAllTools(Z)}},{key:"_selectFreehandTool",value:function(Z){var K=this.configuration,Q=Z.element,ee=this._getClosestFreehandToolOnElement(Q,Z);void 0!==ee&&(K.currentTool=ee,Object(G.hideToolCursor)(Q))}},{key:"_activateFreehandTool",value:function(Z,K){var ee=Object(N.getToolState)(Z,this.referencedToolName).data;this.configuration.currentTool=K;for(var ue=0;ue<ee.length;ue++)ee[ue].active=ue===K}},{key:"_initialiseSculpting",value:function(Z){var K=Z.detail,Q=this.configuration,ee=K.element;null===Q.currentTool&&(this._selectFreehandTool(K),null===Q.currentTool)||(this._active=!0,w.state.isMultiPartToolActive=!0,this._configureToolSize(K),this._getMouseLocation(K),this._activateFreehandTool(ee,Q.currentTool),this._activateSculpt(ee),x.default.cornerstone.updateImage(K.element))}},{key:"_sculpt",value:function(Z,K){var Q=this.configuration;this._sculptData={element:Z.element,image:Z.image,mousePoint:Z.currentPoints.image,points:K,toolSize:this._toolSizeImage,minSpacing:Q.minSpacing,maxSpacing:Math.max(this._toolSizeImage,2*Q.minSpacing)};var ee=this._pushHandles();void 0!==ee.first&&(this._insertNewHandles(ee),this._consolidateHandles())}},{key:"_pushHandles",value:function(){for(var Z=this._sculptData,K=Z.points,Q=Z.mousePoint,ee=Z.toolSize,ne={},ue=0;ue<K.length;ue++){var ye=x.default.cornerstoneMath.point.distance(K[ue],Q);ye>ee||(this._pushOneHandle(ue,ye),void 0===ne.first&&(ne.first=ue),ne.last=ue)}return ne}},{key:"_pushOneHandle",value:function(Z,K){var Q=this._sculptData,ee=Q.points,ne=Q.mousePoint,ue=Q.toolSize,ye=Q.image,Ee=ee[Z],ke={x:ne.x+ue*((Ee.x-ne.x)/K),y:ne.y+ue*((Ee.y-ne.y)/K)};Object(j.clipToBox)(ke,ye),Ee.x=ke.x,Ee.y=ke.y;var Xe=this.constructor._getPreviousHandleIndex(Z,ee.length);ee[Xe].lines.pop(),ee[Xe].lines.push(Ee)}},{key:"_insertNewHandles",value:function(Z){for(var K=this._findNewHandleIndicies(Z),Q=0,ee=0;ee<K.length;ee++)this._insertHandleRadially(K[ee]+1+Q),Q++}},{key:"_findNewHandleIndicies",value:function(Z){for(var K=this._sculptData,Q=K.points,ee=K.maxSpacing,ne=[],ue=Z.first;ue<=Z.last;ue++)this._checkSpacing(ue,Q,ne,ee);var ye=this.constructor._getNextHandleIndex(Z.last,Q.length);if(ye!==Z.first){this._checkSpacing(ye,Q,ne,ee);var Ee=this.constructor._getPreviousHandleIndex(Z.first,Q.length);Ee!==ye&&this._checkSpacing(Ee,Q,ne,ee)}return ne}},{key:"_checkSpacing",value:function(Z,K,Q,ee){var ne=this.constructor._getNextHandleIndex(Z,K.length);x.default.cornerstoneMath.point.distance(K[Z],K[ne])>ee&&Q.push(Z)}},{key:"_insertHandleRadially",value:function(Z){var K=this._sculptData.points,Q=Z-1,ee=this.constructor._getNextHandleIndexBeforeInsert(Z,K.length),ne=this._getInsertPosition(Z,Q,ee),ue=new z(ne);K.splice(Z,0,ue),K[Q].lines.pop(),K[Q].lines.push(K[Z]),F.default.addLine(K,Z)}},{key:"_consolidateHandles",value:function(){if(!(this._sculptData.points.length<=3)){var K=this._findCloseHandlePairs();this._mergeCloseHandles(K)}}},{key:"_findCloseHandlePairs",value:function(){for(var Z=this._sculptData,K=Z.points,Q=Z.minSpacing,ee=[],ne=K.length,ue=0;ue<ne;ue++){var ye=this.constructor._getNextHandleIndex(ue,K.length);x.default.cornerstoneMath.point.distance(K[ue],K[ye])<Q&&(ee.push([ue,ye]),0===ue&&(ne-=1),ue++)}return ee}},{key:"_mergeCloseHandles",value:function(Z){for(var K=0,Q=0;Q<Z.length;Q++){var ee=this.constructor._getCorrectedPair(Z[Q],K);this._combineHandles(ee),K++}var ne=this._findCloseHandlePairs();ne.length&&this._mergeCloseHandles(ne)}},{key:"_combineHandles",value:function(Z){var K=this._sculptData,Q=K.points,ee=K.image,ne={x:(Q[Z[0]].x+Q[Z[1]].x)/2,y:(Q[Z[0]].y+Q[Z[1]].y)/2};Object(j.clipToBox)(ne,ee),Q[Z[0]].x=ne.x,Q[Z[0]].y=ne.y;var ue=this.constructor._getNextHandleIndex(Z[1],Q.length);Q[Z[0]].lines.pop(),Q[Z[0]].lines.push(Q[ue]),Q.splice(Z[1],1)}},{key:"_configureToolSize",value:function(Z){var K=Z.element,Q=this.configuration,ee=Q.currentTool,ne=Z.currentPoints.image,ye=Object(N.getToolState)(K,this.referencedToolName).data[ee],Ee=Object(W.default)(K,this.referencedToolName),Se=Ee.distanceFromPoint(K,ye,ne),ke=Ee.distanceFromPointCanvas(K,ye,ne);Q.limitRadiusOutsideRegion&&(Se=this._limitCursorRadiusImage(Z,Se),ke=this._limitCursorRadiusCanvas(Z,ke)),this._toolSizeImage=Se,this._toolSizeCanvas=ke}},{key:"_getMouseLocation",value:function(Z){var K=this.configuration;K.mouseLocation.handles.start.x=Z.currentPoints.image.x,K.mouseLocation.handles.start.y=Z.currentPoints.image.y,Object(j.clipToBox)(K.mouseLocation.handles.start,Z.image)}},{key:"_activateSculpt",value:function(Z){this._deactivateSculpt(Z),Z.addEventListener(b.default.MOUSE_UP,this.activeMouseUpCallback),Z.addEventListener(b.default.MOUSE_CLICK,this.activeMouseUpCallback),Z.addEventListener(b.default.MOUSE_DRAG,this.activeMouseDragCallback),Z.addEventListener(b.default.TOUCH_END,this.activeTouchEndCallback),Z.addEventListener(b.default.TOUCH_TAP,this.activeTouchEndCallback),Z.addEventListener(b.default.TOUCH_DRAG,this.activeMouseDragCallback),x.default.cornerstone.updateImage(Z)}},{key:"_deactivateSculpt",value:function(Z){Z.removeEventListener(b.default.MOUSE_UP,this.activeMouseUpCallback),Z.removeEventListener(b.default.MOUSE_CLICK,this.activeMouseUpCallback),Z.removeEventListener(b.default.MOUSE_DRAG,this.activeMouseDragCallback),Z.removeEventListener(b.default.TOUCH_END,this.activeTouchEndCallback),Z.removeEventListener(b.default.TOUCH_TAP,this.activeTouchEndCallback),Z.removeEventListener(b.default.TOUCH_DRAG,this.activeMouseDragCallback),x.default.cornerstone.updateImage(Z)}},{key:"_invalidateToolData",value:function(Z){var K=this.configuration,Q=Z.element;Object(N.getToolState)(Q,this.referencedToolName).data[K.currentTool].invalidated=!0}},{key:"_deselectAllTools",value:function(Z){var K=this.configuration,Q=Object(N.getToolState)(this.element,this.referencedToolName);if(K.currentTool=null,Q)for(var ee=0;ee<Q.data.length;ee++)Q.data[ee].active=!1;Object(G.setToolCursor)(this.element,this.svgCursor),x.default.cornerstone.updateImage(this.element)}},{key:"_limitCursorRadiusCanvas",value:function(Z,K){return this._limitCursorRadius(Z,K,!0)}},{key:"_limitCursorRadiusImage",value:function(Z,K){return this._limitCursorRadius(Z,K,!1)}},{key:"_limitCursorRadius",value:function(Z,K){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ee=Z.element,ne=Z.image,ue=this.configuration,Ee=Object(N.getToolState)(ee,this.referencedToolName).data[ue.currentTool],Se=1;if(Q){var ke=x.default.cornerstone.pixelToCanvas(ee,{x:0,y:0}),Xe=x.default.cornerstone.pixelToCanvas(ee,{x:ne.width,y:ne.height});Se=(Xe.x-ke.x)*(Xe.y-ke.y)/(ne.width*ne.height)}var Rt=Math.pow(Ee.area*Se/Math.PI,.5);return Math.min(K,Rt)}},{key:"_getClosestFreehandToolOnElement",value:function(Z,K){var Q=Object(W.default)(Z,this.referencedToolName),ee=Object(N.getToolState)(Z,this.referencedToolName);if(ee){for(var ne=ee.data,ue=K.currentPoints.image,ye={distance:1/0,toolIndex:null},Ee=0;Ee<ne.length;Ee++){var Se=Q.distanceFromPoint(Z,ne[Ee],ue);-1!==Se&&Se<ye.distance&&(ye.distance=Se,ye.toolIndex=Ee)}return ye.toolIndex}}},{key:"_getInsertPosition",value:function(Z,K,Q){var Xe,ee=this._sculptData,ne=ee.points,ue=ee.toolSize,ye=ee.mousePoint,Ee=ee.image,Se={x:(ne[K].x+ne[Q].x)/2,y:(ne[K].y+ne[Q].y)/2},ke=x.default.cornerstoneMath.point.distance(ye,Se);if(ke<ue){var mt={x:(Se.x-ye.x)/ke,y:(Se.y-ye.y)/ke};Xe={x:ye.x+ue*mt.x,y:ye.y+ue*mt.y}}else Xe=Se;return Object(j.clipToBox)(Xe,Ee),Xe}},{key:"minSpacing",get:function(){return this.configuration.minSpacing},set:function(Z){if("number"!=typeof Z)throw new Error("Attempting to set freehandSculpter minSpacing to a value other than a number.");this.configuration.minSpacing=Z}},{key:"maxSpacing",get:function(){return this.configuration.maxSpacing},set:function(Z){if("number"!=typeof Z)throw new Error("Attempting to set freehandSculpter maxSpacing to a value other than a number.");this.configuration.maxSpacing=Z}},{key:"showCursorOnHover",get:function(){return this.configuration.showCursorOnHover},set:function(Z){if("boolean"!=typeof Z)throw new Error("Attempting to set freehandSculpter showCursorOnHover to a value other than a boolean.");this.configuration.showCursorOnHover=Z,x.default.cornerstone.updateImage(this.element)}},{key:"limitRadiusOutsideRegion",get:function(){return this.configuration.limitRadiusOutsideRegion},set:function(Z){if("boolean"!=typeof Z)throw new Error("Attempting to set freehandSculpter limitRadiusOutsideRegion to a value other than a boolean.");this.configuration.limitRadiusOutsideRegion=Z,x.default.cornerstone.updateImage(this.element)}},{key:"hoverCursorFadeAlpha",get:function(){return this.configuration.hoverCursorFadeAlpha},set:function(Z){if("number"!=typeof Z)throw new Error("Attempting to set freehandSculpter hoverCursorFadeAlpha to a value other than a number.");Z=Math.max(Math.min(Z,1),0),this.configuration.hoverCursorFadeAlpha=Z,x.default.cornerstone.updateImage(this.element)}},{key:"hoverCursorFadeDistance",get:function(){return this.configuration.hoverCursorFadeDistance},set:function(Z){if("number"!=typeof Z)throw new Error("Attempting to set freehandSculpter hoverCursorFadeDistance to a value other than a number.");Z=Math.max(Z,1),this.configuration.hoverCursorFadeDistance=Z,x.default.cornerstone.updateImage(this.element)}}],[{key:"_getCorrectedPair",value:function(Z,K){var Q=[Z[0]-K,Z[1]-K];return Q[1]<0&&(Q[1]=0),Q}},{key:"_getNextHandleIndex",value:function(Z,K){return Z===K-1?0:Z+1}},{key:"_getPreviousHandleIndex",value:function(Z,K){return 0===Z?K-1:Z-1}},{key:"_getNextHandleIndexBeforeInsert",value:function(Z,K){return Z===K?0:Z}}]),oe}(B.default)},"./tools/MagnifyTool.js":
/*!******************************!*\
                  !*** ./tools/MagnifyTool.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return N});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../externalModules.js */
"./externalModules.js"),x=s(
/*! ../drawing/index.js */
"./drawing/index.js"),S=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),L=s(
/*! ../store/setToolCursor.js */
"./store/setToolCursor.js"),w=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),N=function(j){function W(){var B,G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,W);var V={name:"Magnify",supportedInteractionTypes:["Mouse","Touch"],configuration:{magnifySize:300,magnificationLevel:2},svgCursor:w.magnifyCursor};return(B=h()(this,O()(W).call(this,G,V))).zoomCanvas=void 0,B.zoomElement=void 0,B.activeCallback=B._createMagnificationCanvas.bind(g()(B)),B.enabledCallback=B._createMagnificationCanvas.bind(g()(B)),B.disabledCallback=B._destroyMagnificationCanvas.bind(g()(B)),B.postTouchStartCallback=B._addMagnifyingGlass.bind(g()(B)),B.touchDragCallback=B._updateMagnifyingGlass.bind(g()(B)),B.touchEndCallback=B._removeMagnifyingGlass.bind(g()(B)),B.touchDragEndCallback=B._removeMagnifyingGlass.bind(g()(B)),B.postMouseDownCallback=B._addMagnifyingGlass.bind(g()(B)),B.mouseDragCallback=B._updateMagnifyingGlass.bind(g()(B)),B.mouseUpCallback=B._removeMagnifyingGlass.bind(g()(B)),B.mouseClickCallback=B._removeMagnifyingGlass.bind(g()(B)),B.newImageCallback=B._drawMagnificationTool.bind(g()(B)),B}return P()(W,j),T()(W,[{key:"_addMagnifyingGlass",value:function(G){var V=this;this._removeZoomElement(),this._drawZoomedElement(G),window.requestAnimationFrame(function(){return V._drawMagnificationTool(G)}),Object(L.hideToolCursor)(G.detail.element),G.preventDefault(),G.stopPropagation()}},{key:"_updateMagnifyingGlass",value:function(G){this._drawMagnificationTool(G),G.preventDefault(),G.stopPropagation()}},{key:"_removeMagnifyingGlass",value:function(G){var V=G.detail.element;Object(L.setToolCursor)(this.element,this.svgCursor),V.querySelector(".magnifyTool").style.display="none",this._removeZoomElement()}},{key:"_drawMagnificationTool",value:function(G){var V=G.detail.element,F=V.querySelector(".magnifyTool");if(F||this._createMagnificationCanvas(V),void 0!==this.zoomCanvas){var z=V.querySelector("canvas:not(.magnifyTool)"),te=Object(x.getNewContext)(F),q=b.default.cornerstone.pixelToCanvas(G.detail.element,G.detail.currentPoints.image),ae=Math.min(this.configuration.magnifySize,z.width,z.height),ie=this.configuration.magnificationLevel;F.width=ae,F.height=ae,q.x=Math.max(q.x,.5*ae/ie),q.x=Math.min(q.x,z.width-.5*ae/ie),q.y=Math.max(q.y,.5*ae/ie),q.y=Math.min(q.y,z.height-.5*ae/ie);var oe={x:q.x*ie-.5*ae,y:q.y*ie-.5*ae};oe.x=Math.max(oe.x,0),oe.y=Math.max(oe.y,0),te.drawImage(this.zoomCanvas,oe.x,oe.y,ae,ae,0,0,ae,ae);var Z={top:Math.max(q.y-.5*ae-(G.detail.isTouchEvent?120:0),0),left:Math.max(q.x-.5*ae,0)},K=F.getBoundingClientRect();Z.top=Math.min(Z.top,z.height-K.height),Z.left=Math.min(Z.left,z.width-K.width),F.style.top="".concat(Z.top,"px"),F.style.left="".concat(Z.left,"px"),F.style.display="block"}}},{key:"_drawZoomedElement",value:function(G){var F=G.detail.enabledElement;void 0===F&&(F=b.default.cornerstone.getEnabledElement(G.detail.element));var z=this.configuration.magnificationLevel,te=F.canvas,q=F.image;this.zoomElement||(this.zoomElement=document.createElement("div"),this.zoomElement.width=te.width*z,this.zoomElement.height=te.height*z,b.default.cornerstone.enable(this.zoomElement,F.options));var ae=b.default.cornerstone.getEnabledElement(this.zoomElement),ie=b.default.cornerstone.getViewport(F.element);this.zoomCanvas=ae.canvas,this.zoomCanvas.width=te.width*z,this.zoomCanvas.height=te.height*z,ae.viewport=Object.assign({},ie),ie.scale*=z,b.default.cornerstone.displayImage(this.zoomElement,q),b.default.cornerstone.setViewport(this.zoomElement,ie)}},{key:"_removeZoomElement",value:function(){void 0!==this.zoomElement&&(b.default.cornerstone.disable(this.zoomElement),this.zoomElement=void 0,this.zoomCanvas=void 0)}},{key:"_createMagnificationCanvas",value:function(G){if(null===G.querySelector(".magnifyTool")){var V=document.createElement("canvas");V.classList.add("magnifyTool"),V.width=this.configuration.magnifySize,V.height=this.configuration.magnifySize,V.style.position="absolute",V.style.display="none",G.appendChild(V)}}},{key:"_destroyMagnificationCanvas",value:function(G){var V=G.querySelector(".magnifyTool");V&&G.removeChild(V)}}]),W}(S.default)},"./tools/OrientationMarkersTool.js":
/*!*****************************************!*\
                  !*** ./tools/OrientationMarkersTool.js ***!
                  \*****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return w});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),b=s(
/*! ../orientation/index.js */
"./orientation/index.js"),x=s(
/*! ../drawing/index.js */
"./drawing/index.js"),S=s(
/*! ../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ../drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),w=function(G){function V(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,V);return h()(this,O()(V).call(this,F,{name:"OrientationMarkers",configuration:{drawAllMarkers:!0},mixins:["enabledOrDisabledBinaryTool"]}))}return g()(V,G),T()(V,[{key:"enabledCallback",value:function(z){this.forceImageUpdate(z)}},{key:"disabledCallback",value:function(z){this.forceImageUpdate(z)}},{key:"forceImageUpdate",value:function(z){var te=v.default.cornerstone;te.getEnabledElement(z).image&&te.updateImage(z)}},{key:"renderToolData",value:function(z){var te=z.detail,q=Object(x.getNewContext)(te.canvasContext.canvas),ae=te.element,ie=W(ae);if(ie){var oe=B(ae,ie),$=S.default.getToolColor(),Z={top:Object(L.textBoxWidth)(q,ie.top,0),left:Object(L.textBoxWidth)(q,ie.left,0),right:Object(L.textBoxWidth)(q,ie.right,0),bottom:Object(L.textBoxWidth)(q,ie.bottom,0),height:Object(L.textBoxWidth)(q,"M",0)};N(q,ie,oe,Z,$),this.configuration.drawAllMarkers&&j(q,ie,oe,Z,$)}}}]),V}(P.default),N=function(V,F,z,te,q){Object(L.default)(V,F.top,z.top.x-te.top/2,z.top.y,q),Object(L.default)(V,F.left,z.left.x-te.left/2,z.left.y,q)},j=function(V,F,z,te,q){Object(L.default)(V,F.right,z.right.x-te.right,z.right.y,q),Object(L.default)(V,F.bottom,z.bottom.x-te.bottom/2,z.bottom.y-te.height,q)},W=function(V){var F=v.default.cornerstone,z=F.getEnabledElement(V),te=F.metaData.get("imagePlaneModule",z.image.imageId);if(te&&te.rowCosines&&te.columnCosines){var q=b.default.getOrientationString(te.rowCosines),ae=b.default.getOrientationString(te.columnCosines),ie=b.default.invertOrientationString(q);return{top:b.default.invertOrientationString(ae),bottom:ae,left:ie,right:q}}},B=function(V){var F=v.default.cornerstone.getEnabledElement(V);return{top:v.default.cornerstone.pixelToCanvas(V,{x:F.image.width/2,y:5}),bottom:v.default.cornerstone.pixelToCanvas(V,{x:F.image.width/2,y:F.image.height-15}),left:v.default.cornerstone.pixelToCanvas(V,{x:5,y:F.image.height/2}),right:v.default.cornerstone.pixelToCanvas(V,{x:F.image.width-10,y:F.image.height/2})}}},"./tools/OverlayTool.js":
/*!******************************!*\
                  !*** ./tools/OverlayTool.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return S});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../store/index */
"./store/index.js"),P=s(
/*! ../externalModules.js */
"./externalModules.js"),b=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),x=v.modules.globalConfiguration,S=function(L){function w(){var N,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,w);var B=Object.assign({name:"Overlay",configuration:{},mixins:["enabledOrDisabledBinaryTool"]},j);return(N=h()(this,O()(w).call(this,B))).initialConfiguration=B,N}return g()(w,L),T()(w,[{key:"enabledCallback",value:function(j){this.forceImageUpdate(j)}},{key:"disabledCallback",value:function(j){this.forceImageUpdate(j)}},{key:"forceImageUpdate",value:function(j){P.default.cornerstone.getEnabledElement(j).image&&P.default.cornerstone.updateImage(j)}},{key:"setupRender",value:function(j){if(j){var W=P.default.cornerstone.metaData.get("overlayPlaneModule",j.imageId);if(W&&W.overlays&&W.overlays.length)return W}}},{key:"setupViewport",value:function(j){if(void 0===j.overlayColor&&(j.overlayColor=x.configuration.overlayColor||"white"),!1!==j.overlayColor)return!0}},{key:"renderToolData",value:function(j){var W=j.detail,B=W.enabledElement,G=W.image,V=W.viewport,F=W.canvasContext,z=this.setupRender(G);if(W&&B&&z&&this.setupViewport(V)){var te=G.columns,q=G.rows;z.overlays.forEach(function(ae){if(!1!==ae.visible){var ie=document.createElement("canvas");ie.width=te,ie.height=q;var oe=ie.getContext("2d");oe.fillStyle=ae.fillStyle||V.overlayColor,"R"===ae.type&&(oe.fillRect(0,0,ie.width,ie.height),oe.globalCompositeOperation="xor");for(var $=0,Z=0;Z<ae.rows;Z++)for(var K=0;K<ae.columns;K++)ae.pixelData[$++]>0&&oe.fillRect(K,Z,1,1);var Q=!isNaN(parseFloat(ae.x))&&isFinite(ae.x)?ae.x:0,ee=!isNaN(parseFloat(ae.y))&&isFinite(ae.y)?ae.y:0;F.drawImage(ie,Q,ee)}})}}}]),w}(b.default)},"./tools/PanMultiTouchTool.js":
/*!************************************!*\
                  !*** ./tools/PanMultiTouchTool.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return S});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../externalModules.js */
"./externalModules.js"),S=function(L){function w(){var N,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,w);return(N=h()(this,O()(w).call(this,j,{name:"PanMultiTouch",supportedInteractionTypes:["MultiTouch"],configuration:{touchPointers:2}}))).multiTouchDragCallback=N._dragCallback.bind(g()(N)),N}return P()(w,L),T()(w,[{key:"_dragCallback",value:function(j){var W=j.detail,B=W.element,G=W.viewport;if(W.numPointers===this.configuration.touchPointers){var V=this._getTranslation(W);this._applyTranslation(G,V),b.default.cornerstone.setViewport(B,G)}}},{key:"_getTranslation",value:function(j){var W=j.viewport,B=j.image,G=j.deltaPoints,V=W.scale,F=W.scale;return B.rowPixelSpacing<B.columnPixelSpacing?V*=B.columnPixelSpacing/B.rowPixelSpacing:B.columnPixelSpacing<B.rowPixelSpacing&&(F*=B.rowPixelSpacing/B.columnPixelSpacing),{x:G.page.x/V,y:G.page.y/F}}},{key:"_applyTranslation",value:function(j,W){j.translation.x+=W.x,j.translation.y+=W.y}}]),w}(s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js").default)},"./tools/PanTool.js":
/*!**************************!*\
                  !*** ./tools/PanTool.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return L});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./../externalModules.js */
"./externalModules.js"),x=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),S=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),L=function(w){function N(){var j,W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,N);var B={name:"Pan",supportedInteractionTypes:["Mouse","Touch"],svgCursor:S.panCursor};return(j=h()(this,O()(N).call(this,W,B))).touchDragCallback=j._dragCallback.bind(g()(j)),j.mouseDragCallback=j._dragCallback.bind(g()(j)),j}return P()(N,w),T()(N,[{key:"_dragCallback",value:function(W){var B=W.detail,G=B.element,V=B.viewport,F=this._getTranslation(B);this._applyTranslation(V,F),b.default.cornerstone.setViewport(G,V)}},{key:"_getTranslation",value:function(W){var B=W.viewport,G=W.image,V=W.deltaPoints,F=B.scale,z=B.scale;return G.rowPixelSpacing<G.columnPixelSpacing?F*=G.columnPixelSpacing/G.rowPixelSpacing:G.columnPixelSpacing<G.rowPixelSpacing&&(z*=G.rowPixelSpacing/G.columnPixelSpacing),{x:V.page.x/F,y:V.page.y/z}}},{key:"_applyTranslation",value:function(W,B){W.translation.x+=B.x,W.translation.y+=B.y}}]),N}(x.default)},"./tools/ReferenceLinesTool.js":
/*!*************************************!*\
                  !*** ./tools/ReferenceLinesTool.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return G});var p=s(
/*! @babel/runtime/regenerator */
"../node_modules/@babel/runtime/regenerator/index.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/asyncToGenerator */
"../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),P=s.n(v),b=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),x=s.n(b),S=s(
/*! ./../externalModules.js */
"./externalModules.js"),L=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),w=s(
/*! ../drawing/index.js */
"./drawing/index.js"),N=s(
/*! ./referenceLines/renderActiveReferenceLine.js */
"./tools/referenceLines/renderActiveReferenceLine.js"),j=s(
/*! ../util/wait.js */
"./util/wait.js"),W=s(
/*! ../util/logger.js */
"./util/logger.js"),B=Object(W.getLogger)("tools:ReferenceLinesTool"),G=function(V){function F(){var z,te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h()(this,F);var q={name:"ReferenceLines",mixins:["enabledOrDisabledBinaryTool"],configuration:{renderer:N.default}};return(z=g()(this,P()(F).call(this,te,q))).renderer=null,z.synchronizationContext=null,z}return x()(F,V),O()(F,[{key:"enabledCallback",value:(z=T()(y.a.mark(function q(ae){var oe,$,K=arguments;return y.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return oe=(K.length>1&&void 0!==K[1]?K[1]:{}).synchronizationContext,$=this.configuration.renderer,ee.next=4,Object(j.waitForEnabledElementImageToLoad)(ae);case 4:if(ee.sent&&$&&oe){ee.next=8;break}return B.warn("Unable to enable ".concat(this.name,". Exiting enable callback. Tool will be enabled, but will not render.")),ee.abrupt("return");case 8:this.renderer=$,this.synchronizationContext=oe,this.forceImageUpdate(ae);case 11:case"end":return ee.stop()}},q,this)})),function te(q){return z.apply(this,arguments)})},{key:"disabledCallback",value:function(te){this.forceImageUpdate(te)}},{key:"forceImageUpdate",value:function(te){S.default.cornerstone.getEnabledElement(te).image&&S.default.cornerstone.updateImage(te)}},{key:"renderToolData",value:function(te){var q=this,ae=te.detail;if(this.renderer&&this.synchronizationContext){var ie=this.synchronizationContext.getSourceElements(),oe=Object(w.getNewContext)(ae.canvasContext.canvas);S.default.cornerstone.setToPixelCoordinateSystem(ae.enabledElement,oe),ie.forEach(function($){$!==te.currentTarget&&q.renderer(oe,ae,te.currentTarget,$)})}}}]),F;var z}(L.default)},"./tools/RotateTool.js":
/*!*****************************!*\
                  !*** ./tools/RotateTool.js ***!
                  \*****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return S});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),b=s(
/*! ../util/angleBetweenPoints.js */
"./util/angleBetweenPoints.js"),x=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),S=function(j){function W(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,W);var G={name:"Rotate",strategies:{default:L,horizontal:w,vertical:N},defaultStrategy:"default",supportedInteractionTypes:["Mouse","Touch"],configuration:{roundAngles:!1,flipHorizontal:!1,flipVertical:!1,rotateScale:1},svgCursor:x.rotateCursor};return h()(this,O()(W).call(this,B,G))}return g()(W,j),T()(W,[{key:"touchDragCallback",value:function(G){this.dragCallback(G)}},{key:"mouseDragCallback",value:function(G){this.dragCallback(G)}},{key:"postMouseDownCallback",value:function(G){this.initialRotation=G.detail.viewport.rotation}},{key:"dragCallback",value:function(G){G.detail.viewport.initialRotation=this.initialRotation,this.applyActiveStrategy(G),v.default.cornerstone.setViewport(G.detail.element,G.detail.viewport)}}]),W}(P.default);function L(j){var W=this.configuration,B=W.roundAngles,G=W.rotateScale,V=j.detail,F=V.element,z=V.viewport,te=V.startPoints,q=V.currentPoints,ae=z.initialRotation?z.initialRotation:z.rotation,ie=F.getBoundingClientRect(F),Z=z.scale,K=z.translation,Q={x:ie.left+F.clientWidth/2+K.x*Z,y:ie.top+F.clientHeight/2+K.y*Z},ee=Object(b.default)(Q,te.client,q.client);ee.angle*=G,B&&(ee.angle=Math.ceil(ee.angle)),ee.direction<0&&(ee.angle=-ee.angle),z.rotation=ae+ee.angle}function w(j){var W=this.configuration,G=W.flipHorizontal,F=j.detail,z=F.viewport,ae=z.initialRotation,$=(F.currentPoints.client.x-F.startPoints.client.x)*W.rotateScale;W.roundAngles&&($=Math.round(Math.abs($))*($>0?1:-1)),G&&($=-$),z.rotation=ae+$}function N(j){var W=this.configuration,G=W.flipVertical,F=j.detail,z=F.viewport,ae=z.initialRotation,$=(F.currentPoints.client.y-F.startPoints.client.y)*W.rotateScale;W.roundAngles&&($=Math.round(Math.abs($))*($>0?1:-1)),G&&($=-$),z.rotation=ae+$}},"./tools/RotateTouchTool.js":
/*!**********************************!*\
                  !*** ./tools/RotateTouchTool.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return b});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../externalModules.js */
"./externalModules.js"),b=function(x){function S(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,S);return h()(this,O()(S).call(this,L,{name:"RotateTouch",supportedInteractionTypes:["TouchRotate"]}))}return g()(S,x),T()(S,[{key:"touchRotateCallback",value:function(w){var N=w.detail,j=N.element,W=N.viewport;W.rotation+=N.rotation,v.default.cornerstone.setViewport(j,W)}}]),S}(s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js").default)},"./tools/ScaleOverlayTool.js":
/*!***********************************!*\
                  !*** ./tools/ScaleOverlayTool.js ***!
                  \***********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return N});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),b=s(
/*! ../drawing/index.js */
"./drawing/index.js"),x=s(
/*! ../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),S=s(
/*! ../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ../util/logger.js */
"./util/logger.js"),w=Object(L.getLogger)("tools:ScaleOverlayTool"),N=function(G){function V(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,V);return h()(this,O()(V).call(this,F,{name:"ScaleOverlay",configuration:{minorTickLength:12.5,majorTickLength:25},mixins:["enabledOrDisabledBinaryTool"]}))}return g()(V,G),T()(V,[{key:"enabledCallback",value:function(z){this.forceImageUpdate(z)}},{key:"disabledCallback",value:function(z){this.forceImageUpdate(z)}},{key:"forceImageUpdate",value:function(z){v.default.cornerstone.getEnabledElement(z).image&&v.default.cornerstone.updateImage(z)}},{key:"renderToolData",value:function(z){var te=z.detail,q=Object(b.getNewContext)(te.canvasContext.canvas),ae=te.image,ie=te.viewport,oe=te.element,$=ae.rowPixelSpacing,Z=ae.columnPixelSpacing,K=v.default.cornerstone.metaData.get("imagePlaneModule",ae.imageId);if(K&&($=K.rowPixelSpacing||K.rowImagePixelSpacing,Z=K.columnPixelSpacing||K.colImagePixelSpacing),$&&Z){var Q={width:q.canvas.width,height:q.canvas.height},ee=10/$*ie.scale,ne=10/Z*ie.scale,ue=j(Q,.25,.05),ye=j(Q,.05,.15);if(Q.width&&Q.height&&ue&&ye){var Ee=S.default.getToolColor(),Se=x.default.getToolWidth(),ke=Object.assign({},{hscaleBounds:ue,vscaleBounds:ye,verticalMinorTick:ee,horizontalMinorTick:ne,verticalLine:{start:{x:ye.bottomRight.x,y:ye.topLeft.y},end:{x:ye.bottomRight.x,y:ye.bottomRight.y}},horizontalLine:{start:{x:ue.topLeft.x,y:ue.bottomRight.y},end:{x:ue.bottomRight.x,y:ue.bottomRight.y}},color:Ee,lineWidth:Se},this.configuration);Object(b.draw)(q,function(Xe){Object(b.setShadow)(Xe,ke),Object(b.drawLine)(Xe,oe,ke.verticalLine.start,ke.verticalLine.end,{color:ke.color,lineWidth:ke.lineWidth},"canvas"),W(Xe,oe,ke),Object(b.drawLine)(Xe,oe,ke.horizontalLine.start,ke.horizontalLine.end,{color:ke.color,lineWidth:ke.lineWidth},"canvas"),B(Xe,oe,ke)})}}else w.warn("unable to define rowPixelSpacing or colPixelSpacing from data on ".concat(this.name,"'s renderToolData"))}}]),V}(P.default),j=function(V,F,z){var te=F*Math.min(1e3,V.width),q=z*Math.min(1e3,V.height),ae={left:te,top:q,width:V.width-2*te,height:V.height-2*q};return{topLeft:{x:ae.left,y:ae.top},bottomRight:{x:ae.left+ae.width,y:ae.top+ae.height}}},W=function(V,F,z){for(var te=0;z.verticalLine.start.y+te*z.verticalMinorTick<=z.vscaleBounds.bottomRight.y;){var q=z.color,ae=z.lineWidth,ie={x:z.verticalLine.start.x,y:z.verticalLine.start.y+te*z.verticalMinorTick},oe={x:0,y:z.verticalLine.start.y+te*z.verticalMinorTick};oe.x=te%5==0?z.verticalLine.start.x-z.majorTickLength:z.verticalLine.start.x-z.minorTickLength,Object(b.drawLine)(V,F,ie,oe,{color:q,lineWidth:ae},"canvas"),te++}},B=function(V,F,z){for(var te=0;z.horizontalLine.start.x+te*z.horizontalMinorTick<=z.hscaleBounds.bottomRight.x;){var q=z.color,ae=z.lineWidth,ie={x:z.horizontalLine.start.x+te*z.horizontalMinorTick,y:z.horizontalLine.start.y},oe={x:z.horizontalLine.start.x+te*z.horizontalMinorTick,y:0};oe.y=te%5==0?z.horizontalLine.start.y-z.majorTickLength:z.horizontalLine.start.y-z.minorTickLength,Object(b.drawLine)(V,F,ie,oe,{color:q,lineWidth:ae},"canvas"),te++}}},"./tools/StackScrollMouseWheelTool.js":
/*!********************************************!*\
                  !*** ./tools/StackScrollMouseWheelTool.js ***!
                  \********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return b});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),P=s(
/*! ../util/scroll.js */
"./util/scroll.js"),b=function(x){function S(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,S);return h()(this,O()(S).call(this,L,{name:"StackScrollMouseWheel",supportedInteractionTypes:["MouseWheel"],configuration:{loop:!1,allowSkipping:!0,invert:!1}}))}return g()(S,x),T()(S,[{key:"mouseWheelCallback",value:function(w){var N=w.detail,j=N.direction,W=N.element,B=this.configuration,G=B.loop,V=B.allowSkipping,z=B.invert?-j:j;Object(P.default)(W,z,G,V)}}]),S}(v.default)},"./tools/StackScrollMultiTouchTool.js":
/*!********************************************!*\
                  !*** ./tools/StackScrollMultiTouchTool.js ***!
                  \********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return w});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),x=s(
/*! ../util/scroll.js */
"./util/scroll.js"),S=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),L=s(
/*! ../toolOptions.js */
"./toolOptions.js"),w=function(N){function j(){var W,B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,j);return(W=h()(this,O()(j).call(this,B,{name:"StackScrollMultiTouch",supportedInteractionTypes:["MultiTouch"],configuration:{loop:!1,allowSkipping:!0,touchPointers:3}}))).multiTouchDragCallback=W._dragCallback.bind(g()(W)),W}return P()(j,N),T()(j,[{key:"_dragCallback",value:function(B){var G=B.detail;if(G.numPointers===this.configuration.touchPointers){var V=G.element,F=G.deltaPoints,z=this.configuration,te=z.loop,q=z.allowSkipping,ae=Object(L.getToolOptions)(this.name,V),ie=this._getPixelPerImage(V),oe=this._getDeltaY(V,F.page.y);if(!ie)return;if(Math.abs(oe)>=ie){var $=Math.round(oe/ie);Object(x.default)(V,$,te,q),ae.deltaY=oe%ie}else ae.deltaY=oe;Object(L.setToolOptions)(this.name,V,ae)}}},{key:"_getDeltaY",value:function(B,G){return(Object(L.getToolOptions)(this.name,B).deltaY||0)+G}},{key:"_getPixelPerImage",value:function(B){var G=Object(S.getToolState)(B,"stack");if(G&&G.data&&G.data.length)return this.configuration.stackScrollSpeed||Math.max(2,B.offsetHeight/Math.max(G.data[0].imageIds.length,8))}}]),j}(b.default)},"./tools/StackScrollTool.js":
/*!**********************************!*\
                  !*** ./tools/StackScrollTool.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return N});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),x=s(
/*! ../util/scroll.js */
"./util/scroll.js"),S=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),L=s(
/*! ../toolOptions.js */
"./toolOptions.js"),w=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),N=function(j){function W(){var B,G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,W);var V={name:"StackScroll",supportedInteractionTypes:["Mouse","Touch"],configuration:{loop:!1,allowSkipping:!0},svgCursor:w.stackScrollCursor};return(B=h()(this,O()(W).call(this,G,V))).mouseDragCallback=B._dragCallback.bind(g()(B)),B.touchDragCallback=B._dragCallback.bind(g()(B)),B}return P()(W,j),T()(W,[{key:"_dragCallback",value:function(G){var V=G.detail,F=V.element,z=V.deltaPoints,te=this.configuration,q=te.loop,ae=te.allowSkipping,ie=Object(L.getToolOptions)(this.name,F),oe=this._getPixelPerImage(F),$=this._getDeltaY(F,z.page.y);if(oe){if(Math.abs($)>=oe){var Z=Math.round($/oe);Object(x.default)(F,Z,q,ae),ie.deltaY=$%oe}else ie.deltaY=$;Object(L.setToolOptions)(this.name,F,ie)}}},{key:"_getDeltaY",value:function(G,V){return(Object(L.getToolOptions)(this.name,G).deltaY||0)+V}},{key:"_getPixelPerImage",value:function(G){var V=Object(S.getToolState)(G,"stack");if(V&&V.data&&V.data.length)return this.configuration.stackScrollSpeed||Math.max(2,G.offsetHeight/Math.max(V.data[0].imageIds.length,8))}}]),W}(b.default)},"./tools/WwwcRegionTool.js":
/*!*********************************!*\
                  !*** ./tools/WwwcRegionTool.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return W});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../externalModules.js */
"./externalModules.js"),x=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),S=s(
/*! ../drawing/index.js */
"./drawing/index.js"),L=s(
/*! ../util/clip.js */
"./util/clip.js"),w=s(
/*! ../util/getLuminance.js */
"./util/getLuminance.js"),N=s(
/*! ../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),j=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),W=function(F){function z(){var te,q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,z);var ae={name:"WwwcRegion",supportedInteractionTypes:["Mouse","Touch"],configuration:{minWindowWidth:10},svgCursor:j.wwwcRegionCursor};return(te=h()(this,O()(z).call(this,q,ae)))._resetHandles(),te.postTouchStartCallback=te._startOutliningRegion.bind(g()(te)),te.touchDragCallback=te._setHandlesAndUpdate.bind(g()(te)),te.touchEndCallback=te._applyStrategy.bind(g()(te)),te.postMouseDownCallback=te._startOutliningRegion.bind(g()(te)),te.mouseClickCallback=te._startOutliningRegion.bind(g()(te)),te.mouseDragCallback=te._setHandlesAndUpdate.bind(g()(te)),te.mouseMoveCallback=te._setHandlesAndUpdate.bind(g()(te)),te.mouseUpCallback=te._applyStrategy.bind(g()(te)),te}return P()(z,F),T()(z,[{key:"renderToolData",value:function(q){var ae=this,ie=q.detail,oe=ie.element,$=N.default.getColorIfActive({active:!0}),Z=Object(S.getNewContext)(ie.canvasContext.canvas);Object(S.draw)(Z,function(K){Object(S.drawRect)(K,oe,ae.handles.start,ae.handles.end,{color:$})})}},{key:"_startOutliningRegion",value:function(q){var ie=q.detail.element,oe=q.detail.currentPoints.image;return B(this.handles.start)?this.handles.start=oe:(this.handles.end=oe,this._applyStrategy(q)),b.default.cornerstone.updateImage(ie),!0}},{key:"_setHandlesAndUpdate",value:function(q){var ae=q.detail.element;this.handles.end=q.detail.currentPoints.image,b.default.cornerstone.updateImage(ae)}},{key:"_applyStrategy",value:function(q){B(this.handles.start)||B(this.handles.end)||(q.detail.handles=this.handles,G(q,this.configuration),this._resetHandles())}},{key:"_resetHandles",value:function(){this.handles={start:{},end:{}}}}]),z}(x.default),B=function(z){return 0===Object.keys(z).length&&z.constructor===Object},G=function(z,te){var q=z.detail,ae=q.image,ie=q.element,oe=z.detail.handles,$=oe.start,Z=oe.end,K=Math.min($.x,Z.x),Q=Math.min($.y,Z.y),ee=Math.abs($.x-Z.x),ne=Math.abs($.y-Z.y);K=Object(L.default)(K,0,ae.width),Q=Object(L.default)(Q,0,ae.height),ee=Math.floor(Math.min(ee,Math.abs(ae.width-K))),ne=Math.floor(Math.min(ne,Math.abs(ae.height-Q)));var ue=Object(w.default)(ie,K,Q,ee,ne),ye=V(ue,ae.minPixelValue,ae.maxPixelValue),Ee=q.viewport;void 0===te.minWindowWidth&&(te.minWindowWidth=10),Ee.voi.windowWidth=Math.max(Math.abs(ye.max-ye.min),te.minWindowWidth),Ee.voi.windowCenter=ye.mean,Ee.voiLUT=void 0,b.default.cornerstone.setViewport(ie,Ee),b.default.cornerstone.updateImage(ie)},V=function(z,te,q){var ae=z.length,ie=q,oe=te,$=0;if(ae<2)return{min:ie,max:oe,mean:(te+q)/2};for(var Z=0;Z<ae;Z++){var K=z[Z];ie=Math.min(ie,K),oe=Math.max(oe,K),$+=K}return{min:ie,max:oe,mean:$/ae}}},"./tools/WwwcTool.js":
/*!***************************!*\
                  !*** ./tools/WwwcTool.js ***!
                  \***************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return x});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),b=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),x=function(L){function w(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,w);var j={name:"Wwwc",strategies:{basicLevelingStrategy:S},supportedInteractionTypes:["Mouse","Touch"],configuration:{orientation:0},svgCursor:b.wwwcCursor};return h()(this,O()(w).call(this,N,j))}return g()(w,L),T()(w,[{key:"mouseDragCallback",value:function(j){this.applyActiveStrategy(j),v.default.cornerstone.setViewport(j.detail.element,j.detail.viewport)}},{key:"touchDragCallback",value:function(j){j.stopImmediatePropagation(),this.applyActiveStrategy(j),v.default.cornerstone.setViewport(j.detail.element,j.detail.viewport)}}]),w}(P.default);function S(L){var N=L.detail,G=(N.image.maxPixelValue*N.image.slope+N.image.intercept-(N.image.minPixelValue*N.image.slope+N.image.intercept))/1024,V=N.deltaPoints.page.x*G,F=N.deltaPoints.page.y*G;0===this.configuration.orientation?(N.viewport.voi.windowWidth+=V,N.viewport.voi.windowCenter+=F):(N.viewport.voi.windowWidth+=F,N.viewport.voi.windowCenter+=V),N.viewport.voiLUT=void 0}},"./tools/ZoomMouseWheelTool.js":
/*!*************************************!*\
                  !*** ./tools/ZoomMouseWheelTool.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return x});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),b=s(
/*! ../util/zoom/index.js */
"./util/zoom/index.js"),x=function(S){function L(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,L);return h()(this,O()(L).call(this,w,{name:"ZoomMouseWheel",supportedInteractionTypes:["MouseWheel"],configuration:{minScale:.25,maxScale:20,invert:!1}}))}return g()(L,S),T()(L,[{key:"mouseWheelCallback",value:function(N){var j=N.detail,W=j.element,B=j.viewport,G=j.spinY,V=this.configuration,z=V.maxScale,te=V.minScale,q=V.invert?G/4:-G/4,ae=Object(b.changeViewportScale)(B,q,{maxScale:z,minScale:te});v.default.cornerstone.setViewport(W,ae)}}]),L}(P.default)},"./tools/ZoomTool.js":
/*!***************************!*\
                  !*** ./tools/ZoomTool.js ***!
                  \***************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return N});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),b=s(
/*! ../util/clip.js */
"./util/clip.js"),x=s(
/*! ../util/zoom/index.js */
"./util/zoom/index.js"),S=s(
/*! ./cursors/index.js */
"./tools/cursors/index.js"),L=x.default.correctShift,w=x.default.changeViewportScale,N=function(V){function F(){var z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,F);var te={name:"Zoom",strategies:{default:W,translate:B,zoomToCenter:G},defaultStrategy:"default",supportedInteractionTypes:["Mouse","Touch"],configuration:{invert:!1,preventZoomOutsideImage:!1,minScale:.25,maxScale:20},svgCursor:S.zoomCursor};return h()(this,O()(F).call(this,z,te))}return g()(F,V),T()(F,[{key:"touchDragCallback",value:function(te){j.call(this,te)}},{key:"mouseDragCallback",value:function(te){j.call(this,te)}}]),F}(P.default),j=function(F){if(!F.detail.deltaPoints.page.y)return!1;this.applyActiveStrategy(F,this.configuration),v.default.cornerstone.setViewport(F.detail.element,F.detail.viewport)};function W(V){var F=this.configuration,ae=V.detail.deltaPoints.page.y,oe=V.detail,$=oe.element,Z=oe.viewport,K=[V.detail.startPoints.page.x,V.detail.startPoints.page.y,V.detail.startPoints.image.x,V.detail.startPoints.image.y],Q=K[0],ee=K[1],ne=K[2],ue=K[3],ye=w(Z,F.invert?-ae/100:ae/100,{maxScale:F.maxScale,minScale:F.minScale});v.default.cornerstone.setViewport($,ye);var Ee=v.default.cornerstone.pageToPixel($,Q,ee),Se={x:ne-Ee.x,y:ue-Ee.y};Se=L(Se,ye),Z.translation.x-=Se.x,Z.translation.y-=Se.y}function B(V){var F=this.configuration,te=F.preventZoomOutsideImage,ie=V.detail.deltaPoints.page.y,oe=F.invert?-ie/100:ie/100,$=V.detail.image,K=[V.detail.startPoints.image.x,V.detail.startPoints.image.y],Q=K[0],ee=K[1],ne=w(V.detail.viewport,oe,{maxScale:F.maxScale,minScale:F.minScale}),ue={x:0,y:0};if(oe<0)ne.scale<3&&(Math.abs(ne.translation.x)<.01?ne.translation.x=0:ue.x=ne.translation.x/8,Math.abs(ne.translation.y)<.01?ne.translation.y=0:ue.y=ne.translation.y/8);else{te&&Object(b.clipToBox)(V.detail.startPoints.image,$);var ke={x:$.width/2-Q,y:$.height/2-ee};ke=L(ke,ne);var Xe={x:ne.translation.x-ke.x,y:ne.translation.y-ke.y};Math.abs(Xe.x)<.01?ne.translation.x=ke.x:ue.x=Xe.x/8,Math.abs(Xe.y)<.01?ne.translation.y=ke.y:ue.y=Xe.y/8}ne.translation.x-=ue.x,ne.translation.y-=ue.y}function G(V){var F=this.configuration,ae=V.detail.deltaPoints.page.y;w(V.detail.viewport,F.invert?-ae/100:ae/100,{maxScale:F.maxScale,minScale:F.minScale})}},"./tools/ZoomTouchPinchTool.js":
/*!*************************************!*\
                  !*** ./tools/ZoomTouchPinchTool.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return S});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../externalModules.js */
"./externalModules.js"),P=s(
/*! ./base/BaseTool.js */
"./tools/base/BaseTool.js"),x=s(
/*! ../util/zoom/index.js */
"./util/zoom/index.js").default.correctShift,S=function(L){function w(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,w);return h()(this,O()(w).call(this,N,{name:"ZoomTouchPinch",supportedInteractionTypes:["TouchPinch"],configuration:{minScale:.25,maxScale:20}}))}return g()(w,L),T()(w,[{key:"touchPinchCallback",value:function(j){var W=j.detail,B=W.element,G=W.viewport,F=[j.detail.startPoints.page.x,j.detail.startPoints.page.y,j.detail.startPoints.image.x,j.detail.startPoints.image.y],z=F[0],te=F[1],q=F[2],ae=F[3],ie=this.configuration,oe=ie.maxScale,$=ie.minScale;G.scale+=W.scaleChange*G.scale,oe&&G.scale>oe?G.scale=oe:$&&G.scale<$&&(G.scale=$),v.default.cornerstone.setViewport(B,G);var Z=v.default.cornerstone.pageToPixel(B,z,te),K={x:q-Z.x,y:ae-Z.y};K=x(K,G),G.translation.x-=K.x,G.translation.y-=K.y,v.default.cornerstone.setViewport(B,G)}}]),w}(P.default)},"./tools/annotation/AngleTool.js":
/*!***************************************!*\
                  !*** ./tools/annotation/AngleTool.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return ie});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),x=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),S=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ./../../manipulators/index.js */
"./manipulators/index.js"),w=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),N=s(
/*! ./../../drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),j=s(
/*! ./../../drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),W=s(
/*! ./../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),B=s(
/*! ./../../util/lineSegDistance.js */
"./util/lineSegDistance.js"),G=s(
/*! ./../../util/roundToDecimal.js */
"./util/roundToDecimal.js"),V=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),F=s(
/*! ../../util/triggerEvent.js */
"./util/triggerEvent.js"),z=s(
/*! ../../events.js */
"./events.js"),te=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),q=s(
/*! ../../util/throttle */
"./util/throttle.js"),ae=s(
/*! ../../store/index */
"./store/index.js"),ie=function(Z){function K(){var Q,ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,K);var ne={name:"Angle",supportedInteractionTypes:["Mouse","Touch"],svgCursor:V.angleCursor,configuration:{drawHandles:!0,drawHandlesOnHover:!1,hideHandlesIfMoving:!1,renderDashed:!1}};return(Q=h()(this,O()(K).call(this,ee,ne))).preventNewMeasurement=!1,Q.throttledUpdateCachedStats=Object(q.default)(Q.updateCachedStats,110),Q}return g()(K,Z),T()(K,[{key:"createNewMeasurement",value:function(ee){return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:ee.currentPoints.image.x,y:ee.currentPoints.image.y,highlight:!0,active:!1},middle:{x:ee.currentPoints.image.x,y:ee.currentPoints.image.y,highlight:!0,active:!0},end:{x:ee.currentPoints.image.x,y:ee.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}},{key:"pointNearTool",value:function(ee,ne,ue){return!1!==ne.visible&&(Object(B.default)(ee,ne.handles.start,ne.handles.middle,ue)<25||Object(B.default)(ee,ne.handles.middle,ne.handles.end,ue)<25)}},{key:"updateCachedStats",value:function(ee,ne,ue){var ye=$(ee,ue.handles.middle,ue.handles.start),Ee=$(ee,ue.handles.end,ue.handles.middle),Se=$(ee,ue.handles.end,ue.handles.start),ke=oe(ye),Xe=oe(Ee),mt=oe(Se),st=Math.acos((Math.pow(ke,2)+Math.pow(Xe,2)-Math.pow(mt,2))/(2*ke*Xe));st*=180/Math.PI,ue.rAngle=Object(G.default)(st,2),ue.invalidated=!1}},{key:"renderToolData",value:function(ee){var ne=this,ue=ee.detail,ye=ue.enabledElement,Ee=this.configuration,Se=Ee.handleRadius,ke=Ee.drawHandlesOnHover,Xe=Ee.hideHandlesIfMoving,mt=Ee.renderDashed,st=Object(b.getToolState)(ee.currentTarget,this.name),Rt=Object(ae.getModule)("globalConfiguration").configuration.lineDash;if(st)for(var Ge=Object(w.getNewContext)(ue.canvasContext.canvas),Pe=ue.image,He=ue.element,Ke=Object(te.default)(Pe),Ye=Ke.rowPixelSpacing,ct=Ke.colPixelSpacing,ft=x.default.getToolWidth(),pt=function(kt){var yt=st.data[kt];if(!1===yt.visible)return"continue";Object(w.draw)(Ge,function(Ht){Object(w.setShadow)(Ht,ne.configuration);var ln=S.default.getColorIfActive(yt),$t=v.default.cornerstone.pixelToCanvas(ue.element,yt.handles.start),or=v.default.cornerstone.pixelToCanvas(ue.element,yt.handles.middle),_n={color:ln};mt&&(_n.lineDash=Rt),Object(w.drawJoinedLines)(Ht,ue.element,yt.handles.start,[yt.handles.middle,yt.handles.end],_n);var er={color:ln,handleRadius:Se,drawHandlesIfActive:ke,hideHandlesIfMoving:Xe};if(ne.configuration.drawHandles&&Object(W.default)(Ht,ue,yt.handles,er),!0===yt.invalidated&&(yt.rAngle?ne.throttledUpdateCachedStats(Pe,He,yt):ne.updateCachedStats(Pe,He,yt)),yt.rAngle){var ir,Xt=function jt(Vt,kt,yt){var Ht=kt&&yt?"":" (isotropic)",ln="00B0";return Vt.rAngle.toString()+String.fromCharCode(parseInt(ln,16))+Ht}(yt,Ye,ct);if(!yt.handles.textBox.hasMoved){ir={x:or.x,y:or.y};var Ir=Object(j.textBoxWidth)(Ht,Xt,5);or.x<$t.x?ir.x-=15+Ir+10:ir.x+=15;var ko=v.default.cornerstone.internal.getTransform(ye);ko.invert();var $s=ko.transformPoint(ir.x,ir.y);yt.handles.textBox.x=$s.x,yt.handles.textBox.y=$s.y}Object(N.default)(Ht,ue.element,yt.handles.textBox,Xt,yt.handles,Tt,ln,ft,0,!0)}})},St=0;St<st.data.length;St++)pt(St);function Tt(Vt){return[Vt.start,Vt.middle,Vt.end]}}},{key:"addNewMeasurement",value:function(ee,ne){var ue=this;if(!this.preventNewMeasurement){this.preventNewMeasurement=!0,ee.preventDefault(),ee.stopPropagation();var ye=ee.detail,Ee=this.createNewMeasurement(ye),Se=ee.detail.element;Object(b.addToolState)(Se,this.name,Ee),v.default.cornerstone.updateImage(Se),Object(L.moveNewHandle)(ye,this.name,Ee,Ee.handles.middle,this.options,ne,function(ke){if(Ee.active=!1,!ke)return Object(b.removeToolState)(Se,ue.name,Ee),void(ue.preventNewMeasurement=!1);Ee.handles.end.active=!0,v.default.cornerstone.updateImage(Se),Object(L.moveNewHandle)(ye,ue.name,Ee,Ee.handles.end,ue.options,ne,function(Xe){Xe?(Ee.active=!1,v.default.cornerstone.updateImage(Se)):Object(b.removeToolState)(Se,ue.name,Ee),ue.preventNewMeasurement=!1,v.default.cornerstone.updateImage(Se);var mt={toolName:ue.name,toolType:ue.name,element:Se,measurementData:Ee};Object(F.default)(Se,z.default.MEASUREMENT_COMPLETED,mt)})})}}}]),K}(P.default);function oe(Z){return Math.sqrt(Math.pow(Z.x,2)+Math.pow(Z.y,2))}function $(Z,K,Q){var ee=Object(te.default)(Z);return{x:(K.x-Q.x)*(ee.colPixelSpacing||1),y:(K.y-Q.y)*(ee.rowPixelSpacing||1)}}},"./tools/annotation/ArrowAnnotateTool.js":
/*!***********************************************!*\
                  !*** ./tools/annotation/ArrowAnnotateTool.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return ie});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ./../../events.js */
"./events.js"),x=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),S=s(
/*! ./../../stateManagement/textStyle.js */
"./stateManagement/textStyle.js"),L=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),w=s(
/*! ./../../manipulators/index.js */
"./manipulators/index.js"),N=s(
/*! ./../../util/pointInsideBoundingBox.js */
"./util/pointInsideBoundingBox.js"),j=s(
/*! ./../../util/lineSegDistance.js */
"./util/lineSegDistance.js"),W=s(
/*! ./../../util/triggerEvent.js */
"./util/triggerEvent.js"),B=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),G=s(
/*! ./../../drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),V=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),F=s(
/*! ./../../drawing/drawArrow.js */
"./drawing/drawArrow.js"),z=s(
/*! ./../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),te=s(
/*! ./../../drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),q=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),ae=s(
/*! ../../store/index */
"./store/index.js"),ie=function(Z){function K(){var Q,ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,K);var ne={name:"ArrowAnnotate",supportedInteractionTypes:["Mouse","Touch"],configuration:{getTextCallback:oe,changeTextCallback:$,drawHandles:!0,drawHandlesOnHover:!1,hideHandlesIfMoving:!1,arrowFirst:!0,renderDashed:!1,allowEmptyLabel:!1},svgCursor:q.arrowAnnotateCursor};return(Q=h()(this,O()(K).call(this,ee,ne))).preventNewMeasurement=!1,Q}return g()(K,Z),T()(K,[{key:"createNewMeasurement",value:function(ee){return{visible:!0,active:!0,color:void 0,handles:{start:{x:ee.detail.currentPoints.image.x,y:ee.detail.currentPoints.image.y,highlight:!0,active:!1},end:{x:ee.detail.currentPoints.image.x,y:ee.detail.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}},{key:"pointNearTool",value:function(ee,ne,ue){return!1!==ne.visible&&Object(j.default)(ee,ne.handles.start,ne.handles.end,ue)<25}},{key:"updateCachedStats",value:function(){}},{key:"renderToolData",value:function(ee){var ne=this,ue=ee.detail,ye=ue.element,Ee=ue.enabledElement,Se=this.configuration,ke=Se.handleRadius,Xe=Se.drawHandlesOnHover,mt=Se.hideHandlesIfMoving,st=Se.renderDashed,Rt=Object(B.getToolState)(ye,this.name);if(Rt){var Ke,Ge=ee.detail.canvasContext.canvas,Pe=Object(V.getNewContext)(Ge),He=x.default.getToolWidth();st&&(Ke=Object(ae.getModule)("globalConfiguration").configuration.lineDash);for(var Ye=function(jt){var Tt=Rt.data[jt];if(!1===Tt.visible)return"continue";Object(V.draw)(Pe,function(Vt){Object(V.setShadow)(Vt,ne.configuration);var kt=L.default.getColorIfActive(Tt),yt=v.default.cornerstone.pixelToCanvas(ye,Tt.handles.start),Ht=v.default.cornerstone.pixelToCanvas(ye,Tt.handles.end);ne.configuration.arrowFirst?Object(F.default)(Vt,Ht,yt,kt,He,Ke):Object(F.default)(Vt,yt,Ht,kt,He,Ke);var ln={color:kt,handleRadius:ke,drawHandlesIfActive:Xe,hideHandlesIfMoving:mt};ne.configuration.drawHandles&&Object(z.default)(Vt,ee.detail,Tt.handles,ln);var $t=function pt(it){return it.text}(Tt);if($t&&""!==$t){var _n=Object(te.textBoxWidth)(Vt,$t,5),er=S.default.getFontSize()+10,Xt=Math.max(_n,er)/2+5;if(Ht.x<yt.x&&(Xt=-Xt),!Tt.handles.textBox.hasMoved){var cn;cn=ne.configuration.arrowFirst?{x:Ht.x-_n/2+Xt,y:Ht.y-er/2}:{x:yt.x-_n/2-Xt,y:yt.y-er/2};var ir=v.default.cornerstone.internal.getTransform(Ee);ir.invert();var wr=ir.transformPoint(cn.x,cn.y);Tt.handles.textBox.x=wr.x,Tt.handles.textBox.y=wr.y}Object(G.default)(Vt,ye,Tt.handles.textBox,$t,Tt.handles,St,kt,He,0,!1)}})},ct=0;ct<Rt.data.length;ct++)Ye(ct)}function St(it){return[it.start,{x:(it.start.x+it.end.x)/2,y:(it.start.y+it.end.y)/2},it.end]}}},{key:"addNewMeasurement",value:function(ee,ne){var ue=this,ye=ee.detail.element,Ee=this.createNewMeasurement(ee),Se=this.configuration.allowEmptyLabel;Object(B.addToolState)(ye,this.name,Ee),v.default.cornerstone.updateImage(ye),Object(w.moveNewHandle)(ee.detail,this.name,Ee,Ee.handles.end,this.options,ne,function(ke){ke?void 0===Ee.text&&ue.configuration.getTextCallback(function(Xe){if(Xe||Se){Ee.text=Xe,Ee.active=!1;var mt={toolName:ue.name,toolType:ue.name,element:ye,measurementData:Ee};v.default.cornerstone.updateImage(ye),Object(W.default)(ye,b.default.MEASUREMENT_COMPLETED,mt)}else Object(B.removeToolState)(ye,ue.name,Ee)},ee.detail):Object(B.removeToolState)(ye,ue.name,Ee),v.default.cornerstone.updateImage(ye)})}},{key:"doubleClickCallback",value:function(ee){return this._updateTextForNearbyAnnotation(ee)}},{key:"touchPressCallback",value:function(ee){return this._updateTextForNearbyAnnotation(ee)}},{key:"_updateTextForNearbyAnnotation",value:function(ee){var ne=ee.detail.element,ue=ee.detail.currentPoints.canvas,ye=Object(B.getToolState)(ne,this.name);if(!ye)return!1;for(var Ee=0;Ee<ye.data.length;Ee++){var Se=ye.data[Ee];if(this.pointNearTool(ne,Se,ue)||Object(N.default)(Se.handles.textBox,ue))return Se.active=!0,v.default.cornerstone.updateImage(ne),this.configuration.changeTextCallback(Se,ee.detail,this._doneChangingTextCallback.bind(this,ne,Se)),ee.stopImmediatePropagation(),ee.preventDefault(),ee.stopPropagation(),!0}}},{key:"_doneChangingTextCallback",value:function(ee,ne,ue,ye){!0===ye?Object(B.removeToolState)(ee,this.name,ne):ne.text=ue,ne.active=!1,v.default.cornerstone.updateImage(ee),Object(W.default)(ee,b.default.MEASUREMENT_MODIFIED,{toolName:this.name,toolType:this.name,element:ee,measurementData:ne})}}]),K}(P.default);function oe(Z){Z(prompt("Enter your annotation:"))}function $(Z,K,Q){Q(prompt("Change your annotation:"))}},"./tools/annotation/BidirectionalTool.js":
/*!***********************************************!*\
                  !*** ./tools/annotation/BidirectionalTool.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return q});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),x=s(
/*! ./bidirectionalTool/createNewMeasurement.js */
"./tools/annotation/bidirectionalTool/createNewMeasurement.js"),S=s(
/*! ./bidirectionalTool/pointNearTool.js */
"./tools/annotation/bidirectionalTool/pointNearTool.js"),L=s(
/*! ./bidirectionalTool/renderToolData.js */
"./tools/annotation/bidirectionalTool/renderToolData.js"),w=s(
/*! ./bidirectionalTool/addNewMeasurement.js */
"./tools/annotation/bidirectionalTool/addNewMeasurement.js"),N=s(
/*! ./bidirectionalTool/mouseMoveCallback.js */
"./tools/annotation/bidirectionalTool/mouseMoveCallback.js"),j=s(
/*! ./bidirectionalTool/handleSelectedCallback.js */
"./tools/annotation/bidirectionalTool/handleSelectedCallback.js"),W=s(
/*! ./bidirectionalTool/handleSelectedMouseCallback.js */
"./tools/annotation/bidirectionalTool/handleSelectedMouseCallback.js"),B=s(
/*! ./bidirectionalTool/handleSelectedTouchCallback.js */
"./tools/annotation/bidirectionalTool/handleSelectedTouchCallback.js"),G=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),V=s(
/*! ../../util/throttle */
"./util/throttle.js"),F=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),z=s(
/*! ./bidirectionalTool/utils/calculateLongestAndShortestDiameters */
"./tools/annotation/bidirectionalTool/utils/calculateLongestAndShortestDiameters.js"),te=function(ie,oe,$){return $()},q=function(ae){function ie(oe){var $;y()(this,ie);var Z={name:"Bidirectional",supportedInteractionTypes:["Mouse","Touch"],configuration:{changeMeasurementLocationCallback:te,getMeasurementLocationCallback:te,textBox:"",shadow:"",drawHandles:!0,drawHandlesOnHover:!0,hideHandlesIfMoving:!1,renderDashed:!1,additionalData:[]},svgCursor:G.bidirectionalCursor};return($=h()(this,O()(ie).call(this,oe,Z))).throttledUpdateCachedStats=Object(V.default)($.updateCachedStats,110),$.createNewMeasurement=x.default.bind(g()($)),$.pointNearTool=S.default.bind(g()($)),$.renderToolData=L.default.bind(g()($)),$.addNewMeasurement=w.default.bind(g()($)),$._moveCallback=N.default.bind(g()($)),$.handleSelectedCallback=j.default.bind(g()($)),$.handleSelectedMouseCallback=W.default.bind(g()($)),$.handleSelectedTouchCallback=B.default.bind(g()($)),$}return P()(ie,ae),T()(ie,[{key:"updateCachedStats",value:function($,Z,K){if(K.toolName===this.name){var Q=Object(F.default)($),ee=Object(z.default)(K,Q),ue=ee.shortestDiameter;K.longestDiameter=ee.longestDiameter,K.shortestDiameter=ue,K.invalidated=!1}}}]),ie}(b.default)},"./tools/annotation/CircleRoiTool.js":
/*!*******************************************!*\
                  !*** ./tools/annotation/CircleRoiTool.js ***!
                  \*******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return ae});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),x=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),S=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ../../store/index */
"./store/index.js"),w=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),N=s(
/*! ./../../util/calculateSUV.js */
"./util/calculateSUV.js"),j=s(
/*! ./../../util/ellipse/index.js */
"./util/ellipse/index.js"),W=s(
/*! ../../util/getROITextBoxCoords.js */
"./util/getROITextBoxCoords.js"),B=s(
/*! ./../../util/numbersWithCommas.js */
"./util/numbersWithCommas.js"),G=s(
/*! ./../../util/throttle.js */
"./util/throttle.js"),V=s(
/*! ../../util/logger.js */
"./util/logger.js"),F=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),z=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),te=s(
/*! ../../util/getCircleCoords */
"./util/getCircleCoords.js"),q=Object(V.getLogger)("tools:annotation:CircleRoiTool"),ae=function(ee){function ne(){var ue,ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,ne);var Ee={name:"CircleRoi",supportedInteractionTypes:["Mouse","Touch"],svgCursor:z.circleRoiCursor,configuration:{centerPointRadius:0,renderDashed:!1,hideHandlesIfMoving:!1}};return(ue=h()(this,O()(ne).call(this,ye,Ee))).throttledUpdateCachedStats=Object(G.default)(ue.updateCachedStats,110),ue}return g()(ne,ee),T()(ne,[{key:"createNewMeasurement",value:function(ye){if(ye&&ye.currentPoints&&ye.currentPoints.image)return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:ye.currentPoints.image.x,y:ye.currentPoints.image.y,highlight:!0,active:!1},end:{x:ye.currentPoints.image.x,y:ye.currentPoints.image.y,highlight:!0,active:!0},initialRotation:ye.viewport.rotation,textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}};q.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(ye,Ee,Se,ke){var Xe=Ee&&Ee.handles&&Ee.handles.start&&Ee.handles.end,mt=v.default.cornerstoneMath.point.distance;if(Xe||q.warn("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool")),!Xe||!1===Ee.visible)return!1;var st="mouse"===ke?15:25,Rt=v.default.cornerstone.pixelToCanvas(ye,Ee.handles.start),Ge=v.default.cornerstone.pixelToCanvas(ye,Ee.handles.end),Pe=mt(Rt,Se),He=mt(Rt,Ge);return Pe>He-st/2&&Pe<He+st/2}},{key:"updateCachedStats",value:function(ye,Ee,Se){var Xe=(v.default.cornerstone.metaData.get("generalSeriesModule",ye.imageId)||{}).modality,mt=Object(F.default)(ye),st=function Q(ee,ne,ue,ye,Ee){var mt,Se=Object(te.default)(ue.start,ue.end),ke=v.default.cornerstone.getPixels(ne,Se.left,Se.top,Se.width,Se.height),Xe=Object(j.calculateEllipseStatistics)(ke,Se);"PT"===ye&&(mt={mean:Object(N.default)(ee,Xe.mean,!0)||0,stdDev:Object(N.default)(ee,Xe.stdDev,!0)||0});var st=Se.width*(Ee&&Ee.colPixelSpacing||1)/2,Rt=2*Math.PI*st;return{area:Math.PI*(Se.width*(Ee&&Ee.colPixelSpacing||1)/2)*(Se.height*(Ee&&Ee.rowPixelSpacing||1)/2)||0,radius:st||0,perimeter:Rt||0,count:Xe.count||0,mean:Xe.mean||0,variance:Xe.variance||0,stdDev:Xe.stdDev||0,min:Xe.min||0,max:Xe.max||0,meanStdDevSUV:mt}}(ye,Ee,Se.handles,Xe,mt);Se.cachedStats=st,Se.invalidated=!1}},{key:"renderToolData",value:function(ye){var Ee=this,Se=Object(b.getToolState)(ye.currentTarget,this.name);if(Se){var ke=v.default.cornerstoneMath.point.distance,Xe=ye.detail,mt=Xe.image,st=Xe.element,Rt=Xe.canvasContext,Ge=x.default.getToolWidth(),Pe=this.configuration,He=Pe.handleRadius,Ke=Pe.drawHandlesOnHover,Ye=Pe.hideHandlesIfMoving,ct=Pe.renderDashed,ft=Pe.centerPointRadius,pt=Object(w.getNewContext)(Rt.canvas),St=Object(F.default)(mt),it=St.rowPixelSpacing,jt=St.colPixelSpacing,Tt=Object(L.getModule)("globalConfiguration").configuration.lineDash,kt=(v.default.cornerstone.metaData.get("generalSeriesModule",mt.imageId)||{}).modality,yt=it&&jt;Object(w.draw)(pt,function(Ht){for(var ln=0;ln<Se.data.length;ln++){var $t=Se.data[ln];if(!1!==$t.visible){var or=S.default.getColorIfActive($t),_n={color:or,handleRadius:He,drawHandlesIfActive:Ke,hideHandlesIfMoving:Ye};Object(w.setShadow)(Ht,Ee.configuration);var er=v.default.cornerstone.pixelToCanvas(st,$t.handles.start),Xt=v.default.cornerstone.pixelToCanvas(st,$t.handles.end),cn=ke(er,Xt),ir={color:or};if(ct&&(ir.lineDash=Tt),Object(w.drawCircle)(Ht,st,$t.handles.start,cn,ir,"pixel"),ft&&cn>3*ft&&Object(w.drawCircle)(Ht,st,$t.handles.start,ft,ir,"pixel"),$t.handles&&($t.handles.start.drawnIndependently=!0,$t.handles.end.drawnIndependently=!0),Object(w.drawHandles)(Ht,Xe,$t.handles,_n),!0===$t.invalidated&&($t.cachedStats?Ee.throttledUpdateCachedStats(mt,st,$t):Ee.updateCachedStats(mt,st,$t)),!$t.handles.textBox.hasMoved){var wr=Object(W.default)(Xe.viewport,$t.handles);Object.assign($t.handles.textBox,wr)}var Ir=function(vs){return ie(vs.start,vs.end)},ko=$(Ht,mt.color,$t.cachedStats,kt,yt,Ee.configuration);$t.unit=oe(kt,Ee.configuration.showHounsfieldUnits),Object(w.drawLinkedTextBox)(Ht,st,$t.handles.textBox,ko,$t.handles,Ir,or,Ge,10,!0)}}})}}}]),ne}(P.default);function ie(ee,ne){var ue=Object(te.default)(ee,ne),ye=ue.left,Ee=ue.top,Se=ue.width,ke=ue.height;return[{x:ye+Se/2,y:Ee},{x:ye,y:Ee+ke/2},{x:ye+Se/2,y:Ee+ke},{x:ye+Se,y:Ee+ke/2}]}function oe(ee,ne){return"CT"===ee&&!1!==ne?"HU":""}function $(ee,ne){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ye=ue.area,Ee=void 0===ye?0:ye,Se=ue.radius,ke=void 0===Se?0:Se,Xe=ue.perimeter,mt=void 0===Xe?0:Xe,st=ue.mean,Rt=void 0===st?0:st,Ge=ue.stdDev,Pe=void 0===Ge?0:Ge,He=ue.min,Ke=void 0===He?0:He,Ye=ue.max,ct=void 0===Ye?0:Ye,ft=ue.meanStdDevSUV,pt=void 0===ft?0:ft,it=arguments.length>4?arguments[4]:void 0,jt=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},Tt=jt.showMinMax||!1,Vt=[],kt=[];if(!ne){var yt=pt&&0!==pt.mean,Ht=oe(arguments.length>3?arguments[3]:void 0,jt.showHounsfieldUnits),ln="Mean: ".concat(Object(B.default)(Rt.toFixed(2))," ").concat(Ht),$t="Std Dev: ".concat(Object(B.default)(Pe.toFixed(2))," ").concat(Ht);if(yt){for(var _n="".concat(" SUV: ").concat(Object(B.default)(pt.mean.toFixed(2))),er="".concat(" SUV: ").concat(Object(B.default)(pt.stdDev.toFixed(2))),Xt=Math.floor(ee.measureText("".concat($t,"     ")).width);ee.measureText(ln).width<Xt;)ln+=" ";kt.push("".concat(ln).concat(_n)),kt.push("".concat($t,"     ").concat(er))}else kt.push("".concat(ln,"     ").concat($t));if(Tt){for(var cn="Min: ".concat(Ke," ").concat(Ht),ir="Max: ".concat(ct," ").concat(Ht),wr=Math.floor(yt?ee.measureText("".concat($t,"     ")).width:ee.measureText("".concat(ln,"     ")).width);ee.measureText(cn).width<wr;)cn+=" ";kt.push("".concat(cn).concat(ir))}}return Vt.push(function Z(ee,ne){var ue=ne?" mm".concat("\xb2"):" px".concat("\xb2");return"Area: ".concat(Object(B.default)(ee.toFixed(2))).concat(ue)}(Ee,it)),ke&&Vt.push(K(ke,"Radius",it)),mt&&Vt.push(K(mt,"Perimeter",it)),kt.forEach(function(Ir){return Vt.push(Ir)}),Vt}function K(ee,ne,ue){if(!ee)return"";var ye=ue?" mm":" px";return"".concat(ne,": ").concat(Object(B.default)(ee.toFixed(1))).concat(ye)}},"./tools/annotation/CobbAngleTool.js":
/*!*******************************************!*\
                  !*** ./tools/annotation/CobbAngleTool.js ***!
                  \*******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return ie});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ./../../stateManagement/textStyle.js */
"./stateManagement/textStyle.js"),x=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),S=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),L=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),w=s(
/*! ./../../manipulators/index.js */
"./manipulators/index.js"),N=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),j=s(
/*! ./../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),W=s(
/*! ./../../drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),B=s(
/*! ./../../util/lineSegDistance.js */
"./util/lineSegDistance.js"),G=s(
/*! ./../../util/roundToDecimal.js */
"./util/roundToDecimal.js"),V=s(
/*! ./../../events.js */
"./events.js"),F=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),z=s(
/*! ../../util/triggerEvent.js */
"./util/triggerEvent.js"),te=s(
/*! ../../util/throttle */
"./util/throttle.js"),q=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),ae=s(
/*! ../../store/index */
"./store/index.js"),ie=function(oe){function $(){var Z,K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,$);var Q={name:"CobbAngle",supportedInteractionTypes:["Mouse","Touch"],svgCursor:F.cobbAngleCursor,configuration:{drawHandles:!0,drawHandlesOnHover:!1,hideHandlesIfMoving:!1,renderDashed:!1}};return(Z=h()(this,O()($).call(this,K,Q))).hasIncomplete=!1,Z.throttledUpdateCachedStats=Object(te.default)(Z.updateCachedStats,110),Z}return g()($,oe),T()($,[{key:"createNewMeasurement",value:function(K){return this.hasIncomplete=!0,{visible:!0,active:!0,color:void 0,invalidated:!0,complete:!1,value:"",handles:{start:{x:K.currentPoints.image.x,y:K.currentPoints.image.y,highlight:!0,active:!1},end:{x:K.currentPoints.image.x,y:K.currentPoints.image.y,highlight:!0,active:!0},start2:{x:K.currentPoints.image.x,y:K.currentPoints.image.y,highlight:!0,active:!1,drawnIndependently:!0},end2:{x:K.currentPoints.image.x+1,y:K.currentPoints.image.y,highlight:!0,active:!1,drawnIndependently:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}},{key:"pointNearTool",value:function(K,Q,ee){if(!1===Q.visible||this.hasIncomplete)return!1;var ne=Object(B.default)(K,Q.handles.start,Q.handles.end,ee)<25,ue=Object(B.default)(K,Q.handles.start2,Q.handles.end2,ee)<25;return ne||ue}},{key:"updateCachedStats",value:function(K,Q,ee){var ne=Object(q.default)(K),ue=ne.rowPixelSpacing,ye=ne.colPixelSpacing,Ee=(Math.ceil(ee.handles.start.x)-Math.ceil(ee.handles.end.x))*(ye||1),Se=(Math.ceil(ee.handles.start.y)-Math.ceil(ee.handles.end.y))*(ue||1),ke=(Math.ceil(ee.handles.start2.x)-Math.ceil(ee.handles.end2.x))*(ye||1),Xe=(Math.ceil(ee.handles.start2.y)-Math.ceil(ee.handles.end2.y))*(ue||1),mt=Math.acos(Math.abs((Ee*ke+Se*Xe)/(Math.sqrt(Ee*Ee+Se*Se)*Math.sqrt(ke*ke+Xe*Xe))));mt*=180/Math.PI,ee.rAngle=Object(G.default)(mt,2),ee.invalidated=!1}},{key:"renderToolData",value:function(K){var Q=this,ee=K.detail,ne=this.configuration,ue=ne.handleRadius,ye=ne.drawHandlesOnHover,Ee=ne.hideHandlesIfMoving,Se=ne.renderDashed,ke=Object(x.getToolState)(K.currentTarget,this.name);if(ke)for(var Xe=Object(N.getNewContext)(ee.canvasContext.canvas),mt=S.default.getToolWidth(),st=Object(ae.getModule)("globalConfiguration").configuration.lineDash,Rt=b.default.getFont(),Pe=v.default.cornerstone.getEnabledElement(K.detail.element).image,He=Object(q.default)(Pe),Ke=He.rowPixelSpacing,Ye=He.colPixelSpacing,ct=function(jt){var Tt=ke.data[jt];if(!1===Tt.visible)return"continue";Tt.value||(Tt.value=Q.textBoxText(Tt,Ke,Ye)),Object(N.draw)(Xe,function(Vt){Object(N.setShadow)(Vt,Q.configuration);var kt=L.default.getColorIfActive(Tt),yt={color:kt};Se&&(yt.lineDash=st),Object(N.drawLine)(Vt,ee.element,Tt.handles.start,Tt.handles.end,yt),Tt.complete&&Object(N.drawLine)(Vt,ee.element,Tt.handles.start2,Tt.handles.end2,yt);var Ht={color:kt,handleRadius:ue,drawHandlesIfActive:ye,hideHandlesIfMoving:Ee};Q.configuration.drawHandles&&Object(j.default)(Vt,ee,Tt.handles,Ht),Vt.fillStyle=kt;var ln=Tt.value;if(!Tt.handles.textBox.hasMoved){var $t={x:(Tt.handles.start.x+Tt.handles.end.x)/2,y:(Tt.handles.start.y+Tt.handles.end.y)/2-10};Vt.font=Rt,Tt.handles.textBox.x=$t.x,Tt.handles.textBox.y=$t.y}Object(W.default)(Vt,ee.element,Tt.handles.textBox,ln,Tt.handles,St,kt,mt,0,!0)})},ft=0;ft<ke.data.length;ft++)ct(ft);function St(it){return[it.start,it.start2,it.end,it.end2]}}},{key:"getIncomplete",value:function(K){var Q=Object(x.getToolState)(K,this.name);if(Q&&Array.isArray(Q.data))return Q.data.find(function(ee){return!1===ee.complete})}},{key:"addNewMeasurement",value:function(K,Q){var ee=this;K.preventDefault(),K.stopPropagation();var ue,ye,ne=K.detail,Ee=function(mt){if(mt){var st=V.default.MEASUREMENT_COMPLETED,Rt={toolName:ee.name,toolType:ee.name,element:Se,measurementData:ue};Object(z.default)(Se,st,Rt)}else Object(x.removeToolState)(Se,ee.name,ue)},Se=K.detail.element,ke=this.getIncomplete(Se);ke?((ue=ke).complete=!0,ue.handles.start2={x:ne.currentPoints.image.x,y:ne.currentPoints.image.y,drawnIndependently:!1,highlight:!0,active:!1},ue.handles.end2={x:ne.currentPoints.image.x,y:ne.currentPoints.image.y,drawnIndependently:!1,highlight:!0,active:!0},ye=ue.handles.end2,this.hasIncomplete=!1,Ee=function(mt){if(mt){var st=V.default.MEASUREMENT_COMPLETED,Rt={toolName:ee.name,toolType:ee.name,element:Se,measurementData:ue};Object(z.default)(Se,st,Rt)}else Object(x.removeToolState)(Se,ee.name,ue)}):(ue=this.createNewMeasurement(ne),Object(x.addToolState)(Se,this.name,ue),ye=ue.handles.end),v.default.cornerstone.updateImage(Se),Object(w.moveNewHandle)(ne,this.name,ue,ye,this.options,Q,Ee)}},{key:"onMeasureModified",value:function(K){var Q=K.detail.element,ee=v.default.cornerstone.getEnabledElement(Q).image,ne=Object(q.default)(ee),ue=ne.rowPixelSpacing,ye=ne.colPixelSpacing;if(K.detail.toolName===this.name){var Ee=K.detail.measurementData;!0===Ee.invalidated&&(Ee.rAngle?this.throttledUpdateCachedStats(ee,Q,Ee):this.updateCachedStats(ee,Q,Ee)),Ee.value=this.textBoxText(Ee,ue,ye)}}},{key:"textBoxText",value:function(K,Q,ee){var ne=K.rAngle;if(void 0===ne||Number.isNaN(ne))return"";var ue=Q&&ee?"":" (isotropic)";return"".concat(ne,"\xb0").concat(ue)}},{key:"activeCallback",value:function(K){this.onMeasureModified=this.onMeasureModified.bind(this),K.addEventListener(V.default.MEASUREMENT_MODIFIED,this.onMeasureModified)}},{key:"passiveCallback",value:function(K){this.onMeasureModified=this.onMeasureModified.bind(this),K.addEventListener(V.default.MEASUREMENT_MODIFIED,this.onMeasureModified)}},{key:"enabledCallback",value:function(K){K.removeEventListener(V.default.MEASUREMENT_MODIFIED,this.onMeasureModified)}},{key:"disabledCallback",value:function(K){K.removeEventListener(V.default.MEASUREMENT_MODIFIED,this.onMeasureModified)}}]),$}(P.default)},"./tools/annotation/EllipticalRoiTool.js":
/*!***********************************************!*\
                  !*** ./tools/annotation/EllipticalRoiTool.js ***!
                  \***********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return ae});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),x=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),S=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ../../manipulators/getHandleNearImagePoint */
"./manipulators/getHandleNearImagePoint.js"),w=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),N=s(
/*! ./../../util/calculateSUV.js */
"./util/calculateSUV.js"),j=s(
/*! ./../../util/ellipse/index.js */
"./util/ellipse/index.js"),W=s(
/*! ../../util/getROITextBoxCoords.js */
"./util/getROITextBoxCoords.js"),B=s(
/*! ./../../util/numbersWithCommas.js */
"./util/numbersWithCommas.js"),G=s(
/*! ./../../util/throttle.js */
"./util/throttle.js"),V=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),F=s(
/*! ../../util/logger.js */
"./util/logger.js"),z=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),te=s(
/*! ../../store/index */
"./store/index.js"),q=Object(F.getLogger)("tools:annotation:EllipticalRoiTool"),ae=function(ee){function ne(){var ue,ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,ne);var Ee={name:"EllipticalRoi",supportedInteractionTypes:["Mouse","Touch"],configuration:{drawHandlesOnHover:!1,hideHandlesIfMoving:!1,renderDashed:!1},svgCursor:V.ellipticalRoiCursor};return(ue=h()(this,O()(ne).call(this,ye,Ee))).throttledUpdateCachedStats=Object(G.default)(ue.updateCachedStats,110),ue}return g()(ne,ee),T()(ne,[{key:"createNewMeasurement",value:function(ye){if(ye&&ye.currentPoints&&ye.currentPoints.image)return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:ye.currentPoints.image.x,y:ye.currentPoints.image.y,highlight:!0,active:!1},end:{x:ye.currentPoints.image.x,y:ye.currentPoints.image.y,highlight:!0,active:!0},initialRotation:ye.viewport.rotation,textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}};q.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(ye,Ee,Se,ke){var mt=Ee&&Ee.handles&&Ee.handles.start&&Ee.handles.end;if(mt||q.warn("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool")),!mt||!1===Ee.visible)return!1;if(Object(L.default)(ye,Ee.handles,Se,6))return!0;var Rt="mouse"===ke?15:25,Ge=v.default.cornerstone.pixelToCanvas(ye,Ee.handles.start),Pe=v.default.cornerstone.pixelToCanvas(ye,Ee.handles.end),He={left:Math.min(Ge.x,Pe.x)+Rt/2,top:Math.min(Ge.y,Pe.y)+Rt/2,width:Math.abs(Ge.x-Pe.x)-Rt,height:Math.abs(Ge.y-Pe.y)-Rt},Ke={left:Math.min(Ge.x,Pe.x)-Rt/2,top:Math.min(Ge.y,Pe.y)-Rt/2,width:Math.abs(Ge.x-Pe.x)+Rt,height:Math.abs(Ge.y-Pe.y)+Rt},Ye=Object(j.pointInEllipse)(He,Se);return!(!Object(j.pointInEllipse)(Ke,Se)||Ye)}},{key:"updateCachedStats",value:function(ye,Ee,Se){var Xe=(v.default.cornerstone.metaData.get("generalSeriesModule",ye.imageId)||{}).modality,mt=Object(z.default)(ye),st=function K(ee,ne,ue,ye,Ee){var mt,Se=Q(ue.start,ue.end),ke=v.default.cornerstone.getPixels(ne,Se.left,Se.top,Se.width,Se.height),Xe=Object(j.calculateEllipseStatistics)(ke,Se);return"PT"===ye&&(mt={mean:Object(N.default)(ee,Xe.mean,!0)||0,stdDev:Object(N.default)(ee,Xe.stdDev,!0)||0}),{area:Math.PI*(Se.width*(Ee.colPixelSpacing||1)/2)*(Se.height*(Ee.rowPixelSpacing||1)/2)||0,count:Xe.count||0,mean:Xe.mean||0,variance:Xe.variance||0,stdDev:Xe.stdDev||0,min:Xe.min||0,max:Xe.max||0,meanStdDevSUV:mt}}(ye,Ee,Se.handles,Xe,mt);Se.cachedStats=st,Se.invalidated=!1}},{key:"renderToolData",value:function(ye){var Ee=this,Se=Object(b.getToolState)(ye.currentTarget,this.name);if(Se){var ke=ye.detail,Xe=ke.image,mt=ke.element,st=x.default.getToolWidth(),Rt=Object(te.getModule)("globalConfiguration").configuration.lineDash,Ge=this.configuration,Pe=Ge.handleRadius,He=Ge.drawHandlesOnHover,Ke=Ge.hideHandlesIfMoving,Ye=Ge.renderDashed,ct=Object(w.getNewContext)(ke.canvasContext.canvas),ft=Object(z.default)(Xe),pt=ft.rowPixelSpacing,St=ft.colPixelSpacing,jt=(v.default.cornerstone.metaData.get("generalSeriesModule",Xe.imageId)||{}).modality,Tt=pt&&St;Object(w.draw)(ct,function(Vt){for(var kt=0;kt<Se.data.length;kt++){var yt=Se.data[kt];if(!1!==yt.visible){var Ht=S.default.getColorIfActive(yt),ln={color:Ht,handleRadius:Pe,drawHandlesIfActive:He,hideHandlesIfMoving:Ke};Object(w.setShadow)(Vt,Ee.configuration);var $t={color:Ht};if(Ye&&($t.lineDash=Rt),Object(w.drawEllipse)(Vt,mt,yt.handles.start,yt.handles.end,$t,"pixel",yt.handles.initialRotation),Object(w.drawHandles)(Vt,ke,yt.handles,ln),!0===yt.invalidated&&(yt.cachedStats?Ee.throttledUpdateCachedStats(Xe,mt,yt):Ee.updateCachedStats(Xe,mt,yt)),!yt.handles.textBox.hasMoved){var or=Object(W.default)(ke.viewport,yt.handles);Object.assign(yt.handles.textBox,or)}var _n=function(cn){return ie(cn.start,cn.end)},er=$(Vt,Xe.color,yt.cachedStats,jt,Tt,Ee.configuration);yt.unit=oe(jt,Ee.configuration.showHounsfieldUnits),Object(w.drawLinkedTextBox)(Vt,mt,yt.handles.textBox,er,yt.handles,_n,Ht,st,10,!0)}}})}}}]),ne}(P.default);function ie(ee,ne){var ue=Q(ee,ne),ye=ue.left,Ee=ue.top,Se=ue.width,ke=ue.height;return[{x:ye+Se/2,y:Ee},{x:ye,y:Ee+ke/2},{x:ye+Se/2,y:Ee+ke},{x:ye+Se,y:Ee+ke/2}]}function oe(ee,ne){return"CT"===ee&&!1!==ne?"HU":""}function $(ee,ne){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ye=ue.area,Ee=void 0===ye?0:ye,Se=ue.mean,ke=void 0===Se?0:Se,Xe=ue.stdDev,mt=void 0===Xe?0:Xe,st=ue.min,Rt=void 0===st?0:st,Ge=ue.max,Pe=void 0===Ge?0:Ge,He=ue.meanStdDevSUV,Ke=void 0===He?0:He,ct=arguments.length>4?arguments[4]:void 0,ft=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},pt=ft.showMinMax||!1,St=[],it=[];if(!ne){var jt=Ke&&0!==Ke.mean,Tt=oe(arguments.length>3?arguments[3]:void 0,ft.showHounsfieldUnits),Vt="Mean: ".concat(Object(B.default)(ke.toFixed(2))," ").concat(Tt),kt="Std Dev: ".concat(Object(B.default)(mt.toFixed(2))," ").concat(Tt);if(jt){for(var Ht="".concat(" SUV: ").concat(Object(B.default)(Ke.mean.toFixed(2))),ln="".concat(" SUV: ").concat(Object(B.default)(Ke.stdDev.toFixed(2))),$t=Math.floor(ee.measureText("".concat(kt,"     ")).width);ee.measureText(Vt).width<$t;)Vt+=" ";it.push("".concat(Vt).concat(Ht)),it.push("".concat(kt,"     ").concat(ln))}else it.push("".concat(Vt)),it.push("".concat(kt));if(pt){for(var or="Min: ".concat(Rt," ").concat(Tt),_n="Max: ".concat(Pe," ").concat(Tt),er=Math.floor(jt?ee.measureText("".concat(kt,"     ")).width:ee.measureText("".concat(Vt,"     ")).width);ee.measureText(or).width<er;)or+=" ";it.push("".concat(or).concat(_n))}}return St.push(function Z(ee,ne){var ue=ne?" mm".concat("\xb2"):" px".concat("\xb2");return"Area: ".concat(Object(B.default)(ee.toFixed(2))).concat(ue)}(Ee,ct)),it.forEach(function(Xt){return St.push(Xt)}),St}function Q(ee,ne){return{left:Math.round(Math.min(ee.x,ne.x)),top:Math.round(Math.min(ee.y,ne.y)),width:Math.round(Math.abs(ee.x-ne.x)),height:Math.round(Math.abs(ee.y-ne.y))}}},"./tools/annotation/FreehandRoiTool.js":
/*!*********************************************!*\
                  !*** ./tools/annotation/FreehandRoiTool.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return ke});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./../../events.js */
"./events.js"),x=s(
/*! ./../../externalModules.js */
"./externalModules.js"),S=s(
/*! ./../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),L=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),w=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),N=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),j=s(
/*! ../../store/index.js */
"./store/index.js"),W=s(
/*! ../../util/triggerEvent.js */
"./util/triggerEvent.js"),B=s(
/*! ../../util/findAndMoveHelpers.js */
"./util/findAndMoveHelpers.js"),G=s(
/*! ../../util/pointInsideBoundingBox.js */
"./util/pointInsideBoundingBox.js"),V=s(
/*! ../../util/calculateSUV.js */
"./util/calculateSUV.js"),F=s(
/*! ../../util/numbersWithCommas.js */
"./util/numbersWithCommas.js"),z=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),te=s(
/*! ../../drawing/index.js */
"./drawing/index.js"),q=s(
/*! ../../drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),ae=s(
/*! ../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),ie=s(
/*! ../../util/clip.js */
"./util/clip.js"),oe=s(
/*! ../../store/setToolCursor.js */
"./store/setToolCursor.js"),$=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),Z=s(
/*! ../../util/freehand/index.js */
"./util/freehand/index.js"),K=s(
/*! ../../util/logger.js */
"./util/logger.js"),Q=s(
/*! ../../util/throttle */
"./util/throttle.js"),ee=Object(K.getLogger)("tools:annotation:FreehandRoiTool"),ne=Z.default.insertOrDelete,ue=Z.default.freehandArea,ye=Z.default.calculateFreehandStatistics,Ee=Z.default.freehandIntersect,Se=Z.default.FreehandHandleData,ke=function(st){function Rt(){var Ge,Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,Rt);var He={name:"FreehandRoi",supportedInteractionTypes:["Mouse","Touch"],configuration:{mouseLocation:{handles:{start:{highlight:!0,active:!0}}},spacing:1,activeHandleRadius:3,completeHandleRadius:6,completeHandleRadiusTouch:28,alwaysShowHandles:!1,invalidColor:"crimson",currentHandle:0,currentTool:-1,drawHandles:!0,renderDashed:!1},svgCursor:$.freehandRoiCursor};return(Ge=h()(this,O()(Rt).call(this,Pe,He))).isMultiPartTool=!0,Ge._drawing=!1,Ge._dragging=!1,Ge._modifying=!1,Ge._drawingMouseDownCallback=Ge._drawingMouseDownCallback.bind(g()(Ge)),Ge._drawingMouseMoveCallback=Ge._drawingMouseMoveCallback.bind(g()(Ge)),Ge._drawingMouseDragCallback=Ge._drawingMouseDragCallback.bind(g()(Ge)),Ge._drawingMouseUpCallback=Ge._drawingMouseUpCallback.bind(g()(Ge)),Ge._drawingMouseDoubleClickCallback=Ge._drawingMouseDoubleClickCallback.bind(g()(Ge)),Ge._editMouseUpCallback=Ge._editMouseUpCallback.bind(g()(Ge)),Ge._editMouseDragCallback=Ge._editMouseDragCallback.bind(g()(Ge)),Ge._drawingTouchStartCallback=Ge._drawingTouchStartCallback.bind(g()(Ge)),Ge._drawingTouchDragCallback=Ge._drawingTouchDragCallback.bind(g()(Ge)),Ge._drawingDoubleTapClickCallback=Ge._drawingDoubleTapClickCallback.bind(g()(Ge)),Ge._editTouchDragCallback=Ge._editTouchDragCallback.bind(g()(Ge)),Ge.throttledUpdateCachedStats=Object(Q.default)(Ge.updateCachedStats,110),Ge}return P()(Rt,st),T()(Rt,[{key:"createNewMeasurement",value:function(Pe){if(Pe&&Pe.currentPoints&&Pe.currentPoints.image){var Ke={visible:!0,active:!0,invalidated:!0,color:void 0,handles:{points:[]}};return Ke.handles.textBox={active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0},Ke}ee.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(Pe,He,Ke){var Ye=He&&He.handles&&He.handles.points;if(!Ye)throw new Error("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool"));return!(!Ye||!1===He.visible)&&void 0!==this._pointNearHandle(Pe,He,Ke)}},{key:"distanceFromPoint",value:function(Pe,He,Ke){for(var Ye=1/0,ct=0;ct<He.handles.points.length;ct++){var ft=x.default.cornerstoneMath.point.distance(He.handles.points[ct],Ke);Ye=Math.min(Ye,ft)}return Ye===1/0?-1:Ye}},{key:"distanceFromPointCanvas",value:function(Pe,He,Ke){var Ye=1/0;if(!He)return-1;for(var ct=x.default.cornerstone.pixelToCanvas(Pe,Ke),ft=He.handles.points,pt=0;pt<ft.length;pt++){var St=x.default.cornerstone.pixelToCanvas(Pe,ft[pt]),it=x.default.cornerstoneMath.point.distance(St,ct);Ye=Math.min(Ye,it)}return Ye===1/0?-1:Ye}},{key:"updateCachedStats",value:function(Pe,He,Ke){for(var Ye,ct,ft=x.default.cornerstone.metaData.get("generalSeriesModule",Pe.imageId),pt=ft?ft.modality:null,St=Ke.handles.points,it={left:St[0].x,right:St[0].x,bottom:St[0].y,top:St[0].x},jt=0;jt<St.length;jt++)it.left=Math.min(it.left,St[jt].x),it.right=Math.max(it.right,St[jt].x),it.bottom=Math.min(it.bottom,St[jt].y),it.top=Math.max(it.top,St[jt].y);var Tt={left:it.left,top:it.bottom,width:Math.abs(it.right-it.left),height:Math.abs(it.top-it.bottom)};if(Ke.polyBoundingBox=Tt,!Pe.color){var Vt=x.default.cornerstone.getPixels(He,Tt.left,Tt.top,Tt.width,Tt.height);Ye=ye.call(this,Vt,Tt,Ke.handles.points),"PT"===pt&&(ct={mean:Object(V.default)(Pe,(Ye.mean-Pe.intercept)/Pe.slope),stdDev:Object(V.default)(Pe,(Ye.stdDev-Pe.intercept)/Pe.slope)}),Ye&&!isNaN(Ye.mean)&&(Ke.meanStdDev=Ye,Ke.meanStdDevSUV=ct)}var kt=Object(z.default)(Pe),$t=ue(Ke.handles.points,(kt.colPixelSpacing||1)*(kt.rowPixelSpacing||1));isNaN($t)||(Ke.area=$t),Ke.invalidated=!1}},{key:"renderToolData",value:function(Pe){var He=this,Ke=Pe.detail,Ye=Object(L.getToolState)(Pe.currentTarget,this.name);if(Ye)for(var ct=Ke.image,ft=Ke.element,pt=this.configuration,St=x.default.cornerstone.metaData.get("generalSeriesModule",ct.imageId),it=St?St.modality:null,jt=Object(te.getNewContext)(Ke.canvasContext.canvas),Tt=w.default.getToolWidth(),Vt=pt.renderDashed,kt=Object(j.getModule)("globalConfiguration").configuration.lineDash,yt=function(er){var Xt=Ye.data[er];if(!1===Xt.visible)return"continue";Object(te.draw)(jt,function(cn){var wr,ir=N.default.getColorIfActive(Xt);Xt.active?Xt.handles.invalidHandlePlacement?(ir=pt.invalidColor,wr=pt.invalidColor):(ir=N.default.getColorIfActive(Xt),wr=N.default.getFillColor()):wr=N.default.getToolColor();var Ir={color:ir};if(Vt&&(Ir.lineDash=kt),Xt.handles.points.length){var ko=Xt.handles.points;Object(te.drawJoinedLines)(cn,ft,ko[0],ko,Ir),Xt.polyBoundingBox?Object(te.drawJoinedLines)(cn,ft,ko[ko.length-1],[ko[0]],Ir):Object(te.drawJoinedLines)(cn,ft,ko[ko.length-1],[pt.mouseLocation.handles.start],Ir)}if(Ir={color:ir,fill:wr},(pt.alwaysShowHandles||Xt.active&&Xt.polyBoundingBox)&&(Ir.handleRadius=pt.activeHandleRadius,He.configuration.drawHandles&&Object(ae.default)(cn,Ke,Xt.handles.points,Ir)),Xt.canComplete){Ir.handleRadius=pt.completeHandleRadius;var $s=Xt.handles.points[0];He.configuration.drawHandles&&Object(ae.default)(cn,Ke,[$s],Ir)}if(Xt.active&&!Xt.polyBoundingBox){Ir.handleRadius=pt.activeHandleRadius,He.configuration.drawHandles&&Object(ae.default)(cn,Ke,pt.mouseLocation.handles,Ir);var vs=Xt.handles.points[0];He.configuration.drawHandles&&Object(ae.default)(cn,Ke,[vs],Ir)}if(!0===Xt.invalidated&&!Xt.active&&(Xt.meanStdDev&&Xt.meanStdDevSUV&&Xt.area?He.throttledUpdateCachedStats(ct,ft,Xt):He.updateCachedStats(ct,ft,Xt)),Xt.polyBoundingBox&&!Xt.handles.textBox.freehand){Xt.handles.textBox.hasMoved||(Xt.handles.textBox.x=Xt.polyBoundingBox.left+Xt.polyBoundingBox.width,Xt.handles.textBox.y=Xt.polyBoundingBox.top+Xt.polyBoundingBox.height/2);var Df=$t.call(He,Xt);Object(q.default)(cn,ft,Xt.handles.textBox,Df,Xt.handles.points,or,ir,Tt,0,!0)}})},Ht=0;Ht<Ye.data.length;Ht++)yt(Ht);function $t(_n){var er=_n.meanStdDev,Xt=_n.meanStdDevSUV,cn=_n.area,ir=[];if(er&&void 0!==er.mean){var wr="";"CT"===it&&(wr="HU"),_n.unit=wr;var Ir="Mean: ".concat(Object(F.default)(er.mean.toFixed(2))," ").concat(wr),ko="StdDev: ".concat(Object(F.default)(er.stdDev.toFixed(2))," ").concat(wr);if(Xt&&void 0!==Xt.mean){Ir+=" SUV: "+Object(F.default)(Xt.mean.toFixed(2)),ko+=" SUV: "+Object(F.default)(Xt.stdDev.toFixed(2))}ir.push(Ir),ir.push(ko)}if(cn){var vs=" mm".concat("\xb2"),Df=Object(z.default)(ct);(!Df.rowPixelSpacing||!Df.colPixelSpacing)&&(vs=" pixels".concat("\xb2"));var xg="Area: ".concat(Object(F.default)(cn.toFixed(2))).concat(vs);ir.push(xg)}return ir}function or(_n){return _n}}},{key:"addNewMeasurement",value:function(Pe){var He=Pe.detail;this._startDrawing(Pe),this._addPoint(He),mt(Pe)}},{key:"preMouseDownCallback",value:function(Pe){var He=Pe.detail,Ke=this._pointNearHandleAllTools(He);return!!He.event.ctrlKey&&(void 0!==Ke&&Ke.handleNearby.hasBoundingBox||ne.call(this,Pe,Ke),mt(Pe),!0)}},{key:"handleSelectedCallback",value:function(Pe,He,Ke){var Ye=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",ct=Pe.detail.element,ft=Object(L.getToolState)(ct,this.name);if(Ke.hasBoundingBox)Object(B.moveHandleNearImagePoint)(Pe,this,He,Ke,Ye);else{var pt=this.configuration;pt.dragOrigin={x:Ke.x,y:Ke.y};for(var St=0;St<ft.data.length;St++)for(var it=ft.data[St].handles.points,jt=0;jt<it.length;jt++)it[jt]===Ke&&(pt.currentHandle=jt,pt.currentTool=St);this._modifying=!0,this._activateModify(ct),mt(Pe)}}},{key:"_drawingMouseMoveCallback",value:function(Pe){var He=Pe.detail,Ke=He.currentPoints,Ye=He.element,ct=Object(L.getToolState)(Ye,this.name),ft=this.configuration,St=ct.data[ft.currentTool],it=Ke.canvas;this._getMouseLocation(He),this._checkInvalidHandleLocation(St,He);var jt=this._pointNearHandle(Ye,St,it),Tt=St.handles.points;void 0!==jt&&!jt.hasBoundingBox&&jt<Tt.length-1&&(ft.mouseLocation.handles.start.x=Tt[jt].x,ft.mouseLocation.handles.start.y=Tt[jt].y),x.default.cornerstone.updateImage(Ye)}},{key:"_drawingMouseDragCallback",value:function(Pe){this.options.mouseButtonMask.includes(Pe.detail.buttons)&&this._drawingDrag(Pe)}},{key:"_drawingTouchDragCallback",value:function(Pe){this._drawingDrag(Pe)}},{key:"_drawingDrag",value:function(Pe){var He=Pe.detail,Ke=He.element,pt=Object(L.getToolState)(Ke,this.name).data[this.configuration.currentTool];this._getMouseLocation(He),this._checkInvalidHandleLocation(pt,He),this._addPointPencilMode(He,pt.handles.points),this._dragging=!0,x.default.cornerstone.updateImage(Ke)}},{key:"_drawingMouseUpCallback",value:function(Pe){var He=Pe.detail.element;if(this._dragging){this._dragging=!1;var Ke=this.configuration,Ye=Ke.currentTool,ft=Object(L.getToolState)(He,this.name).data[Ye];!Ee.end(ft.handles.points)&&ft.canComplete&&this._endDrawing(He,Ke.currentHandle),mt(Pe)}}},{key:"_drawingMouseDownCallback",value:function(Pe){var He=Pe.detail,Ye=He.currentPoints,ct=He.element;if(this.options.mouseButtonMask.includes(He.buttons)){var ft=Ye.canvas,pt=this.configuration,St=pt.currentTool,jt=Object(L.getToolState)(ct,this.name).data[St],Tt=this._pointNearHandle(ct,jt,ft);!Ee.end(jt.handles.points)&&jt.canComplete?this._endDrawing(ct,pt.currentHandle):void 0===Tt&&this._addPoint(He),mt(Pe)}}},{key:"_drawingTouchStartCallback",value:function(Pe){var He=Pe.detail,Ye=He.element,ct=He.currentPoints.canvas,ft=this.configuration,pt=ft.currentTool,it=Object(L.getToolState)(Ye,this.name).data[pt],jt=this._pointNearHandle(Ye,it,ct);!Ee.end(it.handles.points)&&it.canComplete?this._endDrawing(Ye,ft.currentHandle):void 0===jt&&this._addPoint(He),mt(Pe)}},{key:"completeDrawing",value:function(Pe){if(this._drawing){var He=Object(L.getToolState)(Pe,this.name),Ke=this.configuration,Ye=He.data[Ke.currentTool];if(!Ee.end(Ye.handles.points)&&Ye.handles.points.length>=2){var ct=Ke.currentHandle;Ye.polyBoundingBox={},this._endDrawing(Pe,ct)}}}},{key:"_drawingMouseDoubleClickCallback",value:function(Pe){this.completeDrawing(Pe.detail.element),mt(Pe)}},{key:"_drawingDoubleTapClickCallback",value:function(Pe){this.completeDrawing(Pe.detail.element),mt(Pe)}},{key:"_editMouseDragCallback",value:function(Pe){var He=Pe.detail,Ke=He.element;if(this.options.mouseButtonMask.includes(He.buttons)){var jt,ct=Object(L.getToolState)(Ke,this.name),ft=this.configuration,pt=ct.data[ft.currentTool],St=ft.currentHandle,it=pt.handles.points;if(this._getMouseLocation(He),pt.handles.invalidHandlePlacement=Ee.modify(it,St),pt.active=!0,pt.highlight=!0,it[St].x=ft.mouseLocation.handles.start.x,it[St].y=ft.mouseLocation.handles.start.y,jt=this._getPrevHandleIndex(St,it),St>=0){var Vt=it[jt].lines[it[jt].lines.length-1];Vt.x=ft.mouseLocation.handles.start.x,Vt.y=ft.mouseLocation.handles.start.y}x.default.cornerstone.updateImage(Ke)}}},{key:"_editTouchDragCallback",value:function(Pe){var it,He=Pe.detail,Ke=He.element,Ye=Object(L.getToolState)(Ke,this.name),ct=this.configuration,ft=Ye.data[ct.currentTool],pt=ct.currentHandle,St=ft.handles.points;if(this._getMouseLocation(He),ft.handles.invalidHandlePlacement=Ee.modify(St,pt),ft.active=!0,ft.highlight=!0,St[pt].x=ct.mouseLocation.handles.start.x,St[pt].y=ct.mouseLocation.handles.start.y,it=this._getPrevHandleIndex(pt,St),pt>=0){var Tt=St[it].lines[St[it].lines.length-1];Tt.x=ct.mouseLocation.handles.start.x,Tt.y=ct.mouseLocation.handles.start.y}x.default.cornerstone.updateImage(Ke)}},{key:"_getPrevHandleIndex",value:function(Pe,He){return 0===Pe?He.length-1:Pe-1}},{key:"_editMouseUpCallback",value:function(Pe){var He=Pe.detail,Ke=He.element,Ye=Object(L.getToolState)(Ke,this.name);this._deactivateModify(Ke),this._dropHandle(He,Ye),this._endDrawing(Ke),x.default.cornerstone.updateImage(Ke)}},{key:"_dropHandle",value:function(Pe,He){var Ke=this.configuration,ct=He.data[Ke.currentTool].handles,ft=ct.points;if(ct.invalidHandlePlacement){var it,pt=Ke.currentHandle,St=ft[pt];it=0===pt?ft[ft.length-1]:ft[pt-1],St.x=Ke.dragOrigin.x,St.y=Ke.dragOrigin.y,it.lines[0]=St,ct.invalidHandlePlacement=!1}}},{key:"_startDrawing",value:function(Pe){var ft,He=Pe.detail,Ke=this.createNewMeasurement(He),Ye=He.element,ct=this.configuration;Pe.type===b.default.MOUSE_DOWN_ACTIVATE?ft="Mouse":Pe.type===b.default.TOUCH_START_ACTIVE&&(ft="Touch"),this._activateDraw(Ye,ft),this._getMouseLocation(He),Object(L.addToolState)(Ye,this.name,Ke);var pt=Object(L.getToolState)(Ye,this.name);ct.currentTool=pt.data.length-1,this._activeDrawingToolReference=pt.data[ct.currentTool]}},{key:"_addPoint",value:function(Pe){var He=Pe.currentPoints,Ke=Pe.element,Ye=Object(L.getToolState)(Ke,this.name),ct=this.configuration,ft=Ye.data[ct.currentTool];if(!ft.handles.invalidHandlePlacement){var pt=new Se(He.image);ft.handles.points.length&&ft.handles.points[ct.currentHandle-1].lines.push(He.image),ft.handles.points.push(pt),ct.currentHandle+=1,x.default.cornerstone.updateImage(Ke),this.fireModifiedEvent(Ke,ft)}}},{key:"_addPointPencilMode",value:function(Pe,He){var Ke=this,ct=Pe.element,ft=this.configuration.mouseLocation.handles.start;He.every(function(it){return Ke._isDistanceLargerThanSpacing(ct,it,ft)})&&this._addPoint(Pe)}},{key:"_endDrawing",value:function(Pe,He){var Ke=Object(L.getToolState)(Pe,this.name),Ye=this.configuration,ct=Ke.data[Ye.currentTool];if(ct.active=!1,ct.highlight=!1,ct.handles.invalidHandlePlacement=!1,void 0!==He){var ft=ct.handles.points;ft[Ye.currentHandle-1].lines.push(ft[0])}this._modifying&&(this._modifying=!1,ct.invalidated=!0),Ye.currentHandle=0,Ye.currentTool=-1,ct.canComplete=!1,this._drawing&&this._deactivateDraw(Pe),x.default.cornerstone.updateImage(Pe),this.fireModifiedEvent(Pe,ct),this.fireCompletedEvent(Pe,ct)}},{key:"_pointNearHandle",value:function(Pe,He,Ke){if(void 0!==He.handles&&void 0!==He.handles.points&&!1!==He.visible){for(var Ye=0;Ye<He.handles.points.length;Ye++){var ct=x.default.cornerstone.pixelToCanvas(Pe,He.handles.points[Ye]);if(x.default.cornerstoneMath.point.distance(ct,Ke)<6)return Ye}if(He.handles.textBox&&Object(G.default)(He.handles.textBox,Ke))return He.handles.textBox}}},{key:"_pointNearHandleAllTools",value:function(Pe){var Ke=Pe.element,Ye=Pe.currentPoints.canvas,ct=Object(L.getToolState)(Ke,this.name);if(ct)for(var ft,pt=0;pt<ct.data.length;pt++)if(void 0!==(ft=this._pointNearHandle(Ke,ct.data[pt],Ye)))return{handleNearby:ft,toolIndex:pt}}},{key:"_getMouseLocation",value:function(Pe){var He=Pe.currentPoints,Ke=Pe.image,Ye=this.configuration;Ye.mouseLocation.handles.start.x=He.image.x,Ye.mouseLocation.handles.start.y=He.image.y,Object(ie.clipToBox)(Ye.mouseLocation.handles.start,Ke)}},{key:"_checkInvalidHandleLocation",value:function(Pe,He){if(Pe.handles.points.length<2)return!0;var Ke;Ke=this._dragging?this._checkHandlesPencilMode(Pe,He):this._checkHandlesPolygonMode(Pe,He),Pe.handles.invalidHandlePlacement=Ke}},{key:"_checkHandlesPolygonMode",value:function(Pe,He){var Ye=He.element,ct=this.configuration.mouseLocation.handles.start,ft=Pe.handles.points,pt=!1;return Pe.canComplete=!1,this._isDistanceSmallerThanCompleteSpacingCanvas(Ye,ft[0],ct)&&!Ee.end(ft)&&ft.length>2?(Pe.canComplete=!0,pt=!1):pt=Ee.newHandle(ct,ft),pt}},{key:"_checkHandlesPencilMode",value:function(Pe,He){var ft=Ee.newHandle(this.configuration.mouseLocation.handles.start,Pe.handles.points);return!1===ft&&(ft=this._invalidHandlePencilMode(Pe,He)),ft}},{key:"_invalidHandlePencilMode",value:function(Pe,He){var Ye=He.element,ct=this.configuration.mouseLocation.handles.start,ft=Pe.handles.points;if(this._isDistanceSmallerThanCompleteSpacingCanvas(Ye,ft[0],ct))return Pe.canComplete=!0,!1;Pe.canComplete=!1;for(var St=1;St<ft.length-1;St++)if(this._isDistanceSmallerThanSpacing(Ye,ft[St],ct))return!0;return!1}},{key:"_isDistanceSmallerThanCompleteSpacingCanvas",value:function(Pe,He,Ke){var ft,Ye=x.default.cornerstone.pixelToCanvas(Pe,He),ct=x.default.cornerstone.pixelToCanvas(Pe,Ke);return"Mouse"===this._drawingInteractionType?ft=this.configuration.completeHandleRadius:"Touch"===this._drawingInteractionType&&(ft=this.configuration.completeHandleRadiusTouch),this._compareDistanceToSpacing(Pe,Ye,ct,"<",ft)}},{key:"_isDistanceSmallerThanSpacing",value:function(Pe,He,Ke){return this._compareDistanceToSpacing(Pe,He,Ke,"<")}},{key:"_isDistanceLargerThanSpacing",value:function(Pe,He,Ke){return this._compareDistanceToSpacing(Pe,He,Ke,">")}},{key:"_compareDistanceToSpacing",value:function(Pe,He,Ke){var ct=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.configuration.spacing;return">"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:">")?x.default.cornerstoneMath.point.distance(He,Ke)>ct:x.default.cornerstoneMath.point.distance(He,Ke)<ct}},{key:"_activateDraw",value:function(Pe){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Mouse";this._drawing=!0,this._drawingInteractionType=He,j.state.isMultiPartToolActive=!0,Object(oe.hideToolCursor)(this.element),Pe.addEventListener(b.default.MOUSE_DOWN,this._drawingMouseDownCallback),Pe.addEventListener(b.default.MOUSE_MOVE,this._drawingMouseMoveCallback),Pe.addEventListener(b.default.MOUSE_DOUBLE_CLICK,this._drawingMouseDoubleClickCallback),Pe.addEventListener(b.default.MOUSE_DRAG,this._drawingMouseDragCallback),Pe.addEventListener(b.default.MOUSE_UP,this._drawingMouseUpCallback),Pe.addEventListener(b.default.TOUCH_START,this._drawingMouseMoveCallback),Pe.addEventListener(b.default.TOUCH_START,this._drawingTouchStartCallback),Pe.addEventListener(b.default.TOUCH_DRAG,this._drawingTouchDragCallback),Pe.addEventListener(b.default.TOUCH_END,this._drawingMouseUpCallback),Pe.addEventListener(b.default.DOUBLE_TAP,this._drawingDoubleTapClickCallback),x.default.cornerstone.updateImage(Pe)}},{key:"_deactivateDraw",value:function(Pe){this._drawing=!1,j.state.isMultiPartToolActive=!1,this._activeDrawingToolReference=null,this._drawingInteractionType=null,Object(oe.setToolCursor)(this.element,this.svgCursor),Pe.removeEventListener(b.default.MOUSE_DOWN,this._drawingMouseDownCallback),Pe.removeEventListener(b.default.MOUSE_MOVE,this._drawingMouseMoveCallback),Pe.removeEventListener(b.default.MOUSE_DOUBLE_CLICK,this._drawingMouseDoubleClickCallback),Pe.removeEventListener(b.default.MOUSE_DRAG,this._drawingMouseDragCallback),Pe.removeEventListener(b.default.MOUSE_UP,this._drawingMouseUpCallback),Pe.removeEventListener(b.default.TOUCH_START,this._drawingTouchStartCallback),Pe.removeEventListener(b.default.TOUCH_DRAG,this._drawingTouchDragCallback),Pe.removeEventListener(b.default.TOUCH_START,this._drawingMouseMoveCallback),Pe.removeEventListener(b.default.TOUCH_END,this._drawingMouseUpCallback),x.default.cornerstone.updateImage(Pe)}},{key:"_activateModify",value:function(Pe){j.state.isToolLocked=!0,Pe.addEventListener(b.default.MOUSE_UP,this._editMouseUpCallback),Pe.addEventListener(b.default.MOUSE_DRAG,this._editMouseDragCallback),Pe.addEventListener(b.default.MOUSE_CLICK,this._editMouseUpCallback),Pe.addEventListener(b.default.TOUCH_END,this._editMouseUpCallback),Pe.addEventListener(b.default.TOUCH_DRAG,this._editTouchDragCallback),x.default.cornerstone.updateImage(Pe)}},{key:"_deactivateModify",value:function(Pe){j.state.isToolLocked=!1,Pe.removeEventListener(b.default.MOUSE_UP,this._editMouseUpCallback),Pe.removeEventListener(b.default.MOUSE_DRAG,this._editMouseDragCallback),Pe.removeEventListener(b.default.MOUSE_CLICK,this._editMouseUpCallback),Pe.removeEventListener(b.default.TOUCH_END,this._editMouseUpCallback),Pe.removeEventListener(b.default.TOUCH_DRAG,this._editTouchDragCallback),x.default.cornerstone.updateImage(Pe)}},{key:"passiveCallback",value:function(Pe){this._closeToolIfDrawing(Pe)}},{key:"enabledCallback",value:function(Pe){this._closeToolIfDrawing(Pe)}},{key:"disabledCallback",value:function(Pe){this._closeToolIfDrawing(Pe)}},{key:"_closeToolIfDrawing",value:function(Pe){this._drawing&&(this._endDrawing(Pe,this.configuration.currentHandle),x.default.cornerstone.updateImage(Pe))}},{key:"fireModifiedEvent",value:function(Pe,He){var Ke=b.default.MEASUREMENT_MODIFIED,Ye={toolName:this.name,toolType:this.name,element:Pe,measurementData:He};Object(W.default)(Pe,Ke,Ye)}},{key:"fireCompletedEvent",value:function(Pe,He){var Ke=b.default.MEASUREMENT_COMPLETED,Ye={toolName:this.name,toolType:this.name,element:Pe,measurementData:He};Object(W.default)(Pe,Ke,Ye)}},{key:"cancelDrawing",value:function(Pe){if(this._drawing){var He=Object(L.getToolState)(Pe,this.name),Ke=this.configuration,Ye=He.data[Ke.currentTool];Ye.active=!1,Ye.highlight=!1,Ye.handles.invalidHandlePlacement=!1,Ke.currentHandle=0,Ke.currentTool=-1,Ye.canComplete=!1,Object(L.removeToolState)(Pe,this.name,Ye),this._deactivateDraw(Pe),x.default.cornerstone.updateImage(Pe)}}},{key:"newImageCallback",value:function(Pe){var He=this.configuration;if(this._drawing&&this._activeDrawingToolReference){var Ke=Pe.detail.element,Ye=this._activeDrawingToolReference;Ye.active=!1,Ye.highlight=!1,Ye.handles.invalidHandlePlacement=!1;var ct=Ye.handles.points;ct[He.currentHandle-1].lines.push(ct[0]),He.currentHandle=0,He.currentTool=-1,Ye.canComplete=!1,this._deactivateDraw(Ke),x.default.cornerstone.updateImage(Ke)}}},{key:"spacing",get:function(){return this.configuration.spacing},set:function(Pe){if("number"!=typeof Pe)throw new Error("Attempting to set freehand spacing to a value other than a number.");this.configuration.spacing=Pe,x.default.cornerstone.updateImage(this.element)}},{key:"activeHandleRadius",get:function(){return this.configuration.activeHandleRadius},set:function(Pe){if("number"!=typeof Pe)throw new Error("Attempting to set freehand activeHandleRadius to a value other than a number.");this.configuration.activeHandleRadius=Pe,x.default.cornerstone.updateImage(this.element)}},{key:"completeHandleRadius",get:function(){return this.configuration.completeHandleRadius},set:function(Pe){if("number"!=typeof Pe)throw new Error("Attempting to set freehand completeHandleRadius to a value other than a number.");this.configuration.completeHandleRadius=Pe,x.default.cornerstone.updateImage(this.element)}},{key:"alwaysShowHandles",get:function(){return this.configuration.alwaysShowHandles},set:function(Pe){if("boolean"!=typeof Pe)throw new Error("Attempting to set freehand alwaysShowHandles to a value other than a boolean.");this.configuration.alwaysShowHandles=Pe,x.default.cornerstone.updateImage(this.element)}},{key:"invalidColor",get:function(){return this.configuration.invalidColor},set:function(Pe){this.configuration.invalidColor=Pe,x.default.cornerstone.updateImage(this.element)}}]),Rt}(S.default);function mt(st){st.stopImmediatePropagation(),st.stopPropagation(),st.preventDefault()}},"./tools/annotation/LengthTool.js":
/*!****************************************!*\
                  !*** ./tools/annotation/LengthTool.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return z});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),P=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),b=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),x=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),S=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),L=s(
/*! ./../../drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),w=s(
/*! ./../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),N=s(
/*! ./../../util/lineSegDistance.js */
"./util/lineSegDistance.js"),j=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),W=s(
/*! ../../util/logger.js */
"./util/logger.js"),B=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),G=s(
/*! ../../util/throttle */
"./util/throttle.js"),V=s(
/*! ../../store/index */
"./store/index.js"),F=Object(W.getLogger)("tools:annotation:LengthTool"),z=function(q){function ae(){var ie,oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,ae);var $={name:"Length",supportedInteractionTypes:["Mouse","Touch"],svgCursor:j.lengthCursor,configuration:{drawHandles:!0,drawHandlesOnHover:!1,hideHandlesIfMoving:!1,renderDashed:!1,digits:2}};return(ie=h()(this,O()(ae).call(this,oe,$))).throttledUpdateCachedStats=Object(G.default)(ie.updateCachedStats,110),ie}return g()(ae,q),T()(ae,[{key:"createNewMeasurement",value:function(oe){if(oe&&oe.currentPoints&&oe.currentPoints.image){var Z=oe.currentPoints.image,K=Z.x,Q=Z.y;return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:K,y:Q,highlight:!0,active:!1},end:{x:K,y:Q,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}F.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(oe,$,Z){return $&&$.handles&&$.handles.start&&$.handles.end?!1!==$.visible&&Object(N.default)(oe,$.handles.start,$.handles.end,Z)<25:(F.warn("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool")),!1)}},{key:"updateCachedStats",value:function(oe,$,Z){var K=Object(B.default)(oe),ne=(Z.handles.end.x-Z.handles.start.x)*(K.colPixelSpacing||1),ue=(Z.handles.end.y-Z.handles.start.y)*(K.rowPixelSpacing||1),ye=Math.sqrt(ne*ne+ue*ue);Z.length=ye,Z.invalidated=!1}},{key:"renderToolData",value:function(oe){var $=this,Z=oe.detail,K=this.configuration,Q=K.handleRadius,ee=K.drawHandlesOnHover,ne=K.hideHandlesIfMoving,ue=K.renderDashed,ye=K.digits,Ee=Object(P.getToolState)(oe.currentTarget,this.name);if(Ee)for(var Se=Object(S.getNewContext)(Z.canvasContext.canvas),ke=Z.image,Xe=Z.element,mt=Object(B.default)(ke),st=mt.rowPixelSpacing,Rt=mt.colPixelSpacing,Ge=b.default.getToolWidth(),Pe=Object(V.getModule)("globalConfiguration").configuration.lineDash,He=function(St){var it=Ee.data[St];if(!1===it.visible)return"continue";Object(S.draw)(Se,function(jt){Object(S.setShadow)(jt,$.configuration);var Tt=x.default.getColorIfActive(it),Vt={color:Tt};ue&&(Vt.lineDash=Pe),Object(S.drawLine)(jt,Xe,it.handles.start,it.handles.end,Vt);var kt={color:Tt,handleRadius:Q,drawHandlesIfActive:ee,hideHandlesIfMoving:ne};if($.configuration.drawHandles&&Object(w.default)(jt,Z,it.handles,kt),!it.handles.textBox.hasMoved){var yt={x:Math.max(it.handles.start.x,it.handles.end.x)};yt.y=yt.x===it.handles.start.x?it.handles.start.y:it.handles.end.y,it.handles.textBox.x=yt.x,it.handles.textBox.y=yt.y}!0===it.invalidated&&(it.length?$.throttledUpdateCachedStats(ke,Xe,it):$.updateCachedStats(ke,Xe,it));var ln=function ct(pt,St,it){var jt=function te(q){var ae=Number(q);return isNaN(ae)?void 0:ae}(pt.length);if(!jt)return"";var Tt="mm";return(!St||!it)&&(Tt="pixels"),pt.unit=Tt,"".concat(jt.toFixed(ye)," ").concat(Tt)}(it,st,Rt);Object(L.default)(jt,Xe,it.handles.textBox,ln,it.handles,ft,Tt,Ge,10,!0)})},Ke=0;Ke<Ee.data.length;Ke++)He(Ke);function ft(pt){return[pt.start,{x:(pt.start.x+pt.end.x)/2,y:(pt.start.y+pt.end.y)/2},pt.end]}}}]),ae}(v.default)},"./tools/annotation/ProbeTool.js":
/*!***************************************!*\
                  !*** ./tools/annotation/ProbeTool.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return te});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),x=s(
/*! ../../stateManagement/textStyle.js */
"./stateManagement/textStyle.js"),S=s(
/*! ../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ../../drawing/index.js */
"./drawing/index.js"),w=s(
/*! ../../drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),N=s(
/*! ../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),j=s(
/*! ../../util/getRGBPixels.js */
"./util/getRGBPixels.js"),W=s(
/*! ../../util/calculateSUV.js */
"./util/calculateSUV.js"),B=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),G=s(
/*! ../../util/logger.js */
"./util/logger.js"),V=s(
/*! ../../util/throttle */
"./util/throttle.js"),F=s(
/*! ../../store/index */
"./store/index.js"),z=Object(G.getLogger)("tools:annotation:ProbeTool"),te=function(q){function ae(){var ie,oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,ae);var $={name:"Probe",supportedInteractionTypes:["Mouse","Touch"],svgCursor:B.probeCursor,configuration:{drawHandles:!0,renderDashed:!1}};return(ie=h()(this,O()(ae).call(this,oe,$))).throttledUpdateCachedStats=Object(V.default)(ie.updateCachedStats,110),ie}return g()(ae,q),T()(ae,[{key:"createNewMeasurement",value:function(oe){if(oe&&oe.currentPoints&&oe.currentPoints.image)return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{end:{x:oe.currentPoints.image.x,y:oe.currentPoints.image.y,highlight:!0,active:!0}}};z.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(oe,$,Z){var Q=$&&$.handles&&$.handles.end;if(Q||z.warn("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool")),!Q||!1===$.visible)return!1;var ee=v.default.cornerstone.pixelToCanvas(oe,$.handles.end);return v.default.cornerstoneMath.point.distance(ee,Z)<5}},{key:"updateCachedStats",value:function(oe,$,Z){var K=Math.round(Z.handles.end.x),Q=Math.round(Z.handles.end.y),ee={};K>=0&&Q>=0&&K<oe.columns&&Q<oe.rows&&(ee.x=K,ee.y=Q,oe.color?ee.storedPixels=Object(j.default)($,K,Q,1,1):(ee.storedPixels=v.default.cornerstone.getStoredPixels($,K,Q,1,1),ee.sp=ee.storedPixels[0],ee.mo=ee.sp*oe.slope+oe.intercept,ee.suv=Object(W.default)(oe,ee.sp))),Z.cachedStats=ee,Z.invalidated=!1}},{key:"renderToolData",value:function(oe){var $=this,Z=oe.detail,K=this.configuration,Q=K.handleRadius,ee=K.renderDashed,ne=Object(b.getToolState)(oe.currentTarget,this.name);if(ne)for(var ue=Object(L.getNewContext)(Z.canvasContext.canvas),ye=Z.image,Ee=Z.element,Se=x.default.getFontSize(),ke=Object(F.getModule)("globalConfiguration").configuration.lineDash,Xe=function(Ge){var Pe=ne.data[Ge];if(!1===Pe.visible)return"continue";Object(L.draw)(ue,function(He){var Ke=S.default.getColorIfActive(Pe);if($.configuration.drawHandles){var Ye={handleRadius:Q,color:Ke};ee&&(Ye.lineDash=ke),Object(N.default)(He,Z,Pe.handles,Ye)}!0===Pe.invalidated&&(Pe.cachedStats?$.throttledUpdateCachedStats(ye,Ee,Pe):$.updateCachedStats(ye,Ee,Pe));var ct,ft,pt=Pe.cachedStats,St=pt.x,it=pt.y,jt=pt.storedPixels,Tt=pt.sp,Vt=pt.mo,kt=pt.suv;if(St>=0&&it>=0&&St<ye.columns&&it<ye.rows){ct="".concat(St,", ").concat(it),ye.color?ft="R: ".concat(jt[0]," G: ").concat(jt[1]," B: ").concat(jt[2]):(ft="SP: ".concat(Tt," MO: ").concat(parseFloat(Vt.toFixed(3))),kt&&(ft+=" SUV: ".concat(parseFloat(kt.toFixed(3)))));var Ht=v.default.cornerstone.pixelToCanvas(Z.element,{x:Pe.handles.end.x+3,y:Pe.handles.end.y-3});Object(w.default)(He,ft,Ht.x,Ht.y+Se+5,Ke),Object(w.default)(He,ct,Ht.x,Ht.y,Ke)}})},mt=0;mt<ne.data.length;mt++)Xe(mt)}}]),ae}(P.default)},"./tools/annotation/RectangleRoiTool.js":
/*!**********************************************!*\
                  !*** ./tools/annotation/RectangleRoiTool.js ***!
                  \**********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return te});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./../../externalModules.js */
"./externalModules.js"),P=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),b=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),x=s(
/*! ./../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),S=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),L=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),w=s(
/*! ./../../util/calculateSUV.js */
"./util/calculateSUV.js"),N=s(
/*! ../../util/getROITextBoxCoords.js */
"./util/getROITextBoxCoords.js"),j=s(
/*! ./../../util/numbersWithCommas.js */
"./util/numbersWithCommas.js"),W=s(
/*! ./../../util/throttle.js */
"./util/throttle.js"),B=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),G=s(
/*! ../../util/logger.js */
"./util/logger.js"),V=s(
/*! ../../util/getPixelSpacing */
"./util/getPixelSpacing.js"),F=s(
/*! ../../store/index */
"./store/index.js"),z=Object(G.getLogger)("tools:annotation:RectangleRoiTool"),te=function(Q){function ee(){var ne,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,ee);var ye={name:"RectangleRoi",supportedInteractionTypes:["Mouse","Touch"],configuration:{drawHandles:!0,drawHandlesOnHover:!1,hideHandlesIfMoving:!1,renderDashed:!1},svgCursor:B.rectangleRoiCursor};return(ne=h()(this,O()(ee).call(this,ue,ye))).throttledUpdateCachedStats=Object(W.default)(ne.updateCachedStats,110),ne}return g()(ee,Q),T()(ee,[{key:"createNewMeasurement",value:function(ue){if(ue&&ue.currentPoints&&ue.currentPoints.image)return{visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:ue.currentPoints.image.x,y:ue.currentPoints.image.y,highlight:!0,active:!1},end:{x:ue.currentPoints.image.x,y:ue.currentPoints.image.y,highlight:!0,active:!0},initialRotation:ue.viewport.rotation,textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}};z.error("required eventData not supplied to tool ".concat(this.name,"'s createNewMeasurement"))}},{key:"pointNearTool",value:function(ue,ye,Ee,Se){var Xe=ye&&ye.handles&&ye.handles.start&&ye.handles.end;if(Xe||z.warn("invalid parameters supplied to tool ".concat(this.name,"'s pointNearTool")),!Xe||!1===ye.visible)return!1;var mt="mouse"===Se?15:25,st=v.default.cornerstone.pixelToCanvas(ue,ye.handles.start),Rt=v.default.cornerstone.pixelToCanvas(ue,ye.handles.end),Ge={left:Math.min(st.x,Rt.x),top:Math.min(st.y,Rt.y),width:Math.abs(st.x-Rt.x),height:Math.abs(st.y-Rt.y)};return v.default.cornerstoneMath.rect.distanceToPoint(Ge,Ee)<mt}},{key:"updateCachedStats",value:function(ue,ye,Ee){var ke=(v.default.cornerstone.metaData.get("generalSeriesModule",ue.imageId)||{}).modality,Xe=Object(V.default)(ue),mt=function ae(Q,ee,ne,ue,ye){var Xe,Ee=q(ne.start,ne.end),ke=function ie(Q,ee){for(var ne=0,ue=0,ye=0,Ee=0,Se=Q?Q[0]:null,ke=Q?Q[0]:null,Xe=ee.top;Xe<ee.top+ee.height;Xe++)for(var mt=ee.left;mt<ee.left+ee.width;mt++)ne+=Q[Ee],ue+=Q[Ee]*Q[Ee],Se=Math.min(Se,Q[Ee]),ke=Math.max(ke,Q[Ee]),ye++,Ee++;if(0===ye)return{count:ye,mean:0,variance:0,stdDev:0,min:0,max:0};var st=ne/ye,Rt=ue/ye-st*st;return{count:ye,mean:st,variance:Rt,stdDev:Math.sqrt(Rt),min:Se,max:ke}}(v.default.cornerstone.getPixels(ee,Ee.left,Ee.top,Ee.width,Ee.height),Ee);return"PT"===ue&&(Xe={mean:Object(w.default)(Q,ke.mean,!0)||0,stdDev:Object(w.default)(Q,ke.stdDev,!0)||0}),{area:Ee.width*(ye.colPixelSpacing||1)*(Ee.height*(ye.rowPixelSpacing||1))||0,perimeter:2*Ee.width*(ye.colPixelSpacing||1)+2*Ee.height*(ye.rowPixelSpacing||1),count:ke.count||0,mean:ke.mean||0,variance:ke.variance||0,stdDev:ke.stdDev||0,min:ke.min||0,max:ke.max||0,meanStdDevSUV:Xe}}(ue,ye,Ee.handles,ke,Xe);Ee.cachedStats=mt,Ee.invalidated=!1}},{key:"renderToolData",value:function(ue){var ye=this,Ee=Object(b.getToolState)(ue.currentTarget,this.name);if(Ee){var Se=ue.detail,ke=Se.image,Xe=Se.element,mt=x.default.getToolWidth(),st=Object(F.getModule)("globalConfiguration").configuration.lineDash,Rt=this.configuration,Ge=Rt.handleRadius,Pe=Rt.drawHandlesOnHover,He=Rt.hideHandlesIfMoving,Ke=Rt.renderDashed,Ye=Object(L.getNewContext)(Se.canvasContext.canvas),ct=Object(V.default)(ke),ft=ct.rowPixelSpacing,pt=ct.colPixelSpacing,it=(v.default.cornerstone.metaData.get("generalSeriesModule",ke.imageId)||{}).modality,jt=ft&&pt;Object(L.draw)(Ye,function(Tt){for(var Vt=0;Vt<Ee.data.length;Vt++){var kt=Ee.data[Vt];if(!1!==kt.visible){var yt=S.default.getColorIfActive(kt),Ht={color:yt,handleRadius:Ge,drawHandlesIfActive:Pe,hideHandlesIfMoving:He};Object(L.setShadow)(Tt,ye.configuration);var ln={color:yt};if(Ke&&(ln.lineDash=st),Object(L.drawRect)(Tt,Xe,kt.handles.start,kt.handles.end,ln,"pixel",kt.handles.initialRotation),ye.configuration.drawHandles&&Object(L.drawHandles)(Tt,Se,kt.handles,Ht),!0===kt.invalidated&&(kt.cachedStats?ye.throttledUpdateCachedStats(ke,Xe,kt):ye.updateCachedStats(ke,Xe,kt)),!kt.handles.textBox.hasMoved){var $t=Object(N.default)(Se.viewport,kt.handles);Object.assign(kt.handles.textBox,$t)}var or=function(Xt){return oe(Xt.start,Xt.end)},_n=K(Tt,ke.color,kt.cachedStats,it,jt,ye.configuration);kt.unit=Z(it,ye.configuration.showHounsfieldUnits),Object(L.drawLinkedTextBox)(Tt,Xe,kt.handles.textBox,_n,kt.handles,or,yt,mt,10,!0)}}})}}}]),ee}(P.default);function q(Q,ee){return{left:Math.min(Q.x,ee.x),top:Math.min(Q.y,ee.y),width:Math.abs(Q.x-ee.x),height:Math.abs(Q.y-ee.y)}}function oe(Q,ee){var ne=q(Q,ee),ue=ne.left,ye=ne.top,Ee=ne.width,Se=ne.height;return[{x:ue+Ee/2,y:ye},{x:ue,y:ye+Se/2},{x:ue+Ee/2,y:ye+Se},{x:ue+Ee,y:ye+Se/2}]}function Z(Q,ee){return"CT"===Q&&!1!==ee?"HU":""}function K(Q,ee){var ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ue=ne.area,ye=void 0===ue?0:ue,Ee=ne.mean,Se=void 0===Ee?0:Ee,ke=ne.stdDev,Xe=void 0===ke?0:ke,mt=ne.min,st=void 0===mt?0:mt,Rt=ne.max,Ge=void 0===Rt?0:Rt,Pe=ne.meanStdDevSUV,He=void 0===Pe?0:Pe,Ye=arguments.length>4?arguments[4]:void 0,ct=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},ft=ct.showMinMax||!1,pt=[],St=[];if(!ee){var it=He&&0!==He.mean,jt=Z(arguments.length>3?arguments[3]:void 0,ct.showHounsfieldUnits),Tt="Mean: ".concat(Object(j.default)(Se.toFixed(2))," ").concat(jt),Vt="Std Dev: ".concat(Object(j.default)(Xe.toFixed(2))," ").concat(jt);if(it){for(var yt="".concat(" SUV: ").concat(Object(j.default)(He.mean.toFixed(2))),Ht="".concat(" SUV: ").concat(Object(j.default)(He.stdDev.toFixed(2))),ln=Math.floor(Q.measureText("".concat(Vt,"     ")).width);Q.measureText(Tt).width<ln;)Tt+=" ";St.push("".concat(Tt).concat(yt)),St.push("".concat(Vt,"     ").concat(Ht))}else St.push("".concat(Tt)),St.push("".concat(Vt));if(ft){for(var $t="Min: ".concat(st," ").concat(jt),or="Max: ".concat(Ge," ").concat(jt),_n=Math.floor(it?Q.measureText("".concat(Vt,"     ")).width:Q.measureText("".concat(Tt,"     ")).width);Q.measureText($t).width<_n;)$t+=" ";St.push("".concat($t).concat(or))}}return pt.push(function $(Q,ee){var ne=ee?" mm".concat("\xb2"):" px".concat("\xb2");return"Area: ".concat(Object(j.default)(Q.toFixed(2))).concat(ne)}(ye,Ye)),St.forEach(function(er){return pt.push(er)}),pt}},"./tools/annotation/TextMarkerTool.js":
/*!********************************************!*\
                  !*** ./tools/annotation/TextMarkerTool.js ***!
                  \********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return B});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ../base/BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),x=s(
/*! ./../../externalModules.js */
"./externalModules.js"),S=s(
/*! ./../../util/pointInsideBoundingBox.js */
"./util/pointInsideBoundingBox.js"),L=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),w=s(
/*! ./../../drawing/index.js */
"./drawing/index.js"),N=s(
/*! ./../../drawing/drawTextBox.js */
"./drawing/drawTextBox.js"),j=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),W=s(
/*! ../cursors/index.js */
"./tools/cursors/index.js"),B=function(V){function F(){var z,te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,F);var q={name:"TextMarker",supportedInteractionTypes:["Mouse","Touch"],configuration:{markers:[],current:"",ascending:!0,loop:!1,changeTextCallback:G},svgCursor:W.textMarkerCursor};return(z=h()(this,O()(F).call(this,te,q))).touchPressCallback=z._changeText.bind(g()(z)),z.doubleClickCallback=z._changeText.bind(g()(z)),z}return P()(F,V),T()(F,[{key:"createNewMeasurement",value:function(te){var q=this.configuration;if(q.current){var ae={visible:!0,active:!0,text:q.current,color:void 0,handles:{end:{x:te.currentPoints.image.x,y:te.currentPoints.image.y,highlight:!0,active:!0,hasBoundingBox:!0}}};if(x.default.cornerstoneMath.point.insideRect(ae.handles.end,{left:0,top:0,width:te.image.width,height:te.image.height})){var oe=q.markers.indexOf(q.current);return(oe+=q.ascending?1:-1)>=q.markers.length?oe=q.loop?0:-1:oe<0&&(oe=q.loop?q.markers.length:-1),q.current=q.markers[oe],ae}}}},{key:"pointNearTool",value:function(te,q,ae){if(!1===q.visible)return!1;if(q.handles.end.boundingBox){var ie=x.default.cornerstoneMath.rect.distanceToPoint(q.handles.end.boundingBox,ae),oe=Object(S.default)(q.handles.end,ae);return ie<10||oe}}},{key:"updateCachedStats",value:function(){}},{key:"renderToolData",value:function(te){var q=te.detail,ae=this.configuration,ie=Object(j.getToolState)(q.element,this.name);if(ie)for(var oe=Object(w.getNewContext)(q.canvasContext.canvas),$=function(ee){var ne=ie.data[ee];if(!1===ne.visible)return"continue";var ue=L.default.getColorIfActive(ne);Object(w.draw)(oe,function(ye){Object(w.setShadow)(ye,ae);var Ee=x.default.cornerstone.pixelToCanvas(q.element,ne.handles.end);ne.handles.end.boundingBox=Object(N.default)(ye,ne.text,Ee.x,Ee.y-10,ue,{centering:{x:!0,y:!0}})})},Z=0;Z<ie.data.length;Z++)$(Z)}},{key:"_changeText",value:function(te){var oe,q=te.detail,ae=q.element;function $(ne,ue,ye){!0===ye?Object(j.removeToolState)(ae,this.name,ne):ne.text=ue,ne.active=!1,x.default.cornerstone.updateImage(ae)}var Z=this.configuration,K=q.currentPoints.canvas,Q=Object(j.getToolState)(ae,this.name);if(Q)for(var ee=0;ee<Q.data.length;ee++)if(this.pointNearTool(ae,oe=Q.data[ee],K))return oe.active=!0,x.default.cornerstone.updateImage(ae),Z.changeTextCallback(oe,q,$),te.stopImmediatePropagation(),te.preventDefault(),void te.stopPropagation()}}]),F}(b.default),G=function(F,z,te){te(F,prompt("Change your annotation:"))}},"./tools/annotation/bidirectionalTool/addNewMeasurement.js":
/*!*****************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/addNewMeasurement.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./../../../events.js */
"./events.js"),C=s(
/*! ./../../../manipulators/index.js */
"./manipulators/index.js"),T=s(
/*! ./../../../manipulators/anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),D=s(
/*! ./../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),h=s(
/*! ../../../util/triggerEvent.js */
"./util/triggerEvent.js"),E=s(
/*! ../../../util/getActiveTool */
"./util/getActiveTool.js"),O=s(
/*! ../BidirectionalTool */
"./tools/annotation/BidirectionalTool.js"),m=s(
/*! ./utils/updatePerpendicularLineHandles.js */
"./tools/annotation/bidirectionalTool/utils/updatePerpendicularLineHandles.js");d.default=function(v,P){var b=this,x=v.detail,S=x.element,L=x.image,w=x.buttons,N=this.configuration;if(!g(L)){var j=this.createNewMeasurement(x),W=function(){j.active=!1,p.default.cornerstone.updateImage(S)};Object(D.addToolState)(S,this.name,j),p.default.cornerstone.updateImage(S);var B=(new Date).getTime(),G=j.handles,V=G.end,F=G.perpendicularStart;Object(C.moveNewHandle)(x,this.name,j,V,{},P,function(z){if(z){var te=j.handles,q=j.longestDiameter,ae=j.shortestDiameter,ie=Object(T.default)(x,te),oe=parseFloat(q)||0,$=parseFloat(ae)||0,Z=oe<1||$<1,K=(new Date).getTime()-B<150;ie||Z||K?(j.cancelled=!0,Object(D.removeToolState)(S,b.name,j)):N.getMeasurementLocationCallback(j,x,W),Object(m.default)(x,j),F.locked=!1,j.invalidated=!0,p.default.cornerstone.updateImage(S);var Q=Object(E.default)(S,w,P);Q instanceof O.default&&Q.updateCachedStats(L,S,j);var ee={toolName:b.name,toolType:b.name,element:S,measurementData:j};Object(h.default)(S,y.default.MEASUREMENT_MODIFIED,ee),Object(h.default)(S,y.default.MEASUREMENT_COMPLETED,ee)}else Object(D.removeToolState)(S,b.name,j)})}};var g=function(P){var b=p.default.cornerstone.metaData.get("imagePlaneModule",P.imageId),x=P.rowPixelSpacing,S=P.columnPixelSpacing;return b&&(x=b.rowPixelSpacing||b.rowImagePixelSpacing,S=b.columnPixelSpacing||b.colImagePixelSpacing),!x||!S}},"./tools/annotation/bidirectionalTool/createNewMeasurement.js":
/*!********************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/createNewMeasurement.js ***!
                  \********************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=function(C,T,D){return Object.assign({x:C,y:T,index:D,drawnIndependently:!1,allowedOutsideImage:!1,highlight:!0,active:!1},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})};d.default=function(y){var C=y.currentPoints.image,T=C.x,D=C.y;return{toolName:this.name,toolType:this.name,isCreating:!0,visible:!0,active:!0,invalidated:!0,handles:{start:p(T,D,0),end:p(T,D,1,{active:!0}),perpendicularStart:p(T,D,2,{locked:!0}),perpendicularEnd:p(T,D,3),textBox:p(T-50,D-70,null,{highlight:!1,hasMoved:!0,active:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0})},longestDiameter:0,shortestDiameter:0}}},"./tools/annotation/bidirectionalTool/handleSelectedCallback.js":
/*!**********************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/handleSelectedCallback.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y,C){"touch"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse")?this.handleSelectedTouchCallback(p):this.handleSelectedMouseCallback(p)}},"./tools/annotation/bidirectionalTool/handleSelectedMouseCallback.js":
/*!***************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/handleSelectedMouseCallback.js ***!
                  \***************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p),C=s(
/*! ./../../../externalModules.js */
"./externalModules.js"),T=s(
/*! ./../../../events.js */
"./events.js"),D=s(
/*! ./../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),h=s(
/*! ./../../../manipulators/anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),E=s(
/*! ./../../../manipulators/getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js"),O=s(
/*! ./../../../manipulators/index.js */
"./manipulators/index.js"),m=s(
/*! ./moveHandle/moveHandle.js */
"./tools/annotation/bidirectionalTool/moveHandle/moveHandle.js"),g=s(
/*! ./invertHandles.js */
"./tools/annotation/bidirectionalTool/invertHandles.js"),v=s(
/*! ../../../store/setToolCursor.js */
"./store/setToolCursor.js"),P=s(
/*! ../../../util/getProximityThreshold.js */
"./util/getProximityThreshold.js");d.default=function(L){var W,w=this,N=L.detail,j=N.element,B=Object(P.default)("mouse",this.name),G=function($){W.invalidated=!0,Object(h.default)(N,W.handles)&&Object(D.removeToolState)(j,w.name,W),$&&($.moving=!1,$.selected=!0),Object(v.setToolCursor)(w.element,w.svgCursor),C.default.cornerstone.updateImage(j),j.addEventListener(T.default.MOUSE_MOVE,w._moveCallback),j.addEventListener(T.default.TOUCH_START,w._moveCallback)},V=N.startPoints.canvas,F=Object(D.getToolState)(L.currentTarget,this.name);if(F){for(var z=function($){var K=E.default.apply(void 0,[j,(W=F.data[$]).handles,V,B]);if(K)return j.removeEventListener(T.default.MOUSE_MOVE,w._moveCallback),j.removeEventListener(T.default.TOUCH_START,w._moveCallback),W.active=!0,b(W.handles),K.moving=!0,(K=Object(g.default)(N,W,K)).hasBoundingBox||Object(v.hideToolCursor)(w.element),Object(m.default)(N,w.name,W,K,function(){return G(K)}),S(L),{v:!0}},te=0;te<F.data.length;te++){var q=z(te);if("object"===y()(q))return q.v}var ae=function($){return function(){x($,!1),G()}};for(te=0;te<F.data.length;te++)if(this.pointNearTool(j,W=F.data[te],V,"mouse")){j.removeEventListener(T.default.MOUSE_MOVE,this._moveCallback),j.removeEventListener(T.default.TOUCH_START,this._moveCallback),W.active=!0,b(W.handles),x(W.handles,!0);var ie=ae(W.handles);return Object(O.moveAllHandles)(N,this.name,W,null,{deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1},"mouse",ie),S(L),!0}}};var b=function(w){var N=!1;return Object.keys(w).forEach(function(j){"textBox"!==j&&(w[j].selected=!1,N=w[j].active||N,w[j].active=!1)}),N},x=function(w,N){Object.keys(w).forEach(function(j){"textBox"!==j&&(w[j].moving=N)})},S=function(w){w.stopImmediatePropagation(),w.stopPropagation(),w.preventDefault()}},"./tools/annotation/bidirectionalTool/handleSelectedTouchCallback.js":
/*!***************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/handleSelectedTouchCallback.js ***!
                  \***************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p),C=s(
/*! ./../../../externalModules.js */
"./externalModules.js"),T=s(
/*! ../../../store/index.js */
"./store/index.js"),D=s(
/*! ./../../../events.js */
"./events.js"),h=s(
/*! ./../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),E=s(
/*! ./../../../manipulators/anyHandlesOutsideImage.js */
"./manipulators/anyHandlesOutsideImage.js"),O=s(
/*! ./../../../manipulators/getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js"),m=s(
/*! ./../../../manipulators/index.js */
"./manipulators/index.js"),g=s(
/*! ./moveHandle/touchMoveHandle.js */
"./tools/annotation/bidirectionalTool/moveHandle/touchMoveHandle.js");d.default=function(x){var N,S=this,L=x.detail,w=L.element,j=T.state.touchProximity,W=function(ie){N.invalidated=!0,Object(E.default)(L,N.handles)&&Object(h.removeToolState)(w,S.name,N),ie&&(ie.moving=!1,ie.selected=!0),C.default.cornerstone.updateImage(w),w.addEventListener(D.default.TOUCH_DRAG,S._moveCallback)},B=L.startPoints.canvas,G=Object(h.getToolState)(x.currentTarget,this.name);if(G){for(var V=function(ie){var $=O.default.apply(void 0,[w,(N=G.data[ie]).handles,B,j]);if($)return w.removeEventListener(D.default.TOUCH_DRAG,S._moveCallback),N.active=!0,v(N.handles),$.moving=!0,Object(g.default)(L,S.name,N,$,function(){return W($)}),b(x),{v:!0}},F=0;F<G.data.length;F++){var z=V(F);if("object"===y()(z))return z.v}var te=function(ie){return function(){P(ie,!1),W()}};for(F=0;F<G.data.length;F++)if(this.pointNearTool(w,N=G.data[F],B,"touch")){w.removeEventListener(D.default.TOUCH_DRAG,this._moveCallback),N.active=!0,v(N.handles),P(N.handles,!0);var q=te(N.handles);return Object(m.moveAllHandles)(L,this.name,N,null,{deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1},"touch",q),b(x),!0}}};var v=function(S){var L=!1;return Object.keys(S).forEach(function(w){"textBox"!==w&&(S[w].selected=!1,L=S[w].active||L,S[w].active=!1)}),L},P=function(S,L){Object.keys(S).forEach(function(w){"textBox"!==w&&(S[w].moving=L)})},b=function(S){S.stopImmediatePropagation(),S.stopPropagation(),S.preventDefault()}},"./tools/annotation/bidirectionalTool/invertHandles.js":
/*!*************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/invertHandles.js ***!
                  \*************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=function(D,h,E){var O=D[E];D[E]=h[E],h[E]=O},y=function(D,h){p(D,h,"x"),p(D,h,"y"),p(D,h,"moving"),p(D,h,"hover"),p(D,h,"active"),p(D,h,"selected")};function C(T,D,h){var E=T.image,O=E.rowPixelSpacing,m=E.columnPixelSpacing,g=D.handles,v=g.start,P=g.end,b=g.perpendicularStart,x=g.perpendicularEnd,S=(v.x-P.x)*(m||1),L=(v.y-P.y)*(O||1),w=Math.sqrt(S*S+L*L),N=(b.x-x.x)*(m||1),j=(b.y-x.y)*(O||1);return(Math.sqrt(N*N+j*j)||0)>w?(y(v,P),y(v,b),y(P,x),Object.values(g).find(function(B){return!0===B.moving})):h}},"./tools/annotation/bidirectionalTool/mouseMoveCallback.js":
/*!*****************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/mouseMoveCallback.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./../../../stateManagement/toolCoordinates.js */
"./stateManagement/toolCoordinates.js"),C=s(
/*! ./../../../manipulators/getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js"),T=s(
/*! ./../../../stateManagement/toolState.js */
"./stateManagement/toolState.js");d.default=function(h){var E=this,O=h.detail,m=O.element;y.default.setCoords(O);var g=Object(T.getToolState)(m,this.name);if(g){for(var v=!1,P=function(S){var L=O.currentPoints.canvas,w=g.data[S],N=function(E,O,m){var g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,v=Object(C.default)(E,O,m,g),P=!1;return Object.keys(O).forEach(function(b){if("textBox"!==b){var x=O[b],S=x===v;x.active!==S&&(P=!0),x.active=S}}),P}(m,w.handles,L);Object.keys(w.handles).forEach(function(G){if("textBox"!==G){var V=w.handles[G];V.hover=V.active}}),N&&(v=!0);var j=E.pointNearTool(m,w,L,"mouse");(j&&!w.active||!j&&w.active)&&(w.active=!w.active,v=!0)},b=0;b<g.data.length;b++)P(b);!0===v&&p.default.cornerstone.updateImage(m)}}},"./tools/annotation/bidirectionalTool/moveHandle/getBaseData.js":
/*!**********************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/getBaseData.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return T});var p=s(
/*! ../../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ../utils/getDistanceWithPixelSpacing.js */
"./tools/annotation/bidirectionalTool/utils/getDistanceWithPixelSpacing.js");function C(D,h){return{start:D,end:h}}function T(D,h,E){var O=p.default.cornerstoneMath.lineSegment,m=D.handles,g=m.start,v=m.end,P=m.perpendicularStart,b=m.perpendicularEnd,x=h.image,S=x.columnPixelSpacing,L=void 0===S?1:S,w=x.rowPixelSpacing,N=void 0===w?1:w,j=C(g,v),W=C(P,b),B=O.intersectLine(j,W);return{columnPixelSpacing:L,rowPixelSpacing:N,start:g,end:v,perpendicularStart:P,perpendicularEnd:b,longLine:j,intersection:B,distanceToFixed:Object(y.default)(L,N,E,B),fixedPoint:E}}},"./tools/annotation/bidirectionalTool/moveHandle/moveHandle.js":
/*!*********************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/moveHandle.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ../../../../store/index.js */
"./store/index.js"),C=s(
/*! ./../../../../events.js */
"./events.js"),T=s(
/*! ./setHandlesPosition.js */
"./tools/annotation/bidirectionalTool/moveHandle/setHandlesPosition.js"),D=s(
/*! ../../../../util/getActiveTool */
"./util/getActiveTool.js"),h=s(
/*! ../../../base/BaseAnnotationTool */
"./tools/base/BaseAnnotationTool.js");d.default=function(E,O,m,g,v,P){var b=E.element,x=E.image,S=E.buttons,L={x:g.x-E.currentPoints.image.x,y:g.y-E.currentPoints.image.y},w=function(G){var V=G.detail;g.hasMoved=!0,null==g.index?(g.x=V.currentPoints.image.x+L.x,g.y=V.currentPoints.image.y+L.y):Object(T.default)(g,V,m,L),P&&(g.x=Math.max(g.x,0),g.x=Math.min(g.x,V.image.width),g.y=Math.max(g.y,0),g.y=Math.min(g.y,V.image.height)),m.invalidated=!0,p.default.cornerstone.updateImage(b);var F=Object(D.default)(b,S,"mouse");F instanceof h.default&&F.updateCachedStats(x,b,m),p.default.cornerstone.triggerEvent(b,C.default.MEASUREMENT_MODIFIED,{toolName:O,toolType:O,element:b,measurementData:m})};g.active=!0,g.moving=!0,y.state.isToolLocked=!0,b.addEventListener(C.default.MOUSE_DRAG,w),b.addEventListener(C.default.TOUCH_DRAG,w);var N=p.default.cornerstone.getImage(b),j=function(){p.default.cornerstone.getImage(b).imageId!==N.imageId&&W()};b.addEventListener(p.default.cornerstone.EVENTS.IMAGE_RENDERED,j);var W=function B(){g.active=!1,y.state.isToolLocked=!1,b.removeEventListener(p.default.cornerstone.EVENTS.IMAGE_RENDERED,j),b.removeEventListener(C.default.MOUSE_DRAG,w),b.removeEventListener(C.default.MOUSE_UP,B),b.removeEventListener(C.default.MOUSE_CLICK,B),b.removeEventListener(C.default.TOUCH_DRAG,w),b.removeEventListener(C.default.TOUCH_DRAG_END,B),b.removeEventListener(C.default.TAP,B),p.default.cornerstone.updateImage(b),"function"==typeof v&&v()};b.addEventListener(C.default.MOUSE_UP,W),b.addEventListener(C.default.MOUSE_CLICK,W),b.addEventListener(C.default.TOUCH_DRAG_END,W),b.addEventListener(C.default.TAP,W)}},"./tools/annotation/bidirectionalTool/moveHandle/moveLongLine/moveLongLine.js":
/*!************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/moveLongLine/moveLongLine.js ***!
                  \************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return T});var p=s(
/*! ../../utils/getDistanceWithPixelSpacing.js */
"./tools/annotation/bidirectionalTool/utils/getDistanceWithPixelSpacing.js"),y=s(
/*! ../getBaseData.js */
"./tools/annotation/bidirectionalTool/moveHandle/getBaseData.js"),C=s(
/*! ./updatePerpendicularLine.js */
"./tools/annotation/bidirectionalTool/moveHandle/moveLongLine/updatePerpendicularLine.js");function T(D,h,E,O){var m=Object(y.default)(h,E,O),g=m.columnPixelSpacing,v=m.rowPixelSpacing,P=m.distanceToFixed,b=Object(p.default)(g,v,O,D);if(b<=P)return!1;var x=P/b,S={x:O.x+(D.x-O.x)*x,y:O.y+(D.y-O.y)*x},L=Object(C.default)(m,S);return h.handles.perpendicularStart.x=L.start.x,h.handles.perpendicularStart.y=L.start.y,h.handles.perpendicularEnd.x=L.end.x,h.handles.perpendicularEnd.y=L.end.y,!0}},"./tools/annotation/bidirectionalTool/moveHandle/moveLongLine/updatePerpendicularLine.js":
/*!***********************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/moveLongLine/updatePerpendicularLine.js ***!
                  \***********************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=s(
/*! ../../utils/getLineVector */
"./tools/annotation/bidirectionalTool/utils/getLineVector.js"),y=s(
/*! ../../utils/getDistanceWithPixelSpacing */
"./tools/annotation/bidirectionalTool/utils/getDistanceWithPixelSpacing.js");function C(T,D){var h=T.columnPixelSpacing,E=T.rowPixelSpacing,O=T.start,m=T.perpendicularStart,g=T.perpendicularEnd,v=T.intersection,P=T.fixedPoint,b=Object(y.default)(h,E,m,v),x=Object(y.default)(h,E,g,v),S=Object(p.default)(h,E,P,D),L=P===O?1:-1,w=L*E,N=L*h;return{start:{x:D.x+S.y*b*w,y:D.y+S.x*b*N*-1},end:{x:D.x+S.y*x*w*-1,y:D.y+S.x*x*N}}}},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getDirectionMultiplier.js":
/*!*******************************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getDirectionMultiplier.js ***!
                  \*******************************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ./isPerpendicularEndFixed.js */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/isPerpendicularEndFixed.js");function y(C,T){return Object(p.default)(C,T)?-1:1}},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getHelperLine.js":
/*!**********************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getHelperLine.js ***!
                  \**********************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ./getDirectionMultiplier */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getDirectionMultiplier.js");function y(C,T,D){var h=C.columnPixelSpacing,E=C.rowPixelSpacing,O=C.perpendicularEnd,m=C.fixedPoint,g=Number.MAX_SAFE_INTEGER,v=Object(p.default)(m,O)*g;return{start:T,end:{x:T.x+D.y*E*v,y:T.y+D.x*h*v*-1}}}},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getMovingPoint.js":
/*!***********************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getMovingPoint.js ***!
                  \***********************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ./isPerpendicularEndFixed.js */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/isPerpendicularEndFixed.js");function y(C,T,D){return Object(p.default)(C,D)?T:D}},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/isPerpendicularEndFixed.js":
/*!********************************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/isPerpendicularEndFixed.js ***!
                  \********************************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){return y===C}s.r(d),s.d(d,"default",function(){return p})},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/lineHasLength.js":
/*!**********************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/lineHasLength.js ***!
                  \**********************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../../utils/getDistanceWithPixelSpacing */
"./tools/annotation/bidirectionalTool/utils/getDistanceWithPixelSpacing.js");function y(C,T,D){return 0!==Object(p.default)(C,T,D.start,D.end)}},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/movePerpendicularLine.js":
/*!******************************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/movePerpendicularLine.js ***!
                  \******************************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return E});var p=s(
/*! ./../../../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ../../utils/getLineVector.js */
"./tools/annotation/bidirectionalTool/utils/getLineVector.js"),C=s(
/*! ../getBaseData.js */
"./tools/annotation/bidirectionalTool/moveHandle/getBaseData.js"),T=s(
/*! ./lineHasLength.js */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/lineHasLength.js"),D=s(
/*! ./getHelperLine.js */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getHelperLine.js"),h=s(
/*! ./updatePerpendicularLine.js */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/updatePerpendicularLine.js");function E(O,m,g,v){var P=p.default.cornerstoneMath.lineSegment,b=Object(C.default)(m,g,v),x=b.columnPixelSpacing,S=b.rowPixelSpacing,L=b.start,w=b.longLine,N=b.intersection;if(!Object(T.default)(x,S,w))return!1;var j=Object(y.default)(x,S,L,N),W=Object(D.default)(b,O,j),B=P.intersectLine(w,W);if(!B)return!1;var G=Object(h.default)(b,B,W,j);return m.handles.perpendicularStart.x=G.start.x,m.handles.perpendicularStart.y=G.start.y,m.handles.perpendicularEnd.x=G.end.x,m.handles.perpendicularEnd.y=G.end.y,!0}},"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/updatePerpendicularLine.js":
/*!********************************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/updatePerpendicularLine.js ***!
                  \********************************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return D});var p=s(
/*! @babel/runtime/helpers/defineProperty */
"../node_modules/@babel/runtime/helpers/defineProperty.js"),y=s.n(p),C=s(
/*! ./getDirectionMultiplier */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getDirectionMultiplier.js"),T=s(
/*! ./getMovingPoint */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/getMovingPoint.js");function D(h,E,O,m){var g,v=h.columnPixelSpacing,P=h.rowPixelSpacing,b=h.fixedPoint,x=h.perpendicularStart,S=h.perpendicularEnd,L=h.distanceToFixed,w=Object(C.default)(b,S)*L,j=Object(T.default)(b,x,S)===x,W=j?"start":"end",B=j?"end":"start";return g={},y()(g,W,{x:O.start.x,y:O.start.y}),y()(g,B,{x:E.x+m.y*P*w,y:E.y+m.x*v*w*-1}),g}},"./tools/annotation/bidirectionalTool/moveHandle/setHandlesPosition.js":
/*!*****************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/setHandlesPosition.js ***!
                  \*****************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./moveLongLine/moveLongLine.js */
"./tools/annotation/bidirectionalTool/moveHandle/moveLongLine/moveLongLine.js"),C=s(
/*! ./movePerpendicularLine/movePerpendicularLine.js */
"./tools/annotation/bidirectionalTool/moveHandle/movePerpendicularLine/movePerpendicularLine.js");d.default=function(T,D,h,E){var m,v,P,b,x={},S={},L={x:D.currentPoints.image.x+E.x,y:D.currentPoints.image.y+E.y};0===T.index?Object(y.default)(L,h,D,h.handles.end)?(T.x=L.x,T.y=L.y):(D.currentPoints.image.x=T.x,D.currentPoints.image.y=T.y):1===T.index?Object(y.default)(L,h,D,h.handles.start)?(T.x=L.x,T.y=L.y):(D.currentPoints.image.x=T.x,D.currentPoints.image.y=T.y):2===T.index?(m=!1,x.start={x:h.handles.start.x,y:h.handles.start.y},x.end={x:h.handles.end.x,y:h.handles.end.y},S.start={x:h.handles.perpendicularEnd.x,y:h.handles.perpendicularEnd.y},S.end={x:L.x,y:L.y},(v=p.default.cornerstoneMath.lineSegment.intersectLine(x,S))||(S.end={x:h.handles.perpendicularStart.x,y:h.handles.perpendicularStart.y},v=p.default.cornerstoneMath.lineSegment.intersectLine(x,S),P=p.default.cornerstoneMath.point.distance(v,h.handles.start),b=p.default.cornerstoneMath.point.distance(v,h.handles.end),(!v||P<3||b<3)&&(m=!0)),m||Object(C.default)(L,h,D,h.handles.perpendicularEnd)||(D.currentPoints.image.x=h.handles.perpendicularStart.x,D.currentPoints.image.y=h.handles.perpendicularStart.y)):3===T.index&&(m=!1,x.start={x:h.handles.start.x,y:h.handles.start.y},x.end={x:h.handles.end.x,y:h.handles.end.y},S.start={x:h.handles.perpendicularStart.x,y:h.handles.perpendicularStart.y},S.end={x:L.x,y:L.y},(v=p.default.cornerstoneMath.lineSegment.intersectLine(x,S))||(S.end={x:h.handles.perpendicularEnd.x,y:h.handles.perpendicularEnd.y},v=p.default.cornerstoneMath.lineSegment.intersectLine(x,S),P=p.default.cornerstoneMath.point.distance(v,h.handles.start),b=p.default.cornerstoneMath.point.distance(v,h.handles.end),(!v||P<3||b<3)&&(m=!0)),m||Object(C.default)(L,h,D,h.handles.perpendicularStart)||(D.currentPoints.image.x=h.handles.perpendicularEnd.x,D.currentPoints.image.y=h.handles.perpendicularEnd.y))}},"./tools/annotation/bidirectionalTool/moveHandle/touchMoveHandle.js":
/*!**************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/moveHandle/touchMoveHandle.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../../../externalModules.js */
"./externalModules.js"),y=s(
/*! ../../../../store/index.js */
"./store/index.js"),C=s(
/*! ./../../../../events.js */
"./events.js"),T=s(
/*! ./setHandlesPosition.js */
"./tools/annotation/bidirectionalTool/moveHandle/setHandlesPosition.js"),D=s(
/*! ../../../../util/getActiveTool */
"./util/getActiveTool.js"),h=s(
/*! ../../../base/BaseAnnotationTool */
"./tools/base/BaseAnnotationTool.js"),E=[C.default.TOUCH_END,C.default.TOUCH_DRAG_END,C.default.TOUCH_PINCH,C.default.TOUCH_PRESS,C.default.TAP];d.default=function(O,m,g,v,P,b){var x=O.element,S=O.image,L=O.buttons,w={x:v.x-O.currentPoints.image.x,y:v.y-O.currentPoints.image.y},N=function(B){var G=B.detail;v.hasMoved=!0,null==v.index?(v.x=G.currentPoints.image.x+w.x,v.y=G.currentPoints.image.y+w.y):Object(T.default)(v,G,g,w),b&&(v.x=Math.max(v.x,0),v.x=Math.min(v.x,G.image.width),v.y=Math.max(v.y,0),v.y=Math.min(v.y,G.image.height)),g.invalidated=!0,p.default.cornerstone.updateImage(x);var V=Object(D.default)(x,L,"touch");V instanceof h.default&&V.updateCachedStats(S,x,g),p.default.cornerstone.triggerEvent(x,C.default.MEASUREMENT_MODIFIED,{toolName:m,toolType:m,element:x,measurementData:g})};v.active=!0,y.state.isToolLocked=!0,x.addEventListener(C.default.TOUCH_DRAG,N);var j=function W(){v.active=!1,y.state.isToolLocked=!1,x.removeEventListener(C.default.TOUCH_DRAG,N),E.forEach(function(B){x.removeEventListener(B,W)}),p.default.cornerstone.updateImage(x),"function"==typeof P&&P()};E.forEach(function(W){x.addEventListener(W,j)})}},"./tools/annotation/bidirectionalTool/pointNearTool.js":
/*!*************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/pointNearTool.js ***!
                  \*************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../../util/getProximityThreshold.js */
"./util/getProximityThreshold.js"),y=s(
/*! ./../../../externalModules.js */
"./externalModules.js"),C=s(
/*! ./../../../util/pointInsideBoundingBox.js */
"./util/pointInsideBoundingBox.js");d.default=function(D,h,E){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",m=y.default.cornerstone,g=y.default.cornerstoneMath,v=h.handles,P={start:m.pixelToCanvas(D,v.start),end:m.pixelToCanvas(D,v.end)},b=g.lineSegment.distanceToPoint(P,E);if(Object(C.default)(v.textBox,E))return!0;var x=Object(p.default)(O,"Bidirectional");return!!function(h,E,O,m){var g=y.default.cornerstone,v=y.default.cornerstoneMath,P={start:g.pixelToCanvas(h,E.perpendicularStart),end:g.pixelToCanvas(h,E.perpendicularEnd)};return v.lineSegment.distanceToPoint(P,O)<m}(D,v,E,x)||b<x}},"./tools/annotation/bidirectionalTool/renderToolData.js":
/*!**************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/renderToolData.js ***!
                  \**************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ./../../../drawing/drawHandles.js */
"./drawing/drawHandles.js"),T=s(
/*! ./utils/updatePerpendicularLineHandles.js */
"./tools/annotation/bidirectionalTool/utils/updatePerpendicularLineHandles.js"),D=s(
/*! ../../../store/index */
"./store/index.js"),h=s(
/*! ./../../../stateManagement/toolStyle.js */
"./stateManagement/toolStyle.js"),E=s(
/*! ./../../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),O=s(
/*! ./../../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),m=s(
/*! ./../../../drawing/index.js */
"./drawing/index.js"),g=s(
/*! ./../../../drawing/drawLinkedTextBox.js */
"./drawing/drawLinkedTextBox.js"),v=s(
/*! ../../../util/getPixelSpacing */
"./util/getPixelSpacing.js");d.default=function(b){var x=this,S=b.detail,L=S.element,w=S.canvasContext,N=S.image,j=this.configuration,W=j.handleRadius,B=j.drawHandlesOnHover,G=j.hideHandlesIfMoving,V=j.renderDashed,F=Object(D.getModule)("globalConfiguration").configuration.lineDash,z=Object(O.getToolState)(L,this.name);if(z){var te=Object(v.default)(N),q=te.rowPixelSpacing,ae=te.colPixelSpacing;if(q&&ae)for(var oe,ie=Object(m.getNewContext)(w.canvas),$=h.default.getToolWidth(),Z=function(ne){var ue=z.data[ne];if(!1===ue.visible)return"continue";oe=E.default.getColorIfActive(ue),!0===ue.invalidated&&(ue.longestDiameter&&ue.shortestDiameter?x.throttledUpdateCachedStats(N,L,ue):x.updateCachedStats(N,L,ue)),Object(m.draw)(ie,function(ye){Object(m.setShadow)(ye,x.configuration);var Ee=ue.handles,Se=Ee.start,ke=Ee.end,Xe=Ee.perpendicularStart,mt=Ee.perpendicularEnd,st=Ee.textBox,Rt={color:oe},Ge={color:oe,strokeWidth:Pe};V&&(Rt.lineDash=F,Ge.lineDash=F),Object(m.drawLine)(ye,L,Se,ke,Rt);var Pe=$;Object(T.default)(S,ue),Object(m.drawLine)(ye,L,Xe,mt,Ge);var He={color:oe,handleRadius:W,drawHandlesIfActive:B,hideHandlesIfMoving:G};x.configuration.drawHandles&&Object(C.default)(ye,S,ue.handles,He);var ct=P(ue,q,ae);Object(g.default)(ye,L,st,ct,ue.handles,function(pt){return[pt.start,pt.end,pt.perpendicularStart,pt.perpendicularEnd]},oe,$,10,!0)})},K=0;K<z.data.length;K++)Z(K)}};var P=function(x,S,L){var w=" mm";(!S||!L)&&(w=" pixels");var N=" L ".concat(x.longestDiameter).concat(w),j=" W ".concat(x.shortestDiameter).concat(w),W=x.labels;return W&&Array.isArray(W)?[].concat(y()(W),[N,j]):[N,j]}},"./tools/annotation/bidirectionalTool/utils/calculateLongestAndShortestDiameters.js":
/*!******************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/utils/calculateLongestAndShortestDiameters.js ***!
                  \******************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){var T=C.rowPixelSpacing,D=C.colPixelSpacing,h=y.handles,E=h.start,O=h.end,m=h.perpendicularStart,g=h.perpendicularEnd,v=(E.x-O.x)*(D||1),P=(E.y-O.y)*(T||1),b=Math.sqrt(v*v+P*P),x=(m.x-g.x)*(D||1),S=(m.y-g.y)*(T||1),L=Math.sqrt(x*x+S*S);if(L||(L=0),L>b){var N=b;b=L,L=N}return{longestDiameter:b.toFixed(1),shortestDiameter:L.toFixed(1)}}s.r(d),s.d(d,"default",function(){return p})},"./tools/annotation/bidirectionalTool/utils/getDistanceWithPixelSpacing.js":
/*!*********************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/utils/getDistanceWithPixelSpacing.js ***!
                  \*********************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T,D){var h=(T.x-D.x)/C,E=(T.y-D.y)/y;return Math.sqrt(h*h+E*E)}s.r(d),s.d(d,"default",function(){return p})},"./tools/annotation/bidirectionalTool/utils/getLineVector.js":
/*!*******************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/utils/getLineVector.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T,D){var h=(T.x-D.x)*y,E=(T.y-D.y)*C,O=Math.sqrt(h*h+E*E);return{x:h/O,y:E/O,length:O}}s.r(d),s.d(d,"default",function(){return p})},"./tools/annotation/bidirectionalTool/utils/updatePerpendicularLineHandles.js":
/*!************************************************************************************!*\
                  !*** ./tools/annotation/bidirectionalTool/utils/updatePerpendicularLineHandles.js ***!
                  \************************************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ./getLineVector */
"./tools/annotation/bidirectionalTool/utils/getLineVector.js");function y(C,T){if(!T.handles.perpendicularStart.locked)return!1;var D,h,E,O,m=T.handles,g=m.start,v=m.end,P=C.image,b=P.columnPixelSpacing,x=void 0===b?1:b,S=P.rowPixelSpacing,L=void 0===S?1:S;if(g.x===v.x&&g.y===v.y)D=g.x,h=g.y,E=v.x,O=v.y;else{var w={x:(g.x+v.x)/2,y:(g.y+v.y)/2},N=Object(p.default)(x,L,g,v),j=N.length/2,W=j/(2*L),B=j/(2*x);D=w.x+B*N.y,h=w.y-W*N.x,E=w.x-B*N.y,O=w.y+W*N.x}return T.handles.perpendicularStart.x=D,T.handles.perpendicularStart.y=h,T.handles.perpendicularEnd.x=E,T.handles.perpendicularEnd.y=O,!0}},"./tools/annotation/index.js":
/*!***********************************!*\
                  !*** ./tools/annotation/index.js ***!
                  \***********************************/
/*! exports provided: AngleTool, ArrowAnnotateTool, BidirectionalTool, CircleRoiTool, CobbAngleTool, EllipticalRoiTool, FreehandRoiTool, LengthTool, ProbeTool, RectangleRoiTool, TextMarkerTool, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./AngleTool.js */
"./tools/annotation/AngleTool.js"),y=s(
/*! ./ArrowAnnotateTool.js */
"./tools/annotation/ArrowAnnotateTool.js"),C=s(
/*! ./BidirectionalTool.js */
"./tools/annotation/BidirectionalTool.js"),T=s(
/*! ./CircleRoiTool.js */
"./tools/annotation/CircleRoiTool.js"),D=s(
/*! ./CobbAngleTool.js */
"./tools/annotation/CobbAngleTool.js"),h=s(
/*! ./EllipticalRoiTool.js */
"./tools/annotation/EllipticalRoiTool.js"),E=s(
/*! ./FreehandRoiTool.js */
"./tools/annotation/FreehandRoiTool.js"),O=s(
/*! ./LengthTool.js */
"./tools/annotation/LengthTool.js"),m=s(
/*! ./ProbeTool.js */
"./tools/annotation/ProbeTool.js"),g=s(
/*! ./RectangleRoiTool.js */
"./tools/annotation/RectangleRoiTool.js"),v=s(
/*! ./TextMarkerTool.js */
"./tools/annotation/TextMarkerTool.js");s.d(d,"AngleTool",function(){return p.default}),s.d(d,"ArrowAnnotateTool",function(){return y.default}),s.d(d,"BidirectionalTool",function(){return C.default}),s.d(d,"CircleRoiTool",function(){return T.default}),s.d(d,"CobbAngleTool",function(){return D.default}),s.d(d,"EllipticalRoiTool",function(){return h.default}),s.d(d,"FreehandRoiTool",function(){return E.default}),s.d(d,"LengthTool",function(){return O.default}),s.d(d,"ProbeTool",function(){return m.default}),s.d(d,"RectangleRoiTool",function(){return g.default}),s.d(d,"TextMarkerTool",function(){return v.default}),d.default={AngleTool:p.default,ArrowAnnotateTool:y.default,BidirectionalTool:C.default,CircleRoiTool:T.default,CobbAngleTool:D.default,EllipticalRoiTool:h.default,FreehandRoiTool:E.default,LengthTool:O.default,ProbeTool:m.default,RectangleRoiTool:g.default,TextMarkerTool:v.default}},"./tools/base/BaseAnnotationTool.js":
/*!******************************************!*\
                  !*** ./tools/base/BaseAnnotationTool.js ***!
                  \******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),g=s.n(m),v=s(
/*! ./BaseTool.js */
"./tools/base/BaseTool.js"),P=s(
/*! ./../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),b=s(
/*! ./../../manipulators/handleActivator.js */
"./manipulators/handleActivator.js"),x=s(
/*! ./../../util/findAndMoveHelpers.js */
"./util/findAndMoveHelpers.js"),S=s(
/*! ../../util/logger */
"./util/logger.js"),L=Object(S.getLogger)("baseAnnotationTool"),w=function(N){function j(){return y()(this,j),h()(this,O()(j).apply(this,arguments))}return g()(j,N),T()(j,[{key:"createNewMeasurement",value:function(B){throw new Error("Method createNewMeasurement not implemented for ".concat(this.name,"."))}},{key:"pointNearTool",value:function(B,G,V){throw new Error("Method pointNearTool not implemented for ".concat(this.name,"."))}},{key:"distanceFromPoint",value:function(B,G,V){throw new Error("Method distanceFromPoint not implemented for ".concat(this.name,"."))}},{key:"renderToolData",value:function(B){throw new Error("renderToolData not implemented for ".concat(this.name,"."))}},{key:"mouseMoveCallback",value:function(B){for(var G=B.detail,V=G.element,z=G.currentPoints.canvas,te=Object(P.getToolState)(V,this.name),q=!1,ae=0;ae<te.data.length;ae++){var ie=te.data[ae];!0===Object(b.default)(V,ie.handles,z)&&(q=!0);var oe=this.pointNearTool(V,ie,z,"mouse")&&!ie.active,$=!this.pointNearTool(V,ie,z,"mouse")&&ie.active;(oe||$)&&(ie.active=!ie.active,q=!0)}return q}},{key:"handleSelectedCallback",value:function(B,G,V){var F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse";Object(x.moveHandleNearImagePoint)(B,this,G,V,F)}},{key:"toolSelectedCallback",value:function(B,G){var V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse";Object(x.moveAnnotation)(B,this,G,V)}},{key:"updateCachedStats",value:function(B,G,V){L.warn("updateCachedStats not implemented for ".concat(this.name,"."))}}]),j}(v.default);d.default=w},"./tools/base/BaseBrushTool.js":
/*!*************************************!*\
                  !*** ./tools/base/BaseBrushTool.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./BaseTool.js */
"./tools/base/BaseTool.js"),x=s(
/*! ./../../events.js */
"./events.js"),S=s(
/*! ./../../externalModules.js */
"./externalModules.js"),L=s(
/*! ./../../store/isToolActiveForElement.js */
"./store/isToolActiveForElement.js"),w=s(
/*! ./../../store/index.js */
"./store/index.js"),N=s(
/*! ../../util/segmentation */
"./util/segmentation/index.js"),j=Object(w.getModule)("segmentation"),W=function(B){function G(V){var F,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y()(this,G),z.configuration||(z.configuration={alwaysEraseOnClick:!1}),(F=h()(this,O()(G).call(this,V,z))).updateOnMouseMove=!0,F.hideDefaultCursor=!0,F._drawing=!1,F._drawingMouseUpCallback=F._drawingMouseUpCallback.bind(g()(F)),F}return P()(G,B),T()(G,[{key:"renderBrush",value:function(F){throw new Error("Method renderBrush not implemented for ".concat(this.name,"."))}},{key:"_paint",value:function(F){throw new Error("Method _paint not implemented for ".concat(this.name,"."))}},{key:"mouseDragCallback",value:function(F){this._lastImageCoords=F.detail.currentPoints.image,this._drawing&&this._paint(F)}},{key:"preMouseDownCallback",value:function(F){var z=F.detail,te=z.element,q=z.currentPoints;return this._startPainting(F),this._lastImageCoords=q.image,this._drawing=!0,this._startListeningForMouseUp(te),this._paint(F),!0}},{key:"_startPainting",value:function(F){var z=F.detail,q=j.configuration,ie=j.getters.labelmap2D(z.element),oe=ie.labelmap2D,$=ie.labelmap3D,Z=ie.currentImageIdIndex,K=ie.activeLabelmapIndex,Q=this._isCtrlDown(z)||this.configuration.alwaysEraseOnClick;if(this.paintEventData={labelmap2D:oe,labelmap3D:$,currentImageIdIndex:Z,activeLabelmapIndex:K,shouldErase:Q},q.storeHistory){var ee=oe.pixelData.slice();this.paintEventData.previousPixelData=ee}}},{key:"_endPainting",value:function(F){for(var z=j.configuration,te=j.setters,q=this.paintEventData,ae=q.labelmap2D,ie=q.currentImageIdIndex,$=new Set(ae.pixelData).values(),Z=[],K=!1;!K;){var Q=$.next();(K=Q.done)||Z.push(Q.value)}if(ae.segmentsOnLabelmap=Z,z.storeHistory){var ee=this.paintEventData.previousPixelData,ne=ae.pixelData,ue={imageIdIndex:ie,diff:Object(N.getDiffBetweenPixelData)(ee,ne)};te.pushState(this.element,[ue])}Object(N.triggerLabelmapModifiedEvent)(this.element)}},{key:"mouseMoveCallback",value:function(F){this._lastImageCoords=F.detail.currentPoints.image}},{key:"renderToolData",value:function(F){var te=F.detail.element;Object(L.default)(te,this.name)&&this.renderBrush(F)}},{key:"passiveCallback",value:function(F){try{S.default.cornerstone.updateImage(this.element)}catch{return}}},{key:"_drawingMouseUpCallback",value:function(F){var te=F.detail.element;this._endPainting(F),this._drawing=!1,this._mouseUpRender=!0,this._stopListeningForMouseUp(te)}},{key:"newImageCallback",value:function(F){this._drawing&&(this._endPainting(F),this._startPainting(F))}},{key:"_startListeningForMouseUp",value:function(F){F.removeEventListener(x.default.MOUSE_UP,this._drawingMouseUpCallback),F.removeEventListener(x.default.MOUSE_CLICK,this._drawingMouseUpCallback),F.addEventListener(x.default.MOUSE_UP,this._drawingMouseUpCallback),F.addEventListener(x.default.MOUSE_CLICK,this._drawingMouseUpCallback),S.default.cornerstone.updateImage(F)}},{key:"_stopListeningForMouseUp",value:function(F){F.removeEventListener(x.default.MOUSE_UP,this._drawingMouseUpCallback),F.removeEventListener(x.default.MOUSE_CLICK,this._drawingMouseUpCallback),S.default.cornerstone.updateImage(F)}},{key:"increaseBrushSize",value:function(){var z=j.setters,te=j.configuration.radius,q=Math.floor(1.2*te);q===te&&(q+=1),z.radius(q)}},{key:"decreaseBrushSize",value:function(){var z=j.setters,q=Math.floor(.8*j.configuration.radius);z.radius(q)}},{key:"_isCtrlDown",value:function(F){return F.event&&F.event.ctrlKey||F.ctrlKey}}]),G}(b.default);d.default=W},"./tools/base/BaseTool.js":
/*!********************************!*\
                  !*** ./tools/base/BaseTool.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),h=s.n(D),E=s(
/*! ./../../mixins/index.js */
"./mixins/index.js"),O=s(
/*! ../../util/logger.js */
"./util/logger.js"),m=s(
/*! ./../../util/deepmerge.js */
"./util/deepmerge.js"),g=s(
/*! ../../store/setToolCursor.js */
"./store/setToolCursor.js"),v=s(
/*! ../../store */
"./store/index.js"),P=Object(O.getLogger)("tools:base:BaseTool"),b=Object(v.getModule)("globalConfiguration");d.default=function(){function S(L,w){T()(this,S),this.initialConfiguration=Object(m.default)(w,L);var N=this.initialConfiguration,W=N.strategies,B=N.defaultStrategy,G=N.configuration,V=N.supportedInteractionTypes,F=N.mixins,z=N.svgCursor;this.name=N.name,this.mode="disabled",this.element=void 0,this.supportedInteractionTypes=V||[],this.strategies=W||{},this.defaultStrategy=B||Object.keys(this.strategies)[0]||void 0,this.activeStrategy=this.defaultStrategy,z&&(this.svgCursor=z),this._options={},this._configuration=Object.assign({},G),this.updateOnMouseMove=!1,this.hideDefaultCursor=!1,F&&F.length&&this._applyMixins(F),this._cursors=Object.assign({},this.initialConfiguration.cursors);var te=this.defaultStrategy&&this._cursors[this.activeStrategy];te&&(this.svgCursor=te)}return h()(S,[{key:"mergeOptions",value:function(w){this._options=Object.assign({},this._options,w)}},{key:"clearOptions",value:function(){this._options={}}},{key:"applyActiveStrategy",value:function(w,N){return this.strategies[this.activeStrategy].call(this,w,N)}},{key:"_applyMixins",value:function(w){for(var N=0;N<w.length;N++){var j=E.default["".concat(w[N])];"object"===y()(j)?(Object.assign(this,j),"function"==typeof this.initializeMixin&&this.initializeMixin()):P.warn("".concat(this.name,": mixin ").concat(E.default[N]," does not exist."))}"function"===this.initializeMixin&&delete this.initializeMixin}},{key:"setActiveStrategy",value:function(w){this.activeStrategy=w,b.configuration.showSVGCursors&&this.changeCursor(this.element,w)}},{key:"changeCursor",value:function(w,N){if(w){var j=this._cursors[N];j&&(this.svgCursor=j,"active"===this.mode&&Object(g.setToolCursor)(w,j))}}},{key:"configuration",get:function(){return this._configuration},set:function(w){this._configuration=w}},{key:"options",get:function(){return this._options}}],[{key:"configuration",get:function(){}}]),S}()},"./tools/base/index.js":
/*!*****************************!*\
                  !*** ./tools/base/index.js ***!
                  \*****************************/
/*! exports provided: BaseAnnotationTool, BaseBrushTool, BaseTool, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./BaseAnnotationTool.js */
"./tools/base/BaseAnnotationTool.js"),y=s(
/*! ./BaseTool.js */
"./tools/base/BaseTool.js"),C=s(
/*! ./BaseBrushTool.js */
"./tools/base/BaseBrushTool.js");s.d(d,"BaseAnnotationTool",function(){return p.default}),s.d(d,"BaseBrushTool",function(){return C.default}),s.d(d,"BaseTool",function(){return y.default}),d.default={BaseAnnotationTool:p.default,BaseBrushTool:C.default,BaseTool:y.default}},"./tools/cursors/MouseCursor.js":
/*!**************************************!*\
                  !*** ./tools/cursors/MouseCursor.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return O});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! ../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),E=s(
/*! ../../store/index.js */
"./store/index.js").modules.cursor,O=function(){function m(g,v){y()(this,m),this.iconGroupString=g,this.options=Object.assign({},E.getters.defaultOptions(),v)}return T()(m,[{key:"getIconSVG",value:function(){var P=this._generateIconSVGString(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return new Blob([P],{type:"image/svg+xml"})}},{key:"getIconSVGString",value:function(){return this._generateIconSVGString(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"getIconWithPointerSVG",value:function(){var P=this._generateIconWithPointerSVGString(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return new Blob([P],{type:"image/svg+xml"})}},{key:"getIconWithPointerString",value:function(){return this._generateIconWithPointerSVGString(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"_generateIconWithPointerSVGString",value:function(){var P=Object.assign({},this.options,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),b=P.mousePointerGroupString,x=P.iconSize,S=P.viewBox,L=x/Math.max(S.x,S.y),w=16+x,N='\n        <svg\n        data-icon="cursor" role="img" xmlns="http://www.w3.org/2000/svg"\n        width="'.concat(w,'" height="').concat(w,'" viewBox="0 0 ').concat(w," ").concat(w,'"\n      >\n        <g>\n          ').concat(b,'\n        </g>\n        <g transform="translate(16, 16) scale(').concat(L,')">\n          ').concat(this.iconGroupString,"\n        </g>\n      </svg>");return this._injectColors(N,P)}},{key:"_generateIconSVGString",value:function(){var P=Object.assign({},this.options,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),b=P.iconSize,x=P.viewBox,S='\n      <svg\n        data-icon="cursor" role="img" xmlns="http://www.w3.org/2000/svg"\n        width="'.concat(b,'" height="').concat(b,'" viewBox="0 0\n        ').concat(x.x," ").concat(x.y,'"\n      >\n        ').concat(this.iconGroupString,"\n      </svg>");return this._injectColors(S,P)}},{key:"_injectColors",value:function(v){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=P.activeColor||D.default.getActiveColor(),x=P.toolColor||D.default.getToolColor(),S=P.fillColor||D.default.getFillColor();return v.replace(/ACTIVE_COLOR/g,"".concat(b)).replace(/TOOL_COLOR/g,"".concat(x)).replace(/FILL_COLOR/g,"".concat(S))}},{key:"mousePoint",get:function(){var v=this.options.mousePoint;return"".concat(v.x," ").concat(v.y)}}]),m}()},"./tools/cursors/index.js":
/*!********************************!*\
                  !*** ./tools/cursors/index.js ***!
                  \********************************/
/*! exports provided: angleCursor, arrowAnnotateCursor, bidirectionalCursor, cobbAngleCursor, circleRoiCursor, ellipticalRoiCursor, freehandRoiCursor, freehandRoiSculptorCursor, lengthCursor, probeCursor, rectangleRoiCursor, textMarkerCursor, crosshairsCursor, eraserCursor, magnifyCursor, panCursor, rotateCursor, stackScrollCursor, wwwcRegionCursor, wwwcCursor, zoomCursor, freehandEraseInsideCursor, freehandFillInsideCursor, freehandEraseOutsideCursor, freehandFillOutsideCursor, segRectangleEraseInsideCursor, segRectangleFillInsideCursor, segRectangleEraseOutsideCursor, segRectangleFillOutsideCursor, segCircleEraseInsideCursor, segCircleFillInsideCursor, segCircleEraseOutsideCursor, segCircleFillOutsideCursor */function(le,d,s){"use strict";s.r(d),s.d(d,"angleCursor",function(){return y}),s.d(d,"arrowAnnotateCursor",function(){return C}),s.d(d,"bidirectionalCursor",function(){return T}),s.d(d,"cobbAngleCursor",function(){return D}),s.d(d,"circleRoiCursor",function(){return h}),s.d(d,"ellipticalRoiCursor",function(){return E}),s.d(d,"freehandRoiCursor",function(){return O}),s.d(d,"freehandRoiSculptorCursor",function(){return m}),s.d(d,"lengthCursor",function(){return g}),s.d(d,"probeCursor",function(){return v}),s.d(d,"rectangleRoiCursor",function(){return P}),s.d(d,"textMarkerCursor",function(){return b}),s.d(d,"crosshairsCursor",function(){return x}),s.d(d,"eraserCursor",function(){return S}),s.d(d,"magnifyCursor",function(){return L}),s.d(d,"panCursor",function(){return w}),s.d(d,"rotateCursor",function(){return N}),s.d(d,"stackScrollCursor",function(){return j}),s.d(d,"wwwcRegionCursor",function(){return W}),s.d(d,"wwwcCursor",function(){return B}),s.d(d,"zoomCursor",function(){return G}),s.d(d,"freehandEraseInsideCursor",function(){return ie}),s.d(d,"freehandFillInsideCursor",function(){return oe}),s.d(d,"freehandEraseOutsideCursor",function(){return $}),s.d(d,"freehandFillOutsideCursor",function(){return Z}),s.d(d,"segRectangleEraseInsideCursor",function(){return K}),s.d(d,"segRectangleFillInsideCursor",function(){return Q}),s.d(d,"segRectangleEraseOutsideCursor",function(){return ee}),s.d(d,"segRectangleFillOutsideCursor",function(){return ne}),s.d(d,"segCircleEraseInsideCursor",function(){return ue}),s.d(d,"segCircleFillInsideCursor",function(){return ye}),s.d(d,"segCircleEraseOutsideCursor",function(){return Ee}),s.d(d,"segCircleFillOutsideCursor",function(){return Se});var p=s(
/*! ./MouseCursor.js */
"./tools/cursors/MouseCursor.js"),y=new p.default('<path fill="ACTIVE_COLOR" d="M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50\n        50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23\n        10l50 50q10 10 10 23z"\n      />',{viewBox:{x:1792,y:1792}}),C=new p.default('<g id="arrowAnnotate-group" fill="none" stroke-width="1" stroke="ACTIVE_COLOR" stroke-linecap="round" stroke-linejoin="round">\n    <path id="arrowAnnotate-arrow" d="M23,7 l-15,15 M7,17 l0,6 6,0" stroke-width="2" />\n  </g>',{viewBox:{x:24,y:24}}),T=new p.default('<g fill="ACTIVE_COLOR" stroke-width="3" stroke="ACTIVE_COLOR">\n    <path d="M27.63 3.21L3.12 28.81"></path>\n    <path d="M27.63 15.75L15.27 4.43"></path>\n    <path d="M16.5 4.28C16.5 4.96 15.95 5.51 15.27 5.51C14.59 5.51 14.03 4.96 14.03 4.28C14.03 3.59 14.59 3.04 15.27 3.04C15.95 3.04 16.5 3.59 16.5 4.28Z" ></path>\n    <path d="M28.87 3.19C28.87 3.87 28.31 4.43 27.63 4.43C26.95 4.43 26.4 3.87 26.4 3.19C26.4 2.51 26.95 1.95 27.63 1.95C28.31 1.95 28.87 2.51 28.87 3.19Z"></path>\n    <path d="M28.87 15.75C28.87 16.43 28.31 16.99 27.63 16.99C26.95 16.99 26.4 16.43 26.4 15.75C26.4 15.07 26.95 14.51 27.63 14.51C28.31 14.51 28.87 15.07 28.87 15.75Z"></path>\n    <path d="M4.73 28.44C4.73 29.12 4.17 29.68 3.49 29.68C2.81 29.68 2.25 29.12 2.25 28.44C2.25 27.76 2.81 27.2 3.49 27.2C4.17 27.2 4.73 27.76 4.73 28.44Z"></path>\n  </g>',{viewBox:{x:48,y:48}}),D=new p.default('<g stroke="ACTIVE_COLOR" stroke-width="3">\n    <path d="M28.59 2.34L3.82 12.32"></path>\n    <path d="M28.59 29.66L3.82 19.68"></path>\n    <path stroke-dasharray="2" fill-opacity="0" d="M12.37\n      23.06C12.67 22.36 12.85 21.93 12.92 21.76C14.6 17.8 14.68 13.35 13.15\n      9.33C13.11 9.24 13.02 9 12.88 8.63">\n    </path>\n  </g>',{viewBox:{x:32,y:32}}),h=new p.default('<circle stroke="ACTIVE_COLOR" fill="none" stroke-width="3" cx="16" cy="16" r="14" />',{viewBox:{x:32,y:32}}),E=new p.default('<path stroke="ACTIVE_COLOR" fill="none" stroke-width="3" d="M30.74 15.76C30.74 20.99 24.14 25.23 16\n    25.23C7.86 25.23 1.26 20.99 1.26 15.76C1.26 10.54 7.86 6.3 16 6.3C24.14\n    6.3 30.74 10.54 30.74 15.76Z"\n    />',{viewBox:{x:32,y:32}}),O=new p.default('\n  <g fill="ACTIVE_COLOR" stroke="ACTIVE_COLOR" stroke-width="2">\n    <ellipse ry="1" rx="1" id="svg_3" cy="4.240343" cx="14.306499"/>\n    <line id="svg_4" y2="3.58462" x2="12.242186" y1="3.997482" x1="13.432202"/>\n    <line id="svg_5" y2="3.268901" x2="10.857882" y1="3.608906" x1="12.387902"/>\n    <line id="svg_6" y2="3.147471" x2="9.740724" y1="3.293187" x1="10.955026"/>\n    <line id="svg_7" y2="3.147471" x2="8.089274" y1="3.196043" x1="9.983585"/>\n    <line id="svg_8" y2="3.268901" x2="6.874972" y1="3.123185" x1="8.307848"/>\n    <line id="svg_9" y2="3.657478" x2="5.587812" y1="3.220329" x1="7.020688"/>\n    <line id="svg_10" y2="4.046054" x2="4.737801" y1="3.560334" x1="5.854959"/>\n    <line id="svg_11" y2="4.337487" x2="4.300652" y1="3.997482" x1="4.834945"/>\n    <line id="svg_12" y2="4.726063" x2="3.88779" y1="4.191771" x1="4.470655"/>\n    <line id="svg_15" y2="5.3575" x2="3.377783" y1="4.604633" x1="3.960648"/>\n    <line id="svg_16" y2="6.183226" x2="2.916348" y1="5.138926" x1="3.547785"/>\n    <line id="svg_17" y2="6.960379" x2="2.770632" y1="5.867507" x1="3.037779"/>\n    <line id="svg_18" y2="7.713246" x2="2.673488" y1="6.741804" x1="2.819204"/>\n    <line id="svg_19" y2="8.684687" x2="2.697774" y1="7.616102" x1="2.673488"/>\n    <line id="svg_20" y2="9.753273" x2="2.892062" y1="8.611829" x1="2.697774"/>\n    <line id="svg_21" y2="10.724714" x2="3.134923" y1="9.534698" x1="2.84349"/>\n    <line id="svg_23" y2="11.647583" x2="3.596357" y1="10.578998" x1="3.086351"/>\n    <line id="svg_25" y2="12.521881" x2="4.276366" y1="11.501867" x1="3.499213"/>\n    <line id="svg_26" y2="13.930471" x2="5.830673" y1="12.376165" x1="4.13065"/>\n    <line id="svg_28" y2="14.707624" x2="7.263549" y1="13.881899" x1="5.733528"/>\n    <line id="svg_29" y2="15.339061" x2="8.963571" y1="14.61048" x1="7.06926"/>\n    <line id="svg_30" y2="15.581921" x2="10.882168" y1="15.314775" x1="8.817855"/>\n    <line id="svg_31" y2="15.460491" x2="12.023612" y1="15.581921" x1="10.785024"/>\n    <line id="svg_33" y2="15.120487" x2="13.092197" y1="15.484777" x1="11.877895"/>\n    <line id="svg_34" y2="14.586194" x2="13.86935" y1="15.217631" x1="12.897909"/>\n    <line id="svg_35" y2="13.833327" x2="14.597931" y1="14.756196" x1="13.699348"/>\n    <line id="svg_37" y2="12.716169" x2="15.180796" y1="13.881899" x1="14.549359"/>\n    <line id="svg_39" y2="11.429009" x2="15.520801" y1="12.813313" x1="15.15651"/>\n    <ellipse ry="1" rx="1" id="svg_40" cy="10.967574" cx="15.520801"/>\n  </g>',{viewBox:{x:18,y:18}}),m=new p.default('<g id="icon-freehand-sculpt" fill="none" stroke-width="1.5" stroke="ACTIVE_COLOR" stroke-linecap="round" stroke-linejoin="round">\n      <line id="svg_1" y2="2.559367" x2="10.184807" y1="4.467781" x1="8.81711"/>\n      <line id="svg_4" y2="1.493836" x2="11.727442" y1="2.766112" x1="10.089386"/>\n      <line id="svg_7" y2="1.080346" x2="13.047428" y1="1.748291" x1="11.345759"/>\n      <line id="svg_8" y2="1.000829" x2="14.351511" y1="1.112153" x1="12.77707"/>\n      <line id="svg_9" y2="1.350705" x2="15.242104" y1="0.905408" x1="13.969828"/>\n      <line id="svg_10" y2="2.098167" x2="15.862339" y1="1.14396" x1="14.955842"/>\n      <line id="svg_11" y2="3.195505" x2="16.41896" y1="1.939133" x1="15.766918"/>\n      <line id="svg_12" y2="4.292843" x2="16.530284" y1="2.925147" x1="16.387153"/>\n      <line id="svg_16" y2="5.644637" x2="16.196311" y1="3.831643" x1="16.593898"/>\n      <line id="svg_18" y2="7.266789" x2="15.623787" y1="5.19934" x1="16.275829"/>\n      <line id="svg_19" y2="10.813258" x2="14.526449" y1="6.726071" x1="15.766918"/>\n      <line id="svg_20" y2="5.056209" x2="8.085552" y1="4.181519" x1="8.976145"/>\n      <line id="svg_23" y2="5.326568" x2="7.481221" y1="4.78585" x1="8.403621"/>\n      <line id="svg_24" y2="5.565119" x2="6.749662" y1="5.294761" x1="7.624352"/>\n      <line id="svg_25" y2="5.994512" x2="5.429675" y1="5.533312" x1="6.956407"/>\n      <line id="svg_27" y2="6.551133" x2="4.284627" y1="5.962706" x1="5.572807"/>\n      <line id="svg_28" y2="7.584858" x2="3.044158" y1="6.392099" x1="4.427758"/>\n      <line id="svg_29" y2="8.84123" x2="2.185372" y1="7.489437" x1="3.219096"/>\n      <line id="svg_31" y2="10.606513" x2="1.644654" y1="8.602678" x1="2.280792"/>\n      <line id="svg_32" y2="13.214679" x2="1.48562" y1="10.352058" x1="1.724171"/>\n      <line id="svg_33" y2="14.375631" x2="1.676461" y1="12.992031" x1="1.453813"/>\n      <line id="svg_34" y2="15.298031" x2="2.264889" y1="14.152983" x1="1.517427"/>\n      <line id="svg_35" y2="16.172721" x2="3.521261" y1="14.948155" x1="1.915013"/>\n      <line id="svg_36" y2="16.824762" x2="5.207027" y1="15.997783" x1="3.28271"/>\n      <line id="svg_38" y2="17.063314" x2="7.035924" y1="16.745245" x1="4.968475"/>\n      <line id="svg_39" y2="16.888376" x2="9.278311" y1="17.047411" x1="6.733758"/>\n      <line id="svg_40" y2="16.284045" x2="10.661911" y1="16.983797" x1="8.992048"/>\n      <line id="svg_41" y2="15.313934" x2="11.647925" y1="16.395369" x1="10.455166"/>\n      <line id="svg_44" y2="13.898527" x2="12.82478" y1="15.425259" x1="11.504794"/>\n      <line id="svg_45" y2="12.037824" x2="14.144766" y1="14.312017" x1="12.522614"/>\n      <line id="svg_47" y2="10.59061" x2="14.605966" y1="12.228665" x1="13.953925"/>\n      <ellipse ry="1" rx="1" id="svg_48" cy="3.982726" cx="13.460918"/>\n    </g>',{viewBox:{x:18,y:18}}),g=new p.default('<g id="length-group" fill="none" stroke-width="1" stroke="ACTIVE_COLOR" stroke-linecap="round" stroke-linejoin="round">\n    <path id="length-dashes" d="m22.5,6 -16.5,16.5" stroke-width="3" stroke-dasharray="0.6666,5" />\n  </g>',{viewBox:{x:24,y:24}}),v=new p.default('<path fill="ACTIVE_COLOR" d="M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75\n    75 181zm-256-544q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73\n    198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5\n    279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5\n    385.5-103 385.5 103 279.5 279.5 103 385.5z"\n  />',{viewBox:{x:1792,y:1792}}),P=new p.default('<path fill="ACTIVE_COLOR" d="M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47\n    113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0\n    119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119\n    84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"\n  />',{viewBox:{x:1792,y:1792}}),b=new p.default('<path fill="ACTIVE_COLOR" d="M789 559l-170 450q33 0 136.5 2t160.5 2q19 0\n    57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29\n    31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15\n    34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 5-.5\n    13.5t-.5 12.5q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0\n    12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11\n    2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0\n    22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58\n    0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z"\n  />',{viewBox:{x:1792,y:1792}}),x=new p.default('<path fill="ACTIVE_COLOR" d="M1325 1024h-109q-26 0-45-19t-19-45v-128q0-26\n    19-45t45-19h109q-32-108-112.5-188.5t-188.5-112.5v109q0 26-19 45t-45\n    19h-128q-26 0-45-19t-19-45v-109q-108 32-188.5 112.5t-112.5 188.5h109q26\n    0 45 19t19 45v128q0 26-19 45t-45 19h-109q32 108 112.5 188.5t188.5\n    112.5v-109q0-26 19-45t45-19h128q26 0 45 19t19 45v109q108-32\n    188.5-112.5t112.5-188.5zm339-192v128q0 26-19 45t-45 19h-143q-37 161-154.5\n    278.5t-278.5 154.5v143q0 26-19 45t-45 19h-128q-26\n    0-45-19t-19-45v-143q-161-37-278.5-154.5t-154.5-278.5h-143q-26\n    0-45-19t-19-45v-128q0-26 19-45t45-19h143q37-161\n    154.5-278.5t278.5-154.5v-143q0-26 19-45t45-19h128q26 0 45 19t19 45v143q161\n    37 278.5 154.5t154.5 278.5h143q26 0 45 19t19 45z"\n  />',{viewBox:{x:1792,y:1792}}),S=new p.default('<path transform="translate(0,1792) scale(1,-1)" fill="ACTIVE_COLOR" d="M960 1408l336-384h-768l-336 384h768zm1013-1077q15\n      34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38\n      0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38\n      0 69.5 20.5t47.5 54.5z"\n    />',{viewBox:{x:2048,y:1792}}),L=new p.default('<path fill="ACTIVE_COLOR" d="M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395\n      312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5\n      0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17\n      0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208\n      32s176 78.7 176 176-78.7 176-176 176z"\n    />',{viewBox:{x:512,y:512}}),w=new p.default('<path fill="ACTIVE_COLOR" d="M1411 541l-355 355 355 355 144-144q29-31 70-14 39 17\n      39 59v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l144-144-355-355-355\n      355 144 144q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59\n      39-17 69 14l144 144 355-355-355-355-144 144q-19 19-45 19-12\n      0-24-5-40-17-40-59v-448q0-26 19-45t45-19h448q42 0 59 40 17 39-14 69l-144\n      144 355 355 355-355-144-144q-31-30-14-69 17-40 59-40h448q26 0 45 19t19\n      45v448q0 42-39 59-13 5-25 5-26 0-45-19z"\n    />',{viewBox:{x:1792,y:1792}}),N=new p.default('<path fill="ACTIVE_COLOR" d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39\n      14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5\n      163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0\n      225-52t179-147q7-10 23-12 15 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109\n      132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298\n      164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14\n      39 17 39 59z"\n    />',{viewBox:{x:1792,y:1792}}),j=new p.default('<path fill="ACTIVE_COLOR" d="M24 21v2c0 0.547-0.453 1-1 1h-22c-0.547\n      0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547 0 1 0.453 1 1zM24 13v2c0\n      0.547-0.453 1-1 1h-22c-0.547 0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547\n      0 1 0.453 1 1zM24 5v2c0 0.547-0.453 1-1 1h-22c-0.547\n      0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547 0 1 0.453 1 1z"\n      />',{viewBox:{x:24,y:28}}),W=new p.default('<path fill="ACTIVE_COLOR" d="M1664 416v960q0 119-84.5 203.5t-203.5 84.5h-960q-119\n    0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5\n    84.5t84.5 203.5z"\n  />',{viewBox:{x:1792,y:1792}}),B=new p.default('<path fill="ACTIVE_COLOR" d="M14.5,3.5 a1 1 0 0 1 -11,11 Z" stroke="none" opacity="0.8" />\n    <circle cx="9" cy="9" r="8" fill="none" stroke-width="2" stroke="ACTIVE_COLOR" />',{viewBox:{x:18,y:18}}),G=new p.default('<path fill="ACTIVE_COLOR" d="M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395\n      312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5\n      0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17\n      0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208\n      32s176 78.7 176 176-78.7 176-176 176z"\n    />\n    <path fill="ACTIVE_COLOR" transform="scale(0.22,0.22) translate(1400,0)" d="M1216\n      320q0 26-19 45t-45 19h-128v1024h128q26 0 45 19t19 45-19 45l-256 256q-19\n      19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-1024h-128q-26\n      0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45z"\n    />',{viewBox:{x:640,y:512}}),V={x:127,y:60},F=function(){return'<rect fill="'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ACTIVE_COLOR",'" x="80.19" y="25.03" width="47.14" height="15.85"/>')},z=function(){var Xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ACTIVE_COLOR";return'<rect fill="'.concat(Xe,'" x="80.19" y="25.03" width="47.14" height="15.85"/>\n      <rect fill="').concat(Xe,'" x="95.84" y="9.38" width="15.85" height="47.14"/>')},te='<path fill="ACTIVE_COLOR" d="M82.89,10a12.09,12.09,0,0,0-16.8-2.5l-27.5,20.4-8.5-6.3a2.93,2.93,0,0,1-1.1-3,14.66,14.66,0,0,0,.1-6.6,14.08,14.08,0,1,0-6.5,15.2,2.87,2.87,0,0,1,3.2.2l8.2,6.1-8.2,6.1a2.87,2.87,0,0,1-3.2.2,14.16,14.16,0,1,0,6.7,14.4,14,14,0,0,0-.3-5.8,2.93,2.93,0,0,1,1.1-3l8.5-6.3,27.5,20.4A11.91,11.91,0,0,0,82.89,57l-31.7-23.5ZM15.29,21a5.9,5.9,0,1,1,5.9-5.9A5.91,5.91,0,0,1,15.29,21Zm0,36.8a5.9,5.9,0,1,1,5.9-5.9A5.91,5.91,0,0,1,15.29,57.77Zm28.3-21.5a2.8,2.8,0,1,1,2.8-2.8A2.8,2.8,0,0,1,43.59,36.27Z" transform="translate(-1.17 -0.96)"/>',q='<path fill="ACTIVE_COLOR" d="M8.86,2.25V66.08H72.69V2.25H8.86ZM65.28,58.67h-49v-49h49v49Z" transform="translate(-8.86 -2.25)"/>',ae='<path fill="ACTIVE_COLOR" d="M40.77,2.25A31.92,31.92,0,1,0,72.69,34.16,31.92,31.92,0,0,0,40.77,2.25Zm0,57.63A25.71,25.71,0,1,1,66.48,34.16,25.71,25.71,0,0,1,40.77,59.87Z" transform="translate(-8.86 -2.25)"/>',ie=new p.default("".concat(te," ").concat(F()),{viewBox:V}),oe=new p.default("".concat(te," ").concat(z()),{viewBox:V}),$=new p.default("".concat(te," ").concat(F()),{viewBox:V}),Z=new p.default("".concat(te," ").concat(z()),{viewBox:V}),K=new p.default("".concat(q," ").concat(F()),{viewBox:V}),Q=new p.default("".concat(q," ").concat(z()),{viewBox:V}),ee=new p.default("".concat(q," ").concat(F()),{viewBox:V}),ne=new p.default("".concat(q," ").concat(z()),{viewBox:V}),ue=new p.default("".concat(ae," ").concat(F()),{viewBox:V}),ye=new p.default("".concat(ae," ").concat(z()),{viewBox:V}),Ee=new p.default("".concat(ae," ").concat(F()),{viewBox:V}),Se=new p.default("".concat(ae," ").concat(z()),{viewBox:V})},"./tools/index.js":
/*!************************!*\
                  !*** ./tools/index.js ***!
                  \************************/
/*! exports provided: CrosshairsTool, DoubleTapFitToWindowTool, DragProbeTool, EraserTool, FreehandRoiSculptorTool, MagnifyTool, OverlayTool, OrientationMarkersTool, PanMultiTouchTool, PanTool, ReferenceLinesTool, RotateTool, RotateTouchTool, ScaleOverlayTool, StackScrollMouseWheelTool, StackScrollMultiTouchTool, StackScrollTool, WwwcRegionTool, WwwcTool, ZoomMouseWheelTool, ZoomTool, ZoomTouchPinchTool, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./CrosshairsTool.js */
"./tools/CrosshairsTool.js");s.d(d,"CrosshairsTool",function(){return p.default});var y=s(
/*! ./DoubleTapFitToWindowTool.js */
"./tools/DoubleTapFitToWindowTool.js");s.d(d,"DoubleTapFitToWindowTool",function(){return y.default});var C=s(
/*! ./DragProbeTool.js */
"./tools/DragProbeTool.js");s.d(d,"DragProbeTool",function(){return C.default});var T=s(
/*! ./EraserTool.js */
"./tools/EraserTool.js");s.d(d,"EraserTool",function(){return T.default});var D=s(
/*! ./FreehandRoiSculptorTool.js */
"./tools/FreehandRoiSculptorTool.js");s.d(d,"FreehandRoiSculptorTool",function(){return D.default});var h=s(
/*! ./MagnifyTool.js */
"./tools/MagnifyTool.js");s.d(d,"MagnifyTool",function(){return h.default});var E=s(
/*! ./OverlayTool.js */
"./tools/OverlayTool.js");s.d(d,"OverlayTool",function(){return E.default});var O=s(
/*! ./OrientationMarkersTool.js */
"./tools/OrientationMarkersTool.js");s.d(d,"OrientationMarkersTool",function(){return O.default});var m=s(
/*! ./PanMultiTouchTool.js */
"./tools/PanMultiTouchTool.js");s.d(d,"PanMultiTouchTool",function(){return m.default});var g=s(
/*! ./PanTool.js */
"./tools/PanTool.js");s.d(d,"PanTool",function(){return g.default});var v=s(
/*! ./ReferenceLinesTool.js */
"./tools/ReferenceLinesTool.js");s.d(d,"ReferenceLinesTool",function(){return v.default});var P=s(
/*! ./RotateTool.js */
"./tools/RotateTool.js");s.d(d,"RotateTool",function(){return P.default});var b=s(
/*! ./RotateTouchTool.js */
"./tools/RotateTouchTool.js");s.d(d,"RotateTouchTool",function(){return b.default});var x=s(
/*! ./ScaleOverlayTool.js */
"./tools/ScaleOverlayTool.js");s.d(d,"ScaleOverlayTool",function(){return x.default});var S=s(
/*! ./StackScrollMouseWheelTool.js */
"./tools/StackScrollMouseWheelTool.js");s.d(d,"StackScrollMouseWheelTool",function(){return S.default});var L=s(
/*! ./StackScrollMultiTouchTool.js */
"./tools/StackScrollMultiTouchTool.js");s.d(d,"StackScrollMultiTouchTool",function(){return L.default});var w=s(
/*! ./StackScrollTool.js */
"./tools/StackScrollTool.js");s.d(d,"StackScrollTool",function(){return w.default});var N=s(
/*! ./WwwcRegionTool.js */
"./tools/WwwcRegionTool.js");s.d(d,"WwwcRegionTool",function(){return N.default});var j=s(
/*! ./WwwcTool.js */
"./tools/WwwcTool.js");s.d(d,"WwwcTool",function(){return j.default});var W=s(
/*! ./ZoomMouseWheelTool.js */
"./tools/ZoomMouseWheelTool.js");s.d(d,"ZoomMouseWheelTool",function(){return W.default});var B=s(
/*! ./ZoomTool.js */
"./tools/ZoomTool.js");s.d(d,"ZoomTool",function(){return B.default});var G=s(
/*! ./ZoomTouchPinchTool.js */
"./tools/ZoomTouchPinchTool.js");s.d(d,"ZoomTouchPinchTool",function(){return G.default}),d.default={CrosshairsTool:p.default,DoubleTapFitToWindowTool:y.default,DragProbeTool:C.default,EraserTool:T.default,FreehandRoiSculptorTool:D.default,MagnifyTool:h.default,OverlayTool:E.default,OrientationMarkersTool:O.default,PanMultiTouchTool:m.default,PanTool:g.default,ReferenceLinesTool:v.default,RotateTool:P.default,RotateTouchTool:b.default,ScaleOverlayTool:x.default,StackScrollMouseWheelTool:S.default,StackScrollMultiTouchTool:L.default,StackScrollTool:w.default,WwwcRegionTool:N.default,WwwcTool:j.default,ZoomMouseWheelTool:W.default,ZoomTool:B.default,ZoomTouchPinchTool:G.default}},"./tools/referenceLines/calculateReferenceLine.js":
/*!********************************************************!*\
                  !*** ./tools/referenceLines/calculateReferenceLine.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../util/pointProjector.js */
"./util/pointProjector.js");d.default=function(y,C){var T=Object(p.planePlaneIntersection)(y,C);if(T)return{start:Object(p.projectPatientPointToImagePlane)(T.start,y),end:Object(p.projectPatientPointToImagePlane)(T.end,y)}}},"./tools/referenceLines/renderActiveReferenceLine.js":
/*!***********************************************************!*\
                  !*** ./tools/referenceLines/renderActiveReferenceLine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./../../externalModules.js */
"./externalModules.js"),y=s(
/*! ./calculateReferenceLine.js */
"./tools/referenceLines/calculateReferenceLine.js"),C=s(
/*! ./../../stateManagement/toolColors.js */
"./stateManagement/toolColors.js"),T=s(
/*! ./../../util/convertToVector3.js */
"./util/convertToVector3.js"),D=s(
/*! ./../../drawing/index.js */
"./drawing/index.js");d.default=function(h,E,O,m){var g=p.default.cornerstone,v=g.getEnabledElement(O).image,P=g.getEnabledElement(m).image;if(v&&P){var b=g.metaData.get("imagePlaneModule",v.imageId),x=g.metaData.get("imagePlaneModule",P.imageId);if(b&&x&&b.rowCosines&&b.columnCosines&&b.imagePositionPatient&&x.rowCosines&&x.columnCosines&&x.imagePositionPatient&&b.frameOfReferenceUID===x.frameOfReferenceUID){b.rowCosines=Object(T.default)(b.rowCosines),b.columnCosines=Object(T.default)(b.columnCosines),b.imagePositionPatient=Object(T.default)(b.imagePositionPatient),x.rowCosines=Object(T.default)(x.rowCosines),x.columnCosines=Object(T.default)(x.columnCosines),x.imagePositionPatient=Object(T.default)(x.imagePositionPatient);var S=b.rowCosines.clone().cross(b.columnCosines),L=x.rowCosines.clone().cross(x.columnCosines),w=S.angleTo(L);if(!((w=Math.abs(w))<.5)){var N=Object(y.default)(b,x);if(N){var j=C.default.getActiveColor();h.setTransform(1,0,0,1,0,0),Object(D.draw)(h,function(W){Object(D.drawLine)(W,E.element,N.start,N.end,{color:j})})}}}}}},"./tools/segmentation/BrushTool.js":
/*!*****************************************!*\
                  !*** ./tools/segmentation/BrushTool.js ***!
                  \*****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return W});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./../../externalModules.js */
"./externalModules.js"),x=s(
/*! ../base */
"./tools/base/index.js"),S=s(
/*! ./../../store/index.js */
"./store/index.js"),L=s(
/*! ../../util/segmentation/index.js */
"./util/segmentation/index.js"),w=s(
/*! ../../util/logger.js */
"./util/logger.js"),j=(Object(w.getLogger)("tools:BrushTool"),Object(S.getModule)("segmentation")),W=function(B){function G(){var V,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,G);return(V=h()(this,O()(G).call(this,F,{name:"Brush",supportedInteractionTypes:["Mouse","Touch"],configuration:{},mixins:["renderBrushMixin"]}))).touchDragCallback=V._paint.bind(g()(V)),V}return P()(G,B),T()(G,[{key:"_paint",value:function(F){var te=F.detail,ae=te.image,ie=ae.rows,oe=ae.columns,$=te.currentPoints.image,Z=$.x,K=$.y;if(!(Z<0||Z>oe||K<0||K>ie)){var Q=j.configuration.radius,ee=Object(L.getCircle)(Q,ie,oe,Z,K),ne=this.paintEventData,ue=ne.labelmap2D,ye=ne.labelmap3D,Ee=ne.shouldErase;Object(L.drawBrushPixels)(ee,ue.pixelData,ye.activeSegmentIndex,oe,Ee),b.default.cornerstone.updateImage(F.detail.element)}}}]),G}(x.BaseBrushTool)},"./tools/segmentation/CircleScissorsTool.js":
/*!**************************************************!*\
                  !*** ./tools/segmentation/CircleScissorsTool.js ***!
                  \**************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return P});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),O=s.n(E),m=s(
/*! ../base */
"./tools/base/index.js"),g=s(
/*! ./strategies */
"./tools/segmentation/strategies/index.js"),v=s(
/*! ../cursors */
"./tools/cursors/index.js"),P=function(b){function x(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,x);var L={name:"CircleScissors",strategies:{FILL_INSIDE:g.fillInsideCircle,FILL_OUTSIDE:g.fillOutsideCircle,ERASE_OUTSIDE:g.eraseOutsideCircle,ERASE_INSIDE:g.eraseInsideCircle},cursors:{FILL_INSIDE:v.segCircleFillInsideCursor,FILL_OUTSIDE:v.segCircleFillOutsideCursor,ERASE_OUTSIDE:v.segCircleEraseOutsideCursor,ERASE_INSIDE:v.segCircleEraseInsideCursor},defaultStrategy:"FILL_INSIDE",supportedInteractionTypes:["Mouse","Touch"],svgCursor:v.segCircleFillInsideCursor,mixins:["circleSegmentationMixin"]};return T()(this,h()(x).call(this,S,L))}return O()(x,b),x}(m.BaseTool)},"./tools/segmentation/CorrectionScissorsTool.js":
/*!******************************************************!*\
                  !*** ./tools/segmentation/CorrectionScissorsTool.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return P});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),O=s.n(E),m=s(
/*! ../base */
"./tools/base/index.js"),g=s(
/*! ../cursors */
"./tools/cursors/index.js"),v=s(
/*! ./strategies */
"./tools/segmentation/strategies/index.js"),P=function(b){function x(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,x);var L={name:"CorrectionScissors",strategies:{CORRECTION:v.correction},cursors:{CORRECTION:g.freehandFillInsideCursor},defaultStrategy:"CORRECTION",supportedInteractionTypes:["Mouse","Touch"],svgCursor:g.freehandFillInsideCursor,mixins:["polylineSegmentationMixin"]};return T()(this,h()(x).call(this,S,L))}return O()(x,b),x}(m.BaseTool)},"./tools/segmentation/FreehandScissorsTool.js":
/*!****************************************************!*\
                  !*** ./tools/segmentation/FreehandScissorsTool.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return P});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),O=s.n(E),m=s(
/*! ../cursors */
"./tools/cursors/index.js"),g=s(
/*! ./strategies */
"./tools/segmentation/strategies/index.js"),P=function(b){function x(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,x);var L={name:"FreehandScissors",strategies:{FILL_INSIDE:g.fillInsideFreehand,FILL_OUTSIDE:g.fillOutsideFreehand,ERASE_OUTSIDE:g.eraseOutsideFreehand,ERASE_INSIDE:g.eraseInsideFreehand},cursors:{FILL_INSIDE:m.freehandFillInsideCursor,FILL_OUTSIDE:m.freehandFillOutsideCursor,ERASE_OUTSIDE:m.freehandEraseOutsideCursor,ERASE_INSIDE:m.freehandEraseInsideCursor},defaultStrategy:"FILL_INSIDE",supportedInteractionTypes:["Mouse","Touch"],svgCursor:m.freehandFillInsideCursor,mixins:["freehandSegmentationMixin"]};return T()(this,h()(x).call(this,S,L))}return O()(x,b),x}(s(
/*! ../base */
"./tools/base/index.js").BaseTool)},"./tools/segmentation/RectangleScissorsTool.js":
/*!*****************************************************!*\
                  !*** ./tools/segmentation/RectangleScissorsTool.js ***!
                  \*****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return P});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),O=s.n(E),m=s(
/*! ../base */
"./tools/base/index.js"),g=s(
/*! ./strategies */
"./tools/segmentation/strategies/index.js"),v=s(
/*! ../cursors */
"./tools/cursors/index.js"),P=function(b){function x(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,x);var L={name:"RectangleScissors",strategies:{FILL_INSIDE:g.fillInsideRectangle,FILL_OUTSIDE:g.fillOutsideRectangle,ERASE_OUTSIDE:g.eraseOutsideRectangle,ERASE_INSIDE:g.eraseInsideRectangle},cursors:{FILL_INSIDE:v.segRectangleFillInsideCursor,FILL_OUTSIDE:v.segRectangleFillOutsideCursor,ERASE_OUTSIDE:v.segRectangleEraseOutsideCursor,ERASE_INSIDE:v.segRectangleEraseInsideCursor},defaultStrategy:"FILL_INSIDE",supportedInteractionTypes:["Mouse","Touch"],mixins:["rectangleSegmentationMixin"]};return T()(this,h()(x).call(this,S,L))}return O()(x,b),x}(m.BaseTool)},"./tools/segmentation/SphericalBrushTool.js":
/*!**************************************************!*\
                  !*** ./tools/segmentation/SphericalBrushTool.js ***!
                  \**************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return B});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=s.n(D),E=s(
/*! @babel/runtime/helpers/getPrototypeOf */
"../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=s.n(E),m=s(
/*! @babel/runtime/helpers/assertThisInitialized */
"../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=s.n(m),v=s(
/*! @babel/runtime/helpers/inherits */
"../node_modules/@babel/runtime/helpers/inherits.js"),P=s.n(v),b=s(
/*! ./../../externalModules.js */
"./externalModules.js"),x=s(
/*! ./../base/BaseBrushTool.js */
"./tools/base/BaseBrushTool.js"),S=s(
/*! ./../../store/index.js */
"./store/index.js"),L=s(
/*! ./../../util/segmentation */
"./util/segmentation/index.js"),w=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),N=s(
/*! ../../util/logger.js */
"./util/logger.js"),j=Object(N.getLogger)("tools:SphericalBrushTool"),W=Object(S.getModule)("segmentation"),B=function(G){function V(){var F,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,V);return(F=h()(this,O()(V).call(this,z,{name:"SphericalBrush",supportedInteractionTypes:["Mouse","Touch"],configuration:{alwaysEraseOnClick:!1},mixins:["renderBrushMixin"]}))).touchDragCallback=F._paint.bind(g()(F)),F}return P()(V,G),T()(V,[{key:"_startPainting",value:function(z){var Ge,te=W.configuration,q=W.getters,ae=z.detail,ie=ae.element,oe=ae.image,$=b.default.cornerstone,Z=te.radius,K=oe.rows,Q=oe.columns,ee=Math.max(oe.rowPixelSpacing,oe.columnPixelSpacing),ye=Object(w.getToolState)(ie,"stack").data[0].imageIds,Ee=q.labelmap2D(ie),Se=Ee.labelmap2D,ke=Ee.labelmap3D,Xe=Ee.currentImageIdIndex,mt=Ee.activeLabelmapIndex,st=this._isCtrlDown(ae)||this.configuration.alwaysEraseOnClick,Rt=$.metaData.get("imagePlaneModule",oe.imageId);if(Rt?Ge=this._getImagesInRange(Xe,Rt.imagePositionPatient,ye,Z,ee):(j.warn("No imagePlane metadata found for image, defaulting to circle brush application."),Ge=[{imageIdIndex:Xe,radiusOnImage:Z}]),this.paintEventData={labelmap2D:Se,labelmap3D:ke,currentImageIdIndex:Xe,activeLabelmapIndex:mt,shouldErase:st,imagesInRange:Ge},te.storeHistory){for(var He=[],Ke=0;Ke<Ge.length;Ke++){var ft=q.labelmap2DByImageIdIndex(ke,Ge[Ke].imageIdIndex,K,Q).pixelData.slice();He.push(ft)}this.paintEventData.previousPixeldataForImagesInRange=He}}},{key:"_paint",value:function(z){var te=W.getters,q=z.detail,ie=q.image,oe=ie.rows,$=ie.columns,Z=q.currentPoints.image,K=Z.x,Q=Z.y;if(!(K<0||K>$||Q<0||Q>oe)){for(var ee=this.paintEventData,ne=ee.labelmap3D,ue=ee.imagesInRange,ye=ee.shouldErase,Ee=0;Ee<ue.length;Ee++){var Se=ue[Ee],ke=Se.imageIdIndex,Xe=Se.radiusOnImage,mt=Object(L.getCircle)(Xe,oe,$,K,Q),st=te.labelmap2DByImageIdIndex(ne,ke,oe,$);Object(L.drawBrushPixels)(mt,st.pixelData,ne.activeSegmentIndex,$,ye)}b.default.cornerstone.updateImage(z.detail.element)}}},{key:"_getImagesInRange",value:function(z,te,q,ae,ie){for(var oe=ae*ie,$=[{imageIdIndex:z,radiusOnImage:ae}],Z=z+1;Z<q.length;Z++){var K=this._getRadiusOnImage(q[Z],te,oe,ie);if(!K)break;$.push({imageIdIndex:Z,radiusOnImage:K})}for(var Q=z-1;Q>=0;Q--){var ee=this._getRadiusOnImage(q[Q],te,oe,ie);if(!ee)break;$.push({imageIdIndex:Q,radiusOnImage:ee})}return $}},{key:"_getRadiusOnImage",value:function(z,te,q,ae){var ie=b.default.cornerstone.metaData.get("imagePlaneModule",z);if(ie){var oe=ie.imagePositionPatient,$=Math.sqrt(Math.pow(oe[0]-te[0],2)+Math.pow(oe[1]-te[1],2)+Math.pow(oe[2]-te[2],2));return $>q?void 0:Math.floor(Math.sqrt(Math.pow(q,2)-Math.pow($,2))/ae)}j.warn("Can't find imagePlane metadata for image, cancelling spherical brushing on: ".concat(z,","))}},{key:"_endPainting",value:function(z){for(var te=this.paintEventData,q=te.labelmap3D,ae=te.imagesInRange,ie=[],oe=W.configuration,$=W.setters,Z=0;Z<ae.length;Z++){for(var K=ae[Z].imageIdIndex,Q=q.labelmaps2D[K],ne=new Set(Q.pixelData).values(),ue=[],ye=!1;!ye;){var Ee=ne.next();(ye=Ee.done)||ue.push(Ee.value)}if(Q.segmentsOnLabelmap=ue,oe.storeHistory){var ke=this.paintEventData.previousPixeldataForImagesInRange[Z],mt=q.labelmaps2D[K].pixelData;ie.push({imageIdIndex:K,diff:Object(L.getDiffBetweenPixelData)(ke,mt)})}}oe.storeHistory&&$.pushState(this.element,ie),Object(L.triggerLabelmapModifiedEvent)(this.element)}}]),V}(x.default)},"./tools/segmentation/index.js":
/*!*************************************!*\
                  !*** ./tools/segmentation/index.js ***!
                  \*************************************/
/*! exports provided: BrushTool, SphericalBrushTool, FreehandScissorsTool, RectangleScissorsTool, CircleScissorsTool, CorrectionScissorsTool, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./BrushTool */
"./tools/segmentation/BrushTool.js"),y=s(
/*! ./SphericalBrushTool */
"./tools/segmentation/SphericalBrushTool.js"),C=s(
/*! ./FreehandScissorsTool */
"./tools/segmentation/FreehandScissorsTool.js"),T=s(
/*! ./RectangleScissorsTool */
"./tools/segmentation/RectangleScissorsTool.js"),D=s(
/*! ./CircleScissorsTool */
"./tools/segmentation/CircleScissorsTool.js"),h=s(
/*! ./CorrectionScissorsTool */
"./tools/segmentation/CorrectionScissorsTool.js");s.d(d,"BrushTool",function(){return p.default}),s.d(d,"SphericalBrushTool",function(){return y.default}),s.d(d,"FreehandScissorsTool",function(){return C.default}),s.d(d,"RectangleScissorsTool",function(){return T.default}),s.d(d,"CircleScissorsTool",function(){return D.default}),s.d(d,"CorrectionScissorsTool",function(){return h.default}),d.default={BrushTool:p.default,SphericalBrushTool:y.default,CircleScissorsTool:D.default,CorrectionScissorsTool:h.default,FreehandScissorsTool:C.default,RectangleScissorsTool:T.default}},"./tools/segmentation/strategies/correction.js":
/*!*****************************************************!*\
                  !*** ./tools/segmentation/strategies/correction.js ***!
                  \*****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return m});var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ./index.js */
"./tools/segmentation/strategies/index.js"),T=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),D=s(
/*! ../../../util/clip */
"./util/clip.js"),h=s(
/*! ../../../util/isPointInImage */
"./util/isPointInImage.js"),E=s(
/*! ../../../util/logger */
"./util/logger.js"),O=Object(E.getLogger)("util:segmentation:operations:correction");function m(j,W){var B=W.pixelData,G=W.segmentIndex,V=W.segmentationMixinType;if("freehandSegmentationMixin"===V){var F=function g(j,W){for(var B=W.pixelData,G=W.points,V=j.detail.image,F=V.width,z=V.height,te=[],q=0;q<G.length;q++){var ae=G[q],ie=Math.floor(ae.x),oe=Math.floor(ae.y);ie=Object(D.default)(ie,0,F-1),oe=Object(D.default)(oe,0,z-1);var $=te[te.length-1];$&&ie===$.x&&oe===$.y||te.push({x:ie,y:oe,segment:B[oe*F+ie]})}return te}(j,W),z=function v(j,W){for(var B=!0,G=!0,V=0;V<j.length&&(j[V].segment===W?G=!1:B=!1,B||G);V++);return G?{isScissorOperation:!0,operation:"fillInsideFreehand"}:B?{isScissorOperation:!0,operation:"eraseInsideFreehand"}:{isScissorOperation:!1}}(F,G);if(z.isScissorOperation)"fillInsideFreehand"===z.operation?(O.warn("The line never intersects a segment."),Object(C.fillInsideFreehand)(j,W)):"eraseInsideFreehand"===z.operation&&(O.warn("The line is only ever inside the segment."),Object(C.eraseInsideFreehand)(j,W));else{var te=new Uint8Array(B.length);(function N(j,W){var B=j[0].segment===W,G=[];G.push({additive:!B,nodes:[]});for(var V=0,F=0;F<j.length;F++){var z=j[F];B?(G[V].nodes.push(z),z.segment!==W&&(V++,B=!B,G.push({additive:!0,nodes:[]}),G[V].nodes.push(j[F-1]),G[V].nodes.push(z))):(G[V].nodes.push(z),z.segment===W&&(V++,B=!B,G.push({additive:!1,nodes:[]}),G[V].nodes.push(j[F-1]),G[V].nodes.push(z)))}return G.pop(),G.shift(),G})(F,G).forEach(function(ae){!function P(j,W,B,G,V){var F=V.detail.image,z=F.width,te=F.height,q=j.nodes,ae=j.additive,ie=ae?0:1,oe=function(Ht){return Ht.y*z+Ht.x},$=function(Ht){return{x:Ht%z,y:Math.floor(Ht/z)}};O.warn(ae?"additive operation...":"subtractive operation...");for(var Z=function L(j){for(var W=[],B=0;B<j.length-1;B++)W.push(j[B]),W.push.apply(W,y()(Object(T.getPixelPathBetweenPixels)(j[B],j[B+1])));for(var G=[],V=[],F=0;F<W.length-1;F++){var z=w(W[F],W[F+1]),q=z.right;G.push(z.left),V.push(q)}return{pixelPath:W,leftPath:G,rightPath:V}}(q),K=Z.pixelPath,Q=Z.leftPath,ee=Z.rightPath,ne=K[0],ue={xMin:ne.x,xMax:ne.x,yMin:ne.y,yMax:ne.y},ye=0;ye<B.length;ye++)W[ye]===G?(b(ue,$(ye)),B[ye]=1):B[ye]=0;for(var Se=0;Se<K.length;Se++){var ke=K[Se];B[oe(ke)]=2,b(ue,ke)}!function x(j,W,B){var G=2;j.xMax=Math.min(j.xMax+G,B),j.xMin=Math.max(j.xMin-G,0),j.yMax=Math.min(j.yMax+G,W),j.yMin=Math.max(j.yMin-G,0)}(ue,te,z);var Xe=ue.xMin,mt=ue.xMax,st=ue.yMin,Rt=ue.yMax;function Ge(yt,Ht){if(!(yt>=mt||yt<Xe||Ht>=Rt||Ht<st))return B[Ht*z+yt]}for(var Pe=0,He=0,Ke=0;Ke<Q.length;Ke++){var Ye=Q[Ke];B[oe(Ye)]===ie&&Object(h.default)(Ye,te,z)&&(Pe+=S(Ye,3,B,Ge,z));var ft=ee[Ke];B[oe(ft)]===ie&&Object(h.default)(ft,te,z)&&(He+=S(ft,4,B,Ge,z))}if(0!==Pe&&0!==He){for(var St=ae?G:0,it=Pe<He?3:4,jt=0;jt<B.length;jt++)B[jt]===it&&(W[jt]=St);if(St===G)for(var Tt=0;Tt<K.length;Tt++)W[oe(K[Tt])]=G;else for(var Vt=0;Vt<K.length;Vt++){var kt=oe(K[Vt]);W[kt]===G&&(W[kt]=0)}}}(ae,B,te,G,j)})}}else O.error("correction operation requires freehandSegmentationMixin operationData, recieved ".concat(V))}function b(j,W){var B=W.x,G=W.y;B<j.xMin&&(j.xMin=B),B>j.xMax&&(j.xMax=B),G<j.yMin&&(j.yMin=G),G>j.yMax&&(j.yMax=G)}function S(j,W,B,G,V){for(var z=Object(T.floodFill)(G,[j.x,j.y]).flooded,te=0;te<z.length;te++){var q=z[te];B[q[1]*V+q[0]]=W}return z.length}function w(j,W){var B={x:W.x-j.x,y:W.y-j.y};return-1===B.x&&1===B.y?{left:{x:j.x-1,y:j.y-1},right:{x:j.x+1,y:j.y+1}}:0===B.x&&1===B.y?{left:{x:j.x-1,y:j.y},right:{x:j.x+1,y:j.y}}:1===B.x&&1===B.y?{left:{x:j.x-1,y:j.y+1},right:{x:j.x+1,y:j.y-1}}:1===B.x&&0===B.y?{left:{x:j.x,y:j.y+1},right:{x:j.x,y:j.y-1}}:1===B.x&&-1===B.y?{left:{x:j.x+1,y:j.y+1},right:{x:j.x-1,y:j.y-1}}:0===B.x&&-1===B.y?{left:{x:j.x+1,y:j.y},right:{x:j.x-1,y:j.y}}:-1===B.x&&-1===B.y?{left:{x:j.x+1,y:j.y-1},right:{x:j.x-1,y:j.y+1}}:-1===B.x&&0===B.y?{left:{x:j.x,y:j.y-1},right:{x:j.x,y:j.y+1}}:void O.error("Unable to find left and right paths for flood fill ",j,W,B)}},"./tools/segmentation/strategies/eraseCircle.js":
/*!******************************************************!*\
                  !*** ./tools/segmentation/strategies/eraseCircle.js ***!
                  \******************************************************/
/*! exports provided: eraseInsideCircle, eraseOutsideCircle */function(le,d,s){"use strict";s.r(d),s.d(d,"eraseInsideCircle",function(){return m}),s.d(d,"eraseOutsideCircle",function(){return g});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ../../../util/ellipse */
"./util/ellipse/index.js"),T=s(
/*! ../../../util/logger */
"./util/logger.js"),D=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),h=s(
/*! ../../../util/getCircleCoords.js */
"./util/getCircleCoords.js"),E=Object(T.getLogger)("util:segmentation:operations:eraseInsideCircle");function O(v,P){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=P.segmentationMixinType;if("circleSegmentationMixin"===x){var S=v.detail,L=Object(D.getBoundingBoxAroundCircle)(v),w=y()(L,2),N=w[0],j=w[1],W=Object(h.default)(S.handles.start,S.handles.end);b?Object(D.eraseInsideShape)(v,P,function(B){return Object(C.pointInEllipse)(W,B)},N,j):Object(D.eraseOutsideShape)(v,P,function(B){return Object(C.pointInEllipse)(W,B)},N,j)}else E.error("eraseInsideCircle operation requires circleSegmentationMixin operationData, recieved ".concat(x))}function m(v,P){O(v,P,!0)}function g(v,P){O(v,P,!1)}},"./tools/segmentation/strategies/eraseFreehand.js":
/*!********************************************************!*\
                  !*** ./tools/segmentation/strategies/eraseFreehand.js ***!
                  \********************************************************/
/*! exports provided: eraseInsideFreehand, eraseOutsideFreehand */function(le,d,s){"use strict";s.r(d),s.d(d,"eraseInsideFreehand",function(){return O}),s.d(d,"eraseOutsideFreehand",function(){return m});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),T=s(
/*! ../../../util/isPointInPolygon */
"./util/isPointInPolygon.js"),D=s(
/*! ../../../util/logger */
"./util/logger.js"),h=Object(D.getLogger)("util:segmentation:operations:eraseInsideFreehand");function E(g,v){var P=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=v.segmentationMixinType;if("freehandSegmentationMixin"===x){var S=g.detail.image,L=v.points.map(function(B){return[B.x,B.y]}),w=Object(C.getBoundingBoxAroundPolygon)(L,S),N=y()(w,2),j=N[0],W=N[1];P?Object(C.eraseInsideShape)(g,v,function(B){return Object(T.default)([B.x,B.y],L)},j,W):Object(C.eraseOutsideShape)(g,v,function(B){return Object(T.default)([B.x,B.y],L)},j,W)}else h.error("eraseInsideFreehand operation requires freehandSegmentationMixin operationData, recieved ".concat(x))}function O(g,v){E(g,v,!0)}function m(g,v){E(g,v,!1)}},"./tools/segmentation/strategies/eraseRectangle.js":
/*!*********************************************************!*\
                  !*** ./tools/segmentation/strategies/eraseRectangle.js ***!
                  \*********************************************************/
/*! exports provided: eraseInsideRectangle, eraseOutsideRectangle */function(le,d,s){"use strict";s.r(d),s.d(d,"eraseInsideRectangle",function(){return E}),s.d(d,"eraseOutsideRectangle",function(){return O});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ../../../util/logger */
"./util/logger.js"),T=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),D=Object(C.getLogger)("util:segmentation:operations:eraseInsideRectangle");function h(m,g){var v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],b=g.segmentationMixinType;if("rectangleSegmentationMixin"===b){var S=m.detail.image,L=g.points.map(function(B){return[B.x,B.y]}),w=Object(T.getBoundingBoxAroundPolygon)(L,S),N=y()(w,2),j=N[0],W=N[1];v?Object(T.eraseInsideShape)(m,g,function(){return!0},j,W):Object(T.eraseOutsideBoundingBox)(m,g,j,W)}else D.error("eraseInsideRectangle operation requires rectangleSegmentationMixin operationData, recieved ".concat(b))}function E(m,g){h(m,g,!0)}function O(m,g){h(m,g,!1)}},"./tools/segmentation/strategies/fillCircle.js":
/*!*****************************************************!*\
                  !*** ./tools/segmentation/strategies/fillCircle.js ***!
                  \*****************************************************/
/*! exports provided: fillInsideCircle, fillOutsideCircle */function(le,d,s){"use strict";s.r(d),s.d(d,"fillInsideCircle",function(){return m}),s.d(d,"fillOutsideCircle",function(){return g});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),T=s(
/*! ../../../util/ellipse */
"./util/ellipse/index.js"),D=s(
/*! ../../../util/getCircleCoords */
"./util/getCircleCoords.js"),h=s(
/*! ../../../util/logger */
"./util/logger.js"),E=Object(h.getLogger)("util:segmentation:operations:fillCircle");function O(v,P){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=P.segmentationMixinType;if("circleSegmentationMixin"===x){var S=v.detail,L=Object(C.getBoundingBoxAroundCircle)(v),w=y()(L,2),N=w[0],j=w[1],W=Object(D.default)(S.handles.start,S.handles.end);b?Object(C.fillInsideShape)(v,P,function(B){return Object(T.pointInEllipse)(W,B)},N,j):Object(C.fillOutsideShape)(v,P,function(B){return Object(T.pointInEllipse)(W,B)},N,j)}else E.error("fillInsideCircle operation requires circleSegmentationMixin operationData, recieved ".concat(x))}function m(v,P){O(v,P,!0)}function g(v,P){O(v,P,!1)}},"./tools/segmentation/strategies/fillFreehand.js":
/*!*******************************************************!*\
                  !*** ./tools/segmentation/strategies/fillFreehand.js ***!
                  \*******************************************************/
/*! exports provided: fillInsideFreehand, fillOutsideFreehand */function(le,d,s){"use strict";s.r(d),s.d(d,"fillInsideFreehand",function(){return O}),s.d(d,"fillOutsideFreehand",function(){return m});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),T=s(
/*! ../../../util/isPointInPolygon */
"./util/isPointInPolygon.js"),D=s(
/*! ../../../util/logger */
"./util/logger.js"),h=Object(D.getLogger)("util:segmentation:operations:fillInsideFreehand");function E(g,v){var P=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=v.segmentationMixinType;if("freehandSegmentationMixin"===x){var S=g.detail.image,L=v.points.map(function(B){return[B.x,B.y]}),w=Object(C.getBoundingBoxAroundPolygon)(L,S),N=y()(w,2),j=N[0],W=N[1];P?Object(C.fillInsideShape)(g,v,function(B){return Object(T.default)([B.x,B.y],L)},j,W):Object(C.fillOutsideShape)(g,v,function(B){return Object(T.default)([B.x,B.y],L)},j,W)}else h.error("eraseInsideFreehand operation requires freehandSegmentationMixin operationData, recieved ".concat(x))}function O(g,v){E(g,v,!0)}function m(g,v){E(g,v,!1)}},"./tools/segmentation/strategies/fillRectangle.js":
/*!********************************************************!*\
                  !*** ./tools/segmentation/strategies/fillRectangle.js ***!
                  \********************************************************/
/*! exports provided: fillInsideRectangle, fillOutsideRectangle */function(le,d,s){"use strict";s.r(d),s.d(d,"fillInsideRectangle",function(){return E}),s.d(d,"fillOutsideRectangle",function(){return O});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ../../../util/segmentation */
"./util/segmentation/index.js"),T=s(
/*! ../../../util/logger */
"./util/logger.js"),D=Object(T.getLogger)("util:segmentation:operations:fillInsideRectangle");function h(m,g){var v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],b=g.segmentationMixinType;if("rectangleSegmentationMixin"===b){var x=m.detail.image,S=g.points.map(function(W){return[W.x,W.y]}),L=Object(C.getBoundingBoxAroundPolygon)(S,x),w=y()(L,2),N=w[0],j=w[1];v?Object(C.fillInsideShape)(m,g,function(){return!0},N,j):Object(C.fillOutsideBoundingBox)(m,g,N,j)}else D.error("eraseInsideRectangle operation requires rectangleSegmentationMixin operationData, recieved ".concat(b))}function E(m,g){h(m,g,!0)}function O(m,g){h(m,g,!1)}},"./tools/segmentation/strategies/index.js":
/*!************************************************!*\
                  !*** ./tools/segmentation/strategies/index.js ***!
                  \************************************************/
/*! exports provided: correction, eraseInsideFreehand, eraseOutsideFreehand, eraseInsideRectangle, eraseOutsideRectangle, fillInsideFreehand, fillOutsideFreehand, fillInsideRectangle, fillOutsideRectangle, fillInsideCircle, fillOutsideCircle, eraseInsideCircle, eraseOutsideCircle */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./correction */
"./tools/segmentation/strategies/correction.js");s.d(d,"correction",function(){return p.default});var y=s(
/*! ./eraseFreehand */
"./tools/segmentation/strategies/eraseFreehand.js");s.d(d,"eraseInsideFreehand",function(){return y.eraseInsideFreehand}),s.d(d,"eraseOutsideFreehand",function(){return y.eraseOutsideFreehand});var C=s(
/*! ./eraseRectangle.js */
"./tools/segmentation/strategies/eraseRectangle.js");s.d(d,"eraseInsideRectangle",function(){return C.eraseInsideRectangle}),s.d(d,"eraseOutsideRectangle",function(){return C.eraseOutsideRectangle});var T=s(
/*! ./fillFreehand */
"./tools/segmentation/strategies/fillFreehand.js");s.d(d,"fillInsideFreehand",function(){return T.fillInsideFreehand}),s.d(d,"fillOutsideFreehand",function(){return T.fillOutsideFreehand});var D=s(
/*! ./fillRectangle */
"./tools/segmentation/strategies/fillRectangle.js");s.d(d,"fillInsideRectangle",function(){return D.fillInsideRectangle}),s.d(d,"fillOutsideRectangle",function(){return D.fillOutsideRectangle});var h=s(
/*! ./fillCircle */
"./tools/segmentation/strategies/fillCircle.js");s.d(d,"fillInsideCircle",function(){return h.fillInsideCircle}),s.d(d,"fillOutsideCircle",function(){return h.fillOutsideCircle});var E=s(
/*! ./eraseCircle */
"./tools/segmentation/strategies/eraseCircle.js");s.d(d,"eraseInsideCircle",function(){return E.eraseInsideCircle}),s.d(d,"eraseOutsideCircle",function(){return E.eraseOutsideCircle})},"./util/SaveAs.js":
/*!************************!*\
                  !*** ./util/SaveAs.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",T=p.querySelector("canvas");if(T.msToBlob){var D=T.msToBlob();return window.navigator.msSaveBlob(D,y)}var h=document.createElement("a");if(h.download=y,h.href=T.toDataURL(C,1),document.createEvent){var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),h.dispatchEvent(E)}else h.fireEvent&&h.fireEvent("onclick")}},"./util/angleBetweenPoints.js":
/*!************************************!*\
                  !*** ./util/angleBetweenPoints.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y,C){var T=Math.sqrt(Math.pow(p.x-y.x,2)+Math.pow(p.y-y.y,2)),D=Math.sqrt(Math.pow(p.x-C.x,2)+Math.pow(p.y-C.y,2)),h=Math.sqrt(Math.pow(y.x-C.x,2)+Math.pow(y.y-C.y,2));return{angle:180*Math.acos((Math.pow(T,2)+Math.pow(D,2)-Math.pow(h,2))/(2*T*D))/Math.PI,direction:(y.x-p.x)*(C.y-p.y)-(y.y-p.y)*(C.x-p.x)}}},"./util/calculateSUV.js":
/*!******************************!*\
                  !*** ./util/calculateSUV.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");function y(C){return parseFloat(".".concat(C))}d.default=function(C,T){var D=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=p.default.cornerstone,E=h.metaData.get("patientStudyModule",C.imageId),O=h.metaData.get("generalSeriesModule",C.imageId);if(E&&O&&"PT"===O.modality){var g=D?T:T*C.slope+C.intercept,v=E.patientWeight;if(v){var P=h.metaData.get("petIsotopeModule",C.imageId);if(P){var b=P.radiopharmaceuticalInfo,x=b.radiopharmaceuticalStartTime,S=b.radionuclideTotalDose,L=b.radionuclideHalfLife,w=O.seriesTime;if(x&&S&&L&&w){var N=y(w.fractionalSeconds||0)+w.seconds+60*w.minutes+60*w.hours*60,j=y(x.fractionalSeconds||0)+x.seconds+60*x.minutes+60*x.hours*60;return g*v/(S*Math.exp(-(N-j)*Math.log(2)/L))*1e3}}}}}},"./util/clip.js":
/*!**********************!*\
                  !*** ./util/clip.js ***!
                  \**********************/
/*! exports provided: clip, clipToBox, clipBoxToDisplayedArea, default */function(le,d,s){"use strict";s.r(d),s.d(d,"clip",function(){return T}),s.d(d,"clipToBox",function(){return D}),s.d(d,"clipBoxToDisplayedArea",function(){return O});var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ../externalModules.js */
"./externalModules.js");function T(m,g,v){return Math.min(Math.max(g,m),v)}function D(m,g){var v=g.left||0,P=g.top||0;m.x=T(m.x,v,v+g.width),m.y=T(m.y,P,P+g.height)}var h=function(g,v){var P=function(z){return C.default.cornerstone.canvasToPixel(g,z)},b=v.top,x=v.left,S=v.width,L=v.height,B=[P({x,y:b}),P({x:x+S,y:b}),P({x,y:b+L}),P({x:x+S,y:b+L})],G=B.map(function(F){return F.x}),V=B.map(function(F){return F.y});return{minX:Math.min.apply(Math,y()(G)),minY:Math.min.apply(Math,y()(V)),maxX:Math.max.apply(Math,y()(G)),maxY:Math.max.apply(Math,y()(V))}},E=function(g,v,P,b,x,S){S-x<b-P?(g[v]+=x-P,g[v]+=(S-x)/2,g[v]-=(b-P)/2):P<x?g[v]+=x-P:b>S&&(g[v]-=b-S)};function O(m,g){var v=C.default.cornerstone,P=v.pixelToCanvas,x=v.getViewport,S=v.getEnabledElement,L=v.getDisplayedArea,w=(0,v.canvasToPixel)(m,{x:g.left,y:g.top}),N=h(m,g),j=N.minX,W=N.minY,B=N.maxX,G=N.maxY,V=x(m),z=L(S(m).image,V),te=V.displayedArea?V.displayedArea:z,q=te.tlhc,ae=te.brhc,oe=q.x-1,Z=ae.x;E(w,"y",W,G,q.y-1,ae.y),E(w,"x",j,B,oe,Z);var K=P(m,w);g.top=K.y,g.left=K.x}d.default=T},"./util/convertToVector3.js":
/*!**********************************!*\
                  !*** ./util/convertToVector3.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../externalModules.js */
"./externalModules.js");function y(C){var T=p.default.cornerstoneMath;if(C instanceof T.Vector3)return C;var D=Object.keys(C);return D.includes("x")&&D.includes("y")&&D.includes("z")?new T.Vector3(C.x,C.y,C.z):new T.Vector3(C[0],C[1],C[2])}},"./util/copyPoints.js":
/*!****************************!*\
                  !*** ./util/copyPoints.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{x:y.x,y:y.y}}s.r(d),d.default=function(y){return{page:p(y.page),image:p(y.image),client:p(y.client),canvas:p(y.canvas)}}},"./util/debounce.js":
/*!**************************!*\
                  !*** ./util/debounce.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./isObject.js */
"./util/isObject.js");d.default=function y(C,T,D){var h,E,O,m,g,v,P=0,b=!1,x=!1,S=!0,L=!T&&0!==T&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof C)throw new TypeError("Expected a function");function w(ie){var oe=h,$=E;return h=E=void 0,P=ie,m=C.apply($,oe)}function N(ie,oe){return L?window.requestAnimationFrame(ie):setTimeout(ie,oe)}function G(ie){var oe=ie-v;return void 0===v||oe>=T||oe<0||x&&ie-P>=O}function V(){var ie=Date.now();if(G(ie))return F(ie);g=N(V,function B(ie){var Z=T-(ie-v);return x?Math.min(Z,O-(ie-P)):Z}(ie))}function F(ie){return g=void 0,S&&h?w(ie):(h=E=void 0,m)}function ae(){for(var ie=Date.now(),oe=G(ie),$=arguments.length,Z=new Array($),K=0;K<$;K++)Z[K]=arguments[K];if(h=Z,E=this,v=ie,oe){if(void 0===g)return function W(ie){return P=ie,g=N(V,T),b?w(ie):m}(v);if(x)return g=N(V,T),w(v)}return void 0===g&&(g=N(V,T)),m}return T=Number(T)||0,Object(p.default)(D)&&(b=!!D.leading,O=(x="maxWait"in D)?Math.max(Number(D.maxWait)||0,T):O,S="trailing"in D?!!D.trailing:S),ae.cancel=function z(){void 0!==g&&function j(ie){if(L)return window.cancelAnimationFrame(ie);clearTimeout(ie)}(g),P=0,h=v=E=g=void 0},ae.flush=function te(){return void 0===g?m:F(Date.now())},ae.pending=function q(){return void 0!==g},ae}},"./util/debugLib/common.js":
/*!*********************************!*\
                  !*** ./util/debugLib/common.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p);d.default=function C(T){function D(x){for(var S=0,L=0;L<x.length;L++)S=(S<<5)-S+x.charCodeAt(L),S|=0;return h.colors[Math.abs(S)%h.colors.length]}function h(x){var S;function L(){for(var w=arguments.length,N=new Array(w),j=0;j<w;j++)N[j]=arguments[j];if(L.enabled){var W=L,B=Number(new Date);W.diff=B-(S||B),W.prev=S,W.curr=B,S=B,N[0]=h.coerce(N[0]),"string"!=typeof N[0]&&N.unshift("%O");var V=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,function(z,te){if("%%"===z)return z;V++;var q=h.formatters[te];return"function"==typeof q&&(z=q.call(W,N[V]),N.splice(V,1),V--),z}),h.formatArgs.call(W,N),(W.log||h.log).apply(W,N)}}return L.namespace=x,L.enabled=h.enabled(x),L.useColors=h.useColors(),L.color=D(x),L.destroy=E,L.extend=O,"function"==typeof h.init&&h.init(L),h.instances.push(L),L}function E(){var x=h.instances.indexOf(this);return-1!==x&&(h.instances.splice(x,1),!0)}function O(x,S){var L=h(this.namespace+(typeof S>"u"?":":S)+x);return L.log=this.log,L}function P(x){return x.toString().substring(2,x.toString().length-2).replace(/\.\*\?$/,"*")}return h.debug=h,h.default=h,h.coerce=function b(x){return x instanceof Error?x.stack||x.message:x},h.disable=function g(){var x=[].concat(y()(h.names.map(P)),y()(h.skips.map(P).map(function(S){return"-".concat(S)}))).join(",");return h.enable(""),x},h.enable=function m(x){h.save(x),h.names=[],h.skips=[];var S,L=("string"==typeof x?x:"").split(/[\s,]+/),w=L.length;for(S=0;S<w;S++)L[S]&&("-"===(x=L[S].replace(/\*/g,".*?"))[0]?h.skips.push(new RegExp("^".concat(x.substr(1),"$"))):h.names.push(new RegExp("^".concat(x,"$"))));for(S=0;S<h.instances.length;S++){var N=h.instances[S];N.enabled=h.enabled(N.namespace)}},h.enabled=function v(x){if("*"===x[x.length-1])return!0;var S,L;for(S=0,L=h.skips.length;S<L;S++)if(h.skips[S].test(x))return!1;for(S=0,L=h.names.length;S<L;S++)if(h.names[S].test(x))return!0;return!1},h.humanize=s(
/*! ms */
"../node_modules/ms/index.js"),Object.keys(T).forEach(function(x){h[x]=T[x]}),h.instances=[],h.names=[],h.skips=[],h.formatters={},h.selectColor=D,h.enable(h.load()),h}},"./util/debugLib/index.js":
/*!********************************!*\
                  !*** ./util/debugLib/index.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),function(p){var y=s(
/*! ./common.js */
"./util/debugLib/common.js"),T={formatArgs:function h(P){if(P[0]="".concat((this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+P[0]+(this.useColors?"%c ":" "),"+").concat(g.humanize(this.diff)),this.useColors){var b="color: ".concat(this.color);P.splice(1,0,b,"color: inherit");var x=0,S=0;P[0].replace(/%[a-zA-Z%]/g,function(L){"%%"!==L&&(x++,"%c"===L&&(S=x))}),P.splice(S,0,b)}},save:function E(P){try{P?T.storage.setItem("debug",P):T.storage.removeItem("debug")}catch{}},load:function O(){var P;try{P=T.storage.getItem("debug")}catch(b){console.warn(b)}return!P&&typeof p<"u"&&"env"in p&&(P=p.env.DEBUG),P},useColors:function D(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},storage:function m(){try{return localStorage}catch{}}()};T.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],T.log=console.debug||console.log||function(){};var g=Object(y.default)(T);g.formatters.j=function(P){try{return JSON.stringify(P)}catch(b){return"[UnexpectedJSONParseError]: ".concat(b.message)}},d.default=g}.call(this,s(
/*! ./../../../node_modules/process/browser.js */
"../node_modules/process/browser.js"))},"./util/deepmerge.js":
/*!***************************!*\
                  !*** ./util/deepmerge.js ***!
                  \***************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p),C=function(g){return g&&"object"===y()(g)&&"[object RegExp]"!==Object.prototype.toString.call(g)&&"[object Date]"!==Object.prototype.toString.call(g)},D=function(g,v){return v&&!0===v.clone&&C(g)?O(function(g){return Array.isArray(g)?[]:{}}(g),g,v):g},h=function(g,v,P){var b=g.slice();return v.forEach(function(x,S){typeof b[S]>"u"?b[S]=D(x,P):C(x)?b[S]=O(g[S],x,P):-1===g.indexOf(x)&&b.push(D(x,P))}),b},O=function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=arguments.length>2?arguments[2]:void 0,b=Array.isArray(v),S=(P||{arrayMerge:h}).arrayMerge||h;if(b)return Array.isArray(g)?S(g,v,P):D(v,P);var L=function(g,v,P){var b={};return C(g)&&Object.keys(g).forEach(function(x){b[x]=D(g[x],P)}),Object.keys(v).forEach(function(x){b[x]=C(v[x])&&g[x]?O(g[x],v[x],P):D(v[x],P)}),b}(g,v,P);return Object.getPrototypeOf(g)!==Object.prototype&&Object.setPrototypeOf(L,Object.getPrototypeOf(g)),L};d.default=O},"./util/ellipse/calculateEllipseStatistics.js":
/*!****************************************************!*\
                  !*** ./util/ellipse/calculateEllipseStatistics.js ***!
                  \****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./pointInEllipse.js */
"./util/ellipse/pointInEllipse.js");d.default=function(y,C){for(var T=0,D=0,h=0,E=0,O=null,m=null,g=C.top;g<C.top+C.height;g++)for(var v=C.left;v<C.left+C.width;v++){var P={x:v,y:g};Object(p.default)(C,P)&&(null===O&&(O=y[E],m=y[E]),T+=y[E],D+=y[E]*y[E],O=Math.min(O,y[E]),m=Math.max(m,y[E]),h++),E++}if(0===h)return{count:h,mean:0,variance:0,stdDev:0,min:0,max:0};var b=T/h,x=D/h-b*b;return{count:h,mean:b,variance:x,stdDev:Math.sqrt(x),min:O,max:m}}},"./util/ellipse/index.js":
/*!*******************************!*\
                  !*** ./util/ellipse/index.js ***!
                  \*******************************/
/*! exports provided: calculateEllipseStatistics, pointInEllipse, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./calculateEllipseStatistics.js */
"./util/ellipse/calculateEllipseStatistics.js");s.d(d,"calculateEllipseStatistics",function(){return p.default});var y=s(
/*! ./pointInEllipse.js */
"./util/ellipse/pointInEllipse.js");s.d(d,"pointInEllipse",function(){return y.default}),d.default={calculateEllipseStatistics:p.default,pointInEllipse:y.default}},"./util/ellipse/pointInEllipse.js":
/*!****************************************!*\
                  !*** ./util/ellipse/pointInEllipse.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var C=p.width/2,T=p.height/2;if(C<=0||T<=0)return!1;var h_x=y.x-(p.left+C),h_y=y.y-(p.top+T);return h_x*h_x/(C*C)+h_y*h_y/(T*T)<=1}},"./util/findAndMoveHelpers.js":
/*!************************************!*\
                  !*** ./util/findAndMoveHelpers.js ***!
                  \************************************/
/*! exports provided: moveHandleNearImagePoint, findHandleDataNearImagePoint, moveAnnotation */function(le,d,s){"use strict";s.r(d),s.d(d,"moveHandleNearImagePoint",function(){return v}),s.d(d,"findHandleDataNearImagePoint",function(){return P}),s.d(d,"moveAnnotation",function(){return b});var p=s(
/*! @babel/runtime/helpers/defineProperty */
"../node_modules/@babel/runtime/helpers/defineProperty.js"),y=s.n(p),C=s(
/*! ../store/index.js */
"./store/index.js"),T=s(
/*! ../manipulators/getHandleNearImagePoint.js */
"./manipulators/getHandleNearImagePoint.js"),D=s(
/*! ./../manipulators/index.js */
"./manipulators/index.js"),h=s(
/*! ./getProximityThreshold.js */
"./util/getProximityThreshold.js"),E=s(
/*! ../events */
"./events.js"),O=s(
/*! ./triggerEvent */
"./util/triggerEvent.js");function m(x,S){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(x);S&&(w=w.filter(function(N){return Object.getOwnPropertyDescriptor(x,N).enumerable})),L.push.apply(L,w)}return L}function g(x){for(var S=1;S<arguments.length;S++){var L=null!=arguments[S]?arguments[S]:{};S%2?m(L,!0).forEach(function(w){y()(x,w,L[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):m(L).forEach(function(w){Object.defineProperty(x,w,Object.getOwnPropertyDescriptor(L,w))})}return x}var v=function(S,L,w,N,j){w.active=!0,C.state.isToolLocked=!0;Object(D.moveHandle)(S.detail,L.name,w,N,L.options,j,function(G){var V=S.detail.element,F=w.toolType||w.toolName,z={toolName:F,toolType:F,element:V,measurementData:g({},w,{active:!1})};Object(O.default)(V,E.default.MEASUREMENT_COMPLETED,z)}),S.stopImmediatePropagation(),S.stopPropagation(),S.preventDefault()},P=function(S,L,w,N){for(var j=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mouse",W=0;W<L.data.length;W++){var B=L.data[W],G=Object(T.default)(S,B.handles,N,Object(h.default)(j,w));if(G)return{handle:G,data:B}}},b=function(S,L,w){var N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse";w.active=!0,C.state.isToolLocked=!0,Object(D.moveAllHandles)(S.detail,L.name,w,null,L.options,N,function(){w.active=!1,C.state.isToolLocked=!1}),S.stopImmediatePropagation(),S.stopPropagation(),S.preventDefault()}},"./util/freehand/ClickedLineData.js":
/*!******************************************!*\
                  !*** ./util/freehand/ClickedLineData.js ***!
                  \******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=function T(D,h){y()(this,T),this.toolIndex=D,this.handleIndexArray=h}},"./util/freehand/FreehandHandleData.js":
/*!*********************************************!*\
                  !*** ./util/freehand/FreehandHandleData.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=function T(D){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y()(this,T),this.x=D.x,this.y=D.y,this.highlight=h,this.active=E,this.lines=[]}},"./util/freehand/FreehandLineFinder.js":
/*!*********************************************!*\
                  !*** ./util/freehand/FreehandLineFinder.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return m});var p=s(
/*! @babel/runtime/helpers/classCallCheck */
"../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=s.n(p),C=s(
/*! @babel/runtime/helpers/createClass */
"../node_modules/@babel/runtime/helpers/createClass.js"),T=s.n(C),D=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),h=s(
/*! ../../externalModules.js */
"./externalModules.js"),E=s(
/*! ./ClickedLineData.js */
"./util/freehand/ClickedLineData.js"),m=function(){function g(v,P){y()(this,g),this._eventData=v,this._toolName=P}return T()(g,[{key:"findLine",value:function(){var P=this.findTool();if(null===P)return null;var b=this._getCloseLinesInTool(P);return b?this._findCorrectLine(P,b):null}},{key:"findTool",value:function(){return this._toolData=Object(D.getToolState)(this._eventData.element,this._toolName),this._mousePoint=this._eventData.currentPoints.canvas,this._toolData?this._nearestHandleToPointAllTools().toolIndex:null}},{key:"_nearestHandleToPointAllTools",value:function(){for(var P=this._toolData,b={toolIndex:null,handleIndex:null,distance:1/0},x=0;x<P.data.length;x++){var S=this._nearestHandleToPoint(x);null!==S&&S.distance<b.distance&&(b=S)}return b}},{key:"_nearestHandleToPoint",value:function(P){var b=this._eventData,S=this._toolData.data[P],L=S.handles.points;if(void 0===L||!1===S.visible)return null;for(var w={toolIndex:P,handleIndex:null,distance:1/0},N=0;N<L.length;N++){var j=h.default.cornerstone.pixelToCanvas(b.element,L[N]),W=h.default.cornerstoneMath.point.distance(j,this._mousePoint);W<w.distance&&(w.handleIndex=N,w.distance=W)}return w}},{key:"_getCloseLinesInTool",value:function(P){for(var x=this._toolData.data[P].handles.points,S=[],L=0;L<x.length;L++){var w=g.getNextHandleIndex(L,x.length);this._distanceOfPointfromLine(x[L],x[w])<10&&S.push([L,w])}return S}},{key:"_findCorrectLine",value:function(P,b){for(var x=0;x<b.length;x++)if(this._pointProjectsToLineSegment(P,b[x]))return new E.default(P,b[x]);return null}},{key:"_pointProjectsToLineSegment",value:function(P,b){var L=this._toolData.data[P],w=L.handles.points;if(void 0!==L.handles.points){if(!1===L.visible)return!1;var W=g.getCanvasPointsFromHandles(w[b[0]],w[b[1]],this._eventData.element),B=g.getLineAsVector(W),G=this._getLineOriginToMouseAsVector(W),V=(G[0]*B[0]+G[1]*B[1])/B.magnitude;return V>0&&V<B.magnitude}}},{key:"_getLineOriginToMouseAsVector",value:function(P){return[this._mousePoint.x-P[0].x,this._mousePoint.y-P[0].y]}},{key:"_distanceOfPointfromLine",value:function(P,b){var x=this._eventData,S=h.default.cornerstone.pixelToCanvas(x.element,P),L=h.default.cornerstone.pixelToCanvas(x.element,b),w=this._mousePoint;return Math.abs((L.y-S.y)*w.x-(L.x-S.x)*w.y+L.x*S.y-L.y*S.x)/h.default.cornerstoneMath.point.distance(S,L)}}],[{key:"getCanvasPointsFromHandles",value:function(P,b,x){var S=[];return P.x<b.x?(S.push(h.default.cornerstone.pixelToCanvas(x,P)),S.push(h.default.cornerstone.pixelToCanvas(x,b))):(S.push(h.default.cornerstone.pixelToCanvas(x,b)),S.push(h.default.cornerstone.pixelToCanvas(x,P))),S}},{key:"getLineAsVector",value:function(P){var b=[P[1].x-P[0].x,P[1].y-P[0].y];return b.magnitude=h.default.cornerstoneMath.point.distance(P[0],P[1]),b}},{key:"getNextHandleIndex",value:function(P,b){return P<b-1?P+1:0}}]),g}()},"./util/freehand/addLine.js":
/*!**********************************!*\
                  !*** ./util/freehand/addLine.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){p[y].lines.push(y===p.length-1?p[0]:p[y+1])}},"./util/freehand/calculateFreehandStatistics.js":
/*!******************************************************!*\
                  !*** ./util/freehand/calculateFreehandStatistics.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./pointInFreehand.js */
"./util/freehand/pointInFreehand.js");function C(T,D,h,E){Object(p.default)(T,D)&&(h.value+=E,h.squared+=E*E,h.count++)}d.default=function(T,D,h){var E={count:0,mean:0,variance:0,stdDev:0},O=function y(T,D,h){for(var E={value:0,squared:0,count:0},O=0,m=D.top;m<D.top+D.height;m++)for(var g=D.left;g<D.left+D.width;g++)C(h,{x:g,y:m},E,T[O]),O++;return E}(T,D,h);return 0===O.count||(E.count=O.count,E.mean=O.value/O.count,E.variance=O.squared/O.count-E.mean*E.mean,E.stdDev=Math.sqrt(E.variance)),E}},"./util/freehand/freehandArea.js":
/*!***************************************!*\
                  !*** ./util/freehand/freehandArea.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var C=0,T=p.length-1;y=y||1;for(var D=0;D<p.length;D++)C+=(p[T].x+p[D].x)*(p[T].y-p[D].y),T=D;return Math.abs(C*y/2)}},"./util/freehand/freehandIntersect.js":
/*!********************************************!*\
                  !*** ./util/freehand/freehandIntersect.js ***!
                  \********************************************/
/*! exports provided: default */function(le,d,s){"use strict";function T(m,g,v,P){for(var b=m.length-1,x=0;x<m.length;x++)if(-1===P.indexOf(x)&&-1===P.indexOf(b)){if(D(g,v,h(m[b]),h(m[x])))return!0;b=x}else b=x;return!1}function D(m,g,v,P){var b=!1,x=[E(m,g,v),E(m,g,P),E(v,P,m),E(v,P,g)];return x[0]!==x[1]&&x[2]!==x[3]||((0===x[0]&&O(m,v,g)||0===x[1]&&O(m,P,g)||0===x[2]&&O(v,m,P)||0===x[3]&&O(v,g,P))&&(b=!0),b)}function h(m){return{x:m.x,y:m.y}}function E(m,g,v){var P=(g.y-m.y)*(v.x-g.x)-(g.x-m.x)*(v.y-g.y);return 0===P?0:P>0?1:2}function O(m,g,v){return g.x<=Math.max(m.x,v.x)&&g.x>=Math.min(m.x,v.x)&&g.y<=Math.max(m.y,v.y)&&g.y>=Math.min(m.y,v.y)}s.r(d),d.default={newHandle:function p(m,g){var v=g.length-1;return T(g,h(g[v]),h(m),[v])},end:function y(m){var g=m.length-1;return T(m,h(m[g]),h(m[0]),[g,0])},modify:function C(m,g){var v=h(m[g]),P=g-1;0===g&&(P=m.length-1);var b=h(m[P]);return!!T(m,v,b,[g,P])||T(m,v,b=h(m[P=g===m.length-1?0:g+1]),[g,P])}}},"./util/freehand/index.js":
/*!********************************!*\
                  !*** ./util/freehand/index.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./calculateFreehandStatistics.js */
"./util/freehand/calculateFreehandStatistics.js"),y=s(
/*! ./ClickedLineData.js */
"./util/freehand/ClickedLineData.js"),C=s(
/*! ./freehandArea.js */
"./util/freehand/freehandArea.js"),T=s(
/*! ./FreehandHandleData.js */
"./util/freehand/FreehandHandleData.js"),D=s(
/*! ./freehandIntersect.js */
"./util/freehand/freehandIntersect.js"),h=s(
/*! ./FreehandLineFinder.js */
"./util/freehand/FreehandLineFinder.js"),E=s(
/*! ./insertOrDelete.js */
"./util/freehand/insertOrDelete.js"),O=s(
/*! ./pointInFreehand.js */
"./util/freehand/pointInFreehand.js"),m=s(
/*! ./addLine.js */
"./util/freehand/addLine.js");d.default={calculateFreehandStatistics:p.default,ClickedLineData:y.default,freehandArea:C.default,FreehandHandleData:T.default,freehandIntersect:D.default,FreehandLineFinder:h.default,insertOrDelete:E.default,pointInFreehand:O.default,addLine:m.default}},"./util/freehand/insertOrDelete.js":
/*!*****************************************!*\
                  !*** ./util/freehand/insertOrDelete.js ***!
                  \*****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./FreehandLineFinder.js */
"./util/freehand/FreehandLineFinder.js"),y=s(
/*! ./FreehandHandleData.js */
"./util/freehand/FreehandHandleData.js"),C=s(
/*! ../../stateManagement/toolState.js */
"./stateManagement/toolState.js"),T=s(
/*! ../../externalModules.js */
"./externalModules.js"),D=s(
/*! ./addLine.js */
"./util/freehand/addLine.js");function h(m,g){var v=Object(C.getToolState)(m.element,this.name);if(void 0!==v){var P=g.handleIndex,x=v.data[g.toolIndex],S=x.handles.points;S.length<=3||(P===S.length-1?(S[P-1].lines.pop(),S[P-1].lines.push(S[0])):0===P?(S[S.length-1].lines.pop(),S[S.length-1].lines.push(S[P+1])):(S[P-1].lines.pop(),S[P-1].lines.push(S[P+1])),S.splice(P,1),x.invalidated=!0,x.active=!0,x.highlight=!0,T.default.cornerstone.updateImage(m.element))}}function E(m,g){var v=Object(C.getToolState)(m.element,this.name);if(void 0!==v){var P=v.data[g.toolIndex],b=function O(m){for(var g=m.handleIndexArray,v=1/0,P=g.includes(0),b=0;b<g.length;b++){var x=g[b];0!==x&&x<v&&(v=x)}return P&&1===v&&(v=0),++v}(g);if(b!==1/0){var x=new y.default(m.currentPoints.image),S=P.handles.points;S.splice(b,0,x),S[b-1].lines.pop(),S[b-1].lines.push(m.currentPoints.image),Object(D.default)(S,b),P.active=!0,P.highlight=!0,P.invalidated=!0,T.default.cornerstone.updateImage(m.element)}}}d.default=function(m,g){var v=m.detail;if(g&&null!==g.handleNearby)h.call(this,v,{toolIndex:g.toolIndex,handleIndex:g.handleNearby});else{var x=new p.default(v,this.name).findLine();x&&E.call(this,v,x)}}},"./util/freehand/pointInFreehand.js":
/*!******************************************!*\
                  !*** ./util/freehand/pointInFreehand.js ***!
                  \******************************************/
/*! exports provided: default */function(le,d,s){"use strict";function T(D,h,E){return!(!function p(D,h,E){return h<D&&D<E||E<D&&D<h}(D.y,h.y,E.y)||!function y(D,h,E){if(h.x>D.x&&E.x>D.x)return!0;if(h.x===E.x)return D.x<h.x;if(h.x>E.x){var O=h;h=E,E=O}var m=function C(D,h,E){var O=(E.y-h.y)/(E.x-h.x);return{value:h.y+O*(D.x-h.x),gradient:O}}(D,h,E);return Math.sign(m.gradient)*D.y>Math.sign(m.gradient)*m.value}(D,h,E))}s.r(d),d.default=function(D,h){for(var E=!1,O=D.length-1,m=0;m<D.length;m++)T(h,D[m],D[O])&&(E=!E),O=m;return E}},"./util/getActiveTool.js":
/*!*******************************!*\
                  !*** ./util/getActiveTool.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return T});var p=s(
/*! ../store */
"./store/index.js"),y=s(
/*! ../store/getActiveToolsForElement */
"./store/getActiveToolsForElement.js"),C=s(
/*! ../store/filterToolsUsableWithMultiPartTools */
"./store/filterToolsUsableWithMultiPartTools.js");function T(D,h){var O;if("touch"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse")?O=(O=Object(y.default)(D,p.getters.touchTools())).filter(function(m){return m.options.isTouchActive}):(O=(O=Object(y.default)(D,p.getters.mouseTools())).filter(function(m){return Array.isArray(m.options.mouseButtonMask)&&h&&m.options.mouseButtonMask.includes(h)&&m.options.isMouseActive}),p.state.isMultiPartToolActive&&(O=Object(C.default)(O))),0!==O.length)return O[0]}},"./util/getCircleCoords.js":
/*!*********************************!*\
                  !*** ./util/getCircleCoords.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../externalModules */
"./externalModules.js");function y(C,T){var h=(0,p.default.cornerstoneMath.point.distance)(C,T);return{left:Math.floor(Math.min(C.x-h,T.x)),top:Math.floor(Math.min(C.y-h,T.y)),width:2*h,height:2*h}}},"./util/getDefault.js":
/*!****************************!*\
                  !*** ./util/getDefault.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){return void 0===p?y:p}},"./util/getKeyPressData.js":
/*!*********************************!*\
                  !*** ./util/getKeyPressData.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p=s(
/*! ../store/ */
"./store/index.js"),y=s(
/*! ../externalModules */
"./externalModules.js");function C(T){var D=y.default.cornerstone,h=T.currentTarget,E=D.getEnabledElement(h);if(E&&E.image){var O=p.default.state.mousePositionImage;return{event:window.event||T,element:h,viewport:D.getViewport(h),image:E.image,currentPoints:{image:O,canvas:D.pixelToCanvas(h,O)},keyCode:T.keyCode,which:T.which}}}},"./util/getLuminance.js":
/*!******************************!*\
                  !*** ./util/getLuminance.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T,D,h){if(!y)throw new Error("getLuminance: parameter element must not be undefined");C=Math.round(C),T=Math.round(T);var P,b,x,O=p.default.cornerstone.getEnabledElement(y).image,m=[],g=0,v=O.getPixelData();if(O.color)for(b=0;b<h;b++)for(x=0;x<D;x++)m[g++]=.2126*v[P=4*((b+T)*O.columns+(x+C))]+.7152*v[P+1]+.0722*v[P+2];else for(b=0;b<h;b++)for(x=0;x<D;x++)m[g++]=v[P=(b+T)*O.columns+(x+C)]*O.slope+O.intercept;return m}},"./util/getMaxSimultaneousRequests.js":
/*!********************************************!*\
                  !*** ./util/getMaxSimultaneousRequests.js ***!
                  \********************************************/
/*! exports provided: getDefaultSimultaneousRequests, getMaxSimultaneousRequests, setMaxSimultaneousRequests, getBrowserInfo, isMobileDevice */function(le,d,s){"use strict";s.r(d),s.d(d,"getDefaultSimultaneousRequests",function(){return h}),s.d(d,"getMaxSimultaneousRequests",function(){return D}),s.d(d,"setMaxSimultaneousRequests",function(){return T}),s.d(d,"getBrowserInfo",function(){return C}),s.d(d,"isMobileDevice",function(){return E});var p,y={default:6,IE:{9:6,10:8,default:8},Firefox:{default:6},Opera:{10:8,11:6,12:6,default:6},Chrome:{default:6},Safari:{default:6}};function C(){var g,O=navigator.userAgent,m=O.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(m[1])?(g=/\brv[ :]+(\d+)/g.exec(O)||[],"IE ".concat(g[1]||"")):"Chrome"===m[1]&&null!==(g=O.match(/\b(OPR|Edge)\/(\d+)/))?g.slice(1).join(" ").replace("OPR","Opera"):(m=m[2]?[m[1],m[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(g=O.match(/version\/(\d+)/i))&&m.splice(1,1,g[1]),m.join(" "))}function T(O){p=O}function D(){return p||h()}function h(){var m=C().split(" "),v=m[1],P=y[m[0]];return P?P[v]?P[v]:P.default:y.default}function E(){return new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini").test(navigator.userAgent)}},"./util/getPixelSpacing.js":
/*!*********************************!*\
                  !*** ./util/getPixelSpacing.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../externalModules */
"./externalModules.js");function y(C){var T=p.default.cornerstone.metaData.get("imagePlaneModule",C.imageId);return T?{rowPixelSpacing:T.rowPixelSpacing||T.rowImagePixelSpacing,colPixelSpacing:T.columnPixelSpacing||T.colImagePixelSpacing}:{rowPixelSpacing:C.rowPixelSpacing,colPixelSpacing:C.columnPixelSpacing}}},"./util/getProximityThreshold.js":
/*!***************************************!*\
                  !*** ./util/getProximityThreshold.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../store */
"./store/index.js");function y(C,T){var D=p.state.clickProximity,h=p.state.touchProximity,E=p.state.tools.find(function(O){return O.name===T});return E&&E.configuration&&(D=E.configuration.clickProximity||D,h=E.configuration.touchProximity||h),"mouse"===C?D:h}},"./util/getRGBPixels.js":
/*!******************************!*\
                  !*** ./util/getRGBPixels.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T,D,h){if(!y)throw new Error("getRGBPixels: parameter element must not be undefined");C=Math.round(C),T=Math.round(T);var v,P,b,E=p.default.cornerstone.getEnabledElement(y),O=[],m=0,g=E.image.getPixelData();if(E.image.color)for(P=0;P<h;P++)for(b=0;b<D;b++){var S=g[1+(v=4*((P+T)*E.image.columns+(b+C)))],L=g[v+2],w=g[v+3];O[m++]=g[v],O[m++]=S,O[m++]=L,O[m++]=w}return O}},"./util/getROITextBoxCoords.js":
/*!*************************************!*\
                  !*** ./util/getROITextBoxCoords.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(C,T){var D=function y(C){var T=[C.start,C.end].sort(g),D=[C.start,C.end].sort(v);return{top:D[0],left:T[0],bottom:D[D.length-1],right:T[T.length-1]};function g(P,b){return P.x<b.x?-1:1}function v(P,b){return P.y<b.y?-1:1}}(T),h=(D.left.x+D.right.x)/2,E=(D.top.y+D.bottom.y)/2,O={};return C.rotation>=0&&C.rotation<90&&(O.x=C.hflip?D.left.x:D.right.x,O.y=E),C.rotation>=90&&C.rotation<180&&(O.x=h,O.y=C.vflip?D.bottom.y:D.top.y),C.rotation>=180&&C.rotation<270&&(O.x=C.hflip?D.right.x:D.left.x,O.y=E),C.rotation>=270&&C.rotation<360&&(O.x=h,O.y=C.vflip?D.top.y:D.bottom.y),O}s.r(d),s.d(d,"default",function(){return p})},"./util/isEmptyObject.js":
/*!*******************************!*\
                  !*** ./util/isEmptyObject.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(C){return 0===Object.keys(C).length&&C.constructor===Object}},"./util/isObject.js":
/*!**************************!*\
                  !*** ./util/isObject.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/typeof */
"../node_modules/@babel/runtime/helpers/typeof.js"),y=s.n(p);d.default=function C(T){var D=y()(T);return null!==T&&("object"===D||"function"===D)}},"./util/isPointInImage.js":
/*!********************************!*\
                  !*** ./util/isPointInImage.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T){var D=y.x,h=y.y;return D<T&&D>=0&&h<C&&h>=0}s.r(d),s.d(d,"default",function(){return p})},"./util/isPointInPolygon.js":
/*!**********************************!*\
                  !*** ./util/isPointInPolygon.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){for(var T=y[0],D=y[1],h=!1,E=0,O=C.length-1;E<C.length;O=E++){var m=C[E][0],g=C[E][1],P=C[O][1];g>D!=P>D&&T<(C[O][0]-m)*(D-g)/(P-g)+m&&(h=!h)}return h}s.r(d),s.d(d,"default",function(){return p})},"./util/lineSegDistance.js":
/*!*********************************!*\
                  !*** ./util/lineSegDistance.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T,D){var h=p.default.cornerstone,E={start:h.pixelToCanvas(y,C),end:h.pixelToCanvas(y,T)};return p.default.cornerstoneMath.lineSegment.distanceToPoint(E,D)}},"./util/logger.js":
/*!************************!*\
                  !*** ./util/logger.js ***!
                  \************************/
/*! exports provided: getLogger, enable, disable */function(le,d,s){"use strict";s.r(d),s.d(d,"getLogger",function(){return D}),s.d(d,"enable",function(){return h}),s.d(d,"disable",function(){return E});var p=s(
/*! ./debugLib/index.js */
"./util/debugLib/index.js"),y="cornerstoneTools",C=Object(p.default)(y);!C.enabled&&(console.log("%cCornerstone Tools","background: #339955; padding: 4px; font-weight: bold; color: white"),console.info('run %clocalStorage.setItem("debug", "cornerstoneTools")%c to see console output',"background: #eaeaea; color: #333; font-family: monospace",""));var D=function(m){var g=C.extend(m);return{log:g,warn:console.warn.bind(console),error:console.error.bind(console)}},h=function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(y,":*");return p.default.enable(m)},E=function(){return p.default.disable()}},"./util/makeUnselectable.js":
/*!**********************************!*\
                  !*** ./util/makeUnselectable.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){p.style.webkitUserSelect="none",p.style.webkitTouchCallout="none",p.style.mozUserSelect="none",p.style.msUserSelect="none",p.style.oUserSelect="none",p.style.khtmlUserSelect="none",p.style.userSelect="none",p.unselectable="on",p.oncontextmenu=function(){return!1},!0===y&&(p.style.pointerEvents="none")}},"./util/numbersWithCommas.js":
/*!***********************************!*\
                  !*** ./util/numbersWithCommas.js ***!
                  \***********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var y=p.toString().split(".");return y[0]=y[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),y.join(".")}},"./util/pointInsideBoundingBox.js":
/*!****************************************!*\
                  !*** ./util/pointInsideBoundingBox.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C){if(y.boundingBox)return p.default.cornerstoneMath.point.insideRect(C,y.boundingBox)}},"./util/pointProjector.js":
/*!********************************!*\
                  !*** ./util/pointProjector.js ***!
                  \********************************/
/*! exports provided: projectPatientPointToImagePlane, imagePointToPatientPoint, planePlaneIntersection, rotatePoint */function(le,d,s){"use strict";s.r(d),s.d(d,"projectPatientPointToImagePlane",function(){return C}),s.d(d,"imagePointToPatientPoint",function(){return T}),s.d(d,"planePlaneIntersection",function(){return E}),s.d(d,"rotatePoint",function(){return O});var p=s(
/*! ../externalModules.js */
"./externalModules.js"),y=s(
/*! ../util/convertToVector3.js */
"./util/convertToVector3.js");function C(m,g){var v=Object(y.default)(g.rowCosines),P=Object(y.default)(g.columnCosines),b=Object(y.default)(g.imagePositionPatient),x=m.clone().sub(b);return{x:v.dot(x)/g.columnPixelSpacing,y:P.dot(x)/g.rowPixelSpacing}}function T(m,g){var v=Object(y.default)(g.rowCosines),P=Object(y.default)(g.columnCosines),b=Object(y.default)(g.imagePositionPatient),x=v.clone().multiplyScalar(m.x);x.multiplyScalar(g.columnPixelSpacing);var S=P.clone().multiplyScalar(m.y);S.multiplyScalar(g.rowPixelSpacing);var L=x.add(S);return L.add(b),L}function E(m,g){var v=Object(y.default)(m.rowCosines),P=Object(y.default)(m.columnCosines),b=Object(y.default)(m.imagePositionPatient),x=Object(y.default)(g.rowCosines),S=Object(y.default)(g.columnCosines),L=Object(y.default)(g.imagePositionPatient),w=v.clone().cross(P),N=new p.default.cornerstoneMath.Plane;N.setFromNormalAndCoplanarPoint(w,b);var j=x.clone().cross(S),W=new p.default.cornerstoneMath.Plane;W.setFromNormalAndCoplanarPoint(j,L);var B=W.clone().intersectPlane(N),G=B.origin,V=B.direction,F=T({x:g.columns,y:g.rows},g),z=L.distanceTo(F),te=new p.default.cornerstoneMath.Line3;te.start=G,te.end=G.clone().add(V.multiplyScalar(z));var ae=function h(m,g){var v=[];return Object.keys(g).forEach(function(P){var x=m.intersectLine(g[P]);x&&v.push(x)}),v}(te,function D(m){var g=T({x:0,y:0},m),v=T({x:m.columns,y:0},m),P=T({x:0,y:m.rows},m),b=T({x:m.columns,y:m.rows},m);return{top:new p.default.cornerstoneMath.Line3(g,v),left:new p.default.cornerstoneMath.Line3(g,P),right:new p.default.cornerstoneMath.Line3(v,b),bottom:new p.default.cornerstoneMath.Line3(P,b)}}(g));if(2===ae.length)return{start:ae[0],end:ae[1]}}function O(m,g,v){var P=v*(Math.PI/180);return{x:Math.cos(P)*(m.x-g.x)-Math.sin(P)*(m.y-g.y)+g.x,y:Math.sin(P)*(m.x-g.x)+Math.cos(P)*(m.y-g.y)+g.y}}},"./util/roundToDecimal.js":
/*!********************************!*\
                  !*** ./util/roundToDecimal.js ***!
                  \********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var C=Math.pow(10,y);return Math.round(p*C)/C}},"./util/scroll.js":
/*!************************!*\
                  !*** ./util/scroll.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./scrollToIndex.js */
"./util/scrollToIndex.js"),y=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),C=s(
/*! ./clip.js */
"./util/clip.js"),T=s(
/*! ./../externalModules.js */
"./externalModules.js");function D(h,E,O){if(h.pending[0]===E){if(h.currentImageIdIndex===E.index)return h.pending.splice(h.pending.indexOf(E),1),void(h.pending.length>0&&D(h,h.pending[0],O));O.addEventListener(T.default.cornerstone.EVENTS.NEW_IMAGE,function g(v){h.imageIds.indexOf(v.detail.image.imageId)===E.index&&(h.pending.splice(h.pending.indexOf(E),1),O.removeEventListener(T.default.cornerstone.EVENTS.NEW_IMAGE,g),h.pending.length>0&&D(h,h.pending[0],O))}),Object(p.default)(O,E.index)}}d.default=function(h,E){var O=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=Object(y.getToolState)(h,"stack");if(g&&g.data&&g.data.length){var v=g.data[0];v.pending||(v.pending=[]);var P=v.currentImageIdIndex+E;if(O?P%=v.imageIds.length:P=Object(C.default)(P,0,v.imageIds.length-1),m)Object(p.default)(h,P);else{var x={index:P};v.pending.push(x),D(v,x,h)}}}},"./util/scrollToIndex.js":
/*!*******************************!*\
                  !*** ./util/scrollToIndex.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../externalModules.js */
"./externalModules.js"),C=s(
/*! ../stateManagement/toolState.js */
"./stateManagement/toolState.js"),T=s(
/*! ../stateManagement/loadHandlerManager.js */
"./stateManagement/loadHandlerManager.js"),D=s(
/*! ../util/triggerEvent.js */
"./util/triggerEvent.js");d.default=function(h,E){var O=Object(C.getToolState)(h,"stack");if(O&&O.data&&O.data.length){var g,m=y.default.cornerstone;if(O.data.length>1){var v=Object(C.getToolState)(h,"stackRenderer");v&&v.data&&v.data.length&&(g=v.data[0])}var P=O.data[0];E<0&&(E+=P.imageIds.length);var b=T.default.getStartLoadHandler(h),x=T.default.getEndLoadHandler(h),S=T.default.getErrorLoadingHandler(h);if(E!==P.currentImageIdIndex){b&&b(h);var N={newImageIdIndex:E,direction:E-P.currentImageIdIndex};P.currentImageIdIndex=E;var j=P.imageIds[E];(P.preventCache?m.loadImage(j):m.loadAndCacheImage(j)).then(function L(G){if(P.currentImageIdIndex===E){try{m.getEnabledElement(h)}catch{return}g?(g.currentImageIdIndex=E,g.render(h,O.data)):m.displayImage(h,G),x&&x(h,G)}},function w(G){S&&S(h,P.imageIds[E],G)}),Object(D.default)(h,p.default.STACK_SCROLL,N)}}}},"./util/segmentation/drawBrush.js":
/*!****************************************!*\
                  !*** ./util/segmentation/drawBrush.js ***!
                  \****************************************/
/*! exports provided: drawBrushPixels */function(le,d,s){"use strict";s.r(d),s.d(d,"drawBrushPixels",function(){return T});var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p),C=s(
/*! ./eraseIfSegmentIndex.js */
"./util/segmentation/eraseIfSegmentIndex.js");function T(D,h,E,O){var m=arguments.length>4&&void 0!==arguments[4]&&arguments[4],g=function(P,b){return b*O+P};D.forEach(function(v){var P=g.apply(void 0,y()(v));m?Object(C.default)(P,h,E):h[P]=E})}},"./util/segmentation/eraseIfSegmentIndex.js":
/*!**************************************************!*\
                  !*** ./util/segmentation/eraseIfSegmentIndex.js ***!
                  \**************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T){C[y]===T&&(C[y]=0)}s.r(d),s.d(d,"default",function(){return p})},"./util/segmentation/eraseOutsideBoundingBox.js":
/*!******************************************************!*\
                  !*** ./util/segmentation/eraseOutsideBoundingBox.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ./eraseIfSegmentIndex */
"./util/segmentation/eraseIfSegmentIndex.js");function y(C,T,D,h){for(var O=T.pixelData,m=T.segmentIndex,g=C.detail.image,v=g.width,P=g.height,b=0;b<v;b++)for(var x=0;x<D[1];x++)Object(p.default)(x*v+b,O,m);for(var S=0;S<D[0];S++)for(var L=D[1];L<h[1];L++)Object(p.default)(L*v+S,O,m);for(var w=h[0];w<v;w++)for(var N=D[1];N<h[1];N++)Object(p.default)(N*v+w,O,m);for(var j=0;j<v;j++)for(var W=h[1];W<P;W++)Object(p.default)(W*v+j,O,m)}},"./util/segmentation/eraseShape.js":
/*!*****************************************!*\
                  !*** ./util/segmentation/eraseShape.js ***!
                  \*****************************************/
/*! exports provided: eraseInsideShape, eraseOutsideShape */function(le,d,s){"use strict";s.r(d),s.d(d,"eraseInsideShape",function(){return O}),s.d(d,"eraseOutsideShape",function(){return m});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ./eraseOutsideBoundingBox */
"./util/segmentation/eraseOutsideBoundingBox.js"),T=s(
/*! ./isSameSegment.js */
"./util/segmentation/isSameSegment.js"),D=s(
/*! ../logger.js */
"./util/logger.js");function E(g,v,P,b,x){var S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inside",L=g.detail.image.width,w=v.pixelData,N=v.segmentIndex,j=y()(b,2),W=j[0],B=j[1],G=y()(x,2),V=G[0],F=G[1];"outside"===S&&Object(C.default)(g,v,b,x);for(var z=W;z<V;z++)for(var te=B;te<F;te++){var q=te*L+z;Object(T.default)(q,w,N)&&P({x:z,y:te})&&(w[q]=0)}}function O(g,v,P,b,x){E(g,v,P,b,x,"inside")}function m(g,v,P,b,x){E(g,v,function(S){return!P(S)},b,x,"outside")}Object(D.getLogger)("util:segmentation:operations:eraseOutsideCircle")},"./util/segmentation/fillOutsideBoundingBox.js":
/*!*****************************************************!*\
                  !*** ./util/segmentation/fillOutsideBoundingBox.js ***!
                  \*****************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T,D){for(var h=C.pixelData,E=C.segmentIndex,O=y.detail.image,m=O.width,g=O.height,v=0;v<m;v++)for(var P=0;P<T[1];P++)h[P*m+v]=E;for(var b=0;b<T[0];b++)for(var x=T[1];x<D[1];x++)h[x*m+b]=E;for(var S=D[0];S<m;S++)for(var L=T[1];L<D[1];L++)h[L*m+S]=E;for(var w=0;w<m;w++)for(var N=D[1];N<g;N++)h[N*m+w]=E}s.r(d),s.d(d,"default",function(){return p})},"./util/segmentation/fillShape.js":
/*!****************************************!*\
                  !*** ./util/segmentation/fillShape.js ***!
                  \****************************************/
/*! exports provided: fillInsideShape, fillOutsideShape */function(le,d,s){"use strict";s.r(d),s.d(d,"fillInsideShape",function(){return E}),s.d(d,"fillOutsideShape",function(){return O});var p=s(
/*! @babel/runtime/helpers/slicedToArray */
"../node_modules/@babel/runtime/helpers/slicedToArray.js"),y=s.n(p),C=s(
/*! ./fillOutsideBoundingBox */
"./util/segmentation/fillOutsideBoundingBox.js"),T=s(
/*! ../logger.js */
"./util/logger.js"),D=Object(T.getLogger)("util:segmentation:operations:helpers:fillShape");function h(m,g,v,P,b){var x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inside",S=g.pixelData,L=g.segmentIndex;if(void 0!==S&&void 0!==L){var w=m.detail.image.width,N=y()(P,2),j=N[0],W=N[1],B=y()(b,2),G=B[0],V=B[1];"outside"===x&&Object(C.default)(m,g,P,b);for(var F=j;F<G;F++)for(var z=W;z<V;z++){var te=z*w+F;v({x:F,y:z})&&(S[te]=L)}}else D.error("fillInsideShape requires operationData to contain pixelData and segmentIndex")}function E(m,g,v,P,b){h(m,g,v,P,b,"inside")}function O(m,g,v,P,b){h(m,g,function(x){return!v(x)},P,b,"outside")}},"./util/segmentation/floodFill.js":
/*!****************************************!*\
                  !*** ./util/segmentation/floodFill.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! @babel/runtime/helpers/toConsumableArray */
"../node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=s.n(p);function C(h,E){return h===E}function D(h,E,O){return(new Array(O+1).join(E)+h).slice(-O)}d.default=function(h,E){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=O.onFlood||function(){},g=O.onBoundary||function(){},v=O.equals||C,P=O.diagonals||!1,b=te(E),x=function ae(){return function ie($){for(var Z=[],K=function(ue){return ue.split("").map(function(ye){return parseInt(ye,10)-1})},Q=0;Q<Math.pow(3,$);Q+=1){var ee=D(Q.toString(3),"0",$);Z.push(K(ee))}return Z}(E.length).filter(function(Z){var K=function T(h){for(var E=0,O=0;O<h.length;O+=1)0!==h[O]&&(E+=1);return E}(Z);return 0!==K&&(1===K||P)})}(),S=[],L=[],w={},N={};for(S.push({currentArgs:E});S.length>0;)j(S.pop());return{flooded:L,boundaries:function oe(){var $=[];for(var Z in N)N.hasOwnProperty(Z)&&$.unshift(N[Z]);return $}()};function j($){var Z=$.currentArgs,K=$.previousArgs;(function W($){return!0===w[$]})(Z)||(function B($){w[$]=!0}(Z),function G($){var Z=q(te,[$]);return q(v,[Z,b])}(Z)?(function V($){L.push($),m.apply(void 0,y()($))}(Z),function z($){for(var Z=0;Z<x.length;Z+=1){for(var K=x[Z],Q=$.slice(0),ee=0;ee<$.length;ee+=1)Q[ee]+=K[ee];S.push({currentArgs:Q,previousArgs:$})}}(Z)):function F($){N[$]=$,g.apply(void 0,y()($))}(K))}function te($){return h.apply(void 0,y()($))}function q($,Z){try{return $.apply(void 0,y()(Z))}catch{return}}}},"./util/segmentation/getBoundingBoxAroundCircle.js":
/*!*********************************************************!*\
                  !*** ./util/segmentation/getBoundingBoxAroundCircle.js ***!
                  \*********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ../getCircleCoords */
"./util/getCircleCoords.js");function y(C){var T=C.detail.handles,D=C.detail.image,h=D.width,E=D.height,O=Object(p.default)(T.start,T.end),m=O.width+O.left,g=O.left,v=O.top+O.height,P=O.top;return g=Math.floor(g),P=Math.floor(P),m=Math.floor(m),v=Math.floor(v),m=Math.min(h,m),g=Math.max(0,g),v=Math.min(E,v),[[g,P=Math.max(0,P)],[m,v]]}},"./util/segmentation/getBoundingBoxAroundPolygon.js":
/*!**********************************************************!*\
                  !*** ./util/segmentation/getBoundingBoxAroundPolygon.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){var T=1/0,D=0,h=1/0,E=0,O=C.width,m=C.height;return y.forEach(function(g){T=Math.min(g[0],T),D=Math.max(g[0],D),h=Math.min(g[1],h),E=Math.max(g[1],E)}),T=Math.floor(T),h=Math.floor(h),D=Math.floor(D),E=Math.floor(E),D=Math.min(O,D),T=Math.max(0,T),E=Math.min(m,E),h=Math.max(0,h),[[T,h],[D,E]]}s.r(d),s.d(d,"default",function(){return p})},"./util/segmentation/getCircle.js":
/*!****************************************!*\
                  !*** ./util/segmentation/getCircle.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T){var h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,E=Math.floor(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0),O=Math.floor(h);if(1===y)return[[E,O]];for(var m=[],g=0,v=-y;v<=y;v++){var P=O+v;if(!(P>C||P<0))for(var b=-y;b<=y;b++){var x=E+b;x>=T||x<0||b*b+v*v<y*y&&(m[g++]=[E+b,O+v])}}return m}s.r(d),s.d(d,"default",function(){return p})},"./util/segmentation/getDiffBetweenPixelData.js":
/*!******************************************************!*\
                  !*** ./util/segmentation/getDiffBetweenPixelData.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){for(var T=[],D=0;D<y.length;D++)y[D]!==C[D]&&T.push([D,y[D],C[D]]);return T}s.r(d),s.d(d,"default",function(){return p})},"./util/segmentation/getPixelPathBetweenPixels.js":
/*!********************************************************!*\
                  !*** ./util/segmentation/getPixelPathBetweenPixels.js ***!
                  \********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../../externalModules.js */
"./externalModules.js"),y=1/Math.sqrt(2),C={up:{x:0,y:1},upRight:{x:y,y},right:{x:1,y:0},downRight:{x:y,y:-y},down:{x:0,y:1},downLeft:{x:-y,y:-y},left:{x:-1,y:0},upLeft:{x:-y,y}};function T(v,P){var b=O(v,P);switch(g([m(b,C.up),m(b,C.right),m(b,C.upRight)])){case 0:v.y++;break;case 1:v.x++;break;case 2:v.y++,v.x++}}function D(v,P){var b=O(v,P);switch(g([m(b,C.up),m(b,C.left),m(b,C.upLeft)])){case 0:v.y++;break;case 1:v.x--;break;case 2:v.y++,v.x--}}function h(v,P){var b=O(v,P);switch(g([m(b,C.down),m(b,C.right),m(b,C.downRight)])){case 0:v.y--;break;case 1:v.x++;break;case 2:v.y--,v.x++}}function E(v,P){var b=O(v,P);switch(g([m(b,C.down),m(b,C.left),m(b,C.downLeft)])){case 0:v.y--;break;case 1:v.x--;break;case 2:v.y--,v.x--}}function O(v,P){var b=p.default.cornerstoneMath.point.distance(v,P);return{x:(P.x-v.x)/b,y:(P.y-v.y)/b}}function m(v,P){return v.x*P.x+v.y*P.y}function g(v){var P=v[0]>v[1]?0:1;return v[2]>v[P]&&(P=2),P}d.default=function(v,P){for(var b={x:v.x,y:v.y},x=[];P.x!==b.x||P.y!==b.y;)P.x===b.x?P.y>b.y?b.y++:b.y--:P.y===b.y?P.x>b.x?b.x++:b.x--:P.y>b.y?P.x>b.x?T(b,P):D(b,P):P.x>b.x?h(b,P):E(b,P),x.push({x:b.x,y:b.y});return x.pop(),x}},"./util/segmentation/index.js":
/*!************************************!*\
                  !*** ./util/segmentation/index.js ***!
                  \************************************/
/*! exports provided: drawBrushPixels, eraseIfSegmentIndex, eraseOutsideBoundingBox, eraseInsideShape, eraseOutsideShape, fillOutsideBoundingBox, fillInsideShape, fillOutsideShape, floodFill, getBoundingBoxAroundCircle, getBoundingBoxAroundPolygon, getCircle, getPixelPathBetweenPixels, isSameSegment, triggerLabelmapModifiedEvent, getDiffBetweenPixelData */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./drawBrush */
"./util/segmentation/drawBrush.js");s.d(d,"drawBrushPixels",function(){return p.drawBrushPixels});var y=s(
/*! ./eraseIfSegmentIndex */
"./util/segmentation/eraseIfSegmentIndex.js");s.d(d,"eraseIfSegmentIndex",function(){return y.default});var C=s(
/*! ./eraseOutsideBoundingBox */
"./util/segmentation/eraseOutsideBoundingBox.js");s.d(d,"eraseOutsideBoundingBox",function(){return C.default});var T=s(
/*! ./eraseShape */
"./util/segmentation/eraseShape.js");s.d(d,"eraseInsideShape",function(){return T.eraseInsideShape}),s.d(d,"eraseOutsideShape",function(){return T.eraseOutsideShape});var D=s(
/*! ./fillOutsideBoundingBox */
"./util/segmentation/fillOutsideBoundingBox.js");s.d(d,"fillOutsideBoundingBox",function(){return D.default});var h=s(
/*! ./fillShape */
"./util/segmentation/fillShape.js");s.d(d,"fillInsideShape",function(){return h.fillInsideShape}),s.d(d,"fillOutsideShape",function(){return h.fillOutsideShape});var E=s(
/*! ./floodFill */
"./util/segmentation/floodFill.js");s.d(d,"floodFill",function(){return E.default});var O=s(
/*! ./getBoundingBoxAroundCircle */
"./util/segmentation/getBoundingBoxAroundCircle.js");s.d(d,"getBoundingBoxAroundCircle",function(){return O.default});var m=s(
/*! ./getBoundingBoxAroundPolygon */
"./util/segmentation/getBoundingBoxAroundPolygon.js");s.d(d,"getBoundingBoxAroundPolygon",function(){return m.default});var g=s(
/*! ./getCircle */
"./util/segmentation/getCircle.js");s.d(d,"getCircle",function(){return g.default});var v=s(
/*! ./getPixelPathBetweenPixels */
"./util/segmentation/getPixelPathBetweenPixels.js");s.d(d,"getPixelPathBetweenPixels",function(){return v.default});var P=s(
/*! ./isSameSegment */
"./util/segmentation/isSameSegment.js");s.d(d,"isSameSegment",function(){return P.default});var b=s(
/*! ./triggerLabelmapModifiedEvent */
"./util/segmentation/triggerLabelmapModifiedEvent.js");s.d(d,"triggerLabelmapModifiedEvent",function(){return b.default});var x=s(
/*! ./getDiffBetweenPixelData */
"./util/segmentation/getDiffBetweenPixelData.js");s.d(d,"getDiffBetweenPixelData",function(){return x.default})},"./util/segmentation/isSameSegment.js":
/*!********************************************!*\
                  !*** ./util/segmentation/isSameSegment.js ***!
                  \********************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C,T){return C[y]===T}s.r(d),s.d(d,"default",function(){return p})},"./util/segmentation/triggerLabelmapModifiedEvent.js":
/*!***********************************************************!*\
                  !*** ./util/segmentation/triggerLabelmapModifiedEvent.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return T});var p=s(
/*! ../../externalModules */
"./externalModules.js"),y=s(
/*! ../../events.js */
"./events.js"),C=s(
/*! ../../store */
"./store/index.js");function T(D,h){var E=Object(C.getModule)("segmentation");h=void 0===h?E.getters.activeLabelmapIndex(D):h,p.default.cornerstone.triggerEvent(D,y.default.LABELMAP_MODIFIED,{labelmapIndex:h})}},"./util/setContextToDisplayFontSize.js":
/*!*********************************************!*\
                  !*** ./util/setContextToDisplayFontSize.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../externalModules.js */
"./externalModules.js");d.default=function(y,C,T){var D=.1;return p.default.cornerstone.setToPixelCoordinateSystem(y,C,D),{fontSize:T/y.viewport.scale/D,lineHeight:T/y.viewport.scale/D,fontScale:D}}},"./util/throttle.js":
/*!**************************!*\
                  !*** ./util/throttle.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./debounce.js */
"./util/debounce.js"),y=s(
/*! ./isObject.js */
"./util/isObject.js");d.default=function C(T,D,h){var E=!0,O=!0;if("function"!=typeof T)throw new TypeError("Expected a function");return Object(y.default)(h)&&(E="leading"in h?!!h.leading:E,O="trailing"in h?!!h.trailing:O),Object(p.default)(T,D,{leading:E,trailing:O,maxWait:D})}},"./util/triggerEvent.js":
/*!******************************!*\
                  !*** ./util/triggerEvent.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){var D,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"function"==typeof window.CustomEvent?D=new CustomEvent(C,{detail:T,cancelable:!0}):(D=document.createEvent("CustomEvent")).initCustomEvent(C,!0,!0,T),y.dispatchEvent(D)}s.r(d),s.d(d,"default",function(){return p})},"./util/uuidv4.js":
/*!************************!*\
                  !*** ./util/uuidv4.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var C=16*Math.random()|0;return("x"===y?C:3&C|8).toString(16)})}s.r(d),s.d(d,"default",function(){return p})},"./util/wait.js":
/*!**********************!*\
                  !*** ./util/wait.js ***!
                  \**********************/
/*! exports provided: wait, waitForEnabledElementImageToLoad, default */function(le,d,s){"use strict";s.r(d),s.d(d,"wait",function(){return y}),s.d(d,"waitForEnabledElementImageToLoad",function(){return C});var p=s(
/*! ./../externalModules.js */
"./externalModules.js"),y=function(D){return new Promise(function(h){return setTimeout(h,D)})};function C(T){try{var D=p.default.cornerstone.getEnabledElement(T);return D.image?D:y(250).then(function(){return C(T)})}catch{return null}}d.default=y},"./util/zoom/changeViewportScale.js":
/*!******************************************!*\
                  !*** ./util/zoom/changeViewportScale.js ***!
                  \******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y,C){var T=C.maxScale,D=C.minScale,E=Math.log(p.scale)/Math.log(1.7),m=Math.pow(1.7,E+y);return p.scale=T&&m>T?T:D&&m<D?D:m,p}},"./util/zoom/correctShift.js":
/*!***********************************!*\
                  !*** ./util/zoom/correctShift.js ***!
                  \***********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var T=y.vflip,D=y.rotation;if(p.x*=y.hflip?-1:1,p.y*=T?-1:1,0!==D){var h=D*Math.PI/180,E=Math.cos(h),O=Math.sin(h),g=p.x*O+p.y*E;p.x=p.x*E-p.y*O,p.y=g}return p}},"./util/zoom/index.js":
/*!****************************!*\
                  !*** ./util/zoom/index.js ***!
                  \****************************/
/*! exports provided: changeViewportScale, correctShift, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./changeViewportScale.js */
"./util/zoom/changeViewportScale.js");s.d(d,"changeViewportScale",function(){return p.default});var y=s(
/*! ./correctShift.js */
"./util/zoom/correctShift.js");s.d(d,"correctShift",function(){return y.default}),d.default={changeViewportScale:p.default,correctShift:y.default}},"./version.js":
/*!********************!*\
                  !*** ./version.js ***!
                  \********************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default="6.0.10"}})},3633:_a=>{window,_a.exports=function(le){var s=window.webpackHotUpdate;window.webpackHotUpdate=function(Z,K){(function z($,Z){if(j[$]&&N[$]){for(var K in N[$]=!1,Z)Object.prototype.hasOwnProperty.call(Z,K)&&(B[K]=Z[K]);0===--S&&0===L&&q()}})(Z,K),s&&s(Z,K)};var E,C=!0,T="4d8d88ba53621f59b9a9",D=1e4,h={},O=[],m=[];function g($){var Z=ie[$];if(!Z)return oe;var K=function(ne){return Z.hot.active?(ie[ne]?-1===ie[ne].parents.indexOf($)&&ie[ne].parents.push($):(O=[$],E=ne),-1===Z.children.indexOf(ne)&&Z.children.push(ne)):(console.warn("[HMR] unexpected require("+ne+") from disposed module "+$),O=[]),oe(ne)},Q=function(ue){return{configurable:!0,enumerable:!0,get:function(){return oe[ue]},set:function(ye){oe[ue]=ye}}};for(var ee in oe)Object.prototype.hasOwnProperty.call(oe,ee)&&"e"!==ee&&"t"!==ee&&Object.defineProperty(K,ee,Q(ee));return K.e=function(ne){return"ready"===b&&x("prepare"),L++,oe.e(ne).then(ue,function(ye){throw ue(),ye});function ue(){L--,"prepare"===b&&(w[ne]||te(ne),0===L&&0===S&&q())}},K.t=function(ne,ue){return 1&ue&&(ne=K(ne)),oe.t(ne,-2&ue)},K}function v($){var Z={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:E!==$,active:!0,accept:function(K,Q){if(void 0===K)Z._selfAccepted=!0;else if("function"==typeof K)Z._selfAccepted=K;else if("object"==typeof K)for(var ee=0;ee<K.length;ee++)Z._acceptedDependencies[K[ee]]=Q||function(){};else Z._acceptedDependencies[K]=Q||function(){}},decline:function(K){if(void 0===K)Z._selfDeclined=!0;else if("object"==typeof K)for(var Q=0;Q<K.length;Q++)Z._declinedDependencies[K[Q]]=!0;else Z._declinedDependencies[K]=!0},dispose:function(K){Z._disposeHandlers.push(K)},addDisposeHandler:function(K){Z._disposeHandlers.push(K)},removeDisposeHandler:function(K){var Q=Z._disposeHandlers.indexOf(K);Q>=0&&Z._disposeHandlers.splice(Q,1)},check:F,apply:ae,status:function(K){if(!K)return b;P.push(K)},addStatusHandler:function(K){P.push(K)},removeStatusHandler:function(K){var Q=P.indexOf(K);Q>=0&&P.splice(Q,1)},data:h[$]};return E=void 0,Z}var P=[],b="idle";function x($){b=$;for(var Z=0;Z<P.length;Z++)P[Z].call(null,$)}var W,B,G,S=0,L=0,w={},N={},j={};function V($){return+$+""===$?+$:$}function F($){if("idle"!==b)throw new Error("check() is only allowed in idle status");return C=$,x("check"),function y($){return $=$||1e4,new Promise(function(Z,K){if(typeof XMLHttpRequest>"u")return K(new Error("No browser support"));try{var Q=new XMLHttpRequest,ee=oe.p+""+T+".hot-update.json";Q.open("GET",ee,!0),Q.timeout=$,Q.send(null)}catch(ne){return K(ne)}Q.onreadystatechange=function(){if(4===Q.readyState)if(0===Q.status)K(new Error("Manifest request to "+ee+" timed out."));else if(404===Q.status)Z();else if(200!==Q.status&&304!==Q.status)K(new Error("Manifest request to "+ee+" failed."));else{try{var ne=JSON.parse(Q.responseText)}catch(ue){return void K(ue)}Z(ne)}}})}(D).then(function(Z){if(!Z)return x("idle"),null;N={},w={},j=Z.c,G=Z.h,x("prepare");var K=new Promise(function(ee,ne){W={resolve:ee,reject:ne}});return B={},te("cornerstone"),"prepare"===b&&0===L&&0===S&&q(),K})}function te($){j[$]?(N[$]=!0,S++,function p($){var Z=document.getElementsByTagName("head")[0],K=document.createElement("script");K.charset="utf-8",K.src=oe.p+""+$+"."+T+".hot-update.js",Z.appendChild(K)}($)):w[$]=!0}function q(){x("ready");var $=W;if(W=null,$)if(C)Promise.resolve().then(function(){return ae(C)}).then(function(Q){$.resolve(Q)},function(Q){$.reject(Q)});else{var Z=[];for(var K in B)Object.prototype.hasOwnProperty.call(B,K)&&Z.push(V(K));$.resolve(Z)}}function ae($){if("ready"!==b)throw new Error("apply() is only allowed in ready status");var Z,K,Q,ee,ne;function ue(yt){for(var Ht=[yt],ln={},$t=Ht.slice().map(function(wr){return{chain:[wr],id:wr}});$t.length>0;){var or=$t.pop(),_n=or.id,er=or.chain;if((ee=ie[_n])&&!ee.hot._selfAccepted){if(ee.hot._selfDeclined)return{type:"self-declined",chain:er,moduleId:_n};if(ee.hot._main)return{type:"unaccepted",chain:er,moduleId:_n};for(var Xt=0;Xt<ee.parents.length;Xt++){var cn=ee.parents[Xt],ir=ie[cn];if(ir){if(ir.hot._declinedDependencies[_n])return{type:"declined",chain:er.concat([cn]),moduleId:_n,parentId:cn};if(-1===Ht.indexOf(cn)){if(ir.hot._acceptedDependencies[_n]){ln[cn]||(ln[cn]=[]),ye(ln[cn],[_n]);continue}delete ln[cn],Ht.push(cn),$t.push({chain:er.concat([cn]),id:cn})}}}}}return{type:"accepted",moduleId:yt,outdatedModules:Ht,outdatedDependencies:ln}}function ye(yt,Ht){for(var ln=0;ln<Ht.length;ln++){var $t=Ht[ln];-1===yt.indexOf($t)&&yt.push($t)}}$=$||{};var Ee={},Se=[],ke={},Xe=function(){console.warn("[HMR] unexpected require("+st.moduleId+") to disposed module")};for(var mt in B)if(Object.prototype.hasOwnProperty.call(B,mt)){var st;ne=V(mt);var Rt=!1,Ge=!1,Pe=!1,He="";switch((st=B[mt]?ue(ne):{type:"disposed",moduleId:mt}).chain&&(He="\nUpdate propagation: "+st.chain.join(" -> ")),st.type){case"self-declined":$.onDeclined&&$.onDeclined(st),$.ignoreDeclined||(Rt=new Error("Aborted because of self decline: "+st.moduleId+He));break;case"declined":$.onDeclined&&$.onDeclined(st),$.ignoreDeclined||(Rt=new Error("Aborted because of declined dependency: "+st.moduleId+" in "+st.parentId+He));break;case"unaccepted":$.onUnaccepted&&$.onUnaccepted(st),$.ignoreUnaccepted||(Rt=new Error("Aborted because "+ne+" is not accepted"+He));break;case"accepted":$.onAccepted&&$.onAccepted(st),Ge=!0;break;case"disposed":$.onDisposed&&$.onDisposed(st),Pe=!0;break;default:throw new Error("Unexception type "+st.type)}if(Rt)return x("abort"),Promise.reject(Rt);if(Ge)for(ne in ke[ne]=B[ne],ye(Se,st.outdatedModules),st.outdatedDependencies)Object.prototype.hasOwnProperty.call(st.outdatedDependencies,ne)&&(Ee[ne]||(Ee[ne]=[]),ye(Ee[ne],st.outdatedDependencies[ne]));Pe&&(ye(Se,[st.moduleId]),ke[ne]=Xe)}var jt,Ke=[];for(K=0;K<Se.length;K++)ie[ne=Se[K]]&&ie[ne].hot._selfAccepted&&Ke.push({module:ne,errorHandler:ie[ne].hot._selfAccepted});x("dispose"),Object.keys(j).forEach(function(yt){!1===j[yt]&&function d($){delete installedChunks[$]}(yt)});for(var Ye,ct=Se.slice();ct.length>0;)if(ne=ct.pop(),ee=ie[ne]){var ft={},pt=ee.hot._disposeHandlers;for(Q=0;Q<pt.length;Q++)(Z=pt[Q])(ft);for(h[ne]=ft,ee.hot.active=!1,delete ie[ne],delete Ee[ne],Q=0;Q<ee.children.length;Q++){var St=ie[ee.children[Q]];St&&(Ye=St.parents.indexOf(ne))>=0&&St.parents.splice(Ye,1)}}for(ne in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ne)&&(ee=ie[ne]))for(jt=Ee[ne],Q=0;Q<jt.length;Q++)(Ye=ee.children.indexOf(jt[Q]))>=0&&ee.children.splice(Ye,1);for(ne in x("apply"),T=G,ke)Object.prototype.hasOwnProperty.call(ke,ne)&&(le[ne]=ke[ne]);var Tt=null;for(ne in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ne)&&(ee=ie[ne])){jt=Ee[ne];var Vt=[];for(K=0;K<jt.length;K++)if(Z=ee.hot._acceptedDependencies[jt[K]]){if(-1!==Vt.indexOf(Z))continue;Vt.push(Z)}for(K=0;K<Vt.length;K++){Z=Vt[K];try{Z(jt)}catch(yt){$.onErrored&&$.onErrored({type:"accept-errored",moduleId:ne,dependencyId:jt[K],error:yt}),$.ignoreErrored||Tt||(Tt=yt)}}}for(K=0;K<Ke.length;K++){var kt=Ke[K];O=[ne=kt.module];try{oe(ne)}catch(yt){if("function"==typeof kt.errorHandler)try{kt.errorHandler(yt)}catch(Ht){$.onErrored&&$.onErrored({type:"self-accept-error-handler-errored",moduleId:ne,error:Ht,originalError:yt}),$.ignoreErrored||Tt||(Tt=Ht),Tt||(Tt=yt)}else $.onErrored&&$.onErrored({type:"self-accept-errored",moduleId:ne,error:yt}),$.ignoreErrored||Tt||(Tt=yt)}}return Tt?(x("fail"),Promise.reject(Tt)):(x("idle"),new Promise(function(yt){yt(Se)}))}var ie={};function oe($){if(ie[$])return ie[$].exports;var Z=ie[$]={i:$,l:!1,exports:{},hot:v($),parents:(m=O,O=[],m),children:[]};return le[$].call(Z.exports,Z,Z.exports,g($)),Z.l=!0,Z.exports}return oe.m=le,oe.c=ie,oe.d=function($,Z,K){oe.o($,Z)||Object.defineProperty($,Z,{enumerable:!0,get:K})},oe.r=function($){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})},oe.t=function($,Z){if(1&Z&&($=oe($)),8&Z||4&Z&&"object"==typeof $&&$&&$.__esModule)return $;var K=Object.create(null);if(oe.r(K),Object.defineProperty(K,"default",{enumerable:!0,value:$}),2&Z&&"string"!=typeof $)for(var Q in $)oe.d(K,Q,function(ee){return $[ee]}.bind(null,Q));return K},oe.n=function($){var Z=$&&$.__esModule?function(){return $.default}:function(){return $};return oe.d(Z,"a",Z),Z},oe.o=function($,Z){return Object.prototype.hasOwnProperty.call($,Z)},oe.p="",oe.h=function(){return T},g("./index.js")(oe.s="./index.js")}({"./canvasToPixel.js":
/*!**************************!*\
                  !*** ./canvasToPixel.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/getTransform.js */
"./internal/getTransform.js");d.default=function(C,T){var D=Object(p.getEnabledElement)(C),h=Object(y.default)(D);return h.invert(),h.transformPoint(T.x,T.y)}},"./colors/colormap.js":
/*!****************************!*\
                  !*** ./colors/colormap.js ***!
                  \****************************/
/*! exports provided: getColormapsList, getColormap */function(le,d,s){"use strict";s.r(d),s.d(d,"getColormapsList",function(){return m}),s.d(d,"getColormap",function(){return g});var p=s(
/*! ./lookupTable.js */
"./colors/lookupTable.js"),y=[0,0,0,0],C={hotIron:{name:"Hot Iron",numOfColors:256,colors:[[0,0,0,255],[2,0,0,255],[4,0,0,255],[6,0,0,255],[8,0,0,255],[10,0,0,255],[12,0,0,255],[14,0,0,255],[16,0,0,255],[18,0,0,255],[20,0,0,255],[22,0,0,255],[24,0,0,255],[26,0,0,255],[28,0,0,255],[30,0,0,255],[32,0,0,255],[34,0,0,255],[36,0,0,255],[38,0,0,255],[40,0,0,255],[42,0,0,255],[44,0,0,255],[46,0,0,255],[48,0,0,255],[50,0,0,255],[52,0,0,255],[54,0,0,255],[56,0,0,255],[58,0,0,255],[60,0,0,255],[62,0,0,255],[64,0,0,255],[66,0,0,255],[68,0,0,255],[70,0,0,255],[72,0,0,255],[74,0,0,255],[76,0,0,255],[78,0,0,255],[80,0,0,255],[82,0,0,255],[84,0,0,255],[86,0,0,255],[88,0,0,255],[90,0,0,255],[92,0,0,255],[94,0,0,255],[96,0,0,255],[98,0,0,255],[100,0,0,255],[102,0,0,255],[104,0,0,255],[106,0,0,255],[108,0,0,255],[110,0,0,255],[112,0,0,255],[114,0,0,255],[116,0,0,255],[118,0,0,255],[120,0,0,255],[122,0,0,255],[124,0,0,255],[126,0,0,255],[128,0,0,255],[130,0,0,255],[132,0,0,255],[134,0,0,255],[136,0,0,255],[138,0,0,255],[140,0,0,255],[142,0,0,255],[144,0,0,255],[146,0,0,255],[148,0,0,255],[150,0,0,255],[152,0,0,255],[154,0,0,255],[156,0,0,255],[158,0,0,255],[160,0,0,255],[162,0,0,255],[164,0,0,255],[166,0,0,255],[168,0,0,255],[170,0,0,255],[172,0,0,255],[174,0,0,255],[176,0,0,255],[178,0,0,255],[180,0,0,255],[182,0,0,255],[184,0,0,255],[186,0,0,255],[188,0,0,255],[190,0,0,255],[192,0,0,255],[194,0,0,255],[196,0,0,255],[198,0,0,255],[200,0,0,255],[202,0,0,255],[204,0,0,255],[206,0,0,255],[208,0,0,255],[210,0,0,255],[212,0,0,255],[214,0,0,255],[216,0,0,255],[218,0,0,255],[220,0,0,255],[222,0,0,255],[224,0,0,255],[226,0,0,255],[228,0,0,255],[230,0,0,255],[232,0,0,255],[234,0,0,255],[236,0,0,255],[238,0,0,255],[240,0,0,255],[242,0,0,255],[244,0,0,255],[246,0,0,255],[248,0,0,255],[250,0,0,255],[252,0,0,255],[254,0,0,255],[255,0,0,255],[255,2,0,255],[255,4,0,255],[255,6,0,255],[255,8,0,255],[255,10,0,255],[255,12,0,255],[255,14,0,255],[255,16,0,255],[255,18,0,255],[255,20,0,255],[255,22,0,255],[255,24,0,255],[255,26,0,255],[255,28,0,255],[255,30,0,255],[255,32,0,255],[255,34,0,255],[255,36,0,255],[255,38,0,255],[255,40,0,255],[255,42,0,255],[255,44,0,255],[255,46,0,255],[255,48,0,255],[255,50,0,255],[255,52,0,255],[255,54,0,255],[255,56,0,255],[255,58,0,255],[255,60,0,255],[255,62,0,255],[255,64,0,255],[255,66,0,255],[255,68,0,255],[255,70,0,255],[255,72,0,255],[255,74,0,255],[255,76,0,255],[255,78,0,255],[255,80,0,255],[255,82,0,255],[255,84,0,255],[255,86,0,255],[255,88,0,255],[255,90,0,255],[255,92,0,255],[255,94,0,255],[255,96,0,255],[255,98,0,255],[255,100,0,255],[255,102,0,255],[255,104,0,255],[255,106,0,255],[255,108,0,255],[255,110,0,255],[255,112,0,255],[255,114,0,255],[255,116,0,255],[255,118,0,255],[255,120,0,255],[255,122,0,255],[255,124,0,255],[255,126,0,255],[255,128,4,255],[255,130,8,255],[255,132,12,255],[255,134,16,255],[255,136,20,255],[255,138,24,255],[255,140,28,255],[255,142,32,255],[255,144,36,255],[255,146,40,255],[255,148,44,255],[255,150,48,255],[255,152,52,255],[255,154,56,255],[255,156,60,255],[255,158,64,255],[255,160,68,255],[255,162,72,255],[255,164,76,255],[255,166,80,255],[255,168,84,255],[255,170,88,255],[255,172,92,255],[255,174,96,255],[255,176,100,255],[255,178,104,255],[255,180,108,255],[255,182,112,255],[255,184,116,255],[255,186,120,255],[255,188,124,255],[255,190,128,255],[255,192,132,255],[255,194,136,255],[255,196,140,255],[255,198,144,255],[255,200,148,255],[255,202,152,255],[255,204,156,255],[255,206,160,255],[255,208,164,255],[255,210,168,255],[255,212,172,255],[255,214,176,255],[255,216,180,255],[255,218,184,255],[255,220,188,255],[255,222,192,255],[255,224,196,255],[255,226,200,255],[255,228,204,255],[255,230,208,255],[255,232,212,255],[255,234,216,255],[255,236,220,255],[255,238,224,255],[255,240,228,255],[255,242,232,255],[255,244,236,255],[255,246,240,255],[255,248,244,255],[255,250,248,255],[255,252,252,255],[255,255,255,255]]},pet:{name:"PET",numColors:256,colors:[[0,0,0,255],[0,2,1,255],[0,4,3,255],[0,6,5,255],[0,8,7,255],[0,10,9,255],[0,12,11,255],[0,14,13,255],[0,16,15,255],[0,18,17,255],[0,20,19,255],[0,22,21,255],[0,24,23,255],[0,26,25,255],[0,28,27,255],[0,30,29,255],[0,32,31,255],[0,34,33,255],[0,36,35,255],[0,38,37,255],[0,40,39,255],[0,42,41,255],[0,44,43,255],[0,46,45,255],[0,48,47,255],[0,50,49,255],[0,52,51,255],[0,54,53,255],[0,56,55,255],[0,58,57,255],[0,60,59,255],[0,62,61,255],[0,65,63,255],[0,67,65,255],[0,69,67,255],[0,71,69,255],[0,73,71,255],[0,75,73,255],[0,77,75,255],[0,79,77,255],[0,81,79,255],[0,83,81,255],[0,85,83,255],[0,87,85,255],[0,89,87,255],[0,91,89,255],[0,93,91,255],[0,95,93,255],[0,97,95,255],[0,99,97,255],[0,101,99,255],[0,103,101,255],[0,105,103,255],[0,107,105,255],[0,109,107,255],[0,111,109,255],[0,113,111,255],[0,115,113,255],[0,117,115,255],[0,119,117,255],[0,121,119,255],[0,123,121,255],[0,125,123,255],[0,128,125,255],[1,126,127,255],[3,124,129,255],[5,122,131,255],[7,120,133,255],[9,118,135,255],[11,116,137,255],[13,114,139,255],[15,112,141,255],[17,110,143,255],[19,108,145,255],[21,106,147,255],[23,104,149,255],[25,102,151,255],[27,100,153,255],[29,98,155,255],[31,96,157,255],[33,94,159,255],[35,92,161,255],[37,90,163,255],[39,88,165,255],[41,86,167,255],[43,84,169,255],[45,82,171,255],[47,80,173,255],[49,78,175,255],[51,76,177,255],[53,74,179,255],[55,72,181,255],[57,70,183,255],[59,68,185,255],[61,66,187,255],[63,64,189,255],[65,63,191,255],[67,61,193,255],[69,59,195,255],[71,57,197,255],[73,55,199,255],[75,53,201,255],[77,51,203,255],[79,49,205,255],[81,47,207,255],[83,45,209,255],[85,43,211,255],[86,41,213,255],[88,39,215,255],[90,37,217,255],[92,35,219,255],[94,33,221,255],[96,31,223,255],[98,29,225,255],[100,27,227,255],[102,25,229,255],[104,23,231,255],[106,21,233,255],[108,19,235,255],[110,17,237,255],[112,15,239,255],[114,13,241,255],[116,11,243,255],[118,9,245,255],[120,7,247,255],[122,5,249,255],[124,3,251,255],[126,1,253,255],[128,0,255,255],[130,2,252,255],[132,4,248,255],[134,6,244,255],[136,8,240,255],[138,10,236,255],[140,12,232,255],[142,14,228,255],[144,16,224,255],[146,18,220,255],[148,20,216,255],[150,22,212,255],[152,24,208,255],[154,26,204,255],[156,28,200,255],[158,30,196,255],[160,32,192,255],[162,34,188,255],[164,36,184,255],[166,38,180,255],[168,40,176,255],[170,42,172,255],[171,44,168,255],[173,46,164,255],[175,48,160,255],[177,50,156,255],[179,52,152,255],[181,54,148,255],[183,56,144,255],[185,58,140,255],[187,60,136,255],[189,62,132,255],[191,64,128,255],[193,66,124,255],[195,68,120,255],[197,70,116,255],[199,72,112,255],[201,74,108,255],[203,76,104,255],[205,78,100,255],[207,80,96,255],[209,82,92,255],[211,84,88,255],[213,86,84,255],[215,88,80,255],[217,90,76,255],[219,92,72,255],[221,94,68,255],[223,96,64,255],[225,98,60,255],[227,100,56,255],[229,102,52,255],[231,104,48,255],[233,106,44,255],[235,108,40,255],[237,110,36,255],[239,112,32,255],[241,114,28,255],[243,116,24,255],[245,118,20,255],[247,120,16,255],[249,122,12,255],[251,124,8,255],[253,126,4,255],[255,128,0,255],[255,130,4,255],[255,132,8,255],[255,134,12,255],[255,136,16,255],[255,138,20,255],[255,140,24,255],[255,142,28,255],[255,144,32,255],[255,146,36,255],[255,148,40,255],[255,150,44,255],[255,152,48,255],[255,154,52,255],[255,156,56,255],[255,158,60,255],[255,160,64,255],[255,162,68,255],[255,164,72,255],[255,166,76,255],[255,168,80,255],[255,170,85,255],[255,172,89,255],[255,174,93,255],[255,176,97,255],[255,178,101,255],[255,180,105,255],[255,182,109,255],[255,184,113,255],[255,186,117,255],[255,188,121,255],[255,190,125,255],[255,192,129,255],[255,194,133,255],[255,196,137,255],[255,198,141,255],[255,200,145,255],[255,202,149,255],[255,204,153,255],[255,206,157,255],[255,208,161,255],[255,210,165,255],[255,212,170,255],[255,214,174,255],[255,216,178,255],[255,218,182,255],[255,220,186,255],[255,222,190,255],[255,224,194,255],[255,226,198,255],[255,228,202,255],[255,230,206,255],[255,232,210,255],[255,234,214,255],[255,236,218,255],[255,238,222,255],[255,240,226,255],[255,242,230,255],[255,244,234,255],[255,246,238,255],[255,248,242,255],[255,250,246,255],[255,252,250,255],[255,255,255,255]]},hotMetalBlue:{name:"Hot Metal Blue",numColors:256,colors:[[0,0,0,255],[0,0,2,255],[0,0,4,255],[0,0,6,255],[0,0,8,255],[0,0,10,255],[0,0,12,255],[0,0,14,255],[0,0,16,255],[0,0,17,255],[0,0,19,255],[0,0,21,255],[0,0,23,255],[0,0,25,255],[0,0,27,255],[0,0,29,255],[0,0,31,255],[0,0,33,255],[0,0,35,255],[0,0,37,255],[0,0,39,255],[0,0,41,255],[0,0,43,255],[0,0,45,255],[0,0,47,255],[0,0,49,255],[0,0,51,255],[0,0,53,255],[0,0,55,255],[0,0,57,255],[0,0,59,255],[0,0,61,255],[0,0,63,255],[0,0,65,255],[0,0,67,255],[0,0,69,255],[0,0,71,255],[0,0,73,255],[0,0,75,255],[0,0,77,255],[0,0,79,255],[0,0,81,255],[0,0,83,255],[0,0,84,255],[0,0,86,255],[0,0,88,255],[0,0,90,255],[0,0,92,255],[0,0,94,255],[0,0,96,255],[0,0,98,255],[0,0,100,255],[0,0,102,255],[0,0,104,255],[0,0,106,255],[0,0,108,255],[0,0,110,255],[0,0,112,255],[0,0,114,255],[0,0,116,255],[0,0,117,255],[0,0,119,255],[0,0,121,255],[0,0,123,255],[0,0,125,255],[0,0,127,255],[0,0,129,255],[0,0,131,255],[0,0,133,255],[0,0,135,255],[0,0,137,255],[0,0,139,255],[0,0,141,255],[0,0,143,255],[0,0,145,255],[0,0,147,255],[0,0,149,255],[0,0,151,255],[0,0,153,255],[0,0,155,255],[0,0,157,255],[0,0,159,255],[0,0,161,255],[0,0,163,255],[0,0,165,255],[0,0,167,255],[3,0,169,255],[6,0,171,255],[9,0,173,255],[12,0,175,255],[15,0,177,255],[18,0,179,255],[21,0,181,255],[24,0,183,255],[26,0,184,255],[29,0,186,255],[32,0,188,255],[35,0,190,255],[38,0,192,255],[41,0,194,255],[44,0,196,255],[47,0,198,255],[50,0,200,255],[52,0,197,255],[55,0,194,255],[57,0,191,255],[59,0,188,255],[62,0,185,255],[64,0,182,255],[66,0,179,255],[69,0,176,255],[71,0,174,255],[74,0,171,255],[76,0,168,255],[78,0,165,255],[81,0,162,255],[83,0,159,255],[85,0,156,255],[88,0,153,255],[90,0,150,255],[93,2,144,255],[96,4,138,255],[99,6,132,255],[102,8,126,255],[105,9,121,255],[108,11,115,255],[111,13,109,255],[114,15,103,255],[116,17,97,255],[119,19,91,255],[122,21,85,255],[125,23,79,255],[128,24,74,255],[131,26,68,255],[134,28,62,255],[137,30,56,255],[140,32,50,255],[143,34,47,255],[146,36,44,255],[149,38,41,255],[152,40,38,255],[155,41,35,255],[158,43,32,255],[161,45,29,255],[164,47,26,255],[166,49,24,255],[169,51,21,255],[172,53,18,255],[175,55,15,255],[178,56,12,255],[181,58,9,255],[184,60,6,255],[187,62,3,255],[190,64,0,255],[194,66,0,255],[198,68,0,255],[201,70,0,255],[205,72,0,255],[209,73,0,255],[213,75,0,255],[217,77,0,255],[221,79,0,255],[224,81,0,255],[228,83,0,255],[232,85,0,255],[236,87,0,255],[240,88,0,255],[244,90,0,255],[247,92,0,255],[251,94,0,255],[255,96,0,255],[255,98,3,255],[255,100,6,255],[255,102,9,255],[255,104,12,255],[255,105,15,255],[255,107,18,255],[255,109,21,255],[255,111,24,255],[255,113,26,255],[255,115,29,255],[255,117,32,255],[255,119,35,255],[255,120,38,255],[255,122,41,255],[255,124,44,255],[255,126,47,255],[255,128,50,255],[255,130,53,255],[255,132,56,255],[255,134,59,255],[255,136,62,255],[255,137,65,255],[255,139,68,255],[255,141,71,255],[255,143,74,255],[255,145,76,255],[255,147,79,255],[255,149,82,255],[255,151,85,255],[255,152,88,255],[255,154,91,255],[255,156,94,255],[255,158,97,255],[255,160,100,255],[255,162,103,255],[255,164,106,255],[255,166,109,255],[255,168,112,255],[255,169,115,255],[255,171,118,255],[255,173,121,255],[255,175,124,255],[255,177,126,255],[255,179,129,255],[255,181,132,255],[255,183,135,255],[255,184,138,255],[255,186,141,255],[255,188,144,255],[255,190,147,255],[255,192,150,255],[255,194,153,255],[255,196,156,255],[255,198,159,255],[255,200,162,255],[255,201,165,255],[255,203,168,255],[255,205,171,255],[255,207,174,255],[255,209,176,255],[255,211,179,255],[255,213,182,255],[255,215,185,255],[255,216,188,255],[255,218,191,255],[255,220,194,255],[255,222,197,255],[255,224,200,255],[255,226,203,255],[255,228,206,255],[255,229,210,255],[255,231,213,255],[255,233,216,255],[255,235,219,255],[255,237,223,255],[255,239,226,255],[255,240,229,255],[255,242,232,255],[255,244,236,255],[255,246,239,255],[255,248,242,255],[255,250,245,255],[255,251,249,255],[255,253,252,255],[255,255,255,255]]},pet20Step:{name:"PET 20 Step",numColors:256,colors:[[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255]]},gray:{name:"Gray",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,1,1]]}},jet:{name:"Jet",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.35,0,0],[.66,1,1],[.89,1,1],[1,.5,.5]],green:[[0,0,0],[.125,0,0],[.375,1,1],[.64,1,1],[.91,0,0],[1,0,0]],blue:[[0,.5,.5],[.11,1,1],[.34,1,1],[.65,0,0],[1,0,0]]}},hsv:{name:"HSV",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[.15873,1,1],[.174603,.96875,.96875],[.333333,.03125,.03125],[.349206,0,0],[.666667,0,0],[.68254,.03125,.03125],[.84127,.96875,.96875],[.857143,1,1],[1,1,1]],green:[[0,0,0],[.15873,.9375,.9375],[.174603,1,1],[.507937,1,1],[.666667,.0625,.0625],[.68254,0,0],[1,0,0]],blue:[[0,0,0],[.333333,0,0],[.349206,.0625,.0625],[.507937,1,1],[.84127,1,1],[.857143,.9375,.9375],[1,.09375,.09375]]}},hot:{name:"Hot",numColors:256,gamma:1,segmentedData:{red:[[0,.0416,.0416],[.365079,1,1],[1,1,1]],green:[[0,0,0],[.365079,0,0],[.746032,1,1],[1,1,1]],blue:[[0,0,0],[.746032,0,0],[1,1,1]]}},cool:{name:"Cool",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,1,1],[1,0,0]],blue:[[0,1,1],[1,1,1]]}},spring:{name:"Spring",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,0,0]]}},summer:{name:"Summer",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,.5,.5],[1,1,1]],blue:[[0,.4,.4],[1,.4,.4]]}},autumn:{name:"Autumn",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,0,0]]}},winter:{name:"Winter",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,0,0]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,.5,.5]]}},bone:{name:"Bone",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.746032,.652778,.652778],[1,1,1]],green:[[0,0,0],[.365079,.319444,.319444],[.746032,.777778,.777778],[1,1,1]],blue:[[0,0,0],[.365079,.444444,.444444],[1,1,1]]}},copper:{name:"Copper",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.809524,1,1],[1,1,1]],green:[[0,0,0],[1,.7812,.7812]],blue:[[0,0,0],[1,.4975,.4975]]}},spectral:{name:"Spectral",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.05,.4667,.4667],[.1,.5333,.5333],[.15,0,0],[.2,0,0],[.25,0,0],[.3,0,0],[.35,0,0],[.4,0,0],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,.7333,.7333],[.7,.9333,.9333],[.75,1,1],[.8,1,1],[.85,1,1],[.9,.8667,.8667],[.95,.8,.8],[1,.8,.8]],green:[[0,0,0],[.05,0,0],[.1,0,0],[.15,0,0],[.2,0,0],[.25,.4667,.4667],[.3,.6,.6],[.35,.6667,.6667],[.4,.6667,.6667],[.45,.6,.6],[.5,.7333,.7333],[.55,.8667,.8667],[.6,1,1],[.65,1,1],[.7,.9333,.9333],[.75,.8,.8],[.8,.6,.6],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]],blue:[[0,0,0],[.05,.5333,.5333],[.1,.6,.6],[.15,.6667,.6667],[.2,.8667,.8667],[.25,.8667,.8667],[.3,.8667,.8667],[.35,.6667,.6667],[.4,.5333,.5333],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,0,0],[.7,0,0],[.75,0,0],[.8,0,0],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]]}},coolwarm:{name:"CoolWarm",numColors:256,gamma:1,segmentedData:{red:[[0,.2298057,.2298057],[.03125,.26623388,.26623388],[.0625,.30386891,.30386891],[.09375,.342804478,.342804478],[.125,.38301334,.38301334],[.15625,.424369608,.424369608],[.1875,.46666708,.46666708],[.21875,.509635204,.509635204],[.25,.552953156,.552953156],[.28125,.596262162,.596262162],[.3125,.639176211,.639176211],[.34375,.681291281,.681291281],[.375,.722193294,.722193294],[.40625,.761464949,.761464949],[.4375,.798691636,.798691636],[.46875,.833466556,.833466556],[.5,.865395197,.865395197],[.53125,.897787179,.897787179],[.5625,.924127593,.924127593],[.59375,.944468518,.944468518],[.625,.958852946,.958852946],[.65625,.96732803,.96732803],[.6875,.969954137,.969954137],[.71875,.966811177,.966811177],[.75,.958003065,.958003065],[.78125,.943660866,.943660866],[.8125,.923944917,.923944917],[.84375,.89904617,.89904617],[.875,.869186849,.869186849],[.90625,.834620542,.834620542],[.9375,.795631745,.795631745],[.96875,.752534934,.752534934],[1,.705673158,.705673158]],green:[[0,.298717966,.298717966],[.03125,.353094838,.353094838],[.0625,.406535296,.406535296],[.09375,.458757618,.458757618],[.125,.50941904,.50941904],[.15625,.558148092,.558148092],[.1875,.604562568,.604562568],[.21875,.648280772,.648280772],[.25,.688929332,.688929332],[.28125,.726149107,.726149107],[.3125,.759599947,.759599947],[.34375,.788964712,.788964712],[.375,.813952739,.813952739],[.40625,.834302879,.834302879],[.4375,.849786142,.849786142],[.46875,.860207984,.860207984],[.5,.86541021,.86541021],[.53125,.848937047,.848937047],[.5625,.827384882,.827384882],[.59375,.800927443,.800927443],[.625,.769767752,.769767752],[.65625,.734132809,.734132809],[.6875,.694266682,.694266682],[.71875,.650421156,.650421156],[.75,.602842431,.602842431],[.78125,.551750968,.551750968],[.8125,.49730856,.49730856],[.84375,.439559467,.439559467],[.875,.378313092,.378313092],[.90625,.312874446,.312874446],[.9375,.24128379,.24128379],[.96875,.157246067,.157246067],[1,.01555616,.01555616]],blue:[[0,.753683153,.753683153],[.03125,.801466763,.801466763],[.0625,.84495867,.84495867],[.09375,.883725899,.883725899],[.125,.917387822,.917387822],[.15625,.945619588,.945619588],[.1875,.968154911,.968154911],[.21875,.98478814,.98478814],[.25,.995375608,.995375608],[.28125,.999836203,.999836203],[.3125,.998151185,.998151185],[.34375,.990363227,.990363227],[.375,.976574709,.976574709],[.40625,.956945269,.956945269],[.4375,.931688648,.931688648],[.46875,.901068838,.901068838],[.5,.865395561,.865395561],[.53125,.820880546,.820880546],[.5625,.774508472,.774508472],[.59375,.726736146,.726736146],[.625,.678007945,.678007945],[.65625,.628751763,.628751763],[.6875,.579375448,.579375448],[.71875,.530263762,.530263762],[.75,.481775914,.481775914],[.78125,.434243684,.434243684],[.8125,.387970225,.387970225],[.84375,.343229596,.343229596],[.875,.300267182,.300267182],[.90625,.259301199,.259301199],[.9375,.220525627,.220525627],[.96875,.184115123,.184115123],[1,.150232812,.150232812]]}},blues:{name:"Blues",numColors:256,gamma:1,segmentedData:{red:[[0,.9686274528503418,.9686274528503418],[.125,.8705882430076599,.8705882430076599],[.25,.7764706015586853,.7764706015586853],[.375,.6196078658103943,.6196078658103943],[.5,.41960784792900085,.41960784792900085],[.625,.25882354378700256,.25882354378700256],[.75,.12941177189350128,.12941177189350128],[.875,.0313725508749485,.0313725508749485],[1,.0313725508749485,.0313725508749485]],green:[[0,.9843137264251709,.9843137264251709],[.125,.9215686321258545,.9215686321258545],[.25,.8588235378265381,.8588235378265381],[.375,.7921568751335144,.7921568751335144],[.5,.6823529601097107,.6823529601097107],[.625,.572549045085907,.572549045085907],[.75,.4431372582912445,.4431372582912445],[.875,.3176470696926117,.3176470696926117],[1,.1882352977991104,.1882352977991104]],blue:[[0,1,1],[.125,.9686274528503418,.9686274528503418],[.25,.9372549057006836,.9372549057006836],[.375,.8823529481887817,.8823529481887817],[.5,.8392156958580017,.8392156958580017],[.625,.7764706015586853,.7764706015586853],[.75,.7098039388656616,.7098039388656616],[.875,.6117647290229797,.6117647290229797],[1,.41960784792900085,.41960784792900085]]}}};function D(v,P){for(var b=0,x=v.length-1;b<=x;){var S=b+Math.floor((x-b)/2),L=v[S];if(L===P)return S;P<L?x=S-1:b=S+1}return b}function E(v,P,b){var x,S=[],L=[],w=[],N=[];for(b=null===b?1:b,x=0;x<P.length;x++){var j=P[x];S.push((v-1)*j[0]),L.push(j[1]),w.push(j[1])}var W=function T(v,P,b){for(var x=(P-v)/((b=null===b?100:b)-1),S=[];b-- >0;)S.push(v),v+=x;return S[S.length-1]=P,S}(0,1,v);for(x=0;x<v;x++)W[x]=(v-1)*Math.pow(W[x],b);var B=function h(v,P){var b,x=[],S=P.length;for(v.sort(function(L,w){return L-w}),b=0;b<S;b++)x[b]=D(v,P[b]);return x}(S,W);for(x=1;x<v-1;x++){var G=B[x];N[x]=(W[x]-S[G-1])/(S[G]-S[G-1])*(L[G]-w[G-1])+w[G-1]}return N[0]=w[0],N[v-1]=L[P.length-1],N}function m(){var v=[];return Object.keys(C).forEach(function(b){C.hasOwnProperty(b)&&v.push({id:b,name:C[b].name})}),v.sort(function(b,x){var S=b.name.toLowerCase(),L=x.name.toLowerCase();return S===L?0:S<L?-1:1}),v}function g(v,P){var b=C[v];return b||(b=C[v]=P||{name:"",colors:[]}),!b.colors&&b.segmentedData&&(b.colors=function O(v,P,b){var x,S=[],L=E(P=null===P?256:P,v.red,b=null===b?1:b),w=E(P,v.green,b),N=E(P,v.blue,b);for(x=0;x<P;x++){var j=Math.round(255*L[x]),W=Math.round(255*w[x]),B=Math.round(255*N[x]);S.push([j,W,B,255])}return S}(b.segmentedData,b.numColors,b.gamma)),{getId:function(){return v},getColorSchemeName:function(){return b.name},setColorSchemeName:function(S){b.name=S},getNumberOfColors:function(){return b.colors.length},setNumberOfColors:function(S){for(;b.colors.length<S;)b.colors.push(y);b.colors.length=S},getColor:function(S){return this.isValidIndex(S)?b.colors[S]:y},getColorRepeating:function(S){var L=b.colors.length;return this.getColor(S=L?S%L:0)},setColor:function(S,L){this.isValidIndex(S)&&(b.colors[S]=L)},addColor:function(S){b.colors.push(S)},insertColor:function(S,L){this.isValidIndex(S)&&b.colors.splice(S,1,L)},removeColor:function(S){this.isValidIndex(S)&&b.colors.splice(S,1)},clearColors:function(){b.colors=[]},buildLookupTable:function(S){if(S){var L=b.colors.length;S.setNumberOfTableValues(L);for(var w=0;w<L;w++)S.setTableValue(w,b.colors[w])}},createLookupTable:function(){var S=new p.default;return this.buildLookupTable(S),S},isValidIndex:function(S){return S>=0&&S<b.colors.length}}}},"./colors/index.js":
/*!*************************!*\
                  !*** ./colors/index.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./colormap.js */
"./colors/colormap.js"),y=s(
/*! ./lookupTable.js */
"./colors/lookupTable.js");d.default={getColormap:p.getColormap,getColormapsList:p.getColormapsList,LookupTable:y.default}},"./colors/lookupTable.js":
/*!*******************************!*\
                  !*** ./colors/lookupTable.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";function y(g,v){for(var P=0;P<v.length;P++){var b=v[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}s.r(d);function E(g,v,P){if(g>1)throw new Error("HSVToRGB expects hue < 1");var b=[];if(0===v)return b[0]=P,b[1]=P,b[2]=P,b;var x=Math.floor(6*g),S=6*g-x,L=P*(1-v),w=P*(1-v*S),N=P*(1-v*(1-S));switch(x){case 0:case 6:b[0]=P,b[1]=N,b[2]=L;break;case 1:b[0]=w,b[1]=P,b[2]=L;break;case 2:b[0]=L,b[1]=P,b[2]=N;break;case 3:b[0]=L,b[1]=w,b[2]=P;break;case 4:b[0]=N,b[1]=L,b[2]=P;break;case 5:b[0]=P,b[1]=L,b[2]=w}return b}var m=function(){function g(){(function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g),this.NumberOfColors=256,this.Ramp="linear",this.TableRange=[0,255],this.HueRange=[0,.66667],this.SaturationRange=[1,1],this.ValueRange=[1,1],this.AlphaRange=[1,1],this.NaNColor=[128,0,0,255],this.BelowRangeColor=[0,0,0,255],this.UseBelowRangeColor=!0,this.AboveRangeColor=[255,255,255,255],this.UseAboveRangeColor=!0,this.InputRange=[0,255],this.Table=[]}return function C(g,v,P){return v&&y(g.prototype,v),P&&y(g,P),g}(g,[{key:"setNumberOfTableValues",value:function(P){this.NumberOfColors=P}},{key:"setRamp",value:function(P){this.Ramp=P}},{key:"setTableRange",value:function(P,b){this.TableRange[0]=P,this.TableRange[1]=b}},{key:"setHueRange",value:function(P,b){this.HueRange[0]=P,this.HueRange[1]=b}},{key:"setSaturationRange",value:function(P,b){this.SaturationRange[0]=P,this.SaturationRange[1]=b}},{key:"setValueRange",value:function(P,b){this.ValueRange[0]=P,this.ValueRange[1]=b}},{key:"setRange",value:function(P,b){this.InputRange[0]=P,this.InputRange[1]=b}},{key:"setAlphaRange",value:function(P,b){this.AlphaRange[0]=P,this.AlphaRange[1]=b}},{key:"getColor",value:function(P){return this.mapValue(P)}},{key:"build",value:function(P){if(!(this.Table.length>1)||P){this.Table=[];var x,S,L,w,b=this.NumberOfColors-1;b?(x=(this.HueRange[1]-this.HueRange[0])/b,S=(this.SaturationRange[1]-this.SaturationRange[0])/b,L=(this.ValueRange[1]-this.ValueRange[0])/b,w=(this.AlphaRange[1]-this.AlphaRange[0])/b):x=S=L=w=0;for(var N=0;N<=b;N++){var G=this.AlphaRange[0]+N*w,V=E(this.HueRange[0]+N*x,this.SaturationRange[0]+N*S,this.ValueRange[0]+N*L),F=[];switch(this.Ramp){case"scurve":F[0]=Math.floor(127.5*(1+Math.cos((1-V[0])*Math.PI))),F[1]=Math.floor(127.5*(1+Math.cos((1-V[1])*Math.PI))),F[2]=Math.floor(127.5*(1+Math.cos((1-V[2])*Math.PI))),F[3]=Math.floor(255*G);break;case"linear":F[0]=Math.floor(255*V[0]+.5),F[1]=Math.floor(255*V[1]+.5),F[2]=Math.floor(255*V[2]+.5),F[3]=Math.floor(255*G+.5);break;case"sqrt":F[0]=Math.floor(255*Math.sqrt(V[0])+.5),F[1]=Math.floor(255*Math.sqrt(V[1])+.5),F[2]=Math.floor(255*Math.sqrt(V[2])+.5),F[3]=Math.floor(255*Math.sqrt(G)+.5);break;default:throw new Error("Invalid Ramp value (".concat(this.Ramp,")"))}this.Table.push(F)}this.buildSpecialColors()}}},{key:"buildSpecialColors",value:function(){var P=this.NumberOfColors,x=P+1,S=P+2;this.Table[P+0]=this.UseBelowRangeColor||0===P?this.BelowRangeColor:this.Table[0],this.Table[x]=this.UseAboveRangeColor||0===P?this.AboveRangeColor:this.Table[P-1],this.Table[S]=this.NaNColor}},{key:"mapValue",value:function(P){var b=this.getIndex(P);if(b<0)return this.NaNColor;if(0===b){if(this.UseBelowRangeColor&&P<this.TableRange[0])return this.BelowRangeColor}else if(b===this.NumberOfColors-1&&this.UseAboveRangeColor&&P>this.TableRange[1])return this.AboveRangeColor;return this.Table[b]}},{key:"getIndex",value:function(P){var b={Range:[]};if(b.MaxIndex=this.NumberOfColors-1,b.Shift=-this.TableRange[0],b.Scale=this.TableRange[1]<=this.TableRange[0]?Number.MAX_VALUE:b.MaxIndex/(this.TableRange[1]-this.TableRange[0]),b.Range[0]=this.TableRange[0],b.Range[1]=this.TableRange[1],isNaN(P))return-1;var x=function O(g,v){return Math.floor(g<v.Range[0]?v.MaxIndex+0+1.5:g>v.Range[1]?v.MaxIndex+1+1.5:(g+v.Shift)*v.Scale)}(P,b);return x===this.NumberOfColors+0?x=0:x===this.NumberOfColors+1&&(x=this.NumberOfColors-1),x}},{key:"setTableValue",value:function(P,b){if(5===arguments.length&&(b=Array.prototype.slice.call(arguments,1)),P<0)throw new Error("Can't set the table value for negative index (".concat(P,")"));P>=this.NumberOfColors&&new Error("Index ".concat(P," is greater than the number of colors ").concat(this.NumberOfColors)),this.Table[P]=b,(0===P||P===this.NumberOfColors-1)&&this.buildSpecialColors()}}]),g}();d.default=m},"./disable.js":
/*!********************!*\
                  !*** ./disable.js ***!
                  \********************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),C=s(
/*! ./events.js */
"./events.js");d.default=function(T){if(void 0===T)throw new Error("disable: element must not be undefined");for(var D=Object(p.getEnabledElements)(),h=0;h<D.length;h++)if(D[h].element===T){var E={element:T};Object(y.default)(T,C.default.ELEMENT_DISABLED,E),Object(y.default)(C.events,C.default.ELEMENT_DISABLED,E),D[h].element.removeChild(D[h].canvas),D[h].canvas=void 0,D.splice(h,1);break}}},"./displayImage.js":
/*!*************************!*\
                  !*** ./displayImage.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js"),C=s(
/*! ./updateImage.js */
"./updateImage.js"),T=s(
/*! ./internal/now.js */
"./internal/now.js"),D=s(
/*! ./layers.js */
"./layers.js"),h=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),E=s(
/*! ./events.js */
"./events.js");d.default=function(O,m,g){if(void 0===O)throw new Error("displayImage: parameter element must not be undefined");if(void 0===m)throw new Error("displayImage: parameter image must not be undefined");var x,v=Object(p.getEnabledElement)(O),P=v.image;if(v.image=m,v.layers&&v.layers.length&&Object(D.setLayerImage)(O,m),void 0===v.viewport&&(v.viewport=Object(y.default)(v.canvas,m)),g)for(var b in g)null!==g[b]&&(v.viewport[b]=g[b]);void 0!==v.lastImageTimeStamp&&(x=(1e3/(Object(T.default)()-v.lastImageTimeStamp)).toFixed()),v.lastImageTimeStamp=Object(T.default)();var L={viewport:v.viewport,element:v.element,image:v.image,oldImage:P,enabledElement:v,frameRate:x};Object(h.default)(v.element,E.default.NEW_IMAGE,L),Object(C.default)(O)}},"./draw.js":
/*!*****************!*\
                  !*** ./draw.js ***!
                  \*****************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/drawImage.js */
"./internal/drawImage.js");d.default=function(C){var T=Object(p.getEnabledElement)(C);Object(y.default)(T)}},"./drawInvalidated.js":
/*!****************************!*\
                  !*** ./drawInvalidated.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/drawImage.js */
"./internal/drawImage.js");d.default=function(){for(var C=Object(p.getEnabledElements)(),T=0;T<C.length;T++){var D=C[T];!0===D.invalid&&Object(y.default)(D,!0)}}},"./enable.js":
/*!*******************!*\
                  !*** ./enable.js ***!
                  \*******************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./resize.js */
"./resize.js"),C=s(
/*! ./internal/drawImageSync.js */
"./internal/drawImageSync.js"),T=s(
/*! ./internal/requestAnimationFrame.js */
"./internal/requestAnimationFrame.js"),D=s(
/*! ./internal/tryEnableWebgl.js */
"./internal/tryEnableWebgl.js"),h=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),E=s(
/*! ./generateUUID.js */
"./generateUUID.js"),O=s(
/*! ./events.js */
"./events.js"),m=s(
/*! ./internal/getCanvas.js */
"./internal/getCanvas.js");d.default=function(v,P){if(void 0===v)throw new Error("enable: parameter element cannot be undefined");P&&P.renderer&&"webgl"===P.renderer.toLowerCase()&&Object(D.default)(P);var x={element:v,canvas:Object(m.default)(v),image:void 0,invalid:!1,needsRedraw:!0,options:Object.assign({},P),layers:[],data:{},renderingTools:{},uuid:Object(E.default)()};Object(p.addEnabledElement)(x),Object(h.default)(O.events,O.default.ELEMENT_ENABLED,x),Object(y.default)(v,!0),function S(L){if(void 0!==x.canvas){var w={enabledElement:x,timestamp:L};Object(h.default)(x.element,O.default.PRE_RENDER,w),x.needsRedraw&&function g(v){return void 0!==v.image||v.layers.length>0}(x)&&Object(C.default)(x,x.invalid),Object(T.default)(S)}}()}},"./enabledElementData.js":
/*!*******************************!*\
                  !*** ./enabledElementData.js ***!
                  \*******************************/
/*! exports provided: getElementData, removeElementData */function(le,d,s){"use strict";s.r(d),s.d(d,"getElementData",function(){return y}),s.d(d,"removeElementData",function(){return C});var p=s(
/*! ./enabledElements.js */
"./enabledElements.js");function y(T,D){var h=Object(p.getEnabledElement)(T);return!1===h.data.hasOwnProperty(D)&&(h.data[D]={}),h.data[D]}function C(T,D){delete Object(p.getEnabledElement)(T).data[D]}},"./enabledElements.js":
/*!****************************!*\
                  !*** ./enabledElements.js ***!
                  \****************************/
/*! exports provided: getEnabledElement, addEnabledElement, getEnabledElementsByImageId, getEnabledElements */function(le,d,s){"use strict";s.r(d),s.d(d,"getEnabledElement",function(){return y}),s.d(d,"addEnabledElement",function(){return C}),s.d(d,"getEnabledElementsByImageId",function(){return T}),s.d(d,"getEnabledElements",function(){return D});var p=[];function y(h){if(void 0===h)throw new Error("getEnabledElement: parameter element must not be undefined");for(var E=0;E<p.length;E++)if(p[E].element===h)return p[E];throw new Error("element not enabled")}function C(h){if(void 0===h)throw new Error("getEnabledElement: enabledElement element must not be undefined");p.push(h)}function T(h){var E=[];return p.forEach(function(O){O.image&&O.image.imageId===h&&E.push(O)}),E}function D(){return p}},"./events.js":
/*!*******************!*\
                  !*** ./events.js ***!
                  \*******************/
/*! exports provided: default, events */function(le,d,s){"use strict";function y(E,O){for(var m=0;m<O.length;m++){var g=O[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}s.r(d),s.d(d,"events",function(){return h}),d.default={NEW_IMAGE:"cornerstonenewimage",INVALIDATED:"cornerstoneinvalidated",PRE_RENDER:"cornerstoneprerender",IMAGE_CACHE_MAXIMUM_SIZE_CHANGED:"cornerstoneimagecachemaximumsizechanged",IMAGE_CACHE_PROMISE_REMOVED:"cornerstoneimagecachepromiseremoved",IMAGE_CACHE_FULL:"cornerstoneimagecachefull",IMAGE_CACHE_CHANGED:"cornerstoneimagecachechanged",WEBGL_TEXTURE_REMOVED:"cornerstonewebgltextureremoved",WEBGL_TEXTURE_CACHE_FULL:"cornerstonewebgltexturecachefull",IMAGE_LOADED:"cornerstoneimageloaded",IMAGE_LOAD_PROGRESS:"cornerstoneimageloadprogress",IMAGE_LOAD_FAILED:"cornerstoneimageloadfailed",ELEMENT_RESIZED:"cornerstoneelementresized",IMAGE_RENDERED:"cornerstoneimagerendered",LAYER_ADDED:"cornerstonelayeradded",LAYER_REMOVED:"cornerstonelayerremoved",ACTIVE_LAYER_CHANGED:"cornerstoneactivelayerchanged",ELEMENT_DISABLED:"cornerstoneelementdisabled",ELEMENT_ENABLED:"cornerstoneelementenabled"};var h=new(function(){function E(){(function p(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")})(this,E),this.listeners={},this.namespaces={}}return function C(E,O,m){return O&&y(E.prototype,O),m&&y(E,m),E}(E,[{key:"addEventNamespaceListener",value:function(m,g){m.indexOf(".")<=0||(this.namespaces[m]=g,this.addEventListener(m.split(".")[0],g))}},{key:"removeEventNamespaceListener",value:function(m){m.indexOf(".")<=0||!this.namespaces[m]||(this.removeEventListener(m.split(".")[0],this.namespaces[m]),delete this.namespaces[m])}},{key:"addEventListener",value:function(m,g){m.indexOf(".")>0?this.addEventNamespaceListener(m,g):(m in this.listeners||(this.listeners[m]=[]),this.listeners[m].push(g))}},{key:"removeEventListener",value:function(m,g){if(m.indexOf(".")>0)this.removeEventNamespaceListener(m);else if(m in this.listeners)for(var v=this.listeners[m],P=0,b=v.length;P<b;P++)if(v[P]===g)return void v.splice(P,1)}},{key:"dispatchEvent",value:function(m){if(!(m.type in this.listeners))return!0;for(var g=this.listeners[m.type].slice(),v=0,P=g.length;v<P;v++)g[v].call(this,m);return!m.defaultPrevented}}]),E}())},"./falseColorMapping.js":
/*!******************************!*\
                  !*** ./falseColorMapping.js ***!
                  \******************************/
/*! exports provided: convertImageToFalseColorImage, convertToFalseColorImage, restoreImage */function(le,d,s){"use strict";s.r(d),s.d(d,"convertImageToFalseColorImage",function(){return O}),s.d(d,"convertToFalseColorImage",function(){return m}),s.d(d,"restoreImage",function(){return E});var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./pixelDataToFalseColorData.js */
"./pixelDataToFalseColorData.js"),C=s(
/*! ./colors/colormap.js */
"./colors/colormap.js");function E(g){return!(!g.restore||"function"!=typeof g.restore||(g.restore(),0))}function O(g,v){if(g.color&&!g.falseColor)throw new Error("Color transforms are not implemented yet");var P=(v=function h(g){return g&&"string"==typeof g&&(g=Object(C.getColormap)(g)),g}(v)).getId();if(g.colormapId===P)return!1;if(E(g),P){var b=g.minPixelValue||0,x=g.maxPixelValue||255;g.restore=function D(g){if(g.restore)return g.restore;var v=g.color,P=g.rgba,b=g.cachedLut,x=g.slope,S=g.windowWidth,L=g.windowCenter,w=g.minPixelValue,N=g.maxPixelValue;return function(){if(g.color=v,g.rgba=P,g.cachedLut=b,g.slope=x,g.windowWidth=S,g.windowCenter=L,g.minPixelValue=w,g.maxPixelValue=N,g.origPixelData){var j=g.origPixelData;g.getPixelData=function(){return j}}g.origPixelData=void 0,g.colormapId=void 0,g.falseColor=void 0}}(g);var S=v.createLookupTable();S.setTableRange(b,x),Object(y.default)(g,S);var L=function T(g){for(var x,v=Number.MAX_VALUE,P=Number.MIN_VALUE,b=g.length,S=0;S<b;S++)v=v<(x=g[S])?v:x,P=P>x?P:x;return{minPixelValue:v,maxPixelValue:P}}(g.getPixelData());g.minPixelValue=L.minPixelValue,g.maxPixelValue=L.maxPixelValue,g.windowWidth=255,g.windowCenter=128,g.colormapId=P}return!0}function m(g,v){return O(Object(p.getEnabledElement)(g).image,v)}},"./fitToWindow.js":
/*!************************!*\
                  !*** ./fitToWindow.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./updateImage.js */
"./updateImage.js"),C=s(
/*! ./internal/getImageFitScale.js */
"./internal/getImageFitScale.js");d.default=function(T){var D=Object(p.getEnabledElement)(T),h=D.image;D.viewport.scale=Object(C.default)(D.canvas,h,D.viewport.rotation).scaleFactor,D.viewport.translation.x=0,D.viewport.translation.y=0,Object(y.default)(T)}},"./generateUUID.js":
/*!*************************!*\
                  !*** ./generateUUID.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(){var p=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(p+=performance.now()),"x.x.x.x.x.x.xxxx.xxx.x.x.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(y){var C=(p+16*Math.random())%16|0;return p=Math.floor(p/16),("x"===y?C:3&C|8).toString(16)})}},"./getDefaultViewportForImage.js":
/*!***************************************!*\
                  !*** ./getDefaultViewportForImage.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js");d.default=function(C,T){var D=Object(p.getEnabledElement)(C);return Object(y.default)(D.canvas,T)}},"./getImage.js":
/*!*********************!*\
                  !*** ./getImage.js ***!
                  \*********************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js");d.default=function(y){return Object(p.getEnabledElement)(y).image}},"./getPixels.js":
/*!**********************!*\
                  !*** ./getPixels.js ***!
                  \**********************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./getStoredPixels.js */
"./getStoredPixels.js"),C=s(
/*! ./internal/getModalityLUT.js */
"./internal/getModalityLUT.js");d.default=function(T,D,h,E,O){var m=Object(y.default)(T,D,h,E,O),g=Object(p.getEnabledElement)(T),v=Object(C.default)(g.image.slope,g.image.intercept,g.viewport.modalityLUT);return m.map(v)}},"./getStoredPixels.js":
/*!****************************!*\
                  !*** ./getStoredPixels.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js");d.default=function(y,C,T,D,h){if(void 0===y)throw new Error("getStoredPixels: parameter element must not be undefined");C=Math.round(C),T=Math.round(T);for(var E=Object(p.getEnabledElement)(y),O=[],m=0,g=E.image.getPixelData(),v=0;v<h;v++)for(var P=0;P<D;P++)O[m++]=g[(v+T)*E.image.columns+(P+C)];return O}},"./getViewport.js":
/*!************************!*\
                  !*** ./getViewport.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js");d.default=function(y){var T=Object(p.getEnabledElement)(y).viewport;if(void 0!==T)return Object.assign({},T)}},"./imageCache.js":
/*!***********************!*\
                  !*** ./imageCache.js ***!
                  \***********************/
/*! exports provided: cachedImages, setMaximumSizeBytes, putImageLoadObject, getImageLoadObject, removeImageLoadObject, getCacheInfo, purgeCache, changeImageIdCacheSize, default */function(le,d,s){"use strict";s.r(d),s.d(d,"cachedImages",function(){return h}),s.d(d,"setMaximumSizeBytes",function(){return E}),s.d(d,"putImageLoadObject",function(){return m}),s.d(d,"getImageLoadObject",function(){return g}),s.d(d,"removeImageLoadObject",function(){return v}),s.d(d,"getCacheInfo",function(){return P}),s.d(d,"purgeCache",function(){return x}),s.d(d,"changeImageIdCacheSize",function(){return S});var p=s(
/*! ./events.js */
"./events.js"),y=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),C=1073741824,T=0,D={},h=[];function E(L){if(void 0===L)throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined");if(void 0===L.toFixed)throw new Error("setMaximumSizeBytes: parameter numBytes must be a number");C=L,Object(y.default)(p.events,p.default.IMAGE_CACHE_MAXIMUM_SIZE_CHANGED),O()}function O(){if(!(T<=C)){for(h.sort(function L(W,B){return W.timeStamp>B.timeStamp?-1:W.timeStamp<B.timeStamp?1:0});T>C;){var N=h[h.length-1].imageId;v(N),Object(y.default)(p.events,p.default.IMAGE_CACHE_PROMISE_REMOVED,{imageId:N})}var j=P();Object(y.default)(p.events,p.default.IMAGE_CACHE_FULL,j)}}function m(L,w){if(void 0===L)throw new Error("putImageLoadObject: imageId must not be undefined");if(void 0===w.promise)throw new Error("putImageLoadObject: imageLoadObject.promise must not be undefined");if(!0===D.hasOwnProperty(L))throw new Error("putImageLoadObject: imageId already in cache");if(w.cancelFn&&"function"!=typeof w.cancelFn)throw new Error("putImageLoadObject: imageLoadObject.cancelFn must be a function");var N={loaded:!1,imageId:L,sharedCacheKey:void 0,imageLoadObject:w,timeStamp:Date.now(),sizeInBytes:0};D[L]=N,h.push(N),w.promise.then(function(j){if(-1!==h.indexOf(N)){if(N.loaded=!0,N.image=j,void 0===j.sizeInBytes)throw new Error("putImageLoadObject: image.sizeInBytes must not be undefined");if(void 0===j.sizeInBytes.toFixed)throw new Error("putImageLoadObject: image.sizeInBytes is not a number");N.sizeInBytes=j.sizeInBytes,T+=N.sizeInBytes;var W={action:"addImage",image:N};Object(y.default)(p.events,p.default.IMAGE_CACHE_CHANGED,W),N.sharedCacheKey=j.sharedCacheKey,O()}},function(){h.splice(h.indexOf(D[L]),1),delete D[L]})}function g(L){if(void 0===L)throw new Error("getImageLoadObject: imageId must not be undefined");var w=D[L];if(void 0!==w)return w.timeStamp=Date.now(),w.imageLoadObject}function v(L){if(void 0===L)throw new Error("removeImageLoadObject: imageId must not be undefined");var w=D[L];if(void 0===w)throw new Error("removeImageLoadObject: imageId was not present in imageCache");h.splice(h.indexOf(w),1),T-=w.sizeInBytes;var N={action:"deleteImage",image:w};Object(y.default)(p.events,p.default.IMAGE_CACHE_CHANGED,N),function b(L){L.promise.then(function(){L.decache&&L.decache()},function(){L.decache&&L.decache()})}(w.imageLoadObject),delete D[L]}function P(){return{maximumSizeInBytes:C,cacheSizeInBytes:T,numberOfImagesCached:h.length}}function x(){for(;h.length>0;)v(h[0].imageId)}function S(L,w){var N=D[L];N&&N.imageLoadObject.promise.then(function(j){var W=w-j.sizeInBytes;j.sizeInBytes=w,N.sizeInBytes=w,T+=W;var B={action:"changeImageSize",image:j};Object(y.default)(p.events,p.default.IMAGE_CACHE_CHANGED,B)})}d.default={imageCache:D,cachedImages:h,setMaximumSizeBytes:E,putImageLoadObject:m,getImageLoadObject:g,removeImageLoadObject:v,getCacheInfo:P,purgeCache:x,changeImageIdCacheSize:S}},"./imageLoader.js":
/*!************************!*\
                  !*** ./imageLoader.js ***!
                  \************************/
/*! exports provided: loadImage, loadAndCacheImage, registerImageLoader, registerUnknownImageLoader */function(le,d,s){"use strict";s.r(d),s.d(d,"loadImage",function(){return E}),s.d(d,"loadAndCacheImage",function(){return O}),s.d(d,"registerImageLoader",function(){return m}),s.d(d,"registerUnknownImageLoader",function(){return g});var D,p=s(
/*! ./imageCache.js */
"./imageCache.js"),y=s(
/*! ./events.js */
"./events.js"),C=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),T={};function h(v,P){var b=v.indexOf(":"),x=v.substring(0,b),S=T[x];if(null==S){if(void 0!==D)return D(v);throw new Error("loadImageFromImageLoader: no image loader for imageId")}var L=S(v,P);return L.promise.then(function(w){Object(C.default)(y.events,y.default.IMAGE_LOADED,{image:w})},function(w){var N={imageId:v,error:w};Object(C.default)(y.events,y.default.IMAGE_LOAD_FAILED,N)}),L}function E(v,P){if(void 0===v)throw new Error("loadImage: parameter imageId must not be undefined");var b=Object(p.getImageLoadObject)(v);return void 0!==b?b.promise:h(v,P).promise}function O(v,P){if(void 0===v)throw new Error("loadAndCacheImage: parameter imageId must not be undefined");var b=Object(p.getImageLoadObject)(v);return void 0!==b||(b=h(v,P),Object(p.putImageLoadObject)(v,b)),b.promise}function m(v,P){T[v]=P}function g(v){var P=D;return D=v,P}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: drawImage, generateLut, getDefaultViewport, setDefaultViewport, requestAnimationFrame, storedPixelDataToCanvasImageData, storedColorPixelDataToCanvasImageData, storedPixelDataToCanvasImageDataColorLUT, storedPixelDataToCanvasImageDataPseudocolorLUT, internal, renderLabelMapImage, renderPseudoColorImage, renderColorImage, renderGrayscaleImage, renderWebImage, renderToCanvas, canvasToPixel, disable, displayImage, draw, drawInvalidated, enable, getElementData, removeElementData, getEnabledElement, addEnabledElement, getEnabledElementsByImageId, getEnabledElements, addLayer, removeLayer, getLayer, getLayers, getVisibleLayers, setActiveLayer, getActiveLayer, purgeLayers, setLayerImage, fitToWindow, getDefaultViewportForImage, getDisplayedArea, getImage, getPixels, getStoredPixels, getViewport, loadImage, loadAndCacheImage, registerImageLoader, registerUnknownImageLoader, invalidate, invalidateImageId, pageToPixel, pixelToCanvas, reset, resize, setToPixelCoordinateSystem, setViewport, updateImage, pixelDataToFalseColorData, rendering, imageCache, metaData, webGL, colors, convertImageToFalseColorImage, convertToFalseColorImage, restoreImage, EVENTS, events, triggerEvent, imageLoadPoolManager, imageRetrievalPoolManager, RequestPoolManager, default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./events.js */
"./events.js");s.d(d,"EVENTS",function(){return p.default}),s.d(d,"events",function(){return p.events});var y=s(
/*! ./enabledElements.js */
"./enabledElements.js");s.d(d,"getEnabledElement",function(){return y.getEnabledElement}),s.d(d,"addEnabledElement",function(){return y.addEnabledElement}),s.d(d,"getEnabledElementsByImageId",function(){return y.getEnabledElementsByImageId}),s.d(d,"getEnabledElements",function(){return y.getEnabledElements});var C=s(
/*! ./layers.js */
"./layers.js");s.d(d,"addLayer",function(){return C.addLayer}),s.d(d,"removeLayer",function(){return C.removeLayer}),s.d(d,"getLayer",function(){return C.getLayer}),s.d(d,"getLayers",function(){return C.getLayers}),s.d(d,"getVisibleLayers",function(){return C.getVisibleLayers}),s.d(d,"setActiveLayer",function(){return C.setActiveLayer}),s.d(d,"getActiveLayer",function(){return C.getActiveLayer}),s.d(d,"purgeLayers",function(){return C.purgeLayers}),s.d(d,"setLayerImage",function(){return C.setLayerImage});var T=s(
/*! ./falseColorMapping.js */
"./falseColorMapping.js");s.d(d,"convertImageToFalseColorImage",function(){return T.convertImageToFalseColorImage}),s.d(d,"convertToFalseColorImage",function(){return T.convertToFalseColorImage}),s.d(d,"restoreImage",function(){return T.restoreImage});var D=s(
/*! ./enabledElementData.js */
"./enabledElementData.js");s.d(d,"getElementData",function(){return D.getElementData}),s.d(d,"removeElementData",function(){return D.removeElementData});var h=s(
/*! ./imageLoader.js */
"./imageLoader.js");s.d(d,"loadImage",function(){return h.loadImage}),s.d(d,"loadAndCacheImage",function(){return h.loadAndCacheImage}),s.d(d,"registerImageLoader",function(){return h.registerImageLoader}),s.d(d,"registerUnknownImageLoader",function(){return h.registerUnknownImageLoader});var E=s(
/*! ./requestPool/imageLoadPoolManager.ts */
"./requestPool/imageLoadPoolManager.ts");s.d(d,"imageLoadPoolManager",function(){return E.default});var O=s(
/*! ./requestPool/imageRetrievalPoolManager.ts */
"./requestPool/imageRetrievalPoolManager.ts");s.d(d,"imageRetrievalPoolManager",function(){return O.default});var m=s(
/*! ./requestPool/RequestPoolManager.ts */
"./requestPool/RequestPoolManager.ts");s.d(d,"RequestPoolManager",function(){return m.RequestPoolManager});var g=s(
/*! ./canvasToPixel.js */
"./canvasToPixel.js");s.d(d,"canvasToPixel",function(){return g.default});var v=s(
/*! ./colors/index.js */
"./colors/index.js");s.d(d,"colors",function(){return v.default});var P=s(
/*! ./disable.js */
"./disable.js");s.d(d,"disable",function(){return P.default});var b=s(
/*! ./displayImage.js */
"./displayImage.js");s.d(d,"displayImage",function(){return b.default});var x=s(
/*! ./draw.js */
"./draw.js");s.d(d,"draw",function(){return x.default});var S=s(
/*! ./internal/drawImage.js */
"./internal/drawImage.js");s.d(d,"drawImage",function(){return S.default});var L=s(
/*! ./drawInvalidated.js */
"./drawInvalidated.js");s.d(d,"drawInvalidated",function(){return L.default});var w=s(
/*! ./enable.js */
"./enable.js");s.d(d,"enable",function(){return w.default});var N=s(
/*! ./fitToWindow.js */
"./fitToWindow.js");s.d(d,"fitToWindow",function(){return N.default});var j=s(
/*! ./internal/generateLut.js */
"./internal/generateLut.js");s.d(d,"generateLut",function(){return j.default});var W=s(
/*! ./internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js");s.d(d,"getDefaultViewport",function(){return W.default});var B=s(
/*! ./getDefaultViewportForImage.js */
"./getDefaultViewportForImage.js");s.d(d,"getDefaultViewportForImage",function(){return B.default});var G=s(
/*! ./internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js");s.d(d,"getDisplayedArea",function(){return G.default});var V=s(
/*! ./getImage.js */
"./getImage.js");s.d(d,"getImage",function(){return V.default});var F=s(
/*! ./getPixels.js */
"./getPixels.js");s.d(d,"getPixels",function(){return F.default});var z=s(
/*! ./getStoredPixels.js */
"./getStoredPixels.js");s.d(d,"getStoredPixels",function(){return z.default});var te=s(
/*! ./getViewport.js */
"./getViewport.js");s.d(d,"getViewport",function(){return te.default});var q=s(
/*! ./imageCache.js */
"./imageCache.js");s.d(d,"imageCache",function(){return q.default});var ae=s(
/*! ./internal/index.js */
"./internal/index.js");s.d(d,"internal",function(){return ae.default});var ie=s(
/*! ./invalidate.js */
"./invalidate.js");s.d(d,"invalidate",function(){return ie.default});var oe=s(
/*! ./invalidateImageId.js */
"./invalidateImageId.js");s.d(d,"invalidateImageId",function(){return oe.default});var $=s(
/*! ./metaData.js */
"./metaData.js");s.d(d,"metaData",function(){return $.default});var Z=s(
/*! ./pageToPixel.js */
"./pageToPixel.js");s.d(d,"pageToPixel",function(){return Z.default});var K=s(
/*! ./pixelDataToFalseColorData.js */
"./pixelDataToFalseColorData.js");s.d(d,"pixelDataToFalseColorData",function(){return K.default});var Q=s(
/*! ./pixelToCanvas.js */
"./pixelToCanvas.js");s.d(d,"pixelToCanvas",function(){return Q.default});var ee=s(
/*! ./rendering/renderColorImage.js */
"./rendering/renderColorImage.js");s.d(d,"renderColorImage",function(){return ee.renderColorImage});var ne=s(
/*! ./rendering/renderGrayscaleImage.js */
"./rendering/renderGrayscaleImage.js");s.d(d,"renderGrayscaleImage",function(){return ne.renderGrayscaleImage});var ue=s(
/*! ./rendering/renderLabelMapImage.js */
"./rendering/renderLabelMapImage.js");s.d(d,"renderLabelMapImage",function(){return ue.renderLabelMapImage});var ye=s(
/*! ./rendering/renderPseudoColorImage.js */
"./rendering/renderPseudoColorImage.js");s.d(d,"renderPseudoColorImage",function(){return ye.renderPseudoColorImage});var Ee=s(
/*! ./rendering/renderToCanvas.js */
"./rendering/renderToCanvas.js");s.d(d,"renderToCanvas",function(){return Ee.default});var Se=s(
/*! ./rendering/renderWebImage.js */
"./rendering/renderWebImage.js");s.d(d,"renderWebImage",function(){return Se.renderWebImage});var ke=s(
/*! ./rendering/index.js */
"./rendering/index.js");s.d(d,"rendering",function(){return ke.default});var Xe=s(
/*! ./internal/requestAnimationFrame.js */
"./internal/requestAnimationFrame.js");s.d(d,"requestAnimationFrame",function(){return Xe.default});var mt=s(
/*! ./reset.js */
"./reset.js");s.d(d,"reset",function(){return mt.default});var st=s(
/*! ./resize.js */
"./resize.js");s.d(d,"resize",function(){return st.default});var Rt=s(
/*! ./internal/setDefaultViewport.js */
"./internal/setDefaultViewport.js");s.d(d,"setDefaultViewport",function(){return Rt.default});var Ge=s(
/*! ./setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js");s.d(d,"setToPixelCoordinateSystem",function(){return Ge.default});var Pe=s(
/*! ./setViewport.js */
"./setViewport.js");s.d(d,"setViewport",function(){return Pe.default});var He=s(
/*! ./internal/storedColorPixelDataToCanvasImageData.js */
"./internal/storedColorPixelDataToCanvasImageData.js");s.d(d,"storedColorPixelDataToCanvasImageData",function(){return He.default});var Ke=s(
/*! ./internal/storedPixelDataToCanvasImageData.js */
"./internal/storedPixelDataToCanvasImageData.js");s.d(d,"storedPixelDataToCanvasImageData",function(){return Ke.default});var Ye=s(
/*! ./internal/storedPixelDataToCanvasImageDataColorLUT.js */
"./internal/storedPixelDataToCanvasImageDataColorLUT.js");s.d(d,"storedPixelDataToCanvasImageDataColorLUT",function(){return Ye.default});var ct=s(
/*! ./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js */
"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js");s.d(d,"storedPixelDataToCanvasImageDataPseudocolorLUT",function(){return ct.default});var ft=s(
/*! ./triggerEvent.js */
"./triggerEvent.js");s.d(d,"triggerEvent",function(){return ft.default});var pt=s(
/*! ./updateImage.js */
"./updateImage.js");s.d(d,"updateImage",function(){return pt.default});var St=s(
/*! ./webgl/index.js */
"./webgl/index.js");s.d(d,"webGL",function(){return St.default}),d.default={drawImage:S.default,generateLut:j.default,getDefaultViewport:W.default,requestAnimationFrame:Xe.default,storedPixelDataToCanvasImageData:Ke.default,storedColorPixelDataToCanvasImageData:He.default,storedPixelDataToCanvasImageDataColorLUT:Ye.default,storedPixelDataToCanvasImageDataPseudocolorLUT:ct.default,internal:ae.default,renderLabelMapImage:ue.renderLabelMapImage,renderPseudoColorImage:ye.renderPseudoColorImage,renderColorImage:ee.renderColorImage,renderGrayscaleImage:ne.renderGrayscaleImage,renderWebImage:Se.renderWebImage,renderToCanvas:Ee.default,canvasToPixel:g.default,disable:P.default,displayImage:b.default,draw:x.default,drawInvalidated:L.default,enable:w.default,getElementData:D.getElementData,removeElementData:D.removeElementData,getEnabledElement:y.getEnabledElement,addEnabledElement:y.addEnabledElement,getEnabledElementsByImageId:y.getEnabledElementsByImageId,getEnabledElements:y.getEnabledElements,addLayer:C.addLayer,removeLayer:C.removeLayer,getLayer:C.getLayer,getLayers:C.getLayers,getVisibleLayers:C.getVisibleLayers,setActiveLayer:C.setActiveLayer,getActiveLayer:C.getActiveLayer,purgeLayers:C.purgeLayers,setLayerImage:C.setLayerImage,fitToWindow:N.default,getDefaultViewportForImage:B.default,getDisplayedArea:G.default,setDefaultViewport:Rt.default,getImage:V.default,getPixels:F.default,getStoredPixels:z.default,getViewport:te.default,loadImage:h.loadImage,loadAndCacheImage:h.loadAndCacheImage,registerImageLoader:h.registerImageLoader,registerUnknownImageLoader:h.registerUnknownImageLoader,invalidate:ie.default,invalidateImageId:oe.default,pageToPixel:Z.default,pixelToCanvas:Q.default,reset:mt.default,resize:st.default,setToPixelCoordinateSystem:Ge.default,setViewport:Pe.default,updateImage:pt.default,pixelDataToFalseColorData:K.default,rendering:ke.default,imageCache:q.default,metaData:$.default,webGL:St.default,colors:v.default,convertImageToFalseColorImage:T.convertImageToFalseColorImage,convertToFalseColorImage:T.convertToFalseColorImage,restoreImage:T.restoreImage,EVENTS:p.default,events:p.events,triggerEvent:ft.default,imageLoadPoolManager:E.default,imageRetrievalPoolManager:O.default,RequestPoolManager:m.RequestPoolManager}},"./internal/calculateTransform.js":
/*!****************************************!*\
                  !*** ./internal/calculateTransform.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./transform.js */
"./internal/transform.js"),y=s(
/*! ./getDisplayedArea.js */
"./internal/getDisplayedArea.js");d.default=function(C,T){var D=new p.Transform;D.translate(C.canvas.width/2,C.canvas.height/2);var h=C.viewport.rotation;0!==h&&D.rotate(h*Math.PI/180);var E=C.viewport.scale,O=C.viewport.scale,m=Object(y.default)(C.image,C.viewport),g=m.tlhc.x-1,v=m.tlhc.y-1,P=m.brhc.x-g,b=m.brhc.y-v;return"NONE"===m.presentationSizeMode?C.image.rowPixelSpacing<C.image.columnPixelSpacing?E*=C.image.columnPixelSpacing/C.image.rowPixelSpacing:C.image.columnPixelSpacing<C.image.rowPixelSpacing&&(O*=C.image.rowPixelSpacing/C.image.columnPixelSpacing):(E=m.columnPixelSpacing,O=m.rowPixelSpacing,"SCALE TO FIT"===m.presentationSizeMode&&(E=O=Math.min(C.canvas.width/(P*E),C.canvas.height/(b*O)),m.rowPixelSpacing<m.columnPixelSpacing?E*=m.columnPixelSpacing/m.rowPixelSpacing:m.columnPixelSpacing<m.rowPixelSpacing&&(O*=m.rowPixelSpacing/m.columnPixelSpacing))),D.scale(E,O),0!==h&&D.rotate(-h*Math.PI/180),D.translate(C.viewport.translation.x,C.viewport.translation.y),0!==h&&D.rotate(h*Math.PI/180),void 0!==T&&D.scale(T,T),C.viewport.hflip&&D.scale(-1,1),C.viewport.vflip&&D.scale(1,-1),D.translate(-P/2,-b/2),D.translate(-g,-v),D}},"./internal/computeAutoVoi.js":
/*!************************************!*\
                  !*** ./internal/computeAutoVoi.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(C,T){if(!function y(C){return C.voiLUT&&C.voiLUT.lut&&C.voiLUT.lut.length>0||void 0!==C.voi.windowWidth&&void 0!==C.voi.windowCenter}(C)){var D=T.maxPixelValue*T.slope+T.intercept,h=T.minPixelValue*T.slope+T.intercept,E=D-h,O=(D+h)/2;void 0===C.voi?C.voi={windowWidth:E,windowCenter:O}:(C.voi.windowWidth=E,C.voi.windowCenter=O)}}s.r(d),s.d(d,"default",function(){return p})},"./internal/createViewport.js":
/*!************************************!*\
                  !*** ./internal/createViewport.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./setDefaultViewport.js */
"./internal/setDefaultViewport.js");d.default=function(){return Object.assign({},{scale:1,translation:{x:0,y:0},voi:{windowWidth:void 0,windowCenter:void 0},invert:!1,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:void 0,voiLUT:void 0,colormap:void 0,labelmap:!1,displayedArea:void 0},p.state.viewport)}},"./internal/drawCompositeImage.js":
/*!****************************************!*\
                  !*** ./internal/drawCompositeImage.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../layers.js */
"./layers.js"),y=s(
/*! ../rendering/renderGrayscaleImage.js */
"./rendering/renderGrayscaleImage.js"),C=s(
/*! ../rendering/renderColorImage.js */
"./rendering/renderColorImage.js"),T=s(
/*! ../rendering/renderPseudoColorImage.js */
"./rendering/renderPseudoColorImage.js"),D=s(
/*! ../rendering/renderLabelMapImage.js */
"./rendering/renderLabelMapImage.js"),h=s(
/*! ../setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js"),E=s(
/*! ./getDisplayedArea.js */
"./internal/getDisplayedArea.js");function m(P){var b=P.syncProps||{};b.originalScale=P.viewport.scale,P.syncProps=b}function g(P,b){P.forEach(function(x){if(x!==b&&x.viewport&&b.viewport){x.syncProps||m(x);var S=function O(P,b){return P.syncProps||m(P),b.syncProps||m(b),b.syncProps.originalScale/P.syncProps.originalScale}(b,x);x.viewport.scale=b.viewport.scale*S,x.viewport.rotation=b.viewport.rotation,x.viewport.translation={x:b.viewport.translation.x/S,y:b.viewport.translation.y/S},x.viewport.hflip=b.viewport.hflip,x.viewport.vflip=b.viewport.vflip}})}d.default=function(P,b){var x=P.element,S=Object(p.getLayers)(x),L=Object(p.getActiveLayer)(x),w=Object(p.getVisibleLayers)(x),N=!P.lastSyncViewportsState&&P.syncViewports;P.lastSyncViewportsState=P.syncViewports,N&&S.forEach(function(W){W.viewport&&m(W)}),!0===P.syncViewports&&g(w,L);var j=P.canvas.getContext("2d",{desynchronized:!0});j.setTransform(1,0,0,1,0,0),j.fillStyle="black",j.fillRect(0,0,P.canvas.width,P.canvas.height),function v(P,b,x){b.forEach(function(S,L){if(S.image){P.save(),S.canvas=P.canvas,Object(h.default)(S,P);var w=S.viewport.colormap||S.options.colormap,j=S.invalid||x;if(w&&""!==w&&!0===S.viewport.labelmap)Object(D.addLabelMapLayer)(S,j);else if(w&&""!==w)Object(T.addPseudoColorLayer)(S,j);else if(!0===S.image.color)Object(C.addColorLayer)(S,j);else{var W=0===L;Object(y.addGrayscaleLayer)(S,j,W)}P.globalAlpha=S.options&&S.options.opacity?S.options.opacity:1,S.options&&S.options.fillStyle&&(P.fillStyle=S.options.fillStyle),P.imageSmoothingEnabled=!S.viewport.pixelReplication,P.mozImageSmoothingEnabled=P.imageSmoothingEnabled;var B=Object(E.default)(S.image,S.viewport),G=B.tlhc.x-1,V=B.tlhc.y-1,F=B.brhc.x-G,z=B.brhc.y-V;P.drawImage(S.canvas,G,V,F,z,G,V,F,z),P.restore(),S.invalid=!1}})}(j,w,b)}},"./internal/drawImage.js":
/*!*******************************!*\
                  !*** ./internal/drawImage.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var y=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p.needsRedraw=!0,y&&(p.invalid=!0)}},"./internal/drawImageSync.js":
/*!***********************************!*\
                  !*** ./internal/drawImageSync.js ***!
                  \***********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./now.js */
"./internal/now.js"),y=s(
/*! ./drawCompositeImage.js */
"./internal/drawCompositeImage.js"),C=s(
/*! ../rendering/renderColorImage.js */
"./rendering/renderColorImage.js"),T=s(
/*! ../rendering/renderGrayscaleImage.js */
"./rendering/renderGrayscaleImage.js"),D=s(
/*! ../rendering/renderPseudoColorImage.js */
"./rendering/renderPseudoColorImage.js"),h=s(
/*! ../rendering/renderLabelMapImage.js */
"./rendering/renderLabelMapImage.js"),E=s(
/*! ../triggerEvent.js */
"./triggerEvent.js"),O=s(
/*! ../events.js */
"./events.js");d.default=function(m,g){var v=m.image,P=m.element,b=m.layers||[];if(m.canvas&&m.image){var x=Object(p.default)();if(v.stats={lastGetPixelDataTime:-1,lastStoredPixelDataToCanvasImageDataTime:-1,lastPutImageDataTime:-1,lastRenderTime:-1,lastLutGenerateTime:-1},b&&b.length)Object(y.default)(m,g);else if(v){var S=v.render;S||(S=m.viewport.colormap&&""!==m.viewport.colormap&&!0===m.image.labelmap?h.renderLabelMapImage:m.viewport.colormap&&""!==m.viewport.colormap?D.renderPseudoColorImage:v.color?C.renderColorImage:T.renderGrayscaleImage),S(m,g)}var L=Object(p.default)()-x,w={viewport:m.viewport,element:P,image:v,enabledElement:m,canvasContext:m.canvas.getContext("2d",{desynchronized:!0}),renderTimeInMs:L};v.stats.lastRenderTime=L,m.invalid=!1,m.needsRedraw=!1,Object(E.default)(P,O.default.IMAGE_RENDERED,w)}}},"./internal/generateColorLut.js":
/*!**************************************!*\
                  !*** ./internal/generateColorLut.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./getVOILut.js */
"./internal/getVOILut.js");d.default=function(y,C,T,D,h){var E=y.maxPixelValue,O=y.minPixelValue,m=Math.min(O,0);if(void 0===y.cachedLut){var g=E-m+1;y.cachedLut={},y.cachedLut.lutArray=new Uint8ClampedArray(g)}var v=y.cachedLut.lutArray,P=Object(p.default)(C,T,h);if(!0===D)for(var b=O;b<=E;b++)v[b+-m]=255-P(b);else for(var x=O;x<=E;x++)v[x+-m]=P(x);return v}},"./internal/generateLut.js":
/*!*********************************!*\
                  !*** ./internal/generateLut.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./getModalityLUT.js */
"./internal/getModalityLUT.js"),y=s(
/*! ./getVOILut.js */
"./internal/getVOILut.js");d.default=function(C,T,D,h,E,O){var m=C.maxPixelValue,g=C.minPixelValue,v=Math.min(g,0);if(void 0===C.cachedLut){var P=m-v+1;C.cachedLut={},C.cachedLut.lutArray=new Uint8ClampedArray(P)}var b=C.cachedLut.lutArray,x=!!(C.slope%1)||!!(C.intercept%1),S=Object(p.default)(C.slope,C.intercept,E),L=Object(y.default)(T,D,O,x);if(!0===h)for(var w=g;w<=m;w++)b[w+-v]=255-L(S(w));else for(var N=g;N<=m;N++)b[N+-v]=L(S(N));return b}},"./internal/getCanvas.js":
/*!*******************************!*\
                  !*** ./internal/getCanvas.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return C});var p="cornerstone-canvas";function C(T){var D="canvas.".concat(p);return T.querySelector(D)||function y(T){var D=document.createElement("canvas");return D.style.display="block",D.classList.add(p),T.appendChild(D),D}(T)}},"./internal/getDefaultViewport.js":
/*!****************************************!*\
                  !*** ./internal/getDefaultViewport.js ***!
                  \****************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./createViewport.js */
"./internal/createViewport.js"),y=s(
/*! ./getImageFitScale.js */
"./internal/getImageFitScale.js");d.default=function(C,T){if(void 0===C)throw new Error("getDefaultViewport: parameter canvas must not be undefined");return void 0===T?Object(p.default)():{scale:Object(y.default)(C,T,0).scaleFactor,translation:{x:0,y:0},voi:{windowWidth:T.windowWidth,windowCenter:T.windowCenter},invert:T.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:T.modalityLUT,voiLUT:T.voiLUT,colormap:T.colormap,labelmap:!!T.labelmap,displayedArea:void 0}}},"./internal/getDisplayedArea.js":
/*!**************************************!*\
                  !*** ./internal/getDisplayedArea.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(y&&y.displayedArea)return y.displayedArea;if(void 0===p)throw new Error("getDisplayedArea: parameter image must not be undefined");return{tlhc:{x:1,y:1},brhc:{x:p.columns,y:p.rows},rowPixelSpacing:void 0===p.rowPixelSpacing?1:p.rowPixelSpacing,columnPixelSpacing:void 0===p.columnPixelSpacing?1:p.columnPixelSpacing,presentationSizeMode:"NONE"}}},"./internal/getFillStyle.js":
/*!**********************************!*\
                  !*** ./internal/getFillStyle.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var C=(p.viewport||{}).invert;return-1!==["black","white"].indexOf((p.options||{}).fillStyle)&&C?"white":"black"}},"./internal/getImageFitScale.js":
/*!**************************************!*\
                  !*** ./internal/getImageFitScale.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./validator.js */
"./internal/validator.js"),y=s(
/*! ./getImageSize.js */
"./internal/getImageSize.js");d.default=function(C,T){var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(p.validateParameterUndefinedOrNull)(C,"getImageScale: parameter windowSize must not be undefined"),Object(p.validateParameterUndefinedOrNull)(T,"getImageScale: parameter image must not be undefined");var h=Object(y.default)(T,D),E=T.rowPixelSpacing||1,O=T.columnPixelSpacing||1,m=1,g=1;E<O?g=O/E:m=E/O;var v=C.height/h.height/m,P=C.width/h.width/g;return{verticalScale:v,horizontalScale:P,scaleFactor:Math.min(P,v)}}},"./internal/getImageSize.js":
/*!**********************************!*\
                  !*** ./internal/getImageSize.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./validator.js */
"./internal/validator.js");d.default=function(C){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(p.validateParameterUndefinedOrNull)(C,"getImageSize: parameter image must not be undefined"),Object(p.validateParameterUndefinedOrNull)(C.width,"getImageSize: parameter image must have width"),Object(p.validateParameterUndefinedOrNull)(C.height,"getImageSize: parameter image must have height"),function y(C){return!(null==C||0===C||180===C)}(T)?{height:C.width,width:C.height}:{width:C.width,height:C.height}}},"./internal/getModalityLUT.js":
/*!************************************!*\
                  !*** ./internal/getModalityLUT.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(C,T,D){return D?function y(C){var T=C.lut[0],D=C.lut[C.lut.length-1],h=C.firstValueMapped+C.lut.length;return function(E){return E<C.firstValueMapped?T:E>=h?D:C.lut[E]}}(D):function p(C,T){return function(D){return D*C+T}}(C,T)}},"./internal/getTransform.js":
/*!**********************************!*\
                  !*** ./internal/getTransform.js ***!
                  \**********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./calculateTransform.js */
"./internal/calculateTransform.js");d.default=function(y){return Object(p.default)(y)}},"./internal/getVOILut.js":
/*!*******************************!*\
                  !*** ./internal/getVOILut.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(m){return function D(m){if(Array.isArray(m))return h(m)}(m)||function T(m){if(typeof Symbol<"u"&&null!=m[Symbol.iterator]||null!=m["@@iterator"])return Array.from(m)}(m)||function C(m,g){if(m){if("string"==typeof m)return h(m,g);var v=Object.prototype.toString.call(m).slice(8,-1);if("Object"===v&&m.constructor&&(v=m.constructor.name),"Map"===v||"Set"===v)return Array.from(m);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return h(m,g)}}(m)||function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(m,g){(null==g||g>m.length)&&(g=m.length);for(var v=0,P=new Array(g);v<g;v++)P[v]=m[v];return P}s.r(d),d.default=function(m,g,v,P){return v?function O(m,g){var P=Math.max.apply(Math,p(m.lut)).toString(2).length-8,b=m.lut[0]>>P,x=m.lut[m.lut.length-1]>>P,S=m.firstValueMapped+m.lut.length-1;return function(L){return L<m.firstValueMapped?b:L>=S?x:g?m.lut[Math.round(L)-m.firstValueMapped]>>P:m.lut[L-m.firstValueMapped]>>P}}(v,P):function E(m,g){return function(v){return 255*((v-g)/m+.5)}}(m,g)}},"./internal/guid.js":
/*!**************************!*\
                  !*** ./internal/guid.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}s.r(d),d.default=function(){return"".concat(p()+p(),"-").concat(p(),"-").concat(p(),"-").concat(p(),"-").concat(p()).concat(p()).concat(p())}},"./internal/index.js":
/*!***************************!*\
                  !*** ./internal/index.js ***!
                  \***************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./transform.js */
"./internal/transform.js"),y=s(
/*! ./calculateTransform.js */
"./internal/calculateTransform.js"),C=s(
/*! ./drawImage.js */
"./internal/drawImage.js"),T=s(
/*! ./generateLut.js */
"./internal/generateLut.js"),D=s(
/*! ./getDefaultViewport.js */
"./internal/getDefaultViewport.js"),h=s(
/*! ./getTransform.js */
"./internal/getTransform.js"),E=s(
/*! ./requestAnimationFrame.js */
"./internal/requestAnimationFrame.js"),O=s(
/*! ./setDefaultViewport.js */
"./internal/setDefaultViewport.js"),m=s(
/*! ./storedColorPixelDataToCanvasImageData.js */
"./internal/storedColorPixelDataToCanvasImageData.js"),g=s(
/*! ./storedPixelDataToCanvasImageData.js */
"./internal/storedPixelDataToCanvasImageData.js"),v=s(
/*! ./storedPixelDataToCanvasImageDataColorLUT.js */
"./internal/storedPixelDataToCanvasImageDataColorLUT.js"),P=s(
/*! ./storedPixelDataToCanvasImageDataPseudocolorLUT.js */
"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),b=s(
/*! ./storedPixelDataToCanvasImageDataRGBA.js */
"./internal/storedPixelDataToCanvasImageDataRGBA.js");d.default={drawImage:C.default,generateLut:T.default,getDefaultViewport:D.default,requestAnimationFrame:E.default,setDefaultViewport:O.default,storedPixelDataToCanvasImageData:g.default,storedPixelDataToCanvasImageDataRGBA:b.default,storedPixelDataToCanvasImageDataColorLUT:v.default,storedPixelDataToCanvasImageDataPseudocolorLUT:P.default,storedColorPixelDataToCanvasImageData:m.default,getTransform:h.default,calculateTransform:y.default,Transform:p.Transform}},"./internal/now.js":
/*!*************************!*\
                  !*** ./internal/now.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(){return window.performance?performance.now():Date.now()}},"./internal/requestAnimationFrame.js":
/*!*******************************************!*\
                  !*** ./internal/requestAnimationFrame.js ***!
                  \*******************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(y){return window.requestAnimationFrame(y)||window.webkitRequestAnimationFrame(y)||window.mozRequestAnimationFrame(y)||window.oRequestAnimationFrame(y)||window.msRequestAnimationFrame(y)||function p(y){window.setTimeout(y,1e3/60)}(y)}},"./internal/setDefaultViewport.js":
/*!****************************************!*\
                  !*** ./internal/setDefaultViewport.js ***!
                  \****************************************/
/*! exports provided: default, state */function(le,d,s){"use strict";s.r(d),s.d(d,"state",function(){return p});var p={viewport:{}};d.default=function(y){p.viewport=y||{}}},"./internal/storedColorPixelDataToCanvasImageData.js":
/*!***********************************************************!*\
                  !*** ./internal/storedColorPixelDataToCanvasImageData.js ***!
                  \***********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./now.js */
"./internal/now.js");d.default=function(y,C,T){var D=Object(p.default)(),h=y.getPixelData();y.stats.lastGetPixelDataTime=Object(p.default)()-D;var E=y.minPixelValue,O=0,m=0,g=h.length;if(D=Object(p.default)(),E<0)for(;m<g;)T[O++]=C[h[m++]+-E],T[O++]=C[h[m++]+-E],T[O]=C[h[m]+-E],m+=2,O+=2;else for(;m<g;)T[O++]=C[h[m++]],T[O++]=C[h[m++]],T[O]=C[h[m]],m+=2,O+=2;y.stats.lastStoredPixelDataToCanvasImageDataTime=Object(p.default)()-D}},"./internal/storedPixelDataToCanvasImageData.js":
/*!******************************************************!*\
                  !*** ./internal/storedPixelDataToCanvasImageData.js ***!
                  \******************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./now.js */
"./internal/now.js");d.default=function(y,C,T){var D=Object(p.default)(),h=y.getPixelData();y.stats.lastGetPixelDataTime=Object(p.default)()-D;var E=h.length,O=y.minPixelValue,m=3,g=0;if(D=Object(p.default)(),h instanceof Int16Array)if(O<0)for(;g<E;)T[m]=C[h[g++]+-O],m+=4;else for(;g<E;)T[m]=C[h[g++]],m+=4;else if(h instanceof Uint16Array)for(;g<E;)T[m]=C[h[g++]],m+=4;else if(O<0)for(;g<E;)T[m]=C[h[g++]+-O],m+=4;else for(;g<E;)T[m]=C[h[g++]],m+=4;y.stats.lastStoredPixelDataToCanvasImageDataTime=Object(p.default)()-D}},"./internal/storedPixelDataToCanvasImageDataColorLUT.js":
/*!**************************************************************!*\
                  !*** ./internal/storedPixelDataToCanvasImageDataColorLUT.js ***!
                  \**************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../colors/index.js */
"./colors/index.js"),y=s(
/*! ./now.js */
"./internal/now.js");d.default=function C(T,D,h){var E=Object(y.default)(),O=T.getPixelData();T.stats.lastGetPixelDataTime=Object(y.default)()-E;var b,x,m=O.length,g=T.minPixelValue,v=0,P=0;if(E=Object(y.default)(),x=D instanceof p.default.LookupTable?D.Table:D,g<0)for(;P<m;)b=x[O[P++]+-g],h[v++]=b[0],h[v++]=b[1],h[v++]=b[2],h[v++]=b[3];else for(;P<m;)b=x[O[P++]],h[v++]=b[0],h[v++]=b[1],h[v++]=b[2],h[v++]=b[3];T.stats.lastStoredPixelDataToCanvasImageDataTime=Object(y.default)()-E}},"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js":
/*!********************************************************************!*\
                  !*** ./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js ***!
                  \********************************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../colors/index.js */
"./colors/index.js"),y=s(
/*! ./now.js */
"./internal/now.js");d.default=function C(T,D,h,E){var O=Object(y.default)(),m=T.getPixelData();T.stats.lastGetPixelDataTime=Object(y.default)()-O;var x,S,L,g=m.length,v=T.minPixelValue,P=0,b=0;if(O=Object(y.default)(),L=h instanceof p.default.LookupTable?h.Table:h,v<0)for(;b<g;)x=D[m[b++]+-v],E[P++]=(S=L[x])[0],E[P++]=S[1],E[P++]=S[2],E[P++]=S[3];else for(;b<g;)x=D[m[b++]],E[P++]=(S=L[x])[0],E[P++]=S[1],E[P++]=S[2],E[P++]=S[3];T.stats.lastStoredPixelDataToCanvasImageDataTime=Object(y.default)()-O}},"./internal/storedPixelDataToCanvasImageDataRGBA.js":
/*!**********************************************************!*\
                  !*** ./internal/storedPixelDataToCanvasImageDataRGBA.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./now.js */
"./internal/now.js");d.default=function(y,C,T){var D=Object(p.default)(),h=y.getPixelData();y.stats.lastGetPixelDataTime=Object(p.default)()-D;var v,E=h.length,O=y.minPixelValue,m=0,g=0;if(D=Object(p.default)(),h instanceof Int16Array)if(O<0)for(;g<E;)v=C[h[g++]+-O],T[m++]=v,T[m++]=v,T[m++]=v,T[m++]=255;else for(;g<E;)v=C[h[g++]],T[m++]=v,T[m++]=v,T[m++]=v,T[m++]=255;else if(h instanceof Uint16Array)for(;g<E;)v=C[h[g++]],T[m++]=v,T[m++]=v,T[m++]=v,T[m++]=255;else if(O<0)for(;g<E;)v=C[h[g++]+-O],T[m++]=v,T[m++]=v,T[m++]=v,T[m++]=255;else for(;g<E;)v=C[h[g++]],T[m++]=v,T[m++]=v,T[m++]=v,T[m++]=255;y.stats.lastStoredPixelDataToCanvasImageDataTime=Object(p.default)()-D}},"./internal/storedRGBAPixelDataToCanvasImageData.js":
/*!**********************************************************!*\
                  !*** ./internal/storedRGBAPixelDataToCanvasImageData.js ***!
                  \**********************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./now.js */
"./internal/now.js");d.default=function(y,C,T){var D=Object(p.default)(),h=y.getPixelData();y.stats.lastGetPixelDataTime=Object(p.default)()-D;var E=y.minPixelValue,O=0,m=0,g=h.length;if(D=Object(p.default)(),E<0)for(;m<g;)T[O++]=C[h[m++]+-E],T[O++]=C[h[m++]+-E],T[O++]=C[h[m++]+-E],T[O++]=h[m++];else for(;m<g;)T[O++]=C[h[m++]],T[O++]=C[h[m++]],T[O++]=C[h[m++]],T[O++]=h[m++];y.stats.lastStoredPixelDataToCanvasImageDataTime=Object(p.default)()-D}},"./internal/transform.js":
/*!*******************************!*\
                  !*** ./internal/transform.js ***!
                  \*******************************/
/*! exports provided: Transform */function(le,d,s){"use strict";function y(D,h){for(var E=0;E<h.length;E++){var O=h[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,O.key,O)}}s.r(d),s.d(d,"Transform",function(){return T});var T=function(){function D(){(function p(D,h){if(!(D instanceof h))throw new TypeError("Cannot call a class as a function")})(this,D),this.reset()}return function C(D,h,E){return h&&y(D.prototype,h),E&&y(D,E),D}(D,[{key:"reset",value:function(){this.m=[1,0,0,1,0,0]}},{key:"clone",value:function(){var E=new D;return E.m[0]=this.m[0],E.m[1]=this.m[1],E.m[2]=this.m[2],E.m[3]=this.m[3],E.m[4]=this.m[4],E.m[5]=this.m[5],E}},{key:"multiply",value:function(E){var m=this.m[1]*E.m[0]+this.m[3]*E.m[1],g=this.m[0]*E.m[2]+this.m[2]*E.m[3],v=this.m[1]*E.m[2]+this.m[3]*E.m[3],P=this.m[0]*E.m[4]+this.m[2]*E.m[5]+this.m[4],b=this.m[1]*E.m[4]+this.m[3]*E.m[5]+this.m[5];this.m[0]=this.m[0]*E.m[0]+this.m[2]*E.m[1],this.m[1]=m,this.m[2]=g,this.m[3]=v,this.m[4]=P,this.m[5]=b}},{key:"invert",value:function(){var E=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),m=-this.m[1]*E,g=-this.m[2]*E,v=this.m[0]*E,P=E*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),b=E*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*E,this.m[1]=m,this.m[2]=g,this.m[3]=v,this.m[4]=P,this.m[5]=b}},{key:"rotate",value:function(E){var O=Math.cos(E),m=Math.sin(E),v=this.m[1]*O+this.m[3]*m,P=this.m[0]*-m+this.m[2]*O,b=this.m[1]*-m+this.m[3]*O;this.m[0]=this.m[0]*O+this.m[2]*m,this.m[1]=v,this.m[2]=P,this.m[3]=b}},{key:"translate",value:function(E,O){this.m[4]+=this.m[0]*E+this.m[2]*O,this.m[5]+=this.m[1]*E+this.m[3]*O}},{key:"scale",value:function(E,O){this.m[0]*=E,this.m[1]*=E,this.m[2]*=O,this.m[3]*=O}},{key:"transformPoint",value:function(E,O){var m=E;return{x:E=m*this.m[0]+O*this.m[2]+this.m[4],y:O=m*this.m[1]+O*this.m[3]+this.m[5]}}}]),D}()},"./internal/tryEnableWebgl.js":
/*!************************************!*\
                  !*** ./internal/tryEnableWebgl.js ***!
                  \************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../webgl/index.js */
"./webgl/index.js");d.default=function(y){return p.default.renderer.isWebGLAvailable()?(p.default.renderer.initRenderer(),y.renderer="webgl",y.desynchronized=!0,y.preserveDrawingBuffer=!0,!0):(console.error("WebGL not available, falling back to Canvas renderer"),delete y.renderer,delete y.preserveDrawingBuffer,!1)}},"./internal/validator.js":
/*!*******************************!*\
                  !*** ./internal/validator.js ***!
                  \*******************************/
/*! exports provided: validateParameterUndefined, validateParameterUndefinedOrNull */function(le,d,s){"use strict";function p(C,T){if(void 0===C)throw new Error(T)}function y(C,T){if(null==C)throw new Error(T)}s.r(d),s.d(d,"validateParameterUndefined",function(){return p}),s.d(d,"validateParameterUndefinedOrNull",function(){return y})},"./invalidate.js":
/*!***********************!*\
                  !*** ./invalidate.js ***!
                  \***********************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),C=s(
/*! ./events.js */
"./events.js");d.default=function(T){var D=Object(p.getEnabledElement)(T);D.invalid=!0,D.needsRedraw=!0;var h={element:T};Object(y.default)(T,C.default.INVALIDATED,h)}},"./invalidateImageId.js":
/*!******************************!*\
                  !*** ./invalidateImageId.js ***!
                  \******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/drawImage.js */
"./internal/drawImage.js");d.default=function(C){Object(p.getEnabledElementsByImageId)(C).forEach(function(D){Object(y.default)(D,!0)})}},"./layers.js":
/*!*******************!*\
                  !*** ./layers.js ***!
                  \*******************/
/*! exports provided: rescaleImage, addLayer, removeLayer, getLayer, getLayers, getVisibleLayers, setActiveLayer, setLayerImage, getActiveLayer, purgeLayers */function(le,d,s){"use strict";s.r(d),s.d(d,"rescaleImage",function(){return m}),s.d(d,"addLayer",function(){return g}),s.d(d,"removeLayer",function(){return v}),s.d(d,"getLayer",function(){return P}),s.d(d,"getLayers",function(){return b}),s.d(d,"getVisibleLayers",function(){return x}),s.d(d,"setActiveLayer",function(){return S}),s.d(d,"setLayerImage",function(){return L}),s.d(d,"getActiveLayer",function(){return w}),s.d(d,"purgeLayers",function(){return N});var p=s(
/*! ./internal/guid.js */
"./internal/guid.js"),y=s(
/*! ./enabledElements.js */
"./enabledElements.js"),C=s(
/*! ./internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js"),T=s(
/*! ./internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js"),D=s(
/*! ./updateImage.js */
"./updateImage.js"),h=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),E=s(
/*! ./events.js */
"./events.js");function O(j,W,B){var G=W.element,V={viewport:W.viewport,element:W.element,image:W.image,enabledElement:W,layerId:B};Object(h.default)(G,j,V)}function m(j,W){if(j.layerId===W.layerId)throw new Error("rescaleImage: both arguments represent the same layer");var B=j.image,G=W.image;if(B.imageId&&G.imageId){var V=Object(T.default)(G,W.viewport),F=Object(T.default)(B,j.viewport);W.viewport.scale=j.viewport.scale*(W.viewport.scale/j.viewport.scale*(V.columnPixelSpacing*G.width/(F.columnPixelSpacing*B.width)))}}function g(j,W,B){var z,G=Object(p.default)(),V=Object(y.getEnabledElement)(j),F=V.layers;W&&(z=Object(C.default)(V.canvas,W),B&&B.viewport&&(z=Object.assign(z,B.viewport))),!1!==V.syncViewports&&(V.syncViewports=!0);var te={image:W,layerId:G,viewport:z,options:B||{},renderingTools:{}};return F.length&&W&&m(F[0],te),F.push(te),O(E.default.LAYER_ADDED,V,G),1===F.length&&W&&S(j,G),G}function v(j,W){var B=Object(y.getEnabledElement)(j),G=B.layers,V=B.layers.findIndex(function(F){return F.layerId===W});-1!==V&&(G.splice(V,1),W===B.activeLayerId&&G.length&&S(j,G[0].layerId),O(E.default.LAYER_REMOVED,B,W))}function P(j,W){return Object(y.getEnabledElement)(j).layers.find(function(G){return G.layerId===W})}function b(j){return Object(y.getEnabledElement)(j).layers}function x(j){return Object(y.getEnabledElement)(j).layers.filter(function(B){return B.options&&!1!==B.options.visible&&0!==B.options.opacity})}function S(j,W){var B=Object(y.getEnabledElement)(j);if(B.activeLayerId!==W){var G=B.layers.findIndex(function(F){return F.layerId===W});if(-1===G)throw new Error("setActiveLayer: layer not found in layers array");var V=B.layers[G];if(!V.image)throw new Error("setActiveLayer: layer with undefined image cannot be set as active.");B.activeLayerId=W,B.image=V.image,B.viewport=V.viewport,Object(D.default)(j),O(E.default.ACTIVE_LAYER_CHANGED,B,W)}}function L(j,W,B){var F,G=Object(y.getEnabledElement)(j),V=G.layers[0];if(!(F=B?P(j,B):w(j)))throw new Error("setLayerImage: Layer not found");if(F.image=W,W){if(!F.viewport){var z=Object(C.default)(G.canvas,W);F.options&&F.options.viewport&&(F.viewport=Object.assign(z,F.options.viewport)),V.layerId!==B&&m(V,F)}}else F.viewport=void 0}function w(j){var W=Object(y.getEnabledElement)(j);return W.layers.find(function(B){return B.layerId===W.activeLayerId})}function N(j){var W=Object(y.getEnabledElement)(j);W.layers=[],delete W.activeLayerId,delete W.lastSyncViewportsState}},"./metaData.js":
/*!*********************!*\
                  !*** ./metaData.js ***!
                  \*********************/
/*! exports provided: addProvider, removeProvider, default */function(le,d,s){"use strict";s.r(d),s.d(d,"addProvider",function(){return y}),s.d(d,"removeProvider",function(){return C});var p=[];function y(D){var E,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(E=0;E<p.length&&!(p[E].priority<=h);E++);p.splice(E,0,{priority:h,provider:D})}function C(D){for(var h=0;h<p.length;h++)if(p[h].provider===D){p.splice(h,1);break}}d.default={addProvider:y,removeProvider:C,get:function T(D,h){for(var E=0;E<p.length;E++){var O=p[E].provider(D,h);if(void 0!==O)return O}}}},"./pageToPixel.js":
/*!************************!*\
                  !*** ./pageToPixel.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/getTransform.js */
"./internal/getTransform.js");d.default=function(C,T,D){var h=Object(p.getEnabledElement)(C);if(void 0===h.image)throw new Error("image has not been loaded yet");var E=C.getBoundingClientRect(),g={x:T-E.left-window.pageXOffset,y:D-E.top-window.pageYOffset},v=Object(y.default)(h);return v.invert(),v.transformPoint(g.x,g.y)}},"./pixelDataToFalseColorData.js":
/*!**************************************!*\
                  !*** ./pixelDataToFalseColorData.js ***!
                  \**************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),s.d(d,"default",function(){return y});var p=s(
/*! ./colors/index.js */
"./colors/index.js");function y(C,T){if(C.color&&!C.falseColor)throw new Error("Color transforms are not implemented yet");var v,P,D=C.minPixelValue,h=0,E=0,O=C.width*C.height,m=C.origPixelData||C.getPixelData(),g=new Uint8Array(4*O);if(C.color=!0,C.falseColor=!0,C.origPixelData=m,T instanceof p.default.LookupTable)for(T.build();E<O;)v=m[E++],P=T.mapValue(v),g[h++]=P[0],g[h++]=P[1],g[h++]=P[2],g[h++]=P[3];else if(D<0)for(;E<O;)v=m[E++],g[h++]=T[v+-D][0],g[h++]=T[v+-D][1],g[h++]=T[v+-D][2],g[h++]=T[v+-D][3];else for(;E<O;)v=m[E++],g[h++]=T[v][0],g[h++]=T[v][1],g[h++]=T[v][2],g[h++]=T[v][3];C.rgba=!0,C.cachedLut=void 0,C.render=void 0,C.slope=1,C.intercept=0,C.minPixelValue=0,C.maxPixelValue=255,C.windowWidth=255,C.windowCenter=128,C.getPixelData=function(){return g}}},"./pixelToCanvas.js":
/*!**************************!*\
                  !*** ./pixelToCanvas.js ***!
                  \**************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/getTransform.js */
"./internal/getTransform.js");d.default=function(C,T){var D=Object(p.getEnabledElement)(C);return Object(y.default)(D).transformPoint(T.x,T.y)}},"./rendering/doesImageNeedToBeRendered.js":
/*!************************************************!*\
                  !*** ./rendering/doesImageNeedToBeRendered.js ***!
                  \************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var T=p.renderingTools.lastRenderedViewport;return y.imageId!==p.renderingTools.lastRenderedImageId||!T||T.windowCenter!==p.viewport.voi.windowCenter||T.windowWidth!==p.viewport.voi.windowWidth||T.invert!==p.viewport.invert||T.rotation!==p.viewport.rotation||T.hflip!==p.viewport.hflip||T.vflip!==p.viewport.vflip||T.modalityLUT!==p.viewport.modalityLUT||T.voiLUT!==p.viewport.voiLUT||T.colormap!==p.viewport.colormap}},"./rendering/getLut.js":
/*!*****************************!*\
                  !*** ./rendering/getLut.js ***!
                  \*****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../internal/computeAutoVoi.js */
"./internal/computeAutoVoi.js"),y=s(
/*! ./lutMatches.js */
"./rendering/lutMatches.js"),C=s(
/*! ../internal/generateLut.js */
"./internal/generateLut.js");d.default=function(T,D,h){return void 0!==T.cachedLut&&T.cachedLut.windowCenter===D.voi.windowCenter&&T.cachedLut.windowWidth===D.voi.windowWidth&&Object(y.default)(T.cachedLut.modalityLUT,D.modalityLUT)&&Object(y.default)(T.cachedLut.voiLUT,D.voiLUT)&&T.cachedLut.invert===D.invert&&!0!==h||(Object(p.default)(D,T),Object(C.default)(T,D.voi.windowWidth,D.voi.windowCenter,D.invert,D.modalityLUT,D.voiLUT),T.cachedLut.windowWidth=D.voi.windowWidth,T.cachedLut.windowCenter=D.voi.windowCenter,T.cachedLut.invert=D.invert,T.cachedLut.voiLUT=D.voiLUT,T.cachedLut.modalityLUT=D.modalityLUT),T.cachedLut.lutArray}},"./rendering/index.js":
/*!****************************!*\
                  !*** ./rendering/index.js ***!
                  \****************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./renderColorImage.js */
"./rendering/renderColorImage.js"),y=s(
/*! ./renderGrayscaleImage.js */
"./rendering/renderGrayscaleImage.js"),C=s(
/*! ./renderWebImage.js */
"./rendering/renderWebImage.js"),T=s(
/*! ./renderPseudoColorImage.js */
"./rendering/renderPseudoColorImage.js"),D=s(
/*! ./renderLabelMapImage.js */
"./rendering/renderLabelMapImage.js"),h=s(
/*! ./renderToCanvas.js */
"./rendering/renderToCanvas.js");d.default={colorImage:p.renderColorImage,grayscaleImage:y.renderGrayscaleImage,webImage:C.renderWebImage,pseudoColorImage:T.renderPseudoColorImage,labelMapImage:D.renderLabelMapImage,toCanvas:h.default}},"./rendering/initializeRenderCanvas.js":
/*!*********************************************!*\
                  !*** ./rendering/initializeRenderCanvas.js ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){var C=p.renderingTools.renderCanvas;C.width=y.width,C.height=y.height;var T=C.getContext("2d",{desynchronized:!0});T.fillStyle="white",T.fillRect(0,0,C.width,C.height);var D=T.getImageData(0,0,y.width,y.height);p.renderingTools.renderCanvasContext=T,p.renderingTools.renderCanvasData=D}},"./rendering/lutMatches.js":
/*!*********************************!*\
                  !*** ./rendering/lutMatches.js ***!
                  \*********************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p,y){return!p&&!y||!(!p||!y)&&p.id===y.id}},"./rendering/renderColorImage.js":
/*!***************************************!*\
                  !*** ./rendering/renderColorImage.js ***!
                  \***************************************/
/*! exports provided: renderColorImage, addColorLayer */function(le,d,s){"use strict";s.r(d),s.d(d,"renderColorImage",function(){return x}),s.d(d,"addColorLayer",function(){return S});var p=s(
/*! ../internal/now.js */
"./internal/now.js"),y=s(
/*! ../internal/getFillStyle.js */
"./internal/getFillStyle.js"),C=s(
/*! ../internal/generateColorLut.js */
"./internal/generateColorLut.js"),T=s(
/*! ../internal/storedColorPixelDataToCanvasImageData.js */
"./internal/storedColorPixelDataToCanvasImageData.js"),D=s(
/*! ../internal/storedRGBAPixelDataToCanvasImageData.js */
"./internal/storedRGBAPixelDataToCanvasImageData.js"),h=s(
/*! ../setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js"),E=s(
/*! ../webgl/index.js */
"./webgl/index.js"),O=s(
/*! ./doesImageNeedToBeRendered.js */
"./rendering/doesImageNeedToBeRendered.js"),m=s(
/*! ./initializeRenderCanvas.js */
"./rendering/initializeRenderCanvas.js"),g=s(
/*! ./saveLastRendered.js */
"./rendering/saveLastRendered.js"),v=s(
/*! ../internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js");function b(L,w,N){(!L.renderingTools.renderCanvas||!0!==L.renderingTools.lastRenderedIsColor)&&(L.renderingTools.renderCanvas=document.createElement("canvas"));var W=L.renderingTools.renderCanvas;if(255===L.viewport.voi.windowWidth&&128===L.viewport.voi.windowCenter&&!1===L.viewport.invert&&w.getCanvas&&w.getCanvas())return w.getCanvas();if(!1===Object(O.default)(L,w)&&!0!==N)return W;(W.width!==w.width||W.height!==w.height)&&Object(m.default)(L,w);var B=Object(p.default)(),G=function P(L,w){return void 0!==L.cachedLut&&L.cachedLut.windowCenter===w.voi.windowCenter&&L.cachedLut.windowWidth===w.voi.windowWidth&&L.cachedLut.invert===w.invert||(Object(C.default)(L,w.voi.windowWidth,w.voi.windowCenter,w.invert),L.cachedLut.windowWidth=w.voi.windowWidth,L.cachedLut.windowCenter=w.voi.windowCenter,L.cachedLut.invert=w.invert),L.cachedLut.lutArray}(w,L.viewport);w.stats=w.stats||{},w.stats.lastLutGenerateTime=Object(p.default)()-B;var V=L.renderingTools.renderCanvasData,F=L.renderingTools.renderCanvasContext;return w.rgba?Object(D.default)(w,G,V.data):Object(T.default)(w,G,V.data),B=Object(p.default)(),F.putImageData(V,0,0),w.stats.lastPutImageDataTime=Object(p.default)()-B,W}function x(L,w){if(void 0===L)throw new Error("renderColorImage: enabledElement parameter must not be undefined");var N=L.image;if(void 0===N)throw new Error("renderColorImage: image must be loaded before it can be drawn");var W,j=L.canvas.getContext("2d",{desynchronized:!0});j.setTransform(1,0,0,1,0,0),j.fillStyle=Object(y.default)(L),j.fillRect(0,0,L.canvas.width,L.canvas.height),j.imageSmoothingEnabled=!L.viewport.pixelReplication,j.mozImageSmoothingEnabled=j.imageSmoothingEnabled,Object(h.default)(L,j),W=L.options&&L.options.renderer&&"webgl"===L.options.renderer.toLowerCase()?E.default.renderer.render(L):b(L,N,w);var B=Object(v.default)(L.image,L.viewport),G=B.tlhc.x-1,V=B.tlhc.y-1,F=B.brhc.x-G,z=B.brhc.y-V;j.drawImage(W,G,V,F,z,G,V,F,z),L.renderingTools=Object(g.default)(L)}function S(L,w){if(void 0===L)throw new Error("addColorLayer: layer parameter must not be undefined");var N=L.image;if(void 0===N)throw new Error("addColorLayer: image must be loaded before it can be drawn");N.rgba=!0,L.canvas=b(L,N,w);var j=L.canvas.getContext("2d",{desynchronized:!0});j.imageSmoothingEnabled=!L.viewport.pixelReplication,j.mozImageSmoothingEnabled=j.imageSmoothingEnabled,L.renderingTools=Object(g.default)(L)}},"./rendering/renderGrayscaleImage.js":
/*!*******************************************!*\
                  !*** ./rendering/renderGrayscaleImage.js ***!
                  \*******************************************/
/*! exports provided: renderGrayscaleImage, addGrayscaleLayer */function(le,d,s){"use strict";s.r(d),s.d(d,"renderGrayscaleImage",function(){return b}),s.d(d,"addGrayscaleLayer",function(){return x});var p=s(
/*! ../internal/getFillStyle.js */
"./internal/getFillStyle.js"),y=s(
/*! ../internal/storedPixelDataToCanvasImageData.js */
"./internal/storedPixelDataToCanvasImageData.js"),C=s(
/*! ../internal/storedPixelDataToCanvasImageDataRGBA.js */
"./internal/storedPixelDataToCanvasImageDataRGBA.js"),T=s(
/*! ../setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js"),D=s(
/*! ../internal/now.js */
"./internal/now.js"),h=s(
/*! ../webgl/index.js */
"./webgl/index.js"),E=s(
/*! ./getLut.js */
"./rendering/getLut.js"),O=s(
/*! ./doesImageNeedToBeRendered.js */
"./rendering/doesImageNeedToBeRendered.js"),m=s(
/*! ./initializeRenderCanvas.js */
"./rendering/initializeRenderCanvas.js"),g=s(
/*! ./saveLastRendered.js */
"./rendering/saveLastRendered.js"),v=s(
/*! ../internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js");function P(S,L,w){var N=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(!S.renderingTools.renderCanvas||!0===S.renderingTools.lastRenderedIsColor)&&(S.renderingTools.renderCanvas=document.createElement("canvas"),Object(m.default)(S,L));var W=S.renderingTools.renderCanvas;if(!1===Object(O.default)(S,L)&&!0!==w)return W;(W.width!==L.width||W.height!==L.height)&&Object(m.default)(S,L);var B=Object(D.default)(),G=Object(E.default)(L,S.viewport,w);L.stats=L.stats||{},L.stats.lastLutGenerateTime=Object(D.default)()-B;var V=S.renderingTools.renderCanvasData,F=S.renderingTools.renderCanvasContext;return N?Object(y.default)(L,G,V.data):Object(C.default)(L,G,V.data),B=Object(D.default)(),F.putImageData(V,0,0),L.stats.lastPutImageDataTime=Object(D.default)()-B,W}function b(S,L){if(void 0===S)throw new Error("drawImage: enabledElement parameter must not be undefined");var w=S.image;if(void 0===w)throw new Error("drawImage: image must be loaded before it can be drawn");var j,N=S.canvas.getContext("2d",{desynchronized:!0});N.setTransform(1,0,0,1,0,0),N.fillStyle=Object(p.default)(S),N.fillRect(0,0,S.canvas.width,S.canvas.height),N.imageSmoothingEnabled=!S.viewport.pixelReplication,N.mozImageSmoothingEnabled=N.imageSmoothingEnabled,Object(T.default)(S,N),j=S.options&&S.options.renderer&&"webgl"===S.options.renderer.toLowerCase()?h.default.renderer.render(S):P(S,w,L);var W=Object(v.default)(S.image,S.viewport),B=W.tlhc.x-1,G=W.tlhc.y-1,V=W.brhc.x-B,F=W.brhc.y-G;N.drawImage(j,B,G,V,F,B,G,V,F),S.renderingTools=Object(g.default)(S)}function x(S,L){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===S)throw new Error("addGrayscaleLayer: layer parameter must not be undefined");var N=S.image;if(void 0===N)throw new Error("addGrayscaleLayer: image must be loaded before it can be drawn");S.canvas=P(S,N,L,w);var j=S.canvas.getContext("2d",{desynchronized:!0});j.imageSmoothingEnabled=!S.viewport.pixelReplication,j.mozImageSmoothingEnabled=j.imageSmoothingEnabled,S.renderingTools=Object(g.default)(S)}},"./rendering/renderLabelMapImage.js":
/*!******************************************!*\
                  !*** ./rendering/renderLabelMapImage.js ***!
                  \******************************************/
/*! exports provided: renderLabelMapImage, addLabelMapLayer */function(le,d,s){"use strict";s.r(d),s.d(d,"renderLabelMapImage",function(){return v}),s.d(d,"addLabelMapLayer",function(){return P});var p=s(
/*! ../setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js"),y=s(
/*! ../internal/now.js */
"./internal/now.js"),C=s(
/*! ../internal/getFillStyle.js */
"./internal/getFillStyle.js"),T=s(
/*! ./initializeRenderCanvas.js */
"./rendering/initializeRenderCanvas.js"),D=s(
/*! ./saveLastRendered.js */
"./rendering/saveLastRendered.js"),h=s(
/*! ./doesImageNeedToBeRendered.js */
"./rendering/doesImageNeedToBeRendered.js"),E=s(
/*! ../internal/storedPixelDataToCanvasImageDataColorLUT.js */
"./internal/storedPixelDataToCanvasImageDataColorLUT.js"),O=s(
/*! ../colors/index.js */
"./colors/index.js"),m=s(
/*! ../internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js");function g(b,x,S){b.renderingTools.renderCanvas||(b.renderingTools.renderCanvas=document.createElement("canvas"));var L=b.renderingTools.renderCanvas,w=b.viewport.colormap||b.options.colormap;if(b.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),w&&"string"==typeof w&&(w=O.default.getColormap(w)),!w)throw new Error("renderLabelMapImage: colormap not found.");var N=w.getId();if(!1===Object(h.default)(b,x)&&!0!==S&&b.renderingTools.colormapId===N)return L;(L.width!==x.width||L.height!==x.height)&&Object(T.default)(b,x);var j=Object(y.default)();(!b.renderingTools.colorLut||S||b.renderingTools.colormapId!==N)&&(b.renderingTools.colorLut=w.createLookupTable(),b.renderingTools.colormapId=N),x.stats=x.stats||{},x.stats.lastLutGenerateTime=Object(y.default)()-j;var W=b.renderingTools.colorLut,B=b.renderingTools.renderCanvasData,G=b.renderingTools.renderCanvasContext;return Object(E.default)(x,W,B.data),j=Object(y.default)(),G.putImageData(B,0,0),x.stats.lastPutImageDataTime=Object(y.default)()-j,L}function v(b,x){if(void 0===b)throw new Error("renderLabelMapImage: enabledElement parameter must not be undefined");var S=b.image;if(void 0===S)throw new Error("renderLabelMapImage: image must be loaded before it can be drawn");var L=b.canvas.getContext("2d",{desynchronized:!0});L.setTransform(1,0,0,1,0,0),L.fillStyle=Object(C.default)(b),L.fillRect(0,0,b.canvas.width,b.canvas.height),L.imageSmoothingEnabled=!b.viewport.pixelReplication,L.mozImageSmoothingEnabled=L.imageSmoothingEnabled,Object(p.default)(b,L);var w=g(b,S,x),N=Object(m.default)(b.image,b.viewport),j=N.tlhc.x-1,W=N.tlhc.y-1,B=N.brhc.x-j,G=N.brhc.y-W;L.drawImage(w,j,W,B,G,j,W,B,G),b.renderingTools=Object(D.default)(b)}function P(b,x){if(void 0===b)throw new Error("addLabelMapLayer: layer parameter must not be undefined");var S=b.image;if(void 0===S)throw new Error("addLabelMapLayer: image must be loaded before it can be drawn");b.canvas=g(b,S,x);var L=b.canvas.getContext("2d",{desynchronized:!0});L.imageSmoothingEnabled=!b.viewport.pixelReplication,L.mozImageSmoothingEnabled=L.imageSmoothingEnabled,b.renderingTools=Object(D.default)(b)}},"./rendering/renderPseudoColorImage.js":
/*!*********************************************!*\
                  !*** ./rendering/renderPseudoColorImage.js ***!
                  \*********************************************/
/*! exports provided: renderPseudoColorImage, addPseudoColorLayer */function(le,d,s){"use strict";s.r(d),s.d(d,"renderPseudoColorImage",function(){return P}),s.d(d,"addPseudoColorLayer",function(){return b});var p=s(
/*! ../setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js"),y=s(
/*! ../internal/now.js */
"./internal/now.js"),C=s(
/*! ../internal/getFillStyle.js */
"./internal/getFillStyle.js"),T=s(
/*! ./initializeRenderCanvas.js */
"./rendering/initializeRenderCanvas.js"),D=s(
/*! ./getLut.js */
"./rendering/getLut.js"),h=s(
/*! ./saveLastRendered.js */
"./rendering/saveLastRendered.js"),E=s(
/*! ./doesImageNeedToBeRendered.js */
"./rendering/doesImageNeedToBeRendered.js"),O=s(
/*! ../internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js */
"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),m=s(
/*! ../colors/index.js */
"./colors/index.js"),g=s(
/*! ../internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js");function v(x,S,L){x.renderingTools.renderCanvas||(x.renderingTools.renderCanvas=document.createElement("canvas"));var w=x.renderingTools.renderCanvas,N=x.viewport.colormap||x.options.colormap;if(x.options&&x.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),N&&"string"==typeof N&&(N=m.default.getColormap(N)),!N)throw new Error("renderPseudoColorImage: colormap not found.");var j=N.getId();if(!1===Object(E.default)(x,S)&&!0!==L&&x.renderingTools.colormapId===j)return w;(w.width!==S.width||w.height!==S.height)&&Object(T.default)(x,S);var W=Object(y.default)();(!x.renderingTools.colorLut||L||x.renderingTools.colormapId!==j)&&(N.setNumberOfColors(256),x.renderingTools.colorLut=N.createLookupTable(),x.renderingTools.colormapId=j);var B=Object(D.default)(S,x.viewport,L);S.stats=S.stats||{},S.stats.lastLutGenerateTime=Object(y.default)()-W;var G=x.renderingTools.colorLut,V=x.renderingTools.renderCanvasData,F=x.renderingTools.renderCanvasContext;return Object(O.default)(S,B,G,V.data),W=Object(y.default)(),F.putImageData(V,0,0),S.stats.lastPutImageDataTime=Object(y.default)()-W,w}function P(x,S){if(void 0===x)throw new Error("drawImage: enabledElement parameter must not be undefined");var L=x.image;if(void 0===L)throw new Error("drawImage: image must be loaded before it can be drawn");var w=x.canvas.getContext("2d",{desynchronized:!0});w.setTransform(1,0,0,1,0,0),w.fillStyle=Object(C.default)(x),w.fillRect(0,0,x.canvas.width,x.canvas.height),w.imageSmoothingEnabled=!x.viewport.pixelReplication,w.mozImageSmoothingEnabled=w.imageSmoothingEnabled,Object(p.default)(x,w);var N=v(x,L,S),j=Object(g.default)(x.image,x.viewport),W=j.tlhc.x-1,B=j.tlhc.y-1,G=j.brhc.x-W,V=j.brhc.y-B;w.drawImage(N,W,B,G,V,W,B,G,V),x.renderingTools=Object(h.default)(x)}function b(x,S){if(void 0===x)throw new Error("addPseudoColorLayer: layer parameter must not be undefined");var L=x.image;if(void 0===L)throw new Error("addPseudoColorLayer: image must be loaded before it can be drawn");x.canvas=v(x,L,S);var w=x.canvas.getContext("2d",{desynchronized:!0});w.imageSmoothingEnabled=!x.viewport.pixelReplication,w.mozImageSmoothingEnabled=w.imageSmoothingEnabled,x.renderingTools=Object(h.default)(x)}},"./rendering/renderToCanvas.js":
/*!*************************************!*\
                  !*** ./rendering/renderToCanvas.js ***!
                  \*************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../triggerEvent.js */
"./triggerEvent.js"),y=s(
/*! ../events.js */
"./events.js"),C=s(
/*! ../internal/drawImageSync.js */
"./internal/drawImageSync.js"),T=s(
/*! ../internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js"),D=s(
/*! ../internal/tryEnableWebgl.js */
"./internal/tryEnableWebgl.js");d.default=function(E,O){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===E)throw new Error("renderToCanvas: parameter canvas cannot be undefined");g&&g.renderer&&"webgl"===g.renderer.toLowerCase()&&Object(D.default)(g);var v=Object(T.default)(E,O);m&&Object.assign(v,m);var P=function h(E,O,m,g){return{element:E,canvas:E,image:O,invalid:!0,needsRedraw:!0,options:m,layers:[],data:{},renderingTools:{},viewport:g}}(E,O,g,v),b={enabledElement:P,timestamp:Date.now()};Object(p.default)(P.element,y.default.PRE_RENDER,b),Object(C.default)(P,P.invalid)}},"./rendering/renderWebImage.js":
/*!*************************************!*\
                  !*** ./rendering/renderWebImage.js ***!
                  \*************************************/
/*! exports provided: renderWebImage */function(le,d,s){"use strict";s.r(d),s.d(d,"renderWebImage",function(){return T});var p=s(
/*! ../setToPixelCoordinateSystem.js */
"./setToPixelCoordinateSystem.js"),y=s(
/*! ./renderColorImage.js */
"./rendering/renderColorImage.js"),C=s(
/*! ../internal/getDisplayedArea.js */
"./internal/getDisplayedArea.js");function T(D,h){if(void 0===D)throw new Error("renderWebImage: enabledElement parameter must not be undefined");var E=D.image;if(void 0===E)throw new Error("renderWebImage: image must be loaded before it can be drawn");if(D.viewport.voi.windowWidth===D.image.windowWidth&&D.viewport.voi.windowCenter===D.image.windowCenter&&!1===D.viewport.invert){var O=D.canvas.getContext("2d",{desynchronized:!0});O.setTransform(1,0,0,1,0,0),O.fillStyle="black",O.fillRect(0,0,D.canvas.width,D.canvas.height),O.imageSmoothingEnabled=!D.viewport.pixelReplication,O.mozImageSmoothingEnabled=O.imageSmoothingEnabled,Object(p.default)(D,O);var m=Object(C.default)(D.image,D.viewport),g=m.tlhc.x-1,v=m.tlhc.y-1,P=m.brhc.x-g,b=m.brhc.y-v;O.drawImage(E.getImage(),g,v,P,b,g,v,P,b)}else Object(y.renderColorImage)(D,h)}},"./rendering/saveLastRendered.js":
/*!***************************************!*\
                  !*** ./rendering/saveLastRendered.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d),d.default=function(p){var C=p.viewport,T=p.image.color;return p.renderingTools.lastRenderedImageId=p.image.imageId,p.renderingTools.lastRenderedIsColor=T,p.renderingTools.lastRenderedViewport={windowCenter:C.voi.windowCenter,windowWidth:C.voi.windowWidth,invert:C.invert,rotation:C.rotation,hflip:C.hflip,vflip:C.vflip,modalityLUT:C.modalityLUT,voiLUT:C.voiLUT,colormap:C.colormap},p.renderingTools}},"./requestPool/RequestPoolManager.ts":
/*!*******************************************!*\
                  !*** ./requestPool/RequestPoolManager.ts ***!
                  \*******************************************/
/*! exports provided: RequestPoolManager */function(le,d,s){"use strict";function p(m,g){var v=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!v){if(Array.isArray(m)||(v=function y(m,g){if(m){if("string"==typeof m)return C(m,g);var v=Object.prototype.toString.call(m).slice(8,-1);if("Object"===v&&m.constructor&&(v=m.constructor.name),"Map"===v||"Set"===v)return Array.from(m);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return C(m,g)}}(m))||g&&m&&"number"==typeof m.length){v&&(m=v);var P=0,b=function(){};return{s:b,n:function(){return P>=m.length?{done:!0}:{done:!1,value:m[P++]}},e:function(N){throw N},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,x=!0,S=!1;return{s:function(){v=v.call(m)},n:function(){var N=v.next();return x=N.done,N},e:function(N){S=!0,L=N},f:function(){try{!x&&null!=v.return&&v.return()}finally{if(S)throw L}}}}function C(m,g){(null==g||g>m.length)&&(g=m.length);for(var v=0,P=new Array(g);v<g;v++)P[v]=m[v];return P}function D(m,g){for(var v=0;v<g.length;v++){var P=g[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}function E(m,g,v){return g in m?Object.defineProperty(m,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[g]=v,m}s.r(d),s.d(d,"RequestPoolManager",function(){return O});var O=function(){function m(){(function T(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,m),E(this,"requestPool",void 0),E(this,"awake",void 0),E(this,"numRequests",void 0),E(this,"maxNumRequests",void 0),E(this,"grabDelay",void 0),E(this,"timeoutHandle",void 0),this.requestPool={interaction:{0:[]},thumbnail:{0:[]},prefetch:{0:[]}},this.awake=!1,this.grabDelay=5,this.numRequests={interaction:0,thumbnail:0,prefetch:0},this.maxNumRequests={interaction:6,thumbnail:6,prefetch:5}}return function h(m,g,v){return g&&D(m.prototype,g),v&&D(m,v),m}(m,[{key:"destroy",value:function(){this.timeoutHandle&&window.clearTimeout(this.timeoutHandle)}},{key:"addRequest",value:function(v,P,b){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,S=arguments.length>4&&void 0!==arguments[4]&&arguments[4],L={requestFn:v,type:P,additionalDetails:b};void 0===this.requestPool[P][x]&&(this.requestPool[P][x]=[]),S?this.requestPool[P][x].unshift(L):this.requestPool[P][x].push(L),this.awake||(this.awake=!0,this.startGrabbing())}},{key:"filterRequests",value:function(v){var P=this;Object.keys(this.requestPool).forEach(function(b){var x=P.requestPool[b];Object.keys(x).forEach(function(S){x[S]=x[S].filter(function(L){return v(L)})})})}},{key:"clearRequestStack",value:function(v){if(!this.requestPool[v])throw new Error("No category for the type ".concat(v," found"));this.requestPool[v]={0:[]}}},{key:"sendRequest",value:function(v){var P=this,b=v.requestFn,x=v.type;this.numRequests[x]++,this.awake=!0,b().finally(function(){P.numRequests[x]--,P.startAgain()})}},{key:"startGrabbing",value:function(){for(var b=this.maxNumRequests.interaction+this.maxNumRequests.thumbnail+this.maxNumRequests.prefetch-(this.numRequests.interaction+this.numRequests.thumbnail+this.numRequests.prefetch),x=0;x<b;x++){var S=this.getNextRequest();if(!1===S)break;S&&this.sendRequest(S)}}},{key:"startAgain",value:function(){var v=this;this.awake&&(this.grabDelay?this.timeoutHandle=window.setTimeout(function(){v.startGrabbing()},this.grabDelay):this.startGrabbing())}},{key:"getSortedPriorityGroups",value:function(v){var P=this;return Object.keys(this.requestPool[v]).map(Number).filter(function(x){return P.requestPool[v][x].length}).sort()}},{key:"getNextRequest",value:function(){var b,v=this.getSortedPriorityGroups("interaction"),P=p(v);try{for(P.s();!(b=P.n()).done;){var x=b.value;if(this.requestPool.interaction[x].length&&this.numRequests.interaction<this.maxNumRequests.interaction)return this.requestPool.interaction[x].shift()}}catch(V){P.e(V)}finally{P.f()}var w,S=this.getSortedPriorityGroups("thumbnail"),L=p(S);try{for(L.s();!(w=L.n()).done;){var N=w.value;if(this.requestPool.thumbnail[N].length&&this.numRequests.thumbnail<this.maxNumRequests.thumbnail)return this.requestPool.thumbnail[N].shift()}}catch(V){L.e(V)}finally{L.f()}var B,j=this.getSortedPriorityGroups("prefetch"),W=p(j);try{for(W.s();!(B=W.n()).done;){var G=B.value;if(this.requestPool.prefetch[G].length&&this.numRequests.prefetch<this.maxNumRequests.prefetch)return this.requestPool.prefetch[G].shift()}}catch(V){W.e(V)}finally{W.f()}return!v.length&&!S.length&&!j.length&&(this.awake=!1),!1}},{key:"getRequestPool",value:function(){return this.requestPool}}]),m}()},"./requestPool/imageLoadPoolManager.ts":
/*!*********************************************!*\
                  !*** ./requestPool/imageLoadPoolManager.ts ***!
                  \*********************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var y=new(s(
/*! ./RequestPoolManager.ts */
"./requestPool/RequestPoolManager.ts").RequestPoolManager);y.maxNumRequests={interaction:1e3,thumbnail:1e3,prefetch:1e3},y.grabDelay=0,d.default=y},"./requestPool/imageRetrievalPoolManager.ts":
/*!**************************************************!*\
                  !*** ./requestPool/imageRetrievalPoolManager.ts ***!
                  \**************************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var y=new(s(
/*! ./RequestPoolManager.ts */
"./requestPool/RequestPoolManager.ts").RequestPoolManager);y.maxNumRequests={interaction:20,thumbnail:20,prefetch:20},y.grabDelay=0,d.default=y},"./reset.js":
/*!******************!*\
                  !*** ./reset.js ***!
                  \******************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js"),y=s(
/*! ./enabledElements.js */
"./enabledElements.js"),C=s(
/*! ./updateImage.js */
"./updateImage.js");d.default=function(T){var D=Object(y.getEnabledElement)(T);D.viewport=Object(p.default)(D.canvas,D.image),Object(C.default)(T)}},"./resize.js":
/*!*******************!*\
                  !*** ./resize.js ***!
                  \*******************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./fitToWindow.js */
"./fitToWindow.js"),C=s(
/*! ./updateImage.js */
"./updateImage.js"),T=s(
/*! ./triggerEvent.js */
"./triggerEvent.js"),D=s(
/*! ./internal/getImageSize.js */
"./internal/getImageSize.js"),h=s(
/*! ./events.js */
"./events.js");d.default=function(g,v){var P=Object(p.getEnabledElement)(g),b=P.canvas.width,x=P.canvas.height;!function E(g,v){v.width!==g.clientWidth&&(v.width=g.clientWidth,v.style.width="".concat(g.clientWidth,"px")),v.height!==g.clientHeight&&(v.height=g.clientHeight,v.style.height="".concat(g.clientHeight,"px"))}(g,P.canvas);var S={element:g};Object(T.default)(g,h.default.ELEMENT_RESIZED,S),void 0!==P.image&&(v||function O(g,v,P){var b=g.viewport.scale,x=Object(D.default)(g.image,g.viewport.rotation),S=Math.round(x.width*b),L=Math.round(x.height*b);return S===v&&L<=P||S<=v&&L===P&&0===g.viewport.translation.x&&0===g.viewport.translation.y}(P,b,x)?Object(y.default)(g):(function m(g,v,P){var b=g.viewport.scale,N=Math.sqrt(g.canvas.width/v*(g.canvas.height/P));g.viewport.scale=N*b}(P,b,x),Object(C.default)(g)))}},"./setToPixelCoordinateSystem.js":
/*!***************************************!*\
                  !*** ./setToPixelCoordinateSystem.js ***!
                  \***************************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./internal/calculateTransform.js */
"./internal/calculateTransform.js");d.default=function(y,C,T){if(void 0===y)throw new Error("setToPixelCoordinateSystem: parameter enabledElement must not be undefined");if(void 0===C)throw new Error("setToPixelCoordinateSystem: parameter context must not be undefined");var D=Object(p.default)(y,T);C.setTransform(D.m[0],D.m[1],D.m[2],D.m[3],D.m[4],D.m[5])}},"./setViewport.js":
/*!************************!*\
                  !*** ./setViewport.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./internal/getDefaultViewport.js */
"./internal/getDefaultViewport.js"),y=s(
/*! ./enabledElements.js */
"./enabledElements.js"),C=s(
/*! ./updateImage.js */
"./updateImage.js");d.default=function(h,E){var O=Object(y.getEnabledElement)(h);if(void 0===O.viewport&&(O.viewport=Object(p.default)(O.canvas)),E)for(var m in E)null!==E[m]&&(O.viewport[m]=E[m]);O.viewport.voi.windowWidth&&(O.viewport.voi.windowWidth=Math.max(O.viewport.voi.windowWidth,1e-6)),O.viewport.scale&&(O.viewport.scale=Math.max(O.viewport.scale,1e-4)),O.viewport.rotation%=360,O.viewport.rotation<0&&(O.viewport.rotation+=360),O.image&&Object(C.default)(h)}},"./triggerEvent.js":
/*!*************************!*\
                  !*** ./triggerEvent.js ***!
                  \*************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(y,C){var D,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"function"==typeof window.CustomEvent?D=new CustomEvent(C,{detail:T,cancelable:!0}):(D=document.createEvent("CustomEvent")).initCustomEvent(C,!0,!0,T),y.dispatchEvent(D)}s.r(d),s.d(d,"default",function(){return p})},"./updateImage.js":
/*!************************!*\
                  !*** ./updateImage.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./enabledElements.js */
"./enabledElements.js"),y=s(
/*! ./internal/drawImage.js */
"./internal/drawImage.js");d.default=function(C){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],D=Object(p.getEnabledElement)(C);Object(y.default)(D,T)}},"./webgl/createProgramFromString.js":
/*!******************************************!*\
                  !*** ./webgl/createProgramFromString.js ***!
                  \******************************************/
/*! exports provided: default */function(le,d,s){"use strict";function p(C,T,D){var h=C.createShader(D);if(C.shaderSource(h,T),C.compileShader(h),!C.getShaderParameter(h,C.COMPILE_STATUS)&&!C.isContextLost()){var O=C.getShaderInfoLog(h);console.error("Could not compile shader:\n".concat(O))}return h}s.r(d),d.default=function(C,T,D){return function y(C,T,D){var h=C.createProgram();if(C.attachShader(h,T),C.attachShader(h,D),C.linkProgram(h),!C.getProgramParameter(h,C.LINK_STATUS)&&!C.isContextLost()){var O=C.getProgramInfoLog(h);console.error("WebGL program filed to link:\n".concat(O))}return h}(C,p(C,T,C.VERTEX_SHADER),p(C,D,C.FRAGMENT_SHADER))}},"./webgl/index.js":
/*!************************!*\
                  !*** ./webgl/index.js ***!
                  \************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ./renderer.js */
"./webgl/renderer.js"),y=s(
/*! ./createProgramFromString.js */
"./webgl/createProgramFromString.js"),C=s(
/*! ./textureCache.js */
"./webgl/textureCache.js"),T={createProgramFromString:y.default,renderer:{render:p.render,initRenderer:p.initRenderer,getRenderCanvas:p.getRenderCanvas,isWebGLAvailable:p.isWebGLAvailable},textureCache:C.default};Object.defineProperty(T,"isWebGLInitialized",{enumerable:!0,configurable:!1,get:function(){return p.isWebGLInitialized}}),d.default=T},"./webgl/renderer.js":
/*!***************************!*\
                  !*** ./webgl/renderer.js ***!
                  \***************************/
/*! exports provided: isWebGLInitialized, getRenderCanvas, initRenderer, render, isWebGLAvailable */function(le,d,s){"use strict";s.r(d),s.d(d,"isWebGLInitialized",function(){return m}),s.d(d,"getRenderCanvas",function(){return g}),s.d(d,"initRenderer",function(){return P}),s.d(d,"render",function(){return V}),s.d(d,"isWebGLAvailable",function(){return F});var h,E,O,p=s(
/*! ./shaders/index.js */
"./webgl/shaders/index.js"),y=s(
/*! ./vertexShader.js */
"./webgl/vertexShader.js"),C=s(
/*! ./textureCache.js */
"./webgl/textureCache.js"),T=s(
/*! ./createProgramFromString.js */
"./webgl/createProgramFromString.js"),D=document.createElement("canvas"),m=!1;function g(){return D}function P(){!0!==m&&function L(z){h=null;try{var te={desynchronized:!0,preserveDrawingBuffer:!0};h=z.getContext("webgl",te)||z.getContext("experimental-webgl",te),z.removeEventListener("webglcontextlost",x,!1),z.addEventListener("webglcontextlost",x,!1),z.removeEventListener("webglcontextrestored",S,!1),z.addEventListener("webglcontextrestored",S,!1)}catch{throw new Error("Error creating WebGL context")}return h||(console.error("Unable to initialize WebGL. Your browser may not support it."),h=null),h}(D)&&(function B(){O=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,O),h.bufferData(h.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),h.STATIC_DRAW),E=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,E),h.bufferData(h.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),h.STATIC_DRAW)}(),function v(){for(var z in p.shaders){var te=p.shaders[z];te.attributes={},te.uniforms={},te.vert=y.vertexShader,te.program=Object(T.default)(h,te.vert,te.frag),te.attributes.texCoordLocation=h.getAttribLocation(te.program,"a_texCoord"),h.enableVertexAttribArray(te.attributes.texCoordLocation),te.attributes.positionLocation=h.getAttribLocation(te.program,"a_position"),h.enableVertexAttribArray(te.attributes.positionLocation),te.uniforms.resolutionLocation=h.getUniformLocation(te.program,"u_resolution")}}(),m=!0)}function x(z){z.preventDefault(),console.warn("WebGL Context Lost!")}function S(z){z.preventDefault(),m=!1,C.default.purgeCache(),P()}function w(z){if(z.color)return"rgb";var te=z.getPixelData();return te instanceof Int16Array?"int16":te instanceof Uint16Array?"uint16":te instanceof Int8Array?"int8":"uint8"}function W(z){var te=C.default.getImageTexture(z.imageId);return te||(te=function j(z){var te={uint8:h.LUMINANCE,int8:h.LUMINANCE_ALPHA,uint16:h.LUMINANCE_ALPHA,int16:h.RGB,rgb:h.RGB},ae=w(z),ie=te[ae],oe=h.createTexture();h.bindTexture(h.TEXTURE_2D,oe),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.pixelStorei(h.UNPACK_ALIGNMENT,1);var $=p.dataUtilities[ae].storedPixelDataToImageData(z,z.width,z.height);return h.texImage2D(h.TEXTURE_2D,0,ie,z.width,z.height,0,ie,h.UNSIGNED_BYTE,$),{texture:oe,sizeInBytes:z.width*z.height*{int8:1,uint16:2,int16:3,rgb:3}[ae]}}(z),C.default.putImageTexture(z,te)),te.texture}function G(z,te,q,ae,ie){for(var oe in h.clearColor(1,0,0,1),h.viewport(0,0,ae,ie),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),h.useProgram(z.program),h.bindBuffer(h.ARRAY_BUFFER,E),h.vertexAttribPointer(z.attributes.texCoordLocation,2,h.FLOAT,!1,0,0),h.bindBuffer(h.ARRAY_BUFFER,O),h.vertexAttribPointer(z.attributes.positionLocation,2,h.FLOAT,!1,0,0),te){var $=h.getUniformLocation(z.program,oe);if($){var Z=te[oe],K=Z.type,Q=Z.value;"i"===K?h.uniform1i($,Q):"f"===K?h.uniform1f($,Q):"2f"===K&&h.uniform2f($,Q[0],Q[1])}}(function b(z,te,q){z.bufferData(z.ARRAY_BUFFER,new Float32Array([te,q,0,q,te,0,0,0]),z.STATIC_DRAW)})(h,ae,ie),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,q),h.drawArrays(h.TRIANGLE_STRIP,0,4)}function V(z){var te=z.image;D.width=te.width,D.height=te.height;var q=z.viewport,ae=function N(z){var te=w(z);return p.shaders.hasOwnProperty(te)?p.shaders[te]:p.shaders.rgb}(te),ie=W(te);return G(ae,{u_resolution:{type:"2f",value:[te.width,te.height]},wc:{type:"f",value:q.voi.windowCenter},ww:{type:"f",value:q.voi.windowWidth},slope:{type:"f",value:te.slope},intercept:{type:"f",value:te.intercept},minPixelValue:{type:"f",value:te.minPixelValue},invert:{type:"i",value:q.invert?1:0}},ie,te.width,te.height),D}function F(){var z={failIfMajorPerformanceCaveat:!0};try{var te=document.createElement("canvas");return!!window.WebGLRenderingContext&&(te.getContext("webgl",z)||te.getContext("experimental-webgl",z))}catch{return!1}}},"./webgl/shaders/index.js":
/*!********************************!*\
                  !*** ./webgl/shaders/index.js ***!
                  \********************************/
/*! exports provided: shaders, dataUtilities */function(le,d,s){"use strict";s.r(d),s.d(d,"shaders",function(){return h}),s.d(d,"dataUtilities",function(){return E});var p=s(
/*! ./int16.js */
"./webgl/shaders/int16.js"),y=s(
/*! ./int8.js */
"./webgl/shaders/int8.js"),C=s(
/*! ./rgb.js */
"./webgl/shaders/rgb.js"),T=s(
/*! ./uint16.js */
"./webgl/shaders/uint16.js"),D=s(
/*! ./uint8.js */
"./webgl/shaders/uint8.js"),h={int16:p.int16Shader,int8:y.int8Shader,rgb:C.rgbShader,uint16:T.uint16Shader,uint8:D.uint8Shader},E={int16:p.int16DataUtilities,int8:y.int8DataUtilities,rgb:C.rgbDataUtilities,uint16:T.uint16DataUtilities,uint8:D.uint8DataUtilities}},"./webgl/shaders/int16.js":
/*!********************************!*\
                  !*** ./webgl/shaders/int16.js ***!
                  \********************************/
/*! exports provided: int16DataUtilities, int16Shader */function(le,d,s){"use strict";s.r(d),s.d(d,"int16DataUtilities",function(){return C}),s.d(d,"int16Shader",function(){return p});var p={};var C={storedPixelDataToImageData:function y(T){for(var D=T.getPixelData(),E=new Uint8Array(T.width*T.height*3),O=0,m=0;m<D.length;m++){var g=Math.abs(D[m]);E[O++]=255&g,E[O++]=g>>8,E[O++]=D[m]<0?0:1}return E}};p.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0 + color.g*65536.0;if (color.b == 0.0)intensity = -intensity;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/int8.js":
/*!*******************************!*\
                  !*** ./webgl/shaders/int8.js ***!
                  \*******************************/
/*! exports provided: int8DataUtilities, int8Shader */function(le,d,s){"use strict";s.r(d),s.d(d,"int8DataUtilities",function(){return C}),s.d(d,"int8Shader",function(){return p});var p={};var C={storedPixelDataToImageData:function y(T){for(var D=T.getPixelData(),E=new Uint8Array(T.width*T.height*2),O=0,m=0;m<D.length;m++)E[O++]=D[m],E[O++]=D[m]<0?0:1;return E}};p.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.;if (color.a == 0.0)intensity = -intensity;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/rgb.js":
/*!******************************!*\
                  !*** ./webgl/shaders/rgb.js ***!
                  \******************************/
/*! exports provided: rgbDataUtilities, rgbShader */function(le,d,s){"use strict";s.r(d),s.d(d,"rgbDataUtilities",function(){return C}),s.d(d,"rgbShader",function(){return p});var p={};var C={storedPixelDataToImageData:function y(T){var D=T.minPixelValue,h=0,E=0,O=T.width*T.height*4,m=T.width*T.height*3,g=T.getPixelData(),v=new Uint8Array(m);if(D<0)for(;E<O;)v[h++]=g[E++]+-D,v[h++]=g[E++]+-D,v[h++]=g[E++]+-D,E+=1;else for(;E<O;)v[h++]=g[E++],v[h++]=g[E++],v[h++]=g[E++],E+=1;return v}};p.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform float minPixelValue;uniform int invert;varying vec2 v_texCoord;void main() {vec3 color = texture2D(u_image, v_texCoord).xyz;color = color * 256.0 * slope + intercept;float center0 = wc - 0.5 - minPixelValue;float width0 = max(ww, 1.0);color = (color - center0) / width0 + 0.5;gl_FragColor = vec4(color, 1);if (invert == 1)gl_FragColor.rgb = 1. - gl_FragColor.rgb;}"},"./webgl/shaders/uint16.js":
/*!*********************************!*\
                  !*** ./webgl/shaders/uint16.js ***!
                  \*********************************/
/*! exports provided: uint16DataUtilities, uint16Shader */function(le,d,s){"use strict";s.r(d),s.d(d,"uint16DataUtilities",function(){return C}),s.d(d,"uint16Shader",function(){return p});var p={};var C={storedPixelDataToImageData:function y(T){for(var D=T.getPixelData(),E=new Uint8Array(T.width*T.height*2),O=0,m=0;m<D.length;m++){var g=D[m];E[O++]=255&g,E[O++]=g>>8}return E}};p.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0 + color.a*65536.0;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/uint8.js":
/*!********************************!*\
                  !*** ./webgl/shaders/uint8.js ***!
                  \********************************/
/*! exports provided: uint8DataUtilities, uint8Shader */function(le,d,s){"use strict";s.r(d),s.d(d,"uint8DataUtilities",function(){return C}),s.d(d,"uint8Shader",function(){return p});var p={};var C={storedPixelDataToImageData:function y(T){return T.getPixelData()}};p.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/textureCache.js":
/*!*******************************!*\
                  !*** ./webgl/textureCache.js ***!
                  \*******************************/
/*! exports provided: default */function(le,d,s){"use strict";s.r(d);var p=s(
/*! ../events.js */
"./events.js"),y=s(
/*! ../triggerEvent.js */
"./triggerEvent.js"),C={},T=[],D=268435456,h=0;function O(){if(!(h<=D)){for(T.sort(function x(w,N){return w.timeStamp>N.timeStamp?-1:w.timeStamp<N.timeStamp?1:0});h>D;){var S=T[T.length-1];h-=S.sizeInBytes,delete C[S.imageId],T.pop(),Object(y.default)(p.events,p.default.WEBGL_TEXTURE_REMOVED,{imageId:S.imageId})}var L=function E(){return{maximumSizeInBytes:D,cacheSizeInBytes:h,numberOfImagesCached:T.length}}();Object(y.default)(p.events,p.default.WEBGL_TEXTURE_CACHE_FULL,L)}}d.default={purgeCache:function b(){for(;T.length>0;){var x=T.pop();delete C[x.imageId]}h=0},getImageTexture:function v(x){if(void 0===x)throw new Error("getImageTexture: imageId must not be undefined");var S=C[x];if(void 0!==S)return S.timeStamp=new Date,S.imageTexture},putImageTexture:function g(x,S){var L=x.imageId;if(void 0===x)throw new Error("putImageTexture: image must not be undefined");if(void 0===L)throw new Error("putImageTexture: imageId must not be undefined");if(void 0===S)throw new Error("putImageTexture: imageTexture must not be undefined");if(!0===Object.prototype.hasOwnProperty.call(C,L))throw new Error("putImageTexture: imageId already in cache");var w={imageId:L,imageTexture:S,timeStamp:new Date,sizeInBytes:S.sizeInBytes};if(C[L]=w,T.push(w),void 0===S.sizeInBytes)throw new Error("putImageTexture: imageTexture.sizeInBytes must not be undefined");if(void 0===S.sizeInBytes.toFixed)throw new Error("putImageTexture: imageTexture.sizeInBytes is not a number");h+=w.sizeInBytes,O()},removeImageTexture:function P(x){if(void 0===x)throw new Error("removeImageTexture: imageId must not be undefined");var S=C[x];if(void 0===S)throw new Error("removeImageTexture: imageId must not be undefined");return T.splice(T.indexOf(S),1),h-=S.sizeInBytes,delete C[x],S.imageTexture},setMaximumSizeBytes:function m(x){if(void 0===x)throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined");if(void 0===x.toFixed)throw new Error("setMaximumSizeBytes: parameter numBytes must be a number");D=x,O()}}},"./webgl/vertexShader.js":
/*!*******************************!*\
                  !*** ./webgl/vertexShader.js ***!
                  \*******************************/
/*! exports provided: vertexShader */function(le,d,s){"use strict";s.r(d),s.d(d,"vertexShader",function(){return p});var p="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}"}})},9484:_a=>{window,_a.exports=function(le){var d={};function s(p){if(d[p])return d[p].exports;var y=d[p]={i:p,l:!1,exports:{}};return le[p].call(y.exports,y,y.exports,s),y.l=!0,y.exports}return s.m=le,s.c=d,s.d=function(p,y,C){s.o(p,y)||Object.defineProperty(p,y,{configurable:!1,enumerable:!0,get:C})},s.r=function(p){Object.defineProperty(p,"__esModule",{value:!0})},s.n=function(p){var y=p&&p.__esModule?function(){return p.default}:function(){return p};return s.d(y,"a",y),y},s.o=function(p,y){return Object.prototype.hasOwnProperty.call(p,y)},s.p="",s(s.s=5)}([function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.external=void 0;var p,C=(p=s(4))&&p.__esModule?p:{default:p},T=void 0;d.external={set cornerstone(h){(0,C.default)(T=h)},get cornerstone(){return T}}},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.loadImage=function(h){var E=p.external.cornerstone,O=new XMLHttpRequest;return O.open("GET",h,!0),O.responseType="arraybuffer",D.beforeSend(O),O.onprogress=function(m){if(m.lengthComputable){var g=m.loaded,v=m.total,P=Math.round(g/v*100);E.triggerEvent(E.events,"cornerstoneimageloadprogress",{imageId:h,loaded:g,total:v,percentComplete:P})}},{promise:new Promise(function(m,g){O.onload=function(){(0,y.default)(this.response).then(function(v){var P=(0,C.default)(v,h);m(P)},g)},O.send()}),cancelFn:function(){O.abort()}}},d.configure=function(h){D=h};var p=s(0),y=T(s(3)),C=T(s(2));function T(h){return h&&h.__esModule?h:{default:h}}var D={beforeSend:function(){}}},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(T,D){var h=T.naturalHeight,E=T.naturalWidth;return{imageId:D,minPixelValue:0,maxPixelValue:255,slope:1,intercept:0,windowCenter:128,windowWidth:255,render:p.external.cornerstone.renderWebImage,getPixelData:function(){return(O=void 0,C===D?O=y.getContext("2d"):(y.height=T.naturalHeight,y.width=T.naturalWidth,(O=y.getContext("2d")).drawImage(T,0,0),C=D),O.getImageData(0,0,T.naturalWidth,T.naturalHeight)).data;var O},getCanvas:function(){return C===D||(y.height=T.naturalHeight,y.width=T.naturalWidth,y.getContext("2d").drawImage(T,0,0),C=D),y},getImage:function(){return T},rows:h,columns:E,height:h,width:E,color:!0,rgba:!1,columnPixelSpacing:void 0,rowPixelSpacing:void 0,invert:!1,sizeInBytes:h*E*4}};var p=s(0),y=document.createElement("canvas"),C=void 0},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(p){return new Promise(function(y,C){var T=new Image,D=new Uint8Array(p),h=new Blob([D]),E=window.URL||window.webkitURL,O=E.createObjectURL(h);T.src=O,T.onload=function(){y(T),E.revokeObjectURL(O)},T.onerror=function(m){E.revokeObjectURL(O),C(m)}})}},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(y){y.registerImageLoader("http",p.loadImage),y.registerImageLoader("https",p.loadImage)};var p=s(1)},function(le,d,s){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.external=d.configure=d.loadImage=d.createImage=d.arrayBufferToImage=void 0;var p=D(s(3)),y=D(s(2)),C=s(1),T=s(0);function D(E){return E&&E.__esModule?E:{default:E}}var h={arrayBufferToImage:p.default,createImage:y.default,loadImage:C.loadImage,configure:C.configure,external:T.external};d.arrayBufferToImage=p.default,d.createImage=y.default,d.loadImage=C.loadImage,d.configure=C.configure,d.external=T.external,d.default=h}])}},_a=>{_a(_a.s=821)}]);